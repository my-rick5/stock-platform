const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./tiktoken-CTBgcTlC.js","./vendor-DsPrTxrp.js","./index-CPCltHRD.js"])))=>i.map(i=>d[i]);
import{r as t7e,a as nN,c as _l,b as x,R as ie,O as n7e,S as r7e,_ as i7e,s as cm,o as Jf,d as hue,m as Zf,g as Ga,C as Vn,W as b_,e as pue,f as w_,h as ku,H as U,U as X1,P as bt,i as mue,j as rN,k as Dt,Z as x_,N as gue,l as iN,w as oN,n as yue,p as aN,q as o7e,t as a7e,u as s7e,v as l7e,x as c7e,y as u7e,z as d7e,A as f7e,B as h7e,D as ls,E as oi,F as p7e,G as m7e,I as eh,J as g7e,K as y7e,L as v7e,M as b7e,Q as w7e,T as x7e,V as _7e,X as E7e,Y as S7e,$ as C7e,a0 as T7e,a1 as A7e,a2 as I7e,a3 as O7e,a4 as k7e,a5 as N7e,a6 as R7e}from"./vendor-DsPrTxrp.js";let dr,Cd,vn,Nu,El,Ka,th,sN,lN,Y1,Td,$c,um,Fi,Sl,Q1,__,Xa,ar,ui,Yl,cN,E_,uN,dN,S_,Ui,fN,Ad,Ql,ca,vue,st,J1,Z1,bue,wue,xue,_ue,Eue,C_,T_,dm,A_,hN,ey,fm,Jl,eo,Zl,cs,hm,Sue,An,Id,Ro,Bn,zn,Cue,Xn,pN,I_,us,vt,Tue,mN,tt,Od,Ys,Aue,v,ds,nh,O_,k_,ty,rh,pm,bo,Mr,ih,kd,oh,gN,ny,yN,fs,j7e=(async()=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();var wN={exports:{}},ah={},xN;function Oue(){if(xN)return ah;xN=1,t7e();var e=nN(),t=60103;if(ah.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var n=Symbol.for;t=n("react.element"),ah.Fragment=n("react.fragment")}var r=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i=Object.prototype.hasOwnProperty,o={key:!0,ref:!0,__self:!0,__source:!0};function a(s,l,c){var u,d={},f=null,p=null;c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),l.ref!==void 0&&(p=l.ref);for(u in l)i.call(l,u)&&!o.hasOwnProperty(u)&&(d[u]=l[u]);if(s&&s.defaultProps)for(u in l=s.defaultProps,l)d[u]===void 0&&(d[u]=l[u]);return{$$typeof:t,type:s,key:f,ref:p,props:d,_owner:r.current}}return ah.jsx=a,ah.jsxs=a,ah}var _N;function kue(){return _N||(_N=1,wN.exports=Oue()),wN.exports}let EN,N_,mm,SN;v=kue(),EN={},N_={};function jo(){if(SN)return mm;SN=1;var e=function(t){return t&&t.Math===Math&&t};return mm=e(typeof globalThis=="object"&&globalThis)||e(typeof window=="object"&&window)||e(typeof self=="object"&&self)||e(typeof _l=="object"&&_l)||e(typeof mm=="object"&&mm)||(function(){return this})()||Function("return this")(),mm}var R_={},CN,TN;function hs(){return TN||(TN=1,CN=function(e){try{return!!e()}catch{return!0}}),CN}var j_,AN;function Cl(){if(AN)return j_;AN=1;var e=hs();return j_=!e(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),j_}var L_,IN;function iy(){if(IN)return L_;IN=1;var e=hs();return L_=!e(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),L_}var M_,ON;function Qs(){if(ON)return M_;ON=1;var e=iy(),t=Function.prototype.call;return M_=e?t.bind(t):function(){return t.apply(t,arguments)},M_}var P_={},kN;function Nue(){if(kN)return P_;kN=1;var e={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,n=t&&!e.call({1:2},1);return P_.f=n?function(r){var i=t(this,r);return!!i&&i.enumerable}:e,P_}var NN,RN;function gm(){return RN||(RN=1,NN=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}),NN}var D_,jN;function Ya(){if(jN)return D_;jN=1;var e=iy(),t=Function.prototype,n=t.call,r=e&&t.bind.bind(n,n);return D_=e?r:function(i){return function(){return n.apply(i,arguments)}},D_}var F_,LN;function oy(){if(LN)return F_;LN=1;var e=Ya(),t=e({}.toString),n=e("".slice);return F_=function(r){return n(t(r),8,-1)},F_}var U_,MN;function Rue(){if(MN)return U_;MN=1;var e=Ya(),t=hs(),n=oy(),r=Object,i=e("".split);return U_=t(function(){return!r("z").propertyIsEnumerable(0)})?function(o){return n(o)==="String"?i(o,""):r(o)}:r,U_}var PN,DN;function ay(){return DN||(DN=1,PN=function(e){return e==null}),PN}var z_,FN;function sy(){if(FN)return z_;FN=1;var e=ay(),t=TypeError;return z_=function(n){if(e(n))throw new t("Can't call method on "+n);return n},z_}var B_,UN;function ym(){if(UN)return B_;UN=1;var e=Rue(),t=sy();return B_=function(n){return e(t(n))},B_}var $_,zN;function Uo(){if(zN)return $_;zN=1;var e=typeof document=="object"&&document.all;return $_=typeof e>"u"&&e!==void 0?function(t){return typeof t=="function"||t===e}:function(t){return typeof t=="function"},$_}var H_,BN;function Tl(){if(BN)return H_;BN=1;var e=Uo();return H_=function(t){return typeof t=="object"?t!==null:e(t)},H_}var V_,$N;function Hc(){if($N)return V_;$N=1;var e=jo(),t=Uo(),n=function(r){return t(r)?r:void 0};return V_=function(r,i){return arguments.length<2?n(e[r]):e[r]&&e[r][i]},V_}var q_,HN;function ly(){if(HN)return q_;HN=1;var e=Ya();return q_=e({}.isPrototypeOf),q_}var W_,VN;function vm(){if(VN)return W_;VN=1;var e=jo(),t=e.navigator,n=t&&t.userAgent;return W_=n?String(n):"",W_}var G_,qN;function WN(){if(qN)return G_;qN=1;var e=jo(),t=vm(),n=e.process,r=e.Deno,i=n&&n.versions||r&&r.version,o=i&&i.v8,a,s;return o&&(a=o.split("."),s=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!s&&t&&(a=t.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=t.match(/Chrome\/(\d+)/),a&&(s=+a[1]))),G_=s,G_}var K_,GN;function KN(){if(GN)return K_;GN=1;var e=WN(),t=hs(),n=jo(),r=n.String;return K_=!!Object.getOwnPropertySymbols&&!t(function(){var i=Symbol("symbol detection");return!r(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&e&&e<41}),K_}var X_,XN;function YN(){if(XN)return X_;XN=1;var e=KN();return X_=e&&!Symbol.sham&&typeof Symbol.iterator=="symbol",X_}var Y_,QN;function JN(){if(QN)return Y_;QN=1;var e=Hc(),t=Uo(),n=ly(),r=YN(),i=Object;return Y_=r?function(o){return typeof o=="symbol"}:function(o){var a=e("Symbol");return t(a)&&n(a.prototype,i(o))},Y_}var Q_,ZN;function cy(){if(ZN)return Q_;ZN=1;var e=String;return Q_=function(t){try{return e(t)}catch{return"Object"}},Q_}var J_,eR;function Al(){if(eR)return J_;eR=1;var e=Uo(),t=cy(),n=TypeError;return J_=function(r){if(e(r))return r;throw new n(t(r)+" is not a function")},J_}var Z_,tR;function e2(){if(tR)return Z_;tR=1;var e=Al(),t=ay();return Z_=function(n,r){var i=n[r];return t(i)?void 0:e(i)},Z_}var t2,nR;function jue(){if(nR)return t2;nR=1;var e=Qs(),t=Uo(),n=Tl(),r=TypeError;return t2=function(i,o){var a,s;if(o==="string"&&t(a=i.toString)&&!n(s=e(a,i))||t(a=i.valueOf)&&!n(s=e(a,i))||o!=="string"&&t(a=i.toString)&&!n(s=e(a,i)))return s;throw new r("Can't convert object to primitive value")},t2}var n2={exports:{}},rR,iR;function Vc(){return iR||(iR=1,rR=!1),rR}var r2,oR;function i2(){if(oR)return r2;oR=1;var e=jo(),t=Object.defineProperty;return r2=function(n,r){try{t(e,n,{value:r,configurable:!0,writable:!0})}catch{e[n]=r}return r},r2}var aR;function o2(){if(aR)return n2.exports;aR=1;var e=Vc(),t=jo(),n=i2(),r="__core-js_shared__",i=n2.exports=t[r]||n(r,{});return(i.versions||(i.versions=[])).push({version:"3.46.0",mode:e?"pure":"global",copyright:"\xA9 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.46.0/LICENSE",source:"https://github.com/zloirock/core-js"}),n2.exports}var a2,sR;function lR(){if(sR)return a2;sR=1;var e=o2();return a2=function(t,n){return e[t]||(e[t]=n||{})},a2}var s2,cR;function uR(){if(cR)return s2;cR=1;var e=sy(),t=Object;return s2=function(n){return t(e(n))},s2}var l2,dR;function ec(){if(dR)return l2;dR=1;var e=Ya(),t=uR(),n=e({}.hasOwnProperty);return l2=Object.hasOwn||function(r,i){return n(t(r),i)},l2}var c2,fR;function hR(){if(fR)return c2;fR=1;var e=Ya(),t=0,n=Math.random(),r=e(1.1.toString);return c2=function(i){return"Symbol("+(i===void 0?"":i)+")_"+r(++t+n,36)},c2}var u2,pR;function Qa(){if(pR)return u2;pR=1;var e=jo(),t=lR(),n=ec(),r=hR(),i=KN(),o=YN(),a=e.Symbol,s=t("wks"),l=o?a.for||a:a&&a.withoutSetter||r;return u2=function(c){return n(s,c)||(s[c]=i&&n(a,c)?a[c]:l("Symbol."+c)),s[c]},u2}var d2,mR;function Lue(){if(mR)return d2;mR=1;var e=Qs(),t=Tl(),n=JN(),r=e2(),i=jue(),o=Qa(),a=TypeError,s=o("toPrimitive");return d2=function(l,c){if(!t(l)||n(l))return l;var u=r(l,s),d;if(u){if(c===void 0&&(c="default"),d=e(u,l,c),!t(d)||n(d))return d;throw new a("Can't convert object to primitive value")}return c===void 0&&(c="number"),i(l,c)},d2}var f2,gR;function yR(){if(gR)return f2;gR=1;var e=Lue(),t=JN();return f2=function(n){var r=e(n,"string");return t(r)?r:r+""},f2}var h2,vR;function uy(){if(vR)return h2;vR=1;var e=jo(),t=Tl(),n=e.document,r=t(n)&&t(n.createElement);return h2=function(i){return r?n.createElement(i):{}},h2}var p2,bR;function wR(){if(bR)return p2;bR=1;var e=Cl(),t=hs(),n=uy();return p2=!e&&!t(function(){return Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a!==7}),p2}var xR;function _R(){if(xR)return R_;xR=1;var e=Cl(),t=Qs(),n=Nue(),r=gm(),i=ym(),o=yR(),a=ec(),s=wR(),l=Object.getOwnPropertyDescriptor;return R_.f=e?l:function(c,u){if(c=i(c),u=o(u),s)try{return l(c,u)}catch{}if(a(c,u))return r(!t(n.f,c,u),c[u])},R_}var m2={},g2,ER;function SR(){if(ER)return g2;ER=1;var e=Cl(),t=hs();return g2=e&&t(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),g2}var y2,CR;function qc(){if(CR)return y2;CR=1;var e=Tl(),t=String,n=TypeError;return y2=function(r){if(e(r))return r;throw new n(t(r)+" is not an object")},y2}var TR;function Ru(){if(TR)return m2;TR=1;var e=Cl(),t=wR(),n=SR(),r=qc(),i=yR(),o=TypeError,a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,l="enumerable",c="configurable",u="writable";return m2.f=e?n?function(d,f,p){if(r(d),f=i(f),r(p),typeof d=="function"&&f==="prototype"&&"value"in p&&u in p&&!p[u]){var g=s(d,f);g&&g[u]&&(d[f]=p.value,p={configurable:c in p?p[c]:g[c],enumerable:l in p?p[l]:g[l],writable:!1})}return a(d,f,p)}:a:function(d,f,p){if(r(d),f=i(f),r(p),t)try{return a(d,f,p)}catch{}if("get"in p||"set"in p)throw new o("Accessors not supported");return"value"in p&&(d[f]=p.value),d},m2}var v2,AR;function Nd(){if(AR)return v2;AR=1;var e=Cl(),t=Ru(),n=gm();return v2=e?function(r,i,o){return t.f(r,i,n(1,o))}:function(r,i,o){return r[i]=o,r},v2}var b2={exports:{}},w2,IR;function OR(){if(IR)return w2;IR=1;var e=Cl(),t=ec(),n=Function.prototype,r=e&&Object.getOwnPropertyDescriptor,i=t(n,"name"),o=i&&(function(){}).name==="something",a=i&&(!e||e&&r(n,"name").configurable);return w2={EXISTS:i,PROPER:o,CONFIGURABLE:a},w2}var x2,kR;function _2(){if(kR)return x2;kR=1;var e=Ya(),t=Uo(),n=o2(),r=e(Function.toString);return t(n.inspectSource)||(n.inspectSource=function(i){return r(i)}),x2=n.inspectSource,x2}var E2,NR;function Mue(){if(NR)return E2;NR=1;var e=jo(),t=Uo(),n=e.WeakMap;return E2=t(n)&&/native code/.test(String(n)),E2}var S2,RR;function C2(){if(RR)return S2;RR=1;var e=lR(),t=hR(),n=e("keys");return S2=function(r){return n[r]||(n[r]=t(r))},S2}var jR,LR;function T2(){return LR||(LR=1,jR={}),jR}var A2,MR;function dy(){if(MR)return A2;MR=1;var e=Mue(),t=jo(),n=Tl(),r=Nd(),i=ec(),o=o2(),a=C2(),s=T2(),l="Object already initialized",c=t.TypeError,u=t.WeakMap,d,f,p,g=function(w){return p(w)?f(w):d(w,{})},h=function(w){return function(S){var E;if(!n(S)||(E=f(S)).type!==w)throw new c("Incompatible receiver, "+w+" required");return E}};if(e||o.state){var y=o.state||(o.state=new u);y.get=y.get,y.has=y.has,y.set=y.set,d=function(w,S){if(y.has(w))throw new c(l);return S.facade=w,y.set(w,S),S},f=function(w){return y.get(w)||{}},p=function(w){return y.has(w)}}else{var b=a("state");s[b]=!0,d=function(w,S){if(i(w,b))throw new c(l);return S.facade=w,r(w,b,S),S},f=function(w){return i(w,b)?w[b]:{}},p=function(w){return i(w,b)}}return A2={set:d,get:f,has:p,enforce:g,getterFor:h},A2}var PR;function DR(){if(PR)return b2.exports;PR=1;var e=Ya(),t=hs(),n=Uo(),r=ec(),i=Cl(),o=OR().CONFIGURABLE,a=_2(),s=dy(),l=s.enforce,c=s.get,u=String,d=Object.defineProperty,f=e("".slice),p=e("".replace),g=e([].join),h=i&&!t(function(){return d(function(){},"length",{value:8}).length!==8}),y=String(String).split("String"),b=b2.exports=function(w,S,E){f(u(S),0,7)==="Symbol("&&(S="["+p(u(S),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),E&&E.getter&&(S="get "+S),E&&E.setter&&(S="set "+S),(!r(w,"name")||o&&w.name!==S)&&(i?d(w,"name",{value:S,configurable:!0}):w.name=S),h&&E&&r(E,"arity")&&w.length!==E.arity&&d(w,"length",{value:E.arity});try{E&&r(E,"constructor")&&E.constructor?i&&d(w,"prototype",{writable:!1}):w.prototype&&(w.prototype=void 0)}catch{}var _=l(w);return r(_,"source")||(_.source=g(y,typeof S=="string"?S:"")),w};return Function.prototype.toString=b(function(){return n(this)&&c(this).source||a(this)},"toString"),b2.exports}var I2,FR;function Rd(){if(FR)return I2;FR=1;var e=Uo(),t=Ru(),n=DR(),r=i2();return I2=function(i,o,a,s){s||(s={});var l=s.enumerable,c=s.name!==void 0?s.name:o;if(e(a)&&n(a,c,s),s.global)l?i[o]=a:r(o,a);else{try{s.unsafe?i[o]&&(l=!0):delete i[o]}catch{}l?i[o]=a:t.f(i,o,{value:a,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return i},I2}var O2={},k2,UR;function Pue(){if(UR)return k2;UR=1;var e=Math.ceil,t=Math.floor;return k2=Math.trunc||function(n){var r=+n;return(r>0?t:e)(r)},k2}var N2,zR;function R2(){if(zR)return N2;zR=1;var e=Pue();return N2=function(t){var n=+t;return n!==n||n===0?0:e(n)},N2}var j2,BR;function Due(){if(BR)return j2;BR=1;var e=R2(),t=Math.max,n=Math.min;return j2=function(r,i){var o=e(r);return o<0?t(o+i,0):n(o,i)},j2}var L2,$R;function Fue(){if($R)return L2;$R=1;var e=R2(),t=Math.min;return L2=function(n){var r=e(n);return r>0?t(r,9007199254740991):0},L2}var M2,HR;function VR(){if(HR)return M2;HR=1;var e=Fue();return M2=function(t){return e(t.length)},M2}var P2,qR;function Uue(){if(qR)return P2;qR=1;var e=ym(),t=Due(),n=VR(),r=function(i){return function(o,a,s){var l=e(o),c=n(l);if(c===0)return!i&&-1;var u=t(s,c),d;if(i&&a!==a){for(;c>u;)if(d=l[u++],d!==d)return!0}else for(;c>u;u++)if((i||u in l)&&l[u]===a)return i||u||0;return!i&&-1}};return P2={includes:r(!0),indexOf:r(!1)},P2}var D2,WR;function GR(){if(WR)return D2;WR=1;var e=Ya(),t=ec(),n=ym(),r=Uue().indexOf,i=T2(),o=e([].push);return D2=function(a,s){var l=n(a),c=0,u=[],d;for(d in l)!t(i,d)&&t(l,d)&&o(u,d);for(;s.length>c;)t(l,d=s[c++])&&(~r(u,d)||o(u,d));return u},D2}var KR,XR;function F2(){return XR||(XR=1,KR=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),KR}var YR;function zue(){if(YR)return O2;YR=1;var e=GR(),t=F2(),n=t.concat("length","prototype");return O2.f=Object.getOwnPropertyNames||function(r){return e(r,n)},O2}var QR={},JR;function Bue(){return JR||(JR=1,QR.f=Object.getOwnPropertySymbols),QR}var U2,ZR;function $ue(){if(ZR)return U2;ZR=1;var e=Hc(),t=Ya(),n=zue(),r=Bue(),i=qc(),o=t([].concat);return U2=e("Reflect","ownKeys")||function(a){var s=n.f(i(a)),l=r.f;return l?o(s,l(a)):s},U2}var z2,e6;function t6(){if(e6)return z2;e6=1;var e=ec(),t=$ue(),n=_R(),r=Ru();return z2=function(i,o,a){for(var s=t(o),l=r.f,c=n.f,u=0;u<s.length;u++){var d=s[u];!e(i,d)&&!(a&&e(a,d))&&l(i,d,c(o,d))}},z2}var B2,n6;function r6(){if(n6)return B2;n6=1;var e=hs(),t=Uo(),n=/#|\.prototype\./,r=function(l,c){var u=o[i(l)];return u===s?!0:u===a?!1:t(c)?e(c):!!c},i=r.normalize=function(l){return String(l).replace(n,".").toLowerCase()},o=r.data={},a=r.NATIVE="N",s=r.POLYFILL="P";return B2=r,B2}var $2,i6;function Ss(){if(i6)return $2;i6=1;var e=jo(),t=_R().f,n=Nd(),r=Rd(),i=i2(),o=t6(),a=r6();return $2=function(s,l){var c=s.target,u=s.global,d=s.stat,f,p,g,h,y,b;if(u?p=e:d?p=e[c]||i(c,{}):p=e[c]&&e[c].prototype,p)for(g in l){if(y=l[g],s.dontCallGetSet?(b=t(p,g),h=b&&b.value):h=p[g],f=a(u?g:c+(d?".":"#")+g,s.forced),!f&&h!==void 0){if(typeof y==typeof h)continue;o(y,h)}(s.sham||h&&h.sham)&&n(y,"sham",!0),r(p,g,y,s)}},$2}var H2,o6;function Hue(){if(o6)return H2;o6=1;var e=hs();return H2=!e(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),H2}var V2,a6;function q2(){if(a6)return V2;a6=1;var e=ec(),t=Uo(),n=uR(),r=C2(),i=Hue(),o=r("IE_PROTO"),a=Object,s=a.prototype;return V2=i?a.getPrototypeOf:function(l){var c=n(l);if(e(c,o))return c[o];var u=c.constructor;return t(u)&&c instanceof u?u.prototype:c instanceof a?s:null},V2}var W2,s6;function Vue(){if(s6)return W2;s6=1;var e=Ya(),t=Al();return W2=function(n,r,i){try{return e(t(Object.getOwnPropertyDescriptor(n,r)[i]))}catch{}},W2}var G2,l6;function que(){if(l6)return G2;l6=1;var e=Tl();return G2=function(t){return e(t)||t===null},G2}var K2,c6;function Wue(){if(c6)return K2;c6=1;var e=que(),t=String,n=TypeError;return K2=function(r){if(e(r))return r;throw new n("Can't set "+t(r)+" as a prototype")},K2}var X2,u6;function Y2(){if(u6)return X2;u6=1;var e=Vue(),t=Tl(),n=sy(),r=Wue();return X2=Object.setPrototypeOf||("__proto__"in{}?(function(){var i=!1,o={},a;try{a=e(Object.prototype,"__proto__","set"),a(o,[]),i=o instanceof Array}catch{}return function(s,l){return n(s),r(l),t(s)&&(i?a(s,l):s.__proto__=l),s}})():void 0),X2}var Q2={},J2,d6;function Gue(){if(d6)return J2;d6=1;var e=GR(),t=F2();return J2=Object.keys||function(n){return e(n,t)},J2}var f6;function Kue(){if(f6)return Q2;f6=1;var e=Cl(),t=SR(),n=Ru(),r=qc(),i=ym(),o=Gue();return Q2.f=e&&!t?Object.defineProperties:function(a,s){r(a);for(var l=i(s),c=o(s),u=c.length,d=0,f;u>d;)n.f(a,f=c[d++],l[f]);return a},Q2}var Z2,h6;function p6(){if(h6)return Z2;h6=1;var e=Hc();return Z2=e("document","documentElement"),Z2}var eE,m6;function fy(){if(m6)return eE;m6=1;var e=qc(),t=Kue(),n=F2(),r=T2(),i=p6(),o=uy(),a=C2(),s=">",l="<",c="prototype",u="script",d=a("IE_PROTO"),f=function(){},p=function(w){return l+u+s+w+l+"/"+u+s},g=function(w){w.write(p("")),w.close();var S=w.parentWindow.Object;return w=null,S},h=function(){var w=o("iframe"),S="java"+u+":",E;return w.style.display="none",i.appendChild(w),w.src=String(S),E=w.contentWindow.document,E.open(),E.write(p("document.F=Object")),E.close(),E.F},y,b=function(){try{y=new ActiveXObject("htmlfile")}catch{}b=typeof document<"u"?document.domain&&y?g(y):h():g(y);for(var w=n.length;w--;)delete b[c][n[w]];return b()};return r[d]=!0,eE=Object.create||function(w,S){var E;return w!==null?(f[c]=e(w),E=new f,f[c]=null,E[d]=w):E=b(),S===void 0?E:t.f(E,S)},eE}var tE,g6;function Xue(){if(g6)return tE;g6=1;var e=Tl(),t=Nd();return tE=function(n,r){e(r)&&"cause"in r&&t(n,"cause",r.cause)},tE}var nE,y6;function Yue(){if(y6)return nE;y6=1;var e=Ya(),t=Error,n=e("".replace),r=(function(a){return String(new t(a).stack)})("zxcasd"),i=/\n\s*at [^:]*:[^\n]*/,o=i.test(r);return nE=function(a,s){if(o&&typeof a=="string"&&!t.prepareStackTrace)for(;s--;)a=n(a,i,"");return a},nE}var rE,v6;function Que(){if(v6)return rE;v6=1;var e=hs(),t=gm();return rE=!e(function(){var n=new Error("a");return"stack"in n?(Object.defineProperty(n,"stack",t(1,7)),n.stack!==7):!0}),rE}var iE,b6;function Jue(){if(b6)return iE;b6=1;var e=Nd(),t=Yue(),n=Que(),r=Error.captureStackTrace;return iE=function(i,o,a,s){n&&(r?r(i,o):e(i,"stack",t(a,s)))},iE}var oE,w6;function Zue(){if(w6)return oE;w6=1;var e=oy(),t=Ya();return oE=function(n){if(e(n)==="Function")return t(n)},oE}var aE,x6;function sE(){if(x6)return aE;x6=1;var e=Zue(),t=Al(),n=iy(),r=e(e.bind);return aE=function(i,o){return t(i),o===void 0?i:n?r(i,o):function(){return i.apply(o,arguments)}},aE}var _6,E6;function bm(){return E6||(E6=1,_6={}),_6}var lE,S6;function ede(){if(S6)return lE;S6=1;var e=Qa(),t=bm(),n=e("iterator"),r=Array.prototype;return lE=function(i){return i!==void 0&&(t.Array===i||r[n]===i)},lE}var cE,C6;function uE(){if(C6)return cE;C6=1;var e=Qa(),t=e("toStringTag"),n={};return n[t]="z",cE=String(n)==="[object z]",cE}var dE,T6;function hy(){if(T6)return dE;T6=1;var e=uE(),t=Uo(),n=oy(),r=Qa(),i=r("toStringTag"),o=Object,a=n((function(){return arguments})())==="Arguments",s=function(l,c){try{return l[c]}catch{}};return dE=e?n:function(l){var c,u,d;return l===void 0?"Undefined":l===null?"Null":typeof(u=s(c=o(l),i))=="string"?u:a?n(c):(d=n(c))==="Object"&&t(c.callee)?"Arguments":d},dE}var fE,A6;function I6(){if(A6)return fE;A6=1;var e=hy(),t=e2(),n=ay(),r=bm(),i=Qa(),o=i("iterator");return fE=function(a){if(!n(a))return t(a,o)||t(a,"@@iterator")||r[e(a)]},fE}var hE,O6;function tde(){if(O6)return hE;O6=1;var e=Qs(),t=Al(),n=qc(),r=cy(),i=I6(),o=TypeError;return hE=function(a,s){var l=arguments.length<2?i(a):s;if(t(l))return n(e(l,a));throw new o(r(a)+" is not iterable")},hE}var pE,k6;function nde(){if(k6)return pE;k6=1;var e=Qs(),t=qc(),n=e2();return pE=function(r,i,o){var a,s;t(r);try{if(a=n(r,"return"),!a){if(i==="throw")throw o;return o}a=e(a,r)}catch(l){s=!0,a=l}if(i==="throw")throw o;if(s)throw a;return t(a),o},pE}var mE,N6;function wm(){if(N6)return mE;N6=1;var e=sE(),t=Qs(),n=qc(),r=cy(),i=ede(),o=VR(),a=ly(),s=tde(),l=I6(),c=nde(),u=TypeError,d=function(p,g){this.stopped=p,this.result=g},f=d.prototype;return mE=function(p,g,h){var y=h&&h.that,b=!!(h&&h.AS_ENTRIES),w=!!(h&&h.IS_RECORD),S=!!(h&&h.IS_ITERATOR),E=!!(h&&h.INTERRUPTED),_=e(g,y),m,C,T,O,R,j,D,L=function(z){return m&&c(m,"normal"),new d(!0,z)},V=function(z){return b?(n(z),E?_(z[0],z[1],L):_(z[0],z[1])):E?_(z,L):_(z)};if(w)m=p.iterator;else if(S)m=p;else{if(C=l(p),!C)throw new u(r(p)+" is not iterable");if(i(C)){for(T=0,O=o(p);O>T;T++)if(R=V(p[T]),R&&a(f,R))return R;return new d(!1)}m=s(p,C)}for(j=w?p.next:m.next;!(D=t(j,m)).done;){try{R=V(D.value)}catch(z){c(m,"throw",z)}if(typeof R=="object"&&R&&a(f,R))return R}return new d(!1)},mE}var gE,R6;function yE(){if(R6)return gE;R6=1;var e=hy(),t=String;return gE=function(n){if(e(n)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return t(n)},gE}var vE,j6;function rde(){if(j6)return vE;j6=1;var e=yE();return vE=function(t,n){return t===void 0?arguments.length<2?"":n:e(t)},vE}var L6;function ide(){if(L6)return N_;L6=1;var e=Ss(),t=ly(),n=q2(),r=Y2(),i=t6(),o=fy(),a=Nd(),s=gm(),l=Xue(),c=Jue(),u=wm(),d=rde(),f=Qa(),p=f("toStringTag"),g=Error,h=[].push,y=function(w,S){var E=t(b,this),_;r?_=r(new g,E?n(this):b):(_=E?this:o(b),a(_,p,"Error")),S!==void 0&&a(_,"message",d(S)),c(_,y,_.stack,1),arguments.length>2&&l(_,arguments[2]);var m=[];return u(w,h,{that:m}),a(_,"errors",m),_};r?r(y,g):i(y,g,{name:!0});var b=y.prototype=o(g.prototype,{constructor:s(1,y),message:s(1,""),name:s(1,"AggregateError")});return e({global:!0,constructor:!0,arity:2},{AggregateError:y}),N_}var M6;function P6(){return M6||(M6=1,ide()),EN}var bE,D6;function ode(){if(D6)return bE;D6=1;var e=Qa(),t=fy(),n=Ru().f,r=e("unscopables"),i=Array.prototype;return i[r]===void 0&&n(i,r,{configurable:!0,value:t(null)}),bE=function(o){i[r][o]=!0},bE}var wE,F6;function U6(){if(F6)return wE;F6=1;var e=hs(),t=Uo(),n=Tl(),r=fy(),i=q2(),o=Rd(),a=Qa(),s=Vc(),l=a("iterator"),c=!1,u,d,f;[].keys&&(f=[].keys(),"next"in f?(d=i(i(f)),d!==Object.prototype&&(u=d)):c=!0);var p=!n(u)||e(function(){var g={};return u[l].call(g)!==g});return p?u={}:s&&(u=r(u)),t(u[l])||o(u,l,function(){return this}),wE={IteratorPrototype:u,BUGGY_SAFARI_ITERATORS:c},wE}var xE,z6;function py(){if(z6)return xE;z6=1;var e=Ru().f,t=ec(),n=Qa(),r=n("toStringTag");return xE=function(i,o,a){i&&!a&&(i=i.prototype),i&&!t(i,r)&&e(i,r,{configurable:!0,value:o})},xE}var _E,B6;function ade(){if(B6)return _E;B6=1;var e=U6().IteratorPrototype,t=fy(),n=gm(),r=py(),i=bm(),o=function(){return this};return _E=function(a,s,l,c){var u=s+" Iterator";return a.prototype=t(e,{next:n(+!c,l)}),r(a,u,!1,!0),i[u]=o,a},_E}var EE,$6;function H6(){if($6)return EE;$6=1;var e=Ss(),t=Qs(),n=Vc(),r=OR(),i=Uo(),o=ade(),a=q2(),s=Y2(),l=py(),c=Nd(),u=Rd(),d=Qa(),f=bm(),p=U6(),g=r.PROPER,h=r.CONFIGURABLE,y=p.IteratorPrototype,b=p.BUGGY_SAFARI_ITERATORS,w=d("iterator"),S="keys",E="values",_="entries",m=function(){return this};return EE=function(C,T,O,R,j,D,L){o(O,T,R);var V=function(ae){if(ae===j&&ne)return ne;if(!b&&ae&&ae in H)return H[ae];switch(ae){case S:return function(){return new O(this,ae)};case E:return function(){return new O(this,ae)};case _:return function(){return new O(this,ae)}}return function(){return new O(this)}},z=T+" Iterator",B=!1,H=C.prototype,J=H[w]||H["@@iterator"]||j&&H[j],ne=!b&&J||V(j),q=T==="Array"&&H.entries||J,ee,te,$;if(q&&(ee=a(q.call(new C)),ee!==Object.prototype&&ee.next&&(!n&&a(ee)!==y&&(s?s(ee,y):i(ee[w])||u(ee,w,m)),l(ee,z,!0,!0),n&&(f[z]=m))),g&&j===E&&J&&J.name!==E&&(!n&&h?c(H,"name",E):(B=!0,ne=function(){return t(J,this)})),j)if(te={values:V(E),keys:D?ne:V(S),entries:V(_)},L)for($ in te)(b||B||!($ in H))&&u(H,$,te[$]);else e({target:T,proto:!0,forced:b||B},te);return(!n||L)&&H[w]!==ne&&u(H,w,ne,{name:j}),f[T]=ne,te},EE}var V6,q6;function W6(){return q6||(q6=1,V6=function(e,t){return{value:e,done:t}}),V6}var SE,G6;function K6(){if(G6)return SE;G6=1;var e=ym(),t=ode(),n=bm(),r=dy(),i=Ru().f,o=H6(),a=W6(),s=Vc(),l=Cl(),c="Array Iterator",u=r.set,d=r.getterFor(c);SE=o(Array,"Array",function(p,g){u(this,{type:c,target:e(p),index:0,kind:g})},function(){var p=d(this),g=p.target,h=p.index++;if(!g||h>=g.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(h,!1);case"values":return a(g[h],!1)}return a([h,g[h]],!1)},"values");var f=n.Arguments=n.Array;if(t("keys"),t("values"),t("entries"),!s&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return SE}var X6={},CE,Y6;function sde(){if(Y6)return CE;Y6=1;var e=uE(),t=hy();return CE=e?{}.toString:function(){return"[object "+t(this)+"]"},CE}var Q6;function lde(){if(Q6)return X6;Q6=1;var e=uE(),t=Rd(),n=sde();return e||t(Object.prototype,"toString",n,{unsafe:!0}),X6}var cde={},J6={},TE,Z6;function e8(){if(Z6)return TE;Z6=1;var e=jo(),t=vm(),n=oy(),r=function(i){return t.slice(0,i.length)===i};return TE=(function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":e.Bun&&typeof Bun.version=="string"?"BUN":e.Deno&&typeof Deno.version=="object"?"DENO":n(e.process)==="process"?"NODE":e.window&&e.document?"BROWSER":"REST"})(),TE}var AE,t8;function IE(){if(t8)return AE;t8=1;var e=e8();return AE=e==="NODE",AE}var OE,n8;function r8(){if(n8)return OE;n8=1;var e=jo();return OE=e,OE}var kE,i8;function ude(){if(i8)return kE;i8=1;var e=DR(),t=Ru();return kE=function(n,r,i){return i.get&&e(i.get,r,{getter:!0}),i.set&&e(i.set,r,{setter:!0}),t.f(n,r,i)},kE}var NE,o8;function dde(){if(o8)return NE;o8=1;var e=Hc(),t=ude(),n=Qa(),r=Cl(),i=n("species");return NE=function(o){var a=e(o);r&&a&&!a[i]&&t(a,i,{configurable:!0,get:function(){return this}})},NE}var RE,a8;function fde(){if(a8)return RE;a8=1;var e=ly(),t=TypeError;return RE=function(n,r){if(e(r,n))return n;throw new t("Incorrect invocation")},RE}var jE,s8;function hde(){if(s8)return jE;s8=1;var e=Ya(),t=hs(),n=Uo(),r=hy(),i=Hc(),o=_2(),a=function(){},s=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,c=e(l.exec),u=!l.test(a),d=function(p){if(!n(p))return!1;try{return s(a,[],p),!0}catch{return!1}},f=function(p){if(!n(p))return!1;switch(r(p)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return u||!!c(l,o(p))}catch{return!0}};return f.sham=!0,jE=!s||t(function(){var p;return d(d.call)||!d(Object)||!d(function(){p=!0})||p})?f:d,jE}var LE,l8;function pde(){if(l8)return LE;l8=1;var e=hde(),t=cy(),n=TypeError;return LE=function(r){if(e(r))return r;throw new n(t(r)+" is not a constructor")},LE}var ME,c8;function u8(){if(c8)return ME;c8=1;var e=qc(),t=pde(),n=ay(),r=Qa(),i=r("species");return ME=function(o,a){var s=e(o).constructor,l;return s===void 0||n(l=e(s)[i])?a:t(l)},ME}var PE,d8;function f8(){if(d8)return PE;d8=1;var e=iy(),t=Function.prototype,n=t.apply,r=t.call;return PE=typeof Reflect=="object"&&Reflect.apply||(e?r.bind(n):function(){return r.apply(n,arguments)}),PE}var DE,h8;function p8(){if(h8)return DE;h8=1;var e=Ya();return DE=e([].slice),DE}var FE,m8;function mde(){if(m8)return FE;m8=1;var e=TypeError;return FE=function(t,n){if(t<n)throw new e("Not enough arguments");return t},FE}var UE,g8;function y8(){if(g8)return UE;g8=1;var e=vm();return UE=/(?:ipad|iphone|ipod).*applewebkit/i.test(e),UE}var zE,v8;function b8(){if(v8)return zE;v8=1;var e=jo(),t=f8(),n=sE(),r=Uo(),i=ec(),o=hs(),a=p6(),s=p8(),l=uy(),c=mde(),u=y8(),d=IE(),f=e.setImmediate,p=e.clearImmediate,g=e.process,h=e.Dispatch,y=e.Function,b=e.MessageChannel,w=e.String,S=0,E={},_="onreadystatechange",m,C,T,O;o(function(){m=e.location});var R=function(V){if(i(E,V)){var z=E[V];delete E[V],z()}},j=function(V){return function(){R(V)}},D=function(V){R(V.data)},L=function(V){e.postMessage(w(V),m.protocol+"//"+m.host)};return(!f||!p)&&(f=function(V){c(arguments.length,1);var z=r(V)?V:y(V),B=s(arguments,1);return E[++S]=function(){t(z,void 0,B)},C(S),S},p=function(V){delete E[V]},d?C=function(V){g.nextTick(j(V))}:h&&h.now?C=function(V){h.now(j(V))}:b&&!u?(T=new b,O=T.port2,T.port1.onmessage=D,C=n(O.postMessage,O)):e.addEventListener&&r(e.postMessage)&&!e.importScripts&&m&&m.protocol!=="file:"&&!o(L)?(C=L,e.addEventListener("message",D,!1)):_ in l("script")?C=function(V){a.appendChild(l("script"))[_]=function(){a.removeChild(this),R(V)}}:C=function(V){setTimeout(j(V),0)}),zE={set:f,clear:p},zE}var BE,w8;function gde(){if(w8)return BE;w8=1;var e=jo(),t=Cl(),n=Object.getOwnPropertyDescriptor;return BE=function(r){if(!t)return e[r];var i=n(e,r);return i&&i.value},BE}var $E,x8;function _8(){if(x8)return $E;x8=1;var e=function(){this.head=null,this.tail=null};return e.prototype={add:function(t){var n={item:t,next:null},r=this.tail;r?r.next=n:this.head=n,this.tail=n},get:function(){var t=this.head;if(t){var n=this.head=t.next;return n===null&&(this.tail=null),t.item}}},$E=e,$E}var HE,E8;function yde(){if(E8)return HE;E8=1;var e=vm();return HE=/ipad|iphone|ipod/i.test(e)&&typeof Pebble<"u",HE}var VE,S8;function vde(){if(S8)return VE;S8=1;var e=vm();return VE=/web0s(?!.*chrome)/i.test(e),VE}var qE,C8;function bde(){if(C8)return qE;C8=1;var e=jo(),t=gde(),n=sE(),r=b8().set,i=_8(),o=y8(),a=yde(),s=vde(),l=IE(),c=e.MutationObserver||e.WebKitMutationObserver,u=e.document,d=e.process,f=e.Promise,p=t("queueMicrotask"),g,h,y,b,w;if(!p){var S=new i,E=function(){var _,m;for(l&&(_=d.domain)&&_.exit();m=S.get();)try{m()}catch(C){throw S.head&&g(),C}_&&_.enter()};!o&&!l&&!s&&c&&u?(h=!0,y=u.createTextNode(""),new c(E).observe(y,{characterData:!0}),g=function(){y.data=h=!h}):!a&&f&&f.resolve?(b=f.resolve(void 0),b.constructor=f,w=n(b.then,b),g=function(){w(E)}):l?g=function(){d.nextTick(E)}:(r=n(r,e),g=function(){r(E)}),p=function(_){S.head||g(),S.add(_)}}return qE=p,qE}var T8,A8;function wde(){return A8||(A8=1,T8=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch{}}),T8}var I8,O8;function sh(){return O8||(O8=1,I8=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}),I8}var WE,k8;function lh(){if(k8)return WE;k8=1;var e=jo();return WE=e.Promise,WE}var GE,N8;function xm(){if(N8)return GE;N8=1;var e=jo(),t=lh(),n=Uo(),r=r6(),i=_2(),o=Qa(),a=e8(),s=Vc(),l=WN(),c=t&&t.prototype,u=o("species"),d=!1,f=n(e.PromiseRejectionEvent),p=r("Promise",function(){var g=i(t),h=g!==String(t);if(!h&&l===66||s&&!(c.catch&&c.finally))return!0;if(!l||l<51||!/native code/.test(g)){var y=new t(function(S){S(1)}),b=function(S){S(function(){},function(){})},w=y.constructor={};if(w[u]=b,d=y.then(function(){})instanceof b,!d)return!0}return!h&&(a==="BROWSER"||a==="DENO")&&!f});return GE={CONSTRUCTOR:p,REJECTION_EVENT:f,SUBCLASSING:d},GE}var KE={},R8;function Wc(){if(R8)return KE;R8=1;var e=Al(),t=TypeError,n=function(r){var i,o;this.promise=new r(function(a,s){if(i!==void 0||o!==void 0)throw new t("Bad Promise constructor");i=a,o=s}),this.resolve=e(i),this.reject=e(o)};return KE.f=function(r){return new n(r)},KE}var j8;function xde(){if(j8)return J6;j8=1;var e=Ss(),t=Vc(),n=IE(),r=jo(),i=r8(),o=Qs(),a=Rd(),s=Y2(),l=py(),c=dde(),u=Al(),d=Uo(),f=Tl(),p=fde(),g=u8(),h=b8().set,y=bde(),b=wde(),w=sh(),S=_8(),E=dy(),_=lh(),m=xm(),C=Wc(),T="Promise",O=m.CONSTRUCTOR,R=m.REJECTION_EVENT,j=m.SUBCLASSING,D=E.getterFor(T),L=E.set,V=_&&_.prototype,z=_,B=V,H=r.TypeError,J=r.document,ne=r.process,q=C.f,ee=q,te=!!(J&&J.createEvent&&r.dispatchEvent),$="unhandledrejection",ae="rejectionhandled",ue=0,me=1,Fe=2,Ie=1,Ee=2,He,it,St,xt,Ct=function(_e){var Ce;return f(_e)&&d(Ce=_e.then)?Ce:!1},We=function(_e,Ce){var dt=Ce.value,Ne=Ce.state===me,Ye=Ne?_e.ok:_e.fail,jt=_e.resolve,qt=_e.reject,Jt=_e.domain,Ht,en,hn;try{Ye?(Ne||(Ce.rejection===Ee&&se(Ce),Ce.rejection=Ie),Ye===!0?Ht=dt:(Jt&&Jt.enter(),Ht=Ye(dt),Jt&&(Jt.exit(),hn=!0)),Ht===_e.promise?qt(new H("Promise-chain cycle")):(en=Ct(Ht))?o(en,Ht,jt,qt):jt(Ht)):qt(dt)}catch(Zt){Jt&&!hn&&Jt.exit(),qt(Zt)}},Oe=function(_e,Ce){_e.notified||(_e.notified=!0,y(function(){for(var dt=_e.reactions,Ne;Ne=dt.get();)We(Ne,_e);_e.notified=!1,Ce&&!_e.rejection&&Ve(_e)}))},ye=function(_e,Ce,dt){var Ne,Ye;te?(Ne=J.createEvent("Event"),Ne.promise=Ce,Ne.reason=dt,Ne.initEvent(_e,!1,!0),r.dispatchEvent(Ne)):Ne={promise:Ce,reason:dt},!R&&(Ye=r["on"+_e])?Ye(Ne):_e===$&&b("Unhandled promise rejection",dt)},Ve=function(_e){o(h,r,function(){var Ce=_e.facade,dt=_e.value,Ne=Xe(_e),Ye;if(Ne&&(Ye=w(function(){n?ne.emit("unhandledRejection",dt,Ce):ye($,Ce,dt)}),_e.rejection=n||Xe(_e)?Ee:Ie,Ye.error))throw Ye.value})},Xe=function(_e){return _e.rejection!==Ie&&!_e.parent},se=function(_e){o(h,r,function(){var Ce=_e.facade;n?ne.emit("rejectionHandled",Ce):ye(ae,Ce,_e.value)})},we=function(_e,Ce,dt){return function(Ne){_e(Ce,Ne,dt)}},Le=function(_e,Ce,dt){_e.done||(_e.done=!0,dt&&(_e=dt),_e.value=Ce,_e.state=Fe,Oe(_e,!0))},ot=function(_e,Ce,dt){if(!_e.done){_e.done=!0,dt&&(_e=dt);try{if(_e.facade===Ce)throw new H("Promise can't be resolved itself");var Ne=Ct(Ce);Ne?y(function(){var Ye={done:!1};try{o(Ne,Ce,we(ot,Ye,_e),we(Le,Ye,_e))}catch(jt){Le(Ye,jt,_e)}}):(_e.value=Ce,_e.state=me,Oe(_e,!1))}catch(Ye){Le({done:!1},Ye,_e)}}};if(O&&(z=function(_e){p(this,B),u(_e),o(He,this);var Ce=D(this);try{_e(we(ot,Ce),we(Le,Ce))}catch(dt){Le(Ce,dt)}},B=z.prototype,He=function(_e){L(this,{type:T,done:!1,notified:!1,parent:!1,reactions:new S,rejection:!1,state:ue,value:null})},He.prototype=a(B,"then",function(_e,Ce){var dt=D(this),Ne=q(g(this,z));return dt.parent=!0,Ne.ok=d(_e)?_e:!0,Ne.fail=d(Ce)&&Ce,Ne.domain=n?ne.domain:void 0,dt.state===ue?dt.reactions.add(Ne):y(function(){We(Ne,dt)}),Ne.promise}),it=function(){var _e=new He,Ce=D(_e);this.promise=_e,this.resolve=we(ot,Ce),this.reject=we(Le,Ce)},C.f=q=function(_e){return _e===z||_e===St?new it(_e):ee(_e)},!t&&d(_)&&V!==Object.prototype)){xt=V.then,j||a(V,"then",function(_e,Ce){var dt=this;return new z(function(Ne,Ye){o(xt,dt,Ne,Ye)}).then(_e,Ce)},{unsafe:!0});try{delete V.constructor}catch{}s&&s(V,B)}return e({global:!0,constructor:!0,wrap:!0,forced:O},{Promise:z}),St=i.Promise,l(z,T,!1,!0),c(T),J6}var L8={},XE,M8;function _de(){if(M8)return XE;M8=1;var e=Qa(),t=e("iterator"),n=!1;try{var r=0,i={next:function(){return{done:!!r++}},return:function(){n=!0}};i[t]=function(){return this},Array.from(i,function(){throw 2})}catch{}return XE=function(o,a){try{if(!a&&!n)return!1}catch{return!1}var s=!1;try{var l={};l[t]=function(){return{next:function(){return{done:s=!0}}}},o(l)}catch{}return s},XE}var YE,P8;function my(){if(P8)return YE;P8=1;var e=lh(),t=_de(),n=xm().CONSTRUCTOR;return YE=n||!t(function(r){e.all(r).then(void 0,function(){})}),YE}var D8;function Ede(){if(D8)return L8;D8=1;var e=Ss(),t=Qs(),n=Al(),r=Wc(),i=sh(),o=wm(),a=my();return e({target:"Promise",stat:!0,forced:a},{all:function(s){var l=this,c=r.f(l),u=c.resolve,d=c.reject,f=i(function(){var p=n(l.resolve),g=[],h=0,y=1;o(s,function(b){var w=h++,S=!1;y++,t(p,l,b).then(function(E){S||(S=!0,g[w]=E,--y||u(g))},d)}),--y||u(g)});return f.error&&d(f.value),c.promise}}),L8}var F8={},U8;function Sde(){if(U8)return F8;U8=1;var e=Ss(),t=Vc(),n=xm().CONSTRUCTOR,r=lh(),i=Hc(),o=Uo(),a=Rd(),s=r&&r.prototype;if(e({target:"Promise",proto:!0,forced:n,real:!0},{catch:function(c){return this.then(void 0,c)}}),!t&&o(r)){var l=i("Promise").prototype.catch;s.catch!==l&&a(s,"catch",l,{unsafe:!0})}return F8}var z8={},B8;function Cde(){if(B8)return z8;B8=1;var e=Ss(),t=Qs(),n=Al(),r=Wc(),i=sh(),o=wm(),a=my();return e({target:"Promise",stat:!0,forced:a},{race:function(s){var l=this,c=r.f(l),u=c.reject,d=i(function(){var f=n(l.resolve);o(s,function(p){t(f,l,p).then(c.resolve,u)})});return d.error&&u(d.value),c.promise}}),z8}var $8={},H8;function Tde(){if(H8)return $8;H8=1;var e=Ss(),t=Wc(),n=xm().CONSTRUCTOR;return e({target:"Promise",stat:!0,forced:n},{reject:function(r){var i=t.f(this),o=i.reject;return o(r),i.promise}}),$8}var V8={},QE,q8;function W8(){if(q8)return QE;q8=1;var e=qc(),t=Tl(),n=Wc();return QE=function(r,i){if(e(r),t(i)&&i.constructor===r)return i;var o=n.f(r),a=o.resolve;return a(i),o.promise},QE}var G8;function Ade(){if(G8)return V8;G8=1;var e=Ss(),t=Hc(),n=Vc(),r=lh(),i=xm().CONSTRUCTOR,o=W8(),a=t("Promise"),s=n&&!i;return e({target:"Promise",stat:!0,forced:n||i},{resolve:function(l){return o(s&&this===a?r:this,l)}}),V8}var K8;function Ide(){return K8||(K8=1,xde(),Ede(),Sde(),Cde(),Tde(),Ade()),cde}var X8={},Y8;function Q8(){if(Y8)return X8;Y8=1;var e=Ss(),t=Qs(),n=Al(),r=Wc(),i=sh(),o=wm(),a=my();return e({target:"Promise",stat:!0,forced:a},{allSettled:function(s){var l=this,c=r.f(l),u=c.resolve,d=c.reject,f=i(function(){var p=n(l.resolve),g=[],h=0,y=1;o(s,function(b){var w=h++,S=!1;y++,t(p,l,b).then(function(E){S||(S=!0,g[w]={status:"fulfilled",value:E},--y||u(g))},function(E){S||(S=!0,g[w]={status:"rejected",reason:E},--y||u(g))})}),--y||u(g)});return f.error&&d(f.value),c.promise}}),X8}var J8={},Z8;function ej(){if(Z8)return J8;Z8=1;var e=Ss(),t=Qs(),n=Al(),r=Hc(),i=Wc(),o=sh(),a=wm(),s=my(),l="No one promise resolved";return e({target:"Promise",stat:!0,forced:s},{any:function(c){var u=this,d=r("AggregateError"),f=i.f(u),p=f.resolve,g=f.reject,h=o(function(){var y=n(u.resolve),b=[],w=0,S=1,E=!1;a(c,function(_){var m=w++,C=!1;S++,t(y,u,_).then(function(T){C||E||(E=!0,p(T))},function(T){C||E||(C=!0,b[m]=T,--S||g(new d(b,l)))})}),--S||g(new d(b,l))});return h.error&&g(h.value),f.promise}}),J8}var tj={},nj;function rj(){if(nj)return tj;nj=1;var e=Ss(),t=jo(),n=f8(),r=p8(),i=Wc(),o=Al(),a=sh(),s=t.Promise,l=!1,c=!s||!s.try||a(function(){s.try(function(u){l=u===8},8)}).error||!l;return e({target:"Promise",stat:!0,forced:c},{try:function(u){var d=arguments.length>1?r(arguments,1):[],f=i.f(this),p=a(function(){return n(o(u),void 0,d)});return(p.error?f.reject:f.resolve)(p.value),f.promise}}),tj}var ij={},oj;function aj(){if(oj)return ij;oj=1;var e=Ss(),t=Wc();return e({target:"Promise",stat:!0},{withResolvers:function(){var n=t.f(this);return{promise:n.promise,resolve:n.resolve,reject:n.reject}}}),ij}var sj={},lj;function Ode(){if(lj)return sj;lj=1;var e=Ss(),t=Vc(),n=lh(),r=hs(),i=Hc(),o=Uo(),a=u8(),s=W8(),l=Rd(),c=n&&n.prototype,u=!!n&&r(function(){c.finally.call({then:function(){}},function(){})});if(e({target:"Promise",proto:!0,real:!0,forced:u},{finally:function(f){var p=a(this,i("Promise")),g=o(f);return this.then(g?function(h){return s(p,f()).then(function(){return h})}:f,g?function(h){return s(p,f()).then(function(){throw h})}:f)}}),!t&&o(n)){var d=i("Promise").prototype.finally;c.finally!==d&&l(c,"finally",d,{unsafe:!0})}return sj}var cj={},JE,uj;function kde(){if(uj)return JE;uj=1;var e=Ya(),t=R2(),n=yE(),r=sy(),i=e("".charAt),o=e("".charCodeAt),a=e("".slice),s=function(l){return function(c,u){var d=n(r(c)),f=t(u),p=d.length,g,h;return f<0||f>=p?l?"":void 0:(g=o(d,f),g<55296||g>56319||f+1===p||(h=o(d,f+1))<56320||h>57343?l?i(d,f):g:l?a(d,f,f+2):(g-55296<<10)+(h-56320)+65536)}};return JE={codeAt:s(!1),charAt:s(!0)},JE}var dj;function Nde(){if(dj)return cj;dj=1;var e=kde().charAt,t=yE(),n=dy(),r=H6(),i=W6(),o="String Iterator",a=n.set,s=n.getterFor(o);return r(String,"String",function(l){a(this,{type:o,string:t(l),index:0})},function(){var l=s(this),c=l.string,u=l.index,d;return u>=c.length?i(void 0,!0):(d=e(c,u),l.index+=d.length,i(d,!1))}),cj}var ZE,fj;function Rde(){if(fj)return ZE;fj=1,P6(),K6(),lde(),Ide(),Q8(),ej(),rj(),aj(),Ode(),Nde();var e=r8();return ZE=e.Promise,ZE}var hj={},pj,mj;function jde(){return mj||(mj=1,pj={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),pj}var eS,gj;function Lde(){if(gj)return eS;gj=1;var e=uy(),t=e("span").classList,n=t&&t.constructor&&t.constructor.prototype;return eS=n===Object.prototype?void 0:n,eS}var yj;function Mde(){if(yj)return hj;yj=1;var e=jo(),t=jde(),n=Lde(),r=K6(),i=Nd(),o=py(),a=Qa(),s=a("iterator"),l=r.values,c=function(d,f){if(d){if(d[s]!==l)try{i(d,s,l)}catch{d[s]=l}if(o(d,f,!0),t[f]){for(var p in r)if(d[p]!==r[p])try{i(d,p,r[p])}catch{d[p]=r[p]}}}};for(var u in t)c(e[u]&&e[u].prototype,u);return c(n,"DOMTokenList"),hj}var tS,vj;function Pde(){if(vj)return tS;vj=1;var e=Rde();return Mde(),tS=e,tS}var Dde={},bj;function Fde(){return bj||(bj=1,rj()),Dde}var Ude={},wj;function zde(){return wj||(wj=1,aj()),Ude}var nS,xj;function Bde(){if(xj)return nS;xj=1;var e=Pde();return Fde(),zde(),nS=e,nS}var $de={},_j;function Hde(){return _j||(_j=1,P6()),$de}var Vde={},Ej;function qde(){return Ej||(Ej=1,Q8()),Vde}var Wde={},Sj;function Gde(){return Sj||(Sj=1,ej()),Wde}var rS,Cj;function Kde(){if(Cj)return rS;Cj=1;var e=Bde();return Hde(),qde(),Gde(),rS=e,rS}var Tj,Aj;function Xde(){return Aj||(Aj=1,Tj=Kde()),Tj}Xde();function Yde(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ij(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Oj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(n),!0).forEach(function(r){Yde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ij(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qde(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Jde(e,t){if(e==null)return{};var n=Qde(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Zde(e,t){return efe(e)||tfe(e,t)||nfe(e,t)||rfe()}function efe(e){if(Array.isArray(e))return e}function tfe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=e[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function nfe(e,t){if(e){if(typeof e=="string")return kj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kj(e,t)}}function kj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ife(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(n),!0).forEach(function(r){ife(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ofe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(i,o){return o(i)},r)}}function _m(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return t.apply(n,[].concat(i,s))}}}function gy(e){return{}.toString.call(e).includes("Object")}function afe(e){return!Object.keys(e).length}function Em(e){return typeof e=="function"}function sfe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function lfe(e,t){return gy(t)||ju("changeType"),Object.keys(t).some(function(n){return!sfe(e,n)})&&ju("changeField"),t}function cfe(e){Em(e)||ju("selectorType")}function ufe(e){Em(e)||gy(e)||ju("handlerType"),gy(e)&&Object.values(e).some(function(t){return!Em(t)})&&ju("handlersType")}function dfe(e){e||ju("initialIsRequired"),gy(e)||ju("initialType"),afe(e)&&ju("initialContent")}function ffe(e,t){throw new Error(e[t]||e.default)}var hfe={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},ju=_m(ffe)(hfe),yy={changes:lfe,selector:cfe,handler:ufe,initial:dfe};function pfe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};yy.initial(e),yy.handler(t);var n={current:e},r=_m(yfe)(n,t),i=_m(gfe)(n),o=_m(yy.changes)(e),a=_m(mfe)(n);function s(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(u){return u};return yy.selector(c),c(n.current)}function l(c){ofe(r,i,o,a)(c)}return[s,l]}function mfe(e,t){return Em(t)?t(e.current):t}function gfe(e,t){return e.current=Rj(Rj({},e.current),t),t}function yfe(e,t,n){return Em(t)?t(e.current):Object.keys(n).forEach(function(r){var i;return(i=t[r])===null||i===void 0?void 0:i.call(t,e.current[r])}),n}var vfe={create:pfe},bfe={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function wfe(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return t.apply(n,[].concat(i,s))}}}function xfe(e){return{}.toString.call(e).includes("Object")}function _fe(e){return e||Lj("configIsRequired"),xfe(e)||Lj("configType"),e.urls?(Efe(),{paths:{vs:e.urls.monacoBase}}):e}function Efe(){console.warn(jj.deprecation)}function Sfe(e,t){throw new Error(e[t]||e.default)}var jj={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Lj=wfe(Sfe)(jj),Cfe={config:_fe},Tfe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(i,o){return o(i)},r)}};function Mj(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],Mj(e[n],t[n]))}),Oj(Oj({},e),t)}var Afe={type:"cancelation",msg:"operation is manually canceled"};function iS(e){var t=!1,n=new Promise(function(r,i){e.then(function(o){return t?i(Afe):r(o)}),e.catch(i)});return n.cancel=function(){return t=!0},n}var Ife=vfe.create({config:bfe,isInitialized:!1,resolve:null,reject:null,monaco:null}),Pj=Zde(Ife,2),Sm=Pj[0],vy=Pj[1];function Ofe(e){var t=Cfe.config(e),n=t.monaco,r=Jde(t,["monaco"]);vy(function(i){return{config:Mj(i.config,r),monaco:n}})}function kfe(){var e=Sm(function(t){var n=t.monaco,r=t.isInitialized,i=t.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!e.isInitialized){if(vy({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),iS(oS);if(window.monaco&&window.monaco.editor)return Dj(window.monaco),e.resolve(window.monaco),iS(oS);Tfe(Nfe,jfe)(Lfe)}return iS(oS)}function Nfe(e){return document.body.appendChild(e)}function Rfe(e){var t=document.createElement("script");return e&&(t.src=e),t}function jfe(e){var t=Sm(function(r){var i=r.config,o=r.reject;return{config:i,reject:o}}),n=Rfe("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function Lfe(){var e=Sm(function(n){var r=n.config,i=n.resolve,o=n.reject;return{config:r,resolve:i,reject:o}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){Dj(n),e.resolve(n)},function(n){e.reject(n)})}function Dj(e){Sm().monaco||vy({monaco:e})}function Mfe(){return Sm(function(e){var t=e.monaco;return t})}var oS=new Promise(function(e,t){return vy({resolve:e,reject:t})}),by={config:Ofe,init:kfe,__getMonacoInstance:Mfe},Pfe={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},aS=Pfe,Dfe={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Ffe=Dfe;function Ufe({children:e}){return ie.createElement("div",{style:Ffe.container},e)}var zfe=Ufe,Bfe=zfe;function $fe({width:e,height:t,isEditorReady:n,loading:r,_ref:i,className:o,wrapperProps:a}){return ie.createElement("section",{style:{...aS.wrapper,width:e,height:t},...a},!n&&ie.createElement(Bfe,null,r),ie.createElement("div",{ref:i,style:{...aS.fullWidth,...!n&&aS.hide},className:o}))}var Hfe=$fe,Fj=x.memo(Hfe);function Vfe(e){x.useEffect(e,[])}var Uj=Vfe;function qfe(e,t,n=!0){let r=x.useRef(!0);x.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}var Cs=qfe;function Cm(){}function ch(e,t,n,r){return Wfe(e,r)||Gfe(e,t,n,r)}function Wfe(e,t){return e.editor.getModel(zj(e,t))}function Gfe(e,t,n,r){return e.editor.createModel(t,n,r?zj(e,r):void 0)}function zj(e,t){return e.Uri.parse(t)}function Kfe({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:i,originalModelPath:o,modifiedModelPath:a,keepCurrentOriginalModel:s=!1,keepCurrentModifiedModel:l=!1,theme:c="light",loading:u="Loading...",options:d={},height:f="100%",width:p="100%",className:g,wrapperProps:h={},beforeMount:y=Cm,onMount:b=Cm}){let[w,S]=x.useState(!1),[E,_]=x.useState(!0),m=x.useRef(null),C=x.useRef(null),T=x.useRef(null),O=x.useRef(b),R=x.useRef(y),j=x.useRef(!1);Uj(()=>{let z=by.init();return z.then(B=>(C.current=B)&&_(!1)).catch(B=>(B==null?void 0:B.type)!=="cancelation"&&console.error("Monaco initialization: error:",B)),()=>m.current?V():z.cancel()}),Cs(()=>{if(m.current&&C.current){let z=m.current.getOriginalEditor(),B=ch(C.current,e||"",r||n||"text",o||"");B!==z.getModel()&&z.setModel(B)}},[o],w),Cs(()=>{if(m.current&&C.current){let z=m.current.getModifiedEditor(),B=ch(C.current,t||"",i||n||"text",a||"");B!==z.getModel()&&z.setModel(B)}},[a],w),Cs(()=>{let z=m.current.getModifiedEditor();z.getOption(C.current.editor.EditorOption.readOnly)?z.setValue(t||""):t!==z.getValue()&&(z.executeEdits("",[{range:z.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),z.pushUndoStop())},[t],w),Cs(()=>{var z,B;(B=(z=m.current)==null?void 0:z.getModel())==null||B.original.setValue(e||"")},[e],w),Cs(()=>{let{original:z,modified:B}=m.current.getModel();C.current.editor.setModelLanguage(z,r||n||"text"),C.current.editor.setModelLanguage(B,i||n||"text")},[n,r,i],w),Cs(()=>{var z;(z=C.current)==null||z.editor.setTheme(c)},[c],w),Cs(()=>{var z;(z=m.current)==null||z.updateOptions(d)},[d],w);let D=x.useCallback(()=>{var H;if(!C.current)return;R.current(C.current);let z=ch(C.current,e||"",r||n||"text",o||""),B=ch(C.current,t||"",i||n||"text",a||"");(H=m.current)==null||H.setModel({original:z,modified:B})},[n,t,i,e,r,o,a]),L=x.useCallback(()=>{var z;!j.current&&T.current&&(m.current=C.current.editor.createDiffEditor(T.current,{automaticLayout:!0,...d}),D(),(z=C.current)==null||z.editor.setTheme(c),S(!0),j.current=!0)},[d,c,D]);x.useEffect(()=>{w&&O.current(m.current,C.current)},[w]),x.useEffect(()=>{!E&&!w&&L()},[E,w,L]);function V(){var B,H,J,ne;let z=(B=m.current)==null?void 0:B.getModel();s||((H=z==null?void 0:z.original)==null||H.dispose()),l||((J=z==null?void 0:z.modified)==null||J.dispose()),(ne=m.current)==null||ne.dispose()}return ie.createElement(Fj,{width:p,height:f,isEditorReady:w,loading:u,_ref:T,className:g,wrapperProps:h})}let Bj;Bj=Kfe,gN=x.memo(Bj);function Xfe(e){let t=x.useRef();return x.useEffect(()=>{t.current=e},[e]),t.current}var Yfe=Xfe,wy=new Map;function Qfe({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:i,path:o,theme:a="light",line:s,loading:l="Loading...",options:c={},overrideServices:u={},saveViewState:d=!0,keepCurrentModel:f=!1,width:p="100%",height:g="100%",className:h,wrapperProps:y={},beforeMount:b=Cm,onMount:w=Cm,onChange:S,onValidate:E=Cm}){let[_,m]=x.useState(!1),[C,T]=x.useState(!0),O=x.useRef(null),R=x.useRef(null),j=x.useRef(null),D=x.useRef(w),L=x.useRef(b),V=x.useRef(),z=x.useRef(r),B=Yfe(o),H=x.useRef(!1),J=x.useRef(!1);Uj(()=>{let ee=by.init();return ee.then(te=>(O.current=te)&&T(!1)).catch(te=>(te==null?void 0:te.type)!=="cancelation"&&console.error("Monaco initialization: error:",te)),()=>R.current?q():ee.cancel()}),Cs(()=>{var te,$,ae,ue;let ee=ch(O.current,e||r||"",t||i||"",o||n||"");ee!==((te=R.current)==null?void 0:te.getModel())&&(d&&wy.set(B,($=R.current)==null?void 0:$.saveViewState()),(ae=R.current)==null||ae.setModel(ee),d&&((ue=R.current)==null||ue.restoreViewState(wy.get(o))))},[o],_),Cs(()=>{var ee;(ee=R.current)==null||ee.updateOptions(c)},[c],_),Cs(()=>{!R.current||r===void 0||(R.current.getOption(O.current.editor.EditorOption.readOnly)?R.current.setValue(r):r!==R.current.getValue()&&(J.current=!0,R.current.executeEdits("",[{range:R.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),R.current.pushUndoStop(),J.current=!1))},[r],_),Cs(()=>{var te,$;let ee=(te=R.current)==null?void 0:te.getModel();ee&&i&&(($=O.current)==null||$.editor.setModelLanguage(ee,i))},[i],_),Cs(()=>{var ee;s!==void 0&&((ee=R.current)==null||ee.revealLine(s))},[s],_),Cs(()=>{var ee;(ee=O.current)==null||ee.editor.setTheme(a)},[a],_);let ne=x.useCallback(()=>{var ee;if(!(!j.current||!O.current)&&!H.current){L.current(O.current);let te=o||n,$=ch(O.current,r||e||"",t||i||"",te||"");R.current=(ee=O.current)==null?void 0:ee.editor.create(j.current,{model:$,automaticLayout:!0,...c},u),d&&R.current.restoreViewState(wy.get(te)),O.current.editor.setTheme(a),s!==void 0&&R.current.revealLine(s),m(!0),H.current=!0}},[e,t,n,r,i,o,c,u,d,a,s]);x.useEffect(()=>{_&&D.current(R.current,O.current)},[_]),x.useEffect(()=>{!C&&!_&&ne()},[C,_,ne]),z.current=r,x.useEffect(()=>{var ee,te;_&&S&&((ee=V.current)==null||ee.dispose(),V.current=(te=R.current)==null?void 0:te.onDidChangeModelContent($=>{J.current||S(R.current.getValue(),$)}))},[_,S]),x.useEffect(()=>{if(_){let ee=O.current.editor.onDidChangeMarkers(te=>{var ae;let $=(ae=R.current.getModel())==null?void 0:ae.uri;if($&&te.find(ue=>ue.path===$.path)){let ue=O.current.editor.getModelMarkers({resource:$});E==null||E(ue)}});return()=>{ee==null||ee.dispose()}}return()=>{}},[_,E]);function q(){var ee,te;(ee=V.current)==null||ee.dispose(),f?d&&wy.set(o,R.current.saveViewState()):(te=R.current.getModel())==null||te.dispose(),R.current.dispose()}return ie.createElement(Fj,{width:p,height:g,isEditorReady:_,loading:l,_ref:j,className:h,wrapperProps:y})}let $j,Hj;$j=Qfe,O_=x.memo($j),Hj=O_;const ps="#2c2e3d",Jfe={base:"vs-dark",inherit:!0,rules:[{background:ps,token:""},{foreground:"6272a4",token:"comment"},{foreground:"f1fa8c",token:"string"},{foreground:"50fa7b",token:"number"},{foreground:"f1fa8c",token:"string.sql"},{foreground:"ff79c6",token:"operator.sql"},{foreground:"8be9fd",fontStyle:"italic",token:"dataType"},{foreground:"8be9fd",token:"predefined.sql"},{foreground:"8be9fd",token:"function"},{foreground:"bd93f9",token:"constant.numeric"},{foreground:"bd93f9",token:"constant.language"},{foreground:"bd93f9",token:"constant.character"},{foreground:"bd93f9",token:"constant.other"},{foreground:"ffb86c",token:"variable.other.readwrite.instance"},{foreground:"ff79c6",token:"constant.character.escaped"},{foreground:"ff79c6",token:"constant.character.escape"},{foreground:"ff79c6",token:"string source"},{foreground:"ff79c6",token:"string source.ruby"},{foreground:"ff79c6",token:"keyword"},{foreground:"ff79c6",token:"storage"},{foreground:"8be9fd",fontStyle:"italic",token:"storage.type"},{foreground:"50fa7b",fontStyle:"underline",token:"entity.name.class"},{foreground:"50fa7b",fontStyle:"italic underline",token:"entity.other.inherited-class"},{foreground:"50fa7b",token:"entity.name.function"},{foreground:"ffb86c",fontStyle:"italic",token:"variable.parameter"},{foreground:"bd93f9",token:"variable",fontStyle:"italic"},{foreground:"ff79c6",token:"entity.name.tag"},{foreground:"50fa7b",token:"entity.other.attribute-name"},{foreground:"8be9fd",token:"support.function"},{foreground:"6be5fd",token:"support.constant"},{foreground:"66d9ef",fontStyle:" italic",token:"support.type"},{foreground:"66d9ef",fontStyle:" italic",token:"support.class"},{foreground:"f8f8f0",background:"ff79c6",token:"invalid"},{foreground:"f8f8f0",background:"bd93f9",token:"invalid.deprecated"},{foreground:"cfcfc2",token:"meta.structure.dictionary.json string.quoted.double.json"},{foreground:"6272a4",token:"meta.diff"},{foreground:"6272a4",token:"meta.diff.header"},{foreground:"ff79c6",token:"markup.deleted"},{foreground:"50fa7b",token:"markup.inserted"},{foreground:"e6db74",token:"markup.changed"},{foreground:"bd93f9",token:"constant.numeric.line-number.find-in-files - match"},{foreground:"e6db74",token:"entity.name.filename"},{foreground:"f83333",token:"message.error"},{foreground:"eeeeee",token:"punctuation.definition.string.begin.json - meta.structure.dictionary.value.json"},{foreground:"eeeeee",token:"punctuation.definition.string.end.json - meta.structure.dictionary.value.json"},{foreground:"8be9fd",token:"meta.structure.dictionary.json string.quoted.double.json"},{foreground:"f1fa8c",token:"meta.structure.dictionary.value.json string.quoted.double.json"},{foreground:"50fa7b",token:"meta meta meta meta meta meta meta.structure.dictionary.value string"},{foreground:"ffb86c",token:"meta meta meta meta meta meta.structure.dictionary.value string"},{foreground:"ff79c6",token:"meta meta meta meta meta.structure.dictionary.value string"},{foreground:"bd93f9",token:"meta meta meta meta.structure.dictionary.value string"},{foreground:"50fa7b",token:"meta meta meta.structure.dictionary.value string"},{foreground:"ffb86c",token:"meta meta.structure.dictionary.value string"}],colors:{"activityBar.activeBackground":"#bd93f910","activityBar.activeBorder":"#ff79c680","activityBar.background":"#343746","activityBar.foreground":"#f8f8f2","activityBar.inactiveForeground":"#6272a4","activityBarBadge.background":"#ff79c6","activityBarBadge.foreground":"#f8f8f2","badge.background":"#44475a","badge.foreground":"#f8f8f2","breadcrumb.activeSelectionForeground":"#f8f8f2","breadcrumb.background":ps,"breadcrumb.focusForeground":"#f8f8f2","breadcrumb.foreground":"#6272a4","breadcrumbPicker.background":"#191a21","button.background":"#44475a","button.foreground":"#f8f8f2","button.secondaryBackground":ps,"button.secondaryForeground":"#f8f8f2","button.secondaryHoverBackground":"#343746","debugToolBar.background":"#21222c","diffEditor.insertedTextBackground":"#50fa7b20","diffEditor.removedTextBackground":"#ff555550","dropdown.background":"#343746","dropdown.border":"#191a21","dropdown.foreground":"#f8f8f2","editor.background":ps,"editor.findMatchBackground":"#ffb86c80","editor.findMatchHighlightBackground":"#ffffff40","editor.findRangeHighlightBackground":"#44475a75","editor.foldBackground":"#21222c","editor.foreground":"#f8f8f2","editor.hoverHighlightBackground":"#8be9fd50","editor.lineHighlightBorder":"#383b4b","editor.lineHighlightBackground":"#383b4b","editor.rangeHighlightBackground":"#bd93f915","editor.selectionBackground":"#44475a","editor.selectionHighlightBackground":"#424450","editor.snippetFinalTabstopHighlightBackground":ps,"editor.snippetFinalTabstopHighlightBorder":"#50fa7b","editor.snippetTabstopHighlightBackground":ps,"editor.snippetTabstopHighlightBorder":"#6272a4","editor.wordHighlightBackground":"#8be9fd50","editor.wordHighlightStrongBackground":"#50fa7b50","editorBracketHighlight.foreground1":"#f8f8f2","editorBracketHighlight.foreground2":"#ff79c6","editorBracketHighlight.foreground3":"#8be9fd","editorBracketHighlight.foreground4":"#50fa7b","editorBracketHighlight.foreground5":"#bd93f9","editorBracketHighlight.foreground6":"#ffb86c","editorBracketHighlight.unexpectedBracket.foreground":"#ff5555","editorCodeLens.foreground":"#6272a4","editorError.foreground":"#ff5555","editorGroup.border":"#bd93f9","editorGroup.dropBackground":"#44475a70","editorGroupHeader.tabsBackground":"#191a21","editorGutter.addedBackground":"#50fa7b80","editorGutter.deletedBackground":"#ff555580","editorGutter.modifiedBackground":"#8be9fd80","editorHoverWidget.background":ps,"editorHoverWidget.border":"#6272a4","editorIndentGuide.activeBackground":"#ffffff45","editorIndentGuide.background":"#ffffff1a","editorLineNumber.foreground":"#6272a4","editorLink.activeForeground":"#8be9fd","editorMarkerNavigation.background":"#21222c","editorOverviewRuler.addedForeground":"#50fa7b80","editorOverviewRuler.border":"#191a21","editorOverviewRuler.currentContentForeground":"#50fa7b","editorOverviewRuler.deletedForeground":"#ff555580","editorOverviewRuler.errorForeground":"#ff555580","editorOverviewRuler.incomingContentForeground":"#bd93f9","editorOverviewRuler.infoForeground":"#8be9fd80","editorOverviewRuler.modifiedForeground":"#8be9fd80","editorOverviewRuler.selectionHighlightForeground":"#ffb86c","editorOverviewRuler.warningForeground":"#ffb86c80","editorOverviewRuler.wordHighlightForeground":"#8be9fd","editorOverviewRuler.wordHighlightStrongForeground":"#50fa7b","editorRuler.foreground":"#ffffff1a","editorSuggestWidget.background":"#21222c","editorSuggestWidget.foreground":"#f8f8f2","editorSuggestWidget.selectedBackground":"#44475a","editorWarning.foreground":"#8be9fd","editorWhitespace.foreground":"#ffffff1a","editorWidget.background":"#21222c",errorForeground:"#ff5555","extensionButton.prominentBackground":"#50fa7b90","extensionButton.prominentForeground":"#f8f8f2","extensionButton.prominentHoverBackground":"#50fa7b60",focusBorder:"#6272a4",foreground:"#f8f8f2","gitDecoration.conflictingResourceForeground":"#ffb86c","gitDecoration.deletedResourceForeground":"#ff5555","gitDecoration.ignoredResourceForeground":"#6272a4","gitDecoration.modifiedResourceForeground":"#8be9fd","gitDecoration.untrackedResourceForeground":"#50fa7b","input.background":ps,"input.border":"#191a21","input.foreground":"#f8f8f2","input.placeholderForeground":"#6272a4","inputOption.activeBorder":"#bd93f9","inputValidation.errorBorder":"#ff5555","inputValidation.infoBorder":"#ff79c6","inputValidation.warningBorder":"#ffb86c","list.activeSelectionBackground":"#44475a","list.activeSelectionForeground":"#f8f8f2","list.dropBackground":"#44475a","list.errorForeground":"#ff5555","list.focusBackground":"#44475a75","list.highlightForeground":"#8be9fd","list.hoverBackground":"#44475a75","list.inactiveSelectionBackground":"#44475a75","list.warningForeground":"#ffb86c","listFilterWidget.background":"#343746","listFilterWidget.noMatchesOutline":"#ff5555","listFilterWidget.outline":"#424450","merge.currentHeaderBackground":"#50fa7b90","merge.incomingHeaderBackground":"#bd93f990","panel.background":ps,"panel.border":"#bd93f9","panelTitle.activeBorder":"#ff79c6","panelTitle.activeForeground":"#f8f8f2","panelTitle.inactiveForeground":"#6272a4","peekView.border":"#44475a","peekViewEditor.background":ps,"peekViewEditor.matchHighlightBackground":"#f1fa8c80","peekViewResult.background":"#21222c","peekViewResult.fileForeground":"#f8f8f2","peekViewResult.lineForeground":"#f8f8f2","peekViewResult.matchHighlightBackground":"#f1fa8c80","peekViewResult.selectionBackground":"#44475a","peekViewResult.selectionForeground":"#f8f8f2","peekViewTitle.background":"#191a21","peekViewTitleDescription.foreground":"#6272a4","peekViewTitleLabel.foreground":"#f8f8f2","pickerGroup.border":"#bd93f9","pickerGroup.foreground":"#8be9fd","progressBar.background":"#ff79c6","selection.background":"#bd93f9","settings.checkboxBackground":"#21222c","settings.checkboxBorder":"#191a21","settings.checkboxForeground":"#f8f8f2","settings.dropdownBackground":"#21222c","settings.dropdownBorder":"#191a21","settings.dropdownForeground":"#f8f8f2","settings.headerForeground":"#f8f8f2","settings.modifiedItemIndicator":"#ffb86c","settings.numberInputBackground":"#21222c","settings.numberInputBorder":"#191a21","settings.numberInputForeground":"#f8f8f2","settings.textInputBackground":"#21222c","settings.textInputBorder":"#191a21","settings.textInputForeground":"#f8f8f2","sideBar.background":"#21222c","sideBarSectionHeader.background":ps,"sideBarSectionHeader.border":"#191a21","sideBarTitle.foreground":"#f8f8f2","statusBar.background":"#191a21","statusBar.debuggingBackground":"#ff5555","statusBar.debuggingForeground":"#191a21","statusBar.foreground":"#f8f8f2","statusBar.noFolderBackground":"#191a21","statusBar.noFolderForeground":"#f8f8f2","statusBarItem.prominentBackground":"#ff5555","statusBarItem.prominentHoverBackground":"#ffb86c","statusBarItem.remoteBackground":"#bd93f9","statusBarItem.remoteForeground":ps,"tab.activeBackground":ps,"tab.activeBorderTop":"#ff79c680","tab.activeForeground":"#f8f8f2","tab.border":"#191a21","tab.inactiveBackground":"#21222c","tab.inactiveForeground":"#6272a4","terminal.ansiBlack":"#21222c","terminal.ansiBlue":"#bd93f9","terminal.ansiBrightBlack":"#6272a4","terminal.ansiBrightBlue":"#d6acff","terminal.ansiBrightCyan":"#a4ffff","terminal.ansiBrightGreen":"#69ff94","terminal.ansiBrightMagenta":"#ff92df","terminal.ansiBrightRed":"#ff6e6e","terminal.ansiBrightWhite":"#ffffff","terminal.ansiBrightYellow":"#ffffa5","terminal.ansiCyan":"#8be9fd","terminal.ansiGreen":"#50fa7b","terminal.ansiMagenta":"#ff79c6","terminal.ansiRed":"#ff5555","terminal.ansiWhite":"#f8f8f2","terminal.ansiYellow":"#f1fa8c","terminal.background":ps,"terminal.foreground":"#f8f8f2","titleBar.activeBackground":"#21222c","titleBar.activeForeground":"#f8f8f2","titleBar.inactiveBackground":"#191a21","titleBar.inactiveForeground":"#6272a4","walkThrough.embeddedEditorBackground":"#21222c"}},Zfe={wordPattern:/(-?\d*\.\d\w*)|(::|:=|<<=|>>=|!=|<>|<=|>=|\|\||[-+*/%~<>^|&=!]|\b(?:not|and|or|in|between|within|like|ilike)\b|[^`~!@#$%^&*\-+[{\]}\\|;:",<>/?\s]+)/g,comments:{lineComment:"--",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]},Vj=["ALL","AND","ANY","BETWEEN","EXISTS","IN","LIKE","NOT","OR","SOME","EXCEPT","INTERSECT","UNION","APPLY","CROSS","FULL","INNER","JOIN","LEFT","OUTER","RIGHT","CONTAINS","FREETEXT","IS","NULL","PIVOT","UNPIVOT","MATCHED","EXPLAIN"];var qj={},sS={},Wj;function ehe(){return Wj||(Wj=1,Object.defineProperty(sS,"__esModule",{value:!0}),sS.default=["asc","brotli","century","complete","day","days","decade","desc","dow","doy","epoch","false","gzip","hour","hours","http","ilp","immediate","incremental","isodow","isoyear","jwk","linear","lz4","lz4_raw","lzo","manual","microsecond","microseconds","millennium","millisecond","milliseconds","minute","minutes","month","months","nan","nanosecond","nanoseconds","native","none","null","parquet","pgwire","prepare","prev","quarter","rest","second","seconds","skip_column","skip_row","snappy","true","uncompressed","week","weeks","year","years","zstd"]),sS}var lS={},Gj;function the(){return Gj||(Gj=1,Object.defineProperty(lS,"__esModule",{value:!0}),lS.default=["binary","boolean","byte","char","date","decimal","double","float","geohash","int","integer","interval","ipv4","long","long128","long256","short","string","symbol","timestamp","timestamp_ns","uuid","varchar"]),lS}var cS={},Kj;function nhe(){return Kj||(Kj=1,Object.defineProperty(cS,"__esModule",{value:!0}),cS.default=["<<","<<=",">>",">>=","_query_trace","VARCHAR","abs","acos","all_permissions","all_tables","array_avg","array_count","array_cum_sum","array_max","array_min","array_position","array_stddev","array_stddev_pop","array_stddev_samp","array_sum","and","approx_median","approx_count_distinct","approx_percentile","arg_max","arg_min","asin","atan","atan2","avg","base64","batch","bit_and","bit_or","bit_xor","bool_and","bool_or","between","build","case","cast","ceil","ceiling","coalesce","commitLag","concat","corr","cos","cot","covar_pop","covar_samp","count","count_distinct","current_database","current_schema","current_schemas","current_catalog","current_setting","current_user","date_trunc","dateadd","datediff","day","day_of_week","day_of_week_sunday_first","days_in_month","degrees","dense_rank","dim_length","dot_product","dump_memory_usage","dump_thread_stacks","exp","export_files","extract","files","first","first_not_null","first_not_null_value","first_value","flatten","floor","flush_query_cache","format","format_type","functions","generate_series","geo_distance_meters","geo_within_radius_latlon","geomean","glob","greatest","haversine_dist_deg","headers","hour","hydrate_table_metadata","ifnull","ilike","import_files","in","information_schema._pg_expandarray","interval_end","interval_start","insertion_point","isOrdered","is_leap_year","isnull","json_extract","keywords","ksum","l2price","lag","last","last_not_null","last_value","lcase","lead","least","left","len","length","length_bytes","like","list","ln","log","long_sequence","lower","lpad","ltrim","make_geohash","materialized_views","matmul","max","maxUncommittedRows","md5","memory_metrics","micros","mid","millis","min","minute","mode","month","nanos","netmask","not","now","nsum","nullif","nvl","or","parquet_scan","permissions","pg_advisory_unlock_all","pg_attrdef","pg_attribute","pg_catalog.age","pg_catalog.current_database","pg_catalog.current_schema","pg_catalog.current_schemas","pg_catalog.pg_attrdef","pg_catalog.pg_attribute","pg_catalog.pg_class","pg_catalog.pg_database","pg_catalog.pg_description","pg_catalog.pg_get_expr","pg_catalog.pg_get_keywords","pg_catalog.pg_get_partkeydef","pg_catalog.pg_get_userbyid","pg_catalog.pg_index","pg_catalog.pg_inherits","pg_catalog.pg_is_in_recovery","pg_catalog.pg_locks","pg_catalog.pg_namespace","pg_catalog.pg_roles","pg_catalog.pg_shdescription","pg_catalog.pg_table_is_visible","pg_catalog.pg_type","pg_catalog.txid_current","pg_catalog.version","pg_class","pg_database","pg_description","pg_extension","pg_get_expr","pg_get_keywords","pg_get_partkeydef","pg_index","pg_inherits","pg_is_in_recovery","pg_locks","pg_namespace","pg_postmaster_start_time","pg_proc","pg_range","pg_roles","pg_type","pi","position","power","query_activity","quote_ident","radians","rank","read_parquet","reader_pool","regexp_replace","regr_intercept","regr_slope","reload_config","reload_tls","replace","right","rnd_bin","rnd_boolean","rnd_byte","rnd_char","rnd_date","rnd_decimal","rnd_double","rnd_double_array","rnd_float","rnd_geohash","rnd_int","rnd_interval","rnd_ipv4","rnd_log","rnd_long","rnd_long256","rnd_short","rnd_str","rnd_symbol","rnd_symbol_weighted","rnd_symbol_zipf","rnd_timestamp","rnd_uuid4","rnd_varchar","round","round_down","round_half_even","round_up","row_number","rpad","rtrim","second","server_conf","server_version","session_user","shift","sha1","sha256","show","simulate_crash","sign","sin","size_pretty","split_part","spread","spread_bps","sqrt","starts_with","stddev","stddev_pop","stddev_samp","string_agg","string_distinct_agg","strpos","substring","sum","switch","sysdate","systimestamp","table_columns","table_partitions","table_storage","table_writer_metrics","tables","tan","timestamp_ceil","timestamp_floor","timestamp_sequence","timestamp_shuffle","to_char","to_date","to_long128","to_long256","to_lowercase","to_pg_date","to_str","to_timestamp","to_timestamp_ns","to_timezone","to_uppercase","to_utc","to_uuid","today","tomorrow","touch","transpose","trim","txid_current","typeOf","ucase","upper","var_pop","var_samp","variance","version","views","wal_tables","wal_transactions","week_of_year","weighted_avg","weighted_stddev","weighted_stddev_freq","weighted_stddev_rel","within","within_box","within_radius","wmid","writer_pool","vwap","year","yesterday"]),cS}var uS={},Xj;function rhe(){return Xj||(Xj=1,Object.defineProperty(uS,"__esModule",{value:!0}),uS.default=["abort","account","accounts","add","alias","align","all","alter","and","any","as","asof","assume","attach","atomic","backup","base","batch","between","by","bypass","cache","calendar","capacity","cascade","case","cast","cancel","checkpoint","column","columns","compile","compression_codec","compression_level","convert","copy","create","cross","current","dedup","data_page_size","database","declare","deferred","detach","details","default","delay","delete","delimiter","disable","distinct","drop","else","enable","end","error","every","except","exclude","exclusive","exists","exit","explain","external","fill","first","for","format","foreign","following","from","full","grant","group","groups","header","http","if","ignore","in","include","index","inner","insert","intersect","into","isolation","join","key","keys","latest","left","length","level","limit","list","lock","lt","materialized","natural","no","nocache","not","nulls","o3MaxLag","observation","offset","on","only","option","or","order","others","outer","overridable","over","owned","param","parameters","parquet_version","partition","partitions","password","period","permissions","pivot","preceding","prevailing","primary","public","range","references","refresh","reindex","remove","rename","repair","replace","respect","resume","revoke","right","range","row_group_size","row","rows","sample","select","set","service","show","skip","snapshot","splice","squash","start","statistics_enabled","suspend","system","table","tables","then","time","to","tolerance","token","transient","transaction","truncate","ttl","txn","type","unbounded","union","unlock","unpivot","update","user","users","upsert","vacuum","values","verification","view","volume","wal","when","where","window","with","writer","zone"]),uS}var Yj;function ihe(){return Yj||(Yj=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=ehe();Object.defineProperty(e,"constants",{enumerable:!0,get:function(){return t.default}});var n=the();Object.defineProperty(e,"dataTypes",{enumerable:!0,get:function(){return n.default}});var r=nhe();Object.defineProperty(e,"functions",{enumerable:!0,get:function(){return r.default}});var i=rhe();Object.defineProperty(e,"keywords",{enumerable:!0,get:function(){return i.default}})})(qj)),qj}var Lu=ihe();class dS extends Error{constructor(t){super(t),this.name="WorkerCreationError"}}class jd extends Error{constructor(t,n){super(t),this.name="Search timeout error",n&&(n.length>0&&"startOffset"in n[0]?this.partialMatches=n:this.partialSearchMatches=n)}}class Js extends Error{constructor(t="Search was cancelled"){super(t),this.name="SearchCancelledError"}}function Qj(e){const t=e.split(`
`),n=[0];let r=0;for(let i=0;i<t.length-1;i++)r+=t[i].length+1,n.push(r);return{lines:t,lineStarts:n}}function fS(e,t){let n=0,r=t.length-1;for(;n<r;){const i=Math.floor((n+r+1)/2);t[i]<=e?n=i:r=i-1}return n+1}function hS(e,t,n){return e-n[t-1]+1}function pS(e){return e.replace(/[\\{}*+?|^$.[\]()]/g,"\\$&")}function Jj(e,t){const{caseSensitive:n=!1,wholeWord:r=!1,useRegex:i=!1}=t;let o=e;return i||(o=pS(o)),r&&(/\B/.test(o.charAt(0))||(o="\\b"+o),/\B/.test(o.charAt(o.length-1))||(o=o+"\\b")),new RegExp(o,n?"gm":"gim")}function Zj(e,t,n){const r=e.index,i=e.index+e[0].length,o=fS(r,n),a=fS(i-1,n),s=hS(r,o,n),l=hS(i-1,a,n)+1,c=t[o-1],u=s-1,d=o===a?l-1:c.length,f=Math.max(0,u-15),p=Math.min(c.length,d+15);let g="",h=u-f,y=d-f;return f>0&&(g+="...",h+=3,y+=3),g+=c.substring(f,p),p<c.length&&(g+="..."),{startOffset:r,endOffset:i,lineNumber:o,column:s,endLineNumber:a,endColumn:l,text:e[0],previewText:g,matchStartInPreview:h,matchEndInPreview:y}}function mS(e,t,n,r){const i=Jj(t,n),{lines:o,lineStarts:a}=Qj(e),s=[];let l;for(;(l=i.exec(e))!==null&&!(s.length>=r);)s.push(Zj(l,o,a)),l[0].length===0&&l.index===i.lastIndex&&(i.lastIndex=l.index+1);return s}function eL(e){const{text:t,query:n,options:r,limit:i}=e.data;try{const o=mS(t,n,r,i);self.postMessage({success:!0,matches:o})}catch(o){o instanceof Error?self.postMessage({success:!1,error:o.message}):self.postMessage({success:!1,error:`Unknown error occurred: ${o.toString()}`})}}let Ts=null;function ohe(e){if(typeof Worker>"u")throw new dS("Worker not available in browser");try{const t=`
      ${Qj.toString()}
      ${fS.toString()}
      ${hS.toString()}
      ${pS.toString()}
      ${Jj.toString()}
      ${Zj.toString()}
      ${mS.toString()}
      ${eL.toString()}
      
      self.onmessage = ${eL.name}
    `,n=new Blob([t],{type:"application/javascript"}),r=URL.createObjectURL(n);return{worker:new Worker(r),url:r,searchId:e}}catch(t){throw new dS("Worker creation failed: "+t.message)}}function tL(){Ts&&(Ts.worker.terminate(),URL.revokeObjectURL(Ts.url),Ts=null)}function ahe(e){return(!Ts||Ts.searchId!==e)&&(tL(),Ts=ohe(e)),Ts}async function she(e,t,n,r,i){const o=ahe(i),{worker:a}=o;return new Promise((s,l)=>{let c=null;const u=()=>{a.removeEventListener("message",f),a.removeEventListener("error",p)},d=()=>{c&&clearTimeout(c)};c=setTimeout(()=>{u(),l(new jd("Search took too long and was interrupted. Try using simpler search patterns.",[]))},1e4);const f=g=>{if(!Ts||Ts.searchId!==i){d(),u(),l(new Js("Result from outdated worker"));return}g.data.success?s(g.data.matches):l(new Error(g.data.error))},p=g=>{d(),u(),(Ts==null?void 0:Ts.searchId)!==i?l(new Js("Result from outdated worker")):l(new Error("Worker error: "+g.message))};a.addEventListener("message",f),a.addEventListener("error",p),a.postMessage({text:e,query:t,options:n,limit:r})})}async function nL(e,t,n,r,i){if(typeof Worker<"u")try{return await she(e,t,n,r,i)}catch(o){throw o instanceof dS&&console.warn("Worker not available, falling back to main search:",o),o}try{return mS(e,t,n,r)}catch(o){throw console.warn("Main search failed",o),o}}let rL,iL,oL,gS,aL,sL,Tm,yS,vS;rL=new RegExp(`(${Lu.functions.filter(e=>!Lu.keywords.includes(e)).map(pS).join("|")})(\\s*)(?=\\s*\\()`,"i"),iL={defaultToken:"",tokenPostfix:".sql",ignoreCase:!0,brackets:[{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"}],constants:Lu.constants,dataTypes:Lu.dataTypes,keywords:Lu.keywords,operators:Vj,builtinVariables:["@@DATEFIRST","@@DBTS","@@LANGID","@@LANGUAGE","@@LOCK_TIMEOUT","@@MAX_CONNECTIONS","@@MAX_PRECISION","@@NESTLEVEL","@@OPTIONS","@@REMSERVER","@@SERVERNAME","@@SERVICENAME","@@SPID","@@TEXTSIZE","@@VERSION","@@CURSOR_ROWS","@@FETCH_STATUS","@@DATEFIRST","@@PROCID","@@ERROR","@@IDENTITY","@@ROWCOUNT","@@TRANCOUNT","@@CONNECTIONS","@@CPU_BUSY","@@IDLE","@@IO_BUSY","@@PACKET_ERRORS","@@PACK_RECEIVED","@@PACK_SENT","@@TIMETICKS","@@TOTAL_ERRORS","@@TOTAL_READ","@@TOTAL_WRITE"],pseudoColumns:["$ACTION","$IDENTITY","$ROWGUID","$PARTITION"],tokenizer:{root:[{include:"@comments"},{include:"@whitespace"},{include:"@pseudoColumns"},{include:"@numbers"},{include:"@strings"},[rL,"predefined"],{include:"@complexIdentifiers"},{include:"@variable"},{include:"@scopes"},{include:"@array"},[/[;,.]/,"delimiter"],[/[()[\]]/,"@brackets"],[/[\w@#$]+/,{cases:{"@constants":"constant.language","@operators":"operator","@builtinVariables":"predefined","@keywords":"keyword","@dataTypes":"dataType","@default":"identifier"}}],[/[<>=!%&+\-*/|~^:]/,"operator"]],whitespace:[[/\s+/,"white"]],comments:[[/--+.*/,"comment"],[/\/\*/,{token:"comment.quote",next:"@comment"}]],comment:[[/[^*/]+/,"comment"],[/\*\//,{token:"comment.quote",next:"@pop"}],[/./,"comment"]],pseudoColumns:[[/[$][A-Za-z_][\w@#$]*/,{cases:{"@pseudoColumns":"predefined","@default":"identifier"}}]],numbers:[[/\b(\d+)([utsmhdwmy])\b/i,"number"],[/([+-]?\d+\.\d+[eE]?[+-]?\d+)/,"number"],[/0[xX][0-9a-fA-F]*/,"number"],[/[+-]?\d+((_)?\d+)*[Ll]?/,"number"]],strings:[[/N'/,{token:"string",next:"@string"}],[/'/,{token:"string",next:"@string"}]],string:[[/[^']+/,"string"],[/''/,"string"],[/'/,{token:"string",next:"@pop"}]],variable:[[/@[\w.$]+/,"variable"],[/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,"variable"]],complexIdentifiers:[[/"/,{token:"identifier.quote",next:"@quotedIdentifier"}]],quotedIdentifier:[[/[^"]+/,"identifier"],[/""/,"identifier"],[/"/,{token:"identifier.quote",next:"@pop"}]],scopes:[[/BEGIN\s+(DISTRIBUTED\s+)?TRAN(SACTION)?\b/i,"keyword"],[/BEGIN\s+TRY\b/i,{token:"keyword.try"}],[/END\s+TRY\b/i,{token:"keyword.try"}],[/BEGIN\s+CATCH\b/i,{token:"keyword.catch"}],[/END\s+CATCH\b/i,{token:"keyword.catch"}],[/(BEGIN|CASE)\b/i,{token:"keyword.block"}],[/END\b/i,{token:"keyword.block"}],[/WHEN\b/i,{token:"keyword.choice"}],[/THEN\b/i,{token:"keyword.choice"}]],array:[[/ARRAY\s*\[/,{token:"keyword",next:"@arrayArguments"}]],arrayArguments:[{include:"@comments"},{include:"@whitespace"},{include:"@numbers"},{include:"@strings"},[/\[/,{token:"delimiter.square",next:"@arrayArguments"}],[/\]/,{token:"delimiter.square",next:"@pop"}],[/,/,"delimiter"]]}},nh=e=>new Promise((t,n)=>{if(navigator.clipboard&&window.isSecureContext)setTimeout(()=>{navigator.clipboard.writeText(e).then(t).catch(n)});else{const r=document.createElement("textarea");r.value=e,r.style.position="absolute",r.style.left="-999999px",document.body.prepend(r),r.select();try{document.execCommand("copy")?t():n(new Error("Copy command failed"))}catch(i){n(i)}finally{r.remove()}}}),oL=e=>e.status===408||e.status>=500,gS=6048e5,aL=864e5,sL=6e4,Tm=43200,yS=1440,vS=Symbol.for("constructDateFrom");function tc(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&vS in e?e[vS](t):e instanceof Date?new e.constructor(t):new Date(t)}function Lo(e,t){return tc(t||e,e)}function lhe(e,t,n){const r=Lo(e,n==null?void 0:n.in);if(isNaN(t))return tc(e,NaN);const i=r.getDate(),o=tc(e,r.getTime());o.setMonth(r.getMonth()+t+1,0);const a=o.getDate();return i>=a?o:(r.setFullYear(o.getFullYear(),o.getMonth(),i),r)}let che={};function Am(){return che}function Ld(e,t){var s,l,c,u;const n=Am(),r=(t==null?void 0:t.weekStartsOn)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=Lo(e,t==null?void 0:t.in),o=i.getDay(),a=(o<r?7:0)+o-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function xy(e,t){return Ld(e,{...t,weekStartsOn:1})}function lL(e,t){const n=Lo(e,t==null?void 0:t.in),r=n.getFullYear(),i=tc(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=xy(i),a=tc(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const s=xy(a);return n.getTime()>=o.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function _y(e){const t=Lo(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Im(e,...t){const n=tc.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function cL(e,t){const n=Lo(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function uhe(e,t,n){const[r,i]=Im(n==null?void 0:n.in,e,t),o=cL(r),a=cL(i),s=+o-_y(o),l=+a-_y(a);return Math.round((s-l)/aL)}function dhe(e,t){const n=lL(e,t),r=tc(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),xy(r)}function fhe(e,t,n){const r=Lo(e,n==null?void 0:n.in);return r.setTime(r.getTime()+t*sL),r}function Ey(e,t){const n=+Lo(e)-+Lo(t);return n<0?-1:n>0?1:n}function hhe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function phe(e){return!(!hhe(e)&&typeof e!="number"||isNaN(+Lo(e)))}function mhe(e,t,n){const[r,i]=Im(n==null?void 0:n.in,e,t),o=r.getFullYear()-i.getFullYear(),a=r.getMonth()-i.getMonth();return o*12+a}function ghe(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function yhe(e,t){return+Lo(e)-+Lo(t)}function vhe(e,t){const n=Lo(e,t==null?void 0:t.in);return n.setHours(23,59,59,999),n}function bhe(e,t){const n=Lo(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function whe(e,t){const n=Lo(e,t==null?void 0:t.in);return+vhe(n,t)==+bhe(n,t)}function xhe(e,t,n){const[r,i,o]=Im(n==null?void 0:n.in,e,e,t),a=Ey(i,o),s=Math.abs(mhe(i,o));if(s<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-a*s);let l=Ey(i,o)===-a;whe(r)&&s===1&&Ey(r,o)===1&&(l=!1);const c=a*(s-+l);return c===0?0:c}function _he(e,t,n){const r=yhe(e,t)/1e3;return ghe(n==null?void 0:n.roundingMethod)(r)}function Ehe(e,t){const n=Lo(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const She={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},uL=(e,t,n)=>{let r;const i=She[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function fo(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Che={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},The={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ahe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ihe={date:fo({formats:Che,defaultWidth:"full"}),time:fo({formats:The,defaultWidth:"full"}),dateTime:fo({formats:Ahe,defaultWidth:"full"})},Ohe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dL=(e,t,n,r)=>Ohe[e];function Qr(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):a;i=e.formattingValues[s]||e.formattingValues[a]}else{const a=e.defaultWidth,s=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[s]||e.values[a]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const khe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Nhe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Rhe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jhe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Lhe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Mhe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Phe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},fL={ordinalNumber:Phe,era:Qr({values:khe,defaultWidth:"wide"}),quarter:Qr({values:Nhe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Qr({values:Rhe,defaultWidth:"wide"}),day:Qr({values:jhe,defaultWidth:"wide"}),dayPeriod:Qr({values:Lhe,defaultWidth:"wide",formattingValues:Mhe,defaultFormattingWidth:"wide"})};function Jr(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const a=o[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?Fhe(s,d=>d.test(a)):Dhe(s,d=>d.test(a));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=t.slice(a.length);return{value:c,rest:u}}}function Dhe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Fhe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Md(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let a=e.valueCallback?e.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const s=t.slice(i.length);return{value:a,rest:s}}}const Uhe=/^(\d+)(th|st|nd|rd)?/i,zhe=/\d+/i,Bhe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$he={any:[/^b/i,/^(a|c)/i]},Hhe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Vhe={any:[/1/i,/2/i,/3/i,/4/i]},qhe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Whe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ghe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Khe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Xhe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Yhe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hL={ordinalNumber:Md({matchPattern:Uhe,parsePattern:zhe,valueCallback:e=>parseInt(e,10)}),era:Jr({matchPatterns:Bhe,defaultMatchWidth:"wide",parsePatterns:$he,defaultParseWidth:"any"}),quarter:Jr({matchPatterns:Hhe,defaultMatchWidth:"wide",parsePatterns:Vhe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Jr({matchPatterns:qhe,defaultMatchWidth:"wide",parsePatterns:Whe,defaultParseWidth:"any"}),day:Jr({matchPatterns:Ghe,defaultMatchWidth:"wide",parsePatterns:Khe,defaultParseWidth:"any"}),dayPeriod:Jr({matchPatterns:Xhe,defaultMatchWidth:"any",parsePatterns:Yhe,defaultParseWidth:"any"})},Sy={code:"en-US",formatDistance:uL,formatLong:Ihe,formatRelative:dL,localize:fL,match:hL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Qhe(e,t){const n=Lo(e,t==null?void 0:t.in);return uhe(n,Ehe(n))+1}function Jhe(e,t){const n=Lo(e,t==null?void 0:t.in),r=+xy(n)-+dhe(n);return Math.round(r/gS)+1}function pL(e,t){var u,d,f,p;const n=Lo(e,t==null?void 0:t.in),r=n.getFullYear(),i=Am(),o=(t==null?void 0:t.firstWeekContainsDate)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=tc((t==null?void 0:t.in)||e,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const s=Ld(a,t),l=tc((t==null?void 0:t.in)||e,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const c=Ld(l,t);return+n>=+s?r+1:+n>=+c?r:r-1}function Zhe(e,t){var a,s,l,c;const n=Am(),r=(t==null?void 0:t.firstWeekContainsDate)??((s=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:s.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(l=n.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??1,i=pL(e,t),o=tc((t==null?void 0:t.in)||e,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Ld(o,t)}function epe(e,t){const n=Lo(e,t==null?void 0:t.in),r=+Ld(n,t)-+Zhe(n,t);return Math.round(r/gS)+1}function zr(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Mu={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return zr(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):zr(n+1,2)},d(e,t){return zr(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return zr(e.getHours()%12||12,t.length)},H(e,t){return zr(e.getHours(),t.length)},m(e,t){return zr(e.getMinutes(),t.length)},s(e,t){return zr(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return zr(i,t.length)}},uh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},mL={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Mu.y(e,t)},Y:function(e,t,n,r){const i=pL(e,r),o=i>0?i:1-i;if(t==="YY"){const a=o%100;return zr(a,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):zr(o,t.length)},R:function(e,t){const n=lL(e);return zr(n,t.length)},u:function(e,t){const n=e.getFullYear();return zr(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return zr(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return zr(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Mu.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return zr(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=epe(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):zr(i,t.length)},I:function(e,t,n){const r=Jhe(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):zr(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Mu.d(e,t)},D:function(e,t,n){const r=Qhe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):zr(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return zr(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return zr(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return zr(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=uh.noon:r===0?i=uh.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=uh.evening:r>=12?i=uh.afternoon:r>=4?i=uh.morning:i=uh.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Mu.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Mu.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):zr(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):zr(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Mu.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Mu.s(e,t)},S:function(e,t){return Mu.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return yL(r);case"XXXX":case"XX":return Pd(r);case"XXXXX":case"XXX":default:return Pd(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return yL(r);case"xxxx":case"xx":return Pd(r);case"xxxxx":case"xxx":default:return Pd(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+gL(r,":");case"OOOO":default:return"GMT"+Pd(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+gL(r,":");case"zzzz":default:return"GMT"+Pd(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return zr(r,t.length)},T:function(e,t,n){return zr(+e,t.length)}};function gL(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+t+zr(o,2)}function yL(e,t){return e%60===0?(e>0?"-":"+")+zr(Math.abs(e)/60,2):Pd(e,t)}function Pd(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=zr(Math.trunc(r/60),2),o=zr(r%60,2);return n+i+t+o}const vL=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},bL=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},tpe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return vL(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",vL(r,t)).replace("{{time}}",bL(i,t))},npe={p:bL,P:tpe},rpe=/^D+$/,ipe=/^Y+$/,ope=["D","DD","YY","YYYY"];function ape(e){return rpe.test(e)}function spe(e){return ipe.test(e)}function lpe(e,t,n){const r=cpe(e,t,n);if(console.warn(r),ope.includes(e))throw new RangeError(r)}function cpe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const upe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dpe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fpe=/^'([^]*?)'?$/,hpe=/''/g,ppe=/[a-zA-Z]/;function Om(e,t,n){var u,d,f,p,g,h,y,b;const r=Am(),i=(n==null?void 0:n.locale)??r.locale??Sy,o=(n==null?void 0:n.firstWeekContainsDate)??((d=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((h=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:h.weekStartsOn)??r.weekStartsOn??((b=(y=r.locale)==null?void 0:y.options)==null?void 0:b.weekStartsOn)??0,s=Lo(e,n==null?void 0:n.in);if(!phe(s))throw new RangeError("Invalid time value");let l=t.match(dpe).map(w=>{const S=w[0];if(S==="p"||S==="P"){const E=npe[S];return E(w,i.formatLong)}return w}).join("").match(upe).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const S=w[0];if(S==="'")return{isToken:!1,value:mpe(w)};if(mL[S])return{isToken:!0,value:w};if(S.match(ppe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const c={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return l.map(w=>{if(!w.isToken)return w.value;const S=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&spe(S)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&ape(S))&&lpe(S,t,String(e));const E=mL[S[0]];return E(s,S,i.localize,c)}).join("")}function mpe(e){const t=e.match(fpe);return t?t[1].replace(hpe,"'"):e}hN=function(e,t,n){const r=Am(),i=(n==null?void 0:n.locale)??r.locale??Sy,o=2520,a=Ey(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const s=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:a}),[l,c]=Im(n==null?void 0:n.in,...a>0?[t,e]:[e,t]),u=_he(c,l),d=(_y(c)-_y(l))/1e3,f=Math.round((u-d)/60);let p;if(f<2)return n!=null&&n.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,s):u<10?i.formatDistance("lessThanXSeconds",10,s):u<20?i.formatDistance("lessThanXSeconds",20,s):u<40?i.formatDistance("halfAMinute",0,s):u<60?i.formatDistance("lessThanXMinutes",1,s):i.formatDistance("xMinutes",1,s):f===0?i.formatDistance("lessThanXMinutes",1,s):i.formatDistance("xMinutes",f,s);if(f<45)return i.formatDistance("xMinutes",f,s);if(f<90)return i.formatDistance("aboutXHours",1,s);if(f<yS){const g=Math.round(f/60);return i.formatDistance("aboutXHours",g,s)}else{if(f<o)return i.formatDistance("xDays",1,s);if(f<Tm){const g=Math.round(f/yS);return i.formatDistance("xDays",g,s)}else if(f<Tm*2)return p=Math.round(f/Tm),i.formatDistance("aboutXMonths",p,s)}if(p=xhe(c,l),p<12){const g=Math.round(f/Tm);return i.formatDistance("xMonths",g,s)}else{const g=p%12,h=Math.trunc(p/12);return g<3?i.formatDistance("aboutXYears",h,s):g<9?i.formatDistance("overXYears",h,s):i.formatDistance("almostXYears",h+1,s)}};function Dd(e,t){const n=Lo(e,t==null?void 0:t.in);if(isNaN(+n))throw new RangeError("Invalid time value");let r="",i="";const o="-",a=":";{const s=zr(n.getDate(),2),l=zr(n.getMonth()+1,2);r=`${zr(n.getFullYear(),4)}${o}${l}${o}${s}`}{const s=n.getTimezoneOffset();if(s!==0){const p=Math.abs(s),g=zr(Math.trunc(p/60),2),h=zr(p%60,2);i=`${s<0?"+":"-"}${g}:${h}`}else i="Z";const l=zr(n.getHours(),2),c=zr(n.getMinutes(),2),u=zr(n.getSeconds(),2),d=r===""?"":"T",f=[l,c,u].join(a);r=`${r}${d}${f}${i}`}return r}function gpe(e,t,n){const[r,i]=Im(n==null?void 0:n.in,e,t);return+Ld(r,n)==+Ld(i,n)}function ype(e,t,n){return lhe(e,-12,n)}function vpe(e,t,n){return fhe(e,-t,n)}function bpe(e,t,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}const bS={},km={};function Fd(e,t){try{const n=(bS[e]||(bS[e]=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format))(t).split("GMT")[1];return n in km?km[n]:wL(n,n.split(":"))}catch{if(e in km)return km[e];const n=e==null?void 0:e.match(wpe);return n?wL(e,n.slice(1)):NaN}}const wpe=/([+-]\d\d):?(\d\d)?/;function wL(e,t){const n=+(t[0]||0),r=+(t[1]||0),i=+(t[2]||0)/60;return km[e]=n*60+r>0?n*60+r+i:n*60-r-i}class nc extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(Fd(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),_L(this),wS(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new nc(...n,t):new nc(Date.now(),t)}withTimeZone(t){return new nc(+this,t)}getTimezoneOffset(){const t=-Fd(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),wS(this),+this}[Symbol.for("constructDateFrom")](t){return new nc(+new Date(t),this.timeZone)}}const xL=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!xL.test(e))return;const t=e.replace(xL,"$1UTC");nc.prototype[t]&&(e.startsWith("get")?nc.prototype[e]=function(){return this.internal[t]()}:(nc.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),xpe(this),+this},nc.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),wS(this),+this}))});function wS(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-Fd(e.timeZone,e)*60))}function xpe(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),_L(e)}function _L(e){const t=Fd(e.timeZone,e),n=t>0?Math.floor(t):Math.ceil(t),r=new Date(+e);r.setUTCHours(r.getUTCHours()-1);const i=-new Date(+e).getTimezoneOffset(),o=-new Date(+r).getTimezoneOffset(),a=i-o,s=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();a&&s&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+a);const l=i-n;l&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+l);const c=new Date(+e);c.setUTCSeconds(0);const u=i>0?c.getSeconds():(c.getSeconds()-60)%60,d=Math.round(-(Fd(e.timeZone,e)*60))%60;(d||u)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+d),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+d+u));const f=Fd(e.timeZone,e),p=f>0?Math.floor(f):Math.ceil(f),g=-new Date(+e).getTimezoneOffset()-p,h=p!==n,y=g-l;if(h&&y){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+y);const b=Fd(e.timeZone,e),w=b>0?Math.floor(b):Math.ceil(b),S=p-w;S&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+S),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+S))}}class Ud extends nc{static tz(t,...n){return n.length?new Ud(...n,t):new Ud(Date.now(),t)}toISOString(){const[t,n,r]=this.tzComponents(),i=`${t}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+i}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,r,i]=this.internal.toUTCString().split(" ");return`${t==null?void 0:t.slice(0,-1)} ${r} ${n} ${i}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,r,i]=this.tzComponents();return`${t} GMT${n}${r}${i} (${bpe(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",r=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),i=String(Math.abs(t)%60).padStart(2,"0");return[n,r,i]}withTimeZone(t){return new Ud(+this,t)}[Symbol.for("constructDateFrom")](t){return new Ud(+new Date(t),this.timeZone)}}const _pe=e=>!isNaN(Date.parse(e)),xS=()=>Intl.DateTimeFormat().resolvedOptions().timeZone,Epe=()=>{const e=new Date().getTimezoneOffset(),t=Math.floor(Math.abs(e)/60),n=Math.abs(e)%60;return`GMT${e>0?"-":"+"}${String(t).padStart(2,"0")}:${String(n).padStart(2,"0")}`},_S=(e,t)=>t?Om(new Ud(e,xS()),t):new Ud(e,xS()).toISOString();var Zs=(e=>(e.MAIN="telemetry",e.CONFIG="telemetry_config",e.WAL="sys.telemetry_wal",e))(Zs||{});const Spe="fara",ES=`https://${Spe}.questdb.io`,SS="2",rc="26px";function Cpe(e,t){return new n7e(function(n){var r=new AbortController,i=r.signal,o=!0,a=!1,s=new r7e;s.add(function(){a=!0,o&&r.abort()});var l;if(t){if(t.signal)if(t.signal.aborted)r.abort();else{var c=t.signal,u=function(){i.aborted||r.abort()};c.addEventListener("abort",u),s.add(function(){return c.removeEventListener("abort",u)})}l=i7e({},t,{signal:i})}else l={signal:i};return fetch(e,l).then(function(d){o=!1,n.next(d),n.complete()}).catch(function(d){o=!1,a||n.error(d)}),s})}const EL=(e,t={},n=!0)=>{const r=e[0]==="/"?"":"/",i=n?`${window.location.origin}${r}${e}`:e;return Cpe(i,t).pipe(cm(o=>{var a;return o.ok?(a=o.headers.get("content-type"))!=null&&a.startsWith("application/json")?o.json():Promise.resolve({}):Jf({error:!0,message:o.statusText})}),hue(o=>(console.error(o),Jf({error:!0,message:o.message}))),Zf(o=>o.error?o:{data:o,error:!1}))};let zd,Il,CS,SL;Xn=(e=>(e.DDL="ddl",e.DML="dml",e.DQL="dql",e.ERROR="error",e.NOTICE="notice",e))(Xn||{}),zd=(e=>(e.DISK_FULL="DISK FULL",e.TOO_MANY_OPEN_FILES="TOO MANY OPEN FILES",e.OUT_OF_MMAP_AREAS="OUT OF MMAP AREAS",e.OUT_OF_MEMORY="OUT OF MEMORY",e.UNSUPPORTED_FILE_SYSTEM="UNSUPPORTED FILE SYSTEM",e))(zd||{}),Il=(e=>(e.EXISTS="Exists",e.DOES_NOT_EXIST="Does not exist",e.RESERVED_NAME="Reserved name",e))(Il||{}),CS={exports:{}};function Tpe(){return SL||(SL=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,d||l,f),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],c,u;if(this._eventsCount===0)return l;for(u in c=this._events)t.call(c,u)&&l.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},s.prototype.listeners=function(l){var c=n?n+l:l,u=this._events[c];if(!u)return[];if(u.fn)return[u.fn];for(var d=0,f=u.length,p=new Array(f);d<f;d++)p[d]=u[d].fn;return p},s.prototype.listenerCount=function(l){var c=n?n+l:l,u=this._events[c];return u?u.fn?1:u.length:0},s.prototype.emit=function(l,c,u,d,f,p){var g=n?n+l:l;if(!this._events[g])return!1;var h=this._events[g],y=arguments.length,b,w;if(h.fn){switch(h.once&&this.removeListener(l,h.fn,void 0,!0),y){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,c),!0;case 3:return h.fn.call(h.context,c,u),!0;case 4:return h.fn.call(h.context,c,u,d),!0;case 5:return h.fn.call(h.context,c,u,d,f),!0;case 6:return h.fn.call(h.context,c,u,d,f,p),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];h.fn.apply(h.context,b)}else{var S=h.length,E;for(w=0;w<S;w++)switch(h[w].once&&this.removeListener(l,h[w].fn,void 0,!0),y){case 1:h[w].fn.call(h[w].context);break;case 2:h[w].fn.call(h[w].context,c);break;case 3:h[w].fn.call(h[w].context,c,u);break;case 4:h[w].fn.call(h[w].context,c,u,d);break;default:if(!b)for(E=1,b=new Array(y-1);E<y;E++)b[E-1]=arguments[E];h[w].fn.apply(h[w].context,b)}}return!0},s.prototype.on=function(l,c,u){return o(this,l,c,u,!1)},s.prototype.once=function(l,c,u){return o(this,l,c,u,!0)},s.prototype.removeListener=function(l,c,u,d){var f=n?n+l:l;if(!this._events[f])return this;if(!c)return a(this,f),this;var p=this._events[f];if(p.fn)p.fn===c&&(!d||p.once)&&(!u||p.context===u)&&a(this,f);else{for(var g=0,h=[],y=p.length;g<y;g++)(p[g].fn!==c||d&&!p[g].once||u&&p[g].context!==u)&&h.push(p[g]);h.length?this._events[f]=h.length===1?h[0]:h:a(this,f)}return this},s.prototype.removeAllListeners=function(l){var c;return l?(c=n?n+l:l,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(CS)),CS.exports}var Ape=Tpe();const Ipe=Ga(Ape);class Ope{constructor(){this.emitter=new Ipe}publish(t,n){this.emitter.emit(t,n)}subscribe(t,n){this.emitter.on(t,n)}unsubscribe(t,n){this.emitter.off(t,n)}}Bn=new Ope,zn=(e=>(e.MSG_ACTIVE_SIDEBAR="active.panel",e.MSG_EDITOR_FOCUS="editor.focus",e.MSG_EDITOR_INSERT_COLUMN="editor.insert.column",e.GRID_FOCUS="grid.focus",e.MSG_CHART_DRAW="chart.draw",e.MSG_QUERY_CANCEL="query.in.cancel",e.MSG_QUERY_DATASET="query.out.dataset",e.MSG_QUERY_ERROR="query.out.error",e.MSG_QUERY_EXEC="query.in.exec",e.MSG_QUERY_FIND_N_EXEC="query.build.execute",e.MSG_QUERY_OK="query.out.ok",e.MSG_QUERY_RUNNING="query.out.running",e.MSG_QUERY_SCHEMA="query.out.schema",e.MSG_CONNECTION_OK="query.connection.ok",e.MSG_CONNECTION_ERROR="query.connection.error",e.MSG_CONNECTION_UNAUTHORIZED="query.connection.unauthorized",e.MSG_CONNECTION_FORBIDDEN="query.connection.forbidden",e.REACT_READY="react.ready",e.TAB_FOCUS="tab.focus",e.TAB_BLUR="tab.blur",e.METRICS_REFRESH_DATA="metrics.refresh.data",e.BUFFERS_UPDATED="buffers.updated",e.EXPLAIN_QUERY_EXEC="ai.explain.query.exec",e.AI_QUERY_HIGHLIGHT="ai.query.highlight",e))(zn||{});class kpe{constructor(){this.authPayload=null}setAuthPayload(t){this.authPayload=t}getAuthPayload(){return this.authPayload}isSSOAuthenticated(){return!!this.authPayload}clearAuthPayload(){this.authPayload=null}}const dh=new kpe,ia=class ia{constructor(){this._controllers=[],this.commonHeaders={},this.refreshTokenMethod=async()=>Promise.resolve({}),this.refreshAuthToken=async()=>{ia.refreshTokenPending=!0,await new Promise(t=>{const n=setInterval(async()=>{if(ia.numOfPendingQueries===0){clearInterval(n);const r=await this.refreshTokenMethod();return r.access_token&&this.setCommonHeaders({...this.commonHeaders,Authorization:`Bearer ${r.groups_encoded_in_token?r.id_token:r.access_token}`}),ia.refreshTokenPending=!1,t(!0)}},50)})},this.abort=()=>{this._controllers.forEach(t=>{t.abort()}),this._controllers=[]}}tokenNeedsRefresh(){const t=dh.getAuthPayload();return t&&t.refresh_token&&new Date(t.expires_at).getTime()-new Date().getTime()<3e4}setCommonHeaders(t){this.commonHeaders=t}async query(t,n){const r=await this.queryRaw(t,n);return ia.transformQueryRawResult(r)}removeController(t){const n=this._controllers.indexOf(t);n>=0&&this._controllers.splice(n,1)}async queryRaw(t,n){const r=new AbortController,i={count:!0,src:"con",query:t,timings:!0,version:SS,...n};this._controllers.push(r);let o;this.tokenNeedsRefresh()&&!ia.refreshTokenPending&&await this.refreshAuthToken(),ia.refreshTokenPending&&await new Promise(s=>{const l=setInterval(()=>{if(!ia.refreshTokenPending)return clearInterval(l),s(!0)},50)}),ia.numOfPendingQueries++;const a=new Date;try{o=await fetch(`exec?${ia.encodeParams(i)}`,{signal:r.signal,headers:this.commonHeaders})}catch(s){this.removeController(r),ia.numOfPendingQueries--;const l={position:-1,query:t,type:Xn.ERROR},c={...l,error:"An error occured, please try again"};return s instanceof DOMException?Promise.reject({...l,error:s.code===20?"Cancelled by user":JSON.stringify(s).toString()}):(Bn.publish(zn.MSG_CONNECTION_ERROR,c),Promise.reject(c))}try{if(o.ok||o.status===400||o.ok&&o.status===403){let l;try{l=await o.text()}catch(d){return d instanceof DOMException&&d.name==="AbortError"?Promise.reject({position:-1,query:t,type:Xn.ERROR,error:"Cancelled by user"}):Promise.reject({error:`Failed to read response: ${d}`,type:Xn.ERROR})}const c=(new Date().getTime()-a.getTime())*1e6;let u;try{u=JSON.parse(l)}catch(d){return Promise.reject({error:`Invalid JSON response from the server: ${d}`,type:Xn.ERROR})}return Bn.publish(zn.MSG_CONNECTION_OK),o.status===403&&Bn.publish(zn.MSG_CONNECTION_FORBIDDEN,u),u.ddl?{query:t,type:Xn.DDL}:u.dml?{query:t,type:Xn.DML}:u.error?Promise.reject({...u,type:Xn.ERROR}):u.notice?{...u,type:Xn.NOTICE}:{...u,timings:{...u.timings,fetch:c},type:Xn.DQL}}const s={status:o.status,error:o.statusText};if(oL(o)&&(s.error=`QuestDB is not reachable [${o.status}]`,s.position=-1,s.query=t,s.type=Xn.ERROR,Bn.publish(zn.MSG_CONNECTION_ERROR,s)),o.status===401&&(s.error="Unauthorized",Bn.publish(zn.MSG_CONNECTION_UNAUTHORIZED,s)),o.status===403){let l;try{l=(await o.text()).trim()}catch(c){if(c instanceof DOMException&&c.name==="AbortError")return Promise.reject({position:-1,query:t,type:Xn.ERROR,error:"Cancelled by user"});throw c}if(l.startsWith("{")){const c=JSON.parse(l);s.error=c.error}else s.error=l;Bn.publish(zn.MSG_CONNECTION_FORBIDDEN,s)}return Promise.reject(s)}finally{this.removeController(r),ia.numOfPendingQueries--}}async validateQuery(t){const n=await fetch(`api/v1/sql/validate?${ia.encodeParams({query:t})}`,{headers:this.commonHeaders});return n.ok?await n.json():n.status===400||n.status===403?await n.json():Promise.reject({status:n.status,statusText:n.statusText})}async showTables(){const t=await this.query("tables();");return t.type===Xn.DQL?{...t,data:t.data.slice().sort((n,r)=>{const i=n.table_name,o=r.table_name;return i>o?1:i<o?-1:0})}:t}async showPermissions(t){return await this.query(`SHOW PERMISSIONS '${t}';`)}async showColumns(t){return await this.query(`SHOW COLUMNS FROM '${t}';`)}async showSymbolColumnDetails(t,n){return await this.query(`WITH cols as (SHOW COLUMNS FROM '${t}') SELECT symbolCached, symbolCapacity, indexed FROM cols WHERE column = '${n}';`)}async getTableDetails(t){return await this.query(`tables() where table_name = '${t}';`)}async showMatViewDDL(t){return await this.query(`SHOW CREATE MATERIALIZED VIEW '${t}';`)}async showViewDDL(t){return await this.query(`SHOW CREATE VIEW '${t}';`)}async showViews(){return await this.query("views();")}async showTableDDL(t){return await this.query(`SHOW CREATE TABLE '${t}';`)}async checkCSVFile(t){return await(await fetch(`chk?${ia.encodeParams({f:"json",j:t,version:SS})}`,{headers:this.commonHeaders})).json()}async uploadCSVFile({file:t,name:n,owner:r,settings:i,schema:o,partitionBy:a,timestamp:s,onProgress:l}){const c=new FormData;o&&c.append("schema",JSON.stringify(o)),c.append("data",t);const u=i?Object.keys(i).reduce((f,p)=>({...f,[p]:i[p].toString()}),{}):{},d={fmt:"json",name:n,owner:r,...a?{partitionBy:a}:{},...s?{timestamp:s}:{},...u};return new Promise((f,p)=>{const g=new XMLHttpRequest;g.open("POST",`imp?${new URLSearchParams(d)}`),Object.keys(this.commonHeaders).forEach(h=>{g.setRequestHeader(h,this.commonHeaders[h])}),g.upload.addEventListener("progress",h=>{const y=h.loaded/h.total*100;l(y)}),g.onload=h=>{g.status===200?f(JSON.parse(g.response)):p({status:g.status,statusText:g.statusText})},g.onerror=()=>{p({status:g.status,statusText:g.statusText})},g.send(c)})}async savePreferences(t){const{version:n,...r}=t,i=await fetch(`settings?version=${n}`,{method:"PUT",headers:this.commonHeaders,body:JSON.stringify(r)});if(!i.ok){let o;try{o=await Npe(i)}catch{o=i.statusText}return{status:i.status,message:o,success:!1}}return{status:i.status,success:!0}}async getLatestRelease(){try{return await(await fetch("https://github-api.questdb.io/github/latest")).json()}catch(t){return Promise.reject(t)}}async sendFeedback({email:t,message:n,telemetryConfig:r}){return await(await fetch("https://cloud.questdb.com/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,message:n,telemetryConfig:r,category:"web-console"})})).json()}async getNews({category:t,telemetryConfig:n}){try{return await(await fetch(`https://cloud.questdb.com/api/news?category=${t}&telemetryUserId=${n==null?void 0:n.id}`)).json()}catch(r){return Promise.reject(r)}}};ia.refreshTokenPending=!1,ia.numOfPendingQueries=0,ia.encodeParams=t=>Object.keys(t).filter(n=>typeof t[n]<"u").map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(t[n])}`).join("&"),ia.transformQueryRawResult=t=>{if(t.type===Xn.DQL){const{columns:n,count:r,dataset:i,timings:o}=t,a=i.map(s=>s.reduce((l,c,u)=>({...l,[n[u].name]:c}),{}));return{columns:n,count:r,data:a,timings:o,type:Xn.DQL,...t.explain?{explain:t.explain}:{}}}return t};let Nm=ia;async function Npe(e){var t;if((t=e.headers.get("Content-Type"))!=null&&t.includes("application/json")){const{error:n}=await e.json();return n}else return e.text()}let TS;TS=(e,t,n="...")=>{if(e.length<=t)return e;const r=Math.floor(e.length/2),i=e.length-t+n.length;return e.slice(0,r-Math.floor(i/2))+n+e.slice(r+Math.ceil(i/2))},vt=e=>t=>t?t.theme.color[e]:void 0;var Bd={},AS={exports:{}},IS={exports:{}},OS={exports:{}},CL;function fh(){return CL||(CL=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={WORD:"word",STRING:"string",RESERVED:"reserved",RESERVED_TOP_LEVEL:"reserved-top-level",RESERVED_TOP_LEVEL_NO_INDENT:"reserved-top-level-no-indent",RESERVED_NEWLINE:"reserved-newline",OPERATOR:"operator",OPEN_PAREN:"open-paren",CLOSE_PAREN:"close-paren",LINE_COMMENT:"line-comment",BLOCK_COMMENT:"block-comment",NUMBER:"number",PLACEHOLDER:"placeholder"};t.default=n,e.exports=t.default})(OS,OS.exports)),OS.exports}var kS={exports:{}},As={},TL;function Cy(){if(TL)return As;TL=1,Object.defineProperty(As,"__esModule",{value:!0}),As.sortByLengthDesc=As.escapeRegExp=As.isEmpty=As.last=As.trimSpacesEnd=void 0;var e=function(o){return o.replace(/[\t ]+$/,"")};As.trimSpacesEnd=e;var t=function(o){return o[o.length-1]};As.last=t;var n=function(o){return!Array.isArray(o)||o.length===0};As.isEmpty=n;var r=function(o){return o.replace(/[\$\(-\+\.\?\[-\^\{-\}]/g,"\\$&")};As.escapeRegExp=r;var i=function(o){return o.sort(function(a,s){return s.length-a.length||a.localeCompare(s)})};return As.sortByLengthDesc=i,As}var AL;function Rpe(){return AL||(AL=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=Cy();function r(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}function i(c,u){for(var d=0;d<u.length;d++){var f=u[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}function o(c,u,d){return u&&i(c.prototype,u),c}var a="top-level",s="block-level",l=(function(){function c(u){r(this,c),this.indent=u||"  ",this.indentTypes=[]}return o(c,[{key:"getIndent",value:function(){return this.indent.repeat(this.indentTypes.length)}},{key:"increaseTopLevel",value:function(){this.indentTypes.push(a)}},{key:"increaseBlockLevel",value:function(){this.indentTypes.push(s)}},{key:"decreaseTopLevel",value:function(){this.indentTypes.length>0&&(0,n.last)(this.indentTypes)===a&&this.indentTypes.pop()}},{key:"decreaseBlockLevel",value:function(){for(;this.indentTypes.length>0;){var u=this.indentTypes.pop();if(u!==a)break}}},{key:"resetIndentation",value:function(){this.indentTypes=[]}}]),c})();t.default=l,e.exports=t.default})(kS,kS.exports)),kS.exports}var NS={exports:{}},IL;function jpe(){return IL||(IL=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(fh());function r(c){return c&&c.__esModule?c:{default:c}}function i(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}function o(c,u){for(var d=0;d<u.length;d++){var f=u[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}function a(c,u,d){return u&&o(c.prototype,u),c}var s=50,l=(function(){function c(){i(this,c),this.level=0}return a(c,[{key:"beginIfPossible",value:function(u,d){this.level===0&&this.isInlineBlock(u,d)?this.level=1:this.level>0?this.level++:this.level=0}},{key:"end",value:function(){this.level--}},{key:"isActive",value:function(){return this.level>0}},{key:"isInlineBlock",value:function(u,d){for(var f=0,p=0,g=d;g<u.length;g++){var h=u[g];if(f+=h.value.length,f>s)return!1;if(h.type===n.default.OPEN_PAREN)p++;else if(h.type===n.default.CLOSE_PAREN&&(p--,p===0))return!0;if(this.isForbiddenToken(h))return!1}return!1}},{key:"isForbiddenToken",value:function(u){var d=u.type,f=u.value;return d===n.default.RESERVED_TOP_LEVEL||d===n.default.RESERVED_NEWLINE||d===n.default.COMMENT||d===n.default.BLOCK_COMMENT||f===";"}}]),c})();t.default=l,e.exports=t.default})(NS,NS.exports)),NS.exports}var RS={exports:{}},OL;function Lpe(){return OL||(OL=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function n(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}function r(a,s){for(var l=0;l<s.length;l++){var c=s[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}function i(a,s,l){return s&&r(a.prototype,s),a}var o=(function(){function a(s){n(this,a),this.params=s,this.index=0}return i(a,[{key:"get",value:function(s){var l=s.key,c=s.value;return this.params?l?this.params[l]:this.params[this.index++]:c}}]),a})();t.default=o,e.exports=t.default})(RS,RS.exports)),RS.exports}var ya={},kL;function jS(){if(kL)return ya;kL=1,Object.defineProperty(ya,"__esModule",{value:!0}),ya.isEnd=ya.isWindow=ya.isBy=ya.isSet=ya.isLimit=ya.isBetween=ya.isAnd=void 0;var e=t(fh());function t(u){return u&&u.__esModule?u:{default:u}}var n=function(u,d){return function(f){return(f==null?void 0:f.type)===u&&d.test(f==null?void 0:f.value)}},r=n(e.default.RESERVED_NEWLINE,/^AND$/i);ya.isAnd=r;var i=n(e.default.RESERVED,/^BETWEEN$/i);ya.isBetween=i;var o=n(e.default.RESERVED_TOP_LEVEL,/^LIMIT$/i);ya.isLimit=o;var a=n(e.default.RESERVED_TOP_LEVEL,/^[S\u017F]ET$/i);ya.isSet=a;var s=n(e.default.RESERVED,/^BY$/i);ya.isBy=s;var l=n(e.default.RESERVED_TOP_LEVEL,/^WINDOW$/i);ya.isWindow=l;var c=n(e.default.CLOSE_PAREN,/^END$/i);return ya.isEnd=c,ya}var NL;function ic(){return NL||(NL=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(fh()),r=l(Rpe()),i=l(jpe()),o=l(Lpe()),a=Cy(),s=jS();function l(g){return g&&g.__esModule?g:{default:g}}function c(g,h,y){return h in g?Object.defineProperty(g,h,{value:y,enumerable:!0,configurable:!0,writable:!0}):g[h]=y,g}function u(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}function d(g,h){for(var y=0;y<h.length;y++){var b=h[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}function f(g,h,y){return h&&d(g.prototype,h),g}var p=(function(){function g(h){u(this,g),this.cfg=h,this.indentation=new r.default(this.cfg.indent),this.inlineBlock=new i.default,this.params=new o.default(this.cfg.params),this.previousReservedToken={},this.tokens=[],this.index=0}return f(g,[{key:"tokenizer",value:function(){throw new Error("tokenizer() not implemented by subclass")}},{key:"tokenOverride",value:function(h){return h}},{key:"format",value:function(h){this.tokens=this.tokenizer().tokenize(h);var y=this.getFormattedQueryFromTokens();return y.trim()}},{key:"getFormattedQueryFromTokens",value:function(){var h=this,y="";return this.tokens.forEach(function(b,w){h.index=w,b=h.tokenOverride(b),b.type===n.default.LINE_COMMENT?y=h.formatLineComment(b,y):b.type===n.default.BLOCK_COMMENT?y=h.formatBlockComment(b,y):b.type===n.default.RESERVED_TOP_LEVEL?(y=h.formatTopLevelReservedWord(b,y),h.previousReservedToken=b):b.type===n.default.RESERVED_TOP_LEVEL_NO_INDENT?(y=h.formatTopLevelReservedWordNoIndent(b,y),h.previousReservedToken=b):b.type===n.default.RESERVED_NEWLINE?(y=h.formatNewlineReservedWord(b,y),h.previousReservedToken=b):b.type===n.default.RESERVED?(y=h.formatWithSpaces(b,y),h.previousReservedToken=b):b.type===n.default.OPEN_PAREN?y=h.formatOpeningParentheses(b,y):b.type===n.default.CLOSE_PAREN?y=h.formatClosingParentheses(b,y):b.type===n.default.PLACEHOLDER?y=h.formatPlaceholder(b,y):b.value===","?y=h.formatComma(b,y):b.value===":"?y=h.formatWithSpaceAfter(b,y):b.value==="."?y=h.formatWithoutSpaces(b,y):b.value===";"?y=h.formatQuerySeparator(b,y):y=h.formatWithSpaces(b,y)}),y}},{key:"formatLineComment",value:function(h,y){return this.addNewline(y+this.show(h))}},{key:"formatBlockComment",value:function(h,y){return this.addNewline(this.addNewline(y)+this.indentComment(h.value))}},{key:"indentComment",value:function(h){return h.replace(/\n[\t ]*/g,`
`+this.indentation.getIndent()+" ")}},{key:"formatTopLevelReservedWordNoIndent",value:function(h,y){return this.indentation.decreaseTopLevel(),y=this.addNewline(y)+this.equalizeWhitespace(this.show(h)),this.addNewline(y)}},{key:"formatTopLevelReservedWord",value:function(h,y){return this.indentation.decreaseTopLevel(),y=this.addNewline(y),this.indentation.increaseTopLevel(),y+=this.equalizeWhitespace(this.show(h)),this.addNewline(y)}},{key:"formatNewlineReservedWord",value:function(h,y){return(0,s.isAnd)(h)&&(0,s.isBetween)(this.tokenLookBehind(2))?this.formatWithSpaces(h,y):this.addNewline(y)+this.equalizeWhitespace(this.show(h))+" "}},{key:"equalizeWhitespace",value:function(h){return h.replace(/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+/g," ")}},{key:"formatOpeningParentheses",value:function(h,y){var b,w,S=(b={},c(b,n.default.OPEN_PAREN,!0),c(b,n.default.LINE_COMMENT,!0),c(b,n.default.OPERATOR,!0),b);return h.whitespaceBefore.length===0&&!S[(w=this.tokenLookBehind())===null||w===void 0?void 0:w.type]&&(y=(0,a.trimSpacesEnd)(y)),y+=this.show(h),this.inlineBlock.beginIfPossible(this.tokens,this.index),this.inlineBlock.isActive()||(this.indentation.increaseBlockLevel(),y=this.addNewline(y)),y}},{key:"formatClosingParentheses",value:function(h,y){return this.inlineBlock.isActive()?(this.inlineBlock.end(),this.formatWithSpaceAfter(h,y)):(this.indentation.decreaseBlockLevel(),this.formatWithSpaces(h,this.addNewline(y)))}},{key:"formatPlaceholder",value:function(h,y){return y+this.params.get(h)+" "}},{key:"formatComma",value:function(h,y){return y=(0,a.trimSpacesEnd)(y)+this.show(h)+" ",this.inlineBlock.isActive()||(0,s.isLimit)(this.previousReservedToken)?y:this.addNewline(y)}},{key:"formatWithSpaceAfter",value:function(h,y){return(0,a.trimSpacesEnd)(y)+this.show(h)+" "}},{key:"formatWithoutSpaces",value:function(h,y){return(0,a.trimSpacesEnd)(y)+this.show(h)}},{key:"formatWithSpaces",value:function(h,y){return y+this.show(h)+" "}},{key:"formatQuerySeparator",value:function(h,y){return this.indentation.resetIndentation(),(0,a.trimSpacesEnd)(y)+this.show(h)+`
`.repeat(this.cfg.linesBetweenQueries||1)}},{key:"show",value:function(h){var y=h.type,b=h.value;return this.cfg.uppercase&&(y===n.default.RESERVED||y===n.default.RESERVED_TOP_LEVEL||y===n.default.RESERVED_TOP_LEVEL_NO_INDENT||y===n.default.RESERVED_NEWLINE||y===n.default.OPEN_PAREN||y===n.default.CLOSE_PAREN)?b.toUpperCase():b}},{key:"addNewline",value:function(h){return h=(0,a.trimSpacesEnd)(h),h.endsWith(`
`)||(h+=`
`),h+this.indentation.getIndent()}},{key:"tokenLookBehind",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return this.tokens[this.index-h]}},{key:"tokenLookAhead",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return this.tokens[this.index+h]}}]),g})();t.default=p,e.exports=t.default})(IS,IS.exports)),IS.exports}var LS={exports:{}},Ol={},RL;function Mpe(){if(RL)return Ol;RL=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.createOperatorRegex=t,Ol.createLineCommentRegex=n,Ol.createReservedWordRegex=r,Ol.createWordRegex=i,Ol.createStringRegex=o,Ol.createStringPattern=a,Ol.createParenRegex=s,Ol.createPlaceholderRegex=c;var e=Cy();function t(u){return new RegExp("^(".concat((0,e.sortByLengthDesc)(u).map(e.escapeRegExp).join("|"),"|.)"),"u")}function n(u){return new RegExp("^((?:".concat(u.map(function(d){return(0,e.escapeRegExp)(d)}).join("|"),`).*?)(?:\r
|\r|
|$)`),"u")}function r(u){if(u.length===0)return new RegExp("^\b$","u");var d=(0,e.sortByLengthDesc)(u).join("|").replace(/ /g,"\\s+");return new RegExp("^(".concat(d,")\\b"),"iu")}function i(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return new RegExp("^([\\p{Alphabetic}\\p{Mark}\\p{Decimal_Number}\\p{Connector_Punctuation}\\p{Join_Control}".concat(u.join(""),"]+)"),"u")}function o(u){return new RegExp("^("+a(u)+")","u")}function a(u){var d={"``":"((`[^`]*($|`))+)","{}":"((\\{[^\\}]*($|\\}))+)","[]":"((\\[[^\\]]*($|\\]))(\\][^\\]]*($|\\]))*)",'""':'(("[^"\\\\]*(?:\\\\.[^"\\\\]*)*("|$))+)',"''":"(('[^'\\\\]*(?:\\\\.[^'\\\\]*)*('|$))+)","N''":"((N'[^'\\\\]*(?:\\\\.[^'\\\\]*)*('|$))+)","U&''":"((U&'[^'\\\\]*(?:\\\\.[^'\\\\]*)*('|$))+)",'U&""':'((U&"[^"\\\\]*(?:\\\\.[^"\\\\]*)*("|$))+)',$$:"((?<tag>\\$\\w*\\$)[\\s\\S]*?(?:\\k<tag>|$))"};return u.map(function(f){return d[f]}).join("|")}function s(u){return new RegExp("^("+u.map(l).join("|")+")","iu")}function l(u){return u.length===1?(0,e.escapeRegExp)(u):"\\b"+u+"\\b"}function c(u,d){if((0,e.isEmpty)(u))return!1;var f=u.map(e.escapeRegExp).join("|");return new RegExp("^((?:".concat(f,")(?:").concat(d,"))"),"u")}return Ol}var jL;function oc(){return jL||(jL=1,(function(e,t){function n(m){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(C){return typeof C}:n=function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},n(m)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(fh()),i=s(Mpe()),o=Cy();function a(){if(typeof WeakMap!="function")return null;var m=new WeakMap;return a=function(){return m},m}function s(m){if(m&&m.__esModule)return m;if(m===null||n(m)!=="object"&&typeof m!="function")return{default:m};var C=a();if(C&&C.has(m))return C.get(m);var T={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in m)if(Object.prototype.hasOwnProperty.call(m,R)){var j=O?Object.getOwnPropertyDescriptor(m,R):null;j&&(j.get||j.set)?Object.defineProperty(T,R,j):T[R]=m[R]}return T.default=m,C&&C.set(m,T),T}function l(m){return m&&m.__esModule?m:{default:m}}function c(m,C){var T=Object.keys(m);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(m);C&&(O=O.filter(function(R){return Object.getOwnPropertyDescriptor(m,R).enumerable})),T.push.apply(T,O)}return T}function u(m){for(var C=1;C<arguments.length;C++){var T=arguments[C]!=null?arguments[C]:{};C%2?c(Object(T),!0).forEach(function(O){d(m,O,T[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(T)):c(Object(T)).forEach(function(O){Object.defineProperty(m,O,Object.getOwnPropertyDescriptor(T,O))})}return m}function d(m,C,T){return C in m?Object.defineProperty(m,C,{value:T,enumerable:!0,configurable:!0,writable:!0}):m[C]=T,m}function f(m){return y(m)||h(m)||g(m)||p()}function p(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(m,C){if(m){if(typeof m=="string")return b(m,C);var T=Object.prototype.toString.call(m).slice(8,-1);if(T==="Object"&&m.constructor&&(T=m.constructor.name),T==="Map"||T==="Set")return Array.from(m);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return b(m,C)}}function h(m){if(typeof Symbol<"u"&&Symbol.iterator in Object(m))return Array.from(m)}function y(m){if(Array.isArray(m))return b(m)}function b(m,C){(C==null||C>m.length)&&(C=m.length);for(var T=0,O=new Array(C);T<C;T++)O[T]=m[T];return O}function w(m,C){if(!(m instanceof C))throw new TypeError("Cannot call a class as a function")}function S(m,C){for(var T=0;T<C.length;T++){var O=C[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(m,O.key,O)}}function E(m,C,T){return C&&S(m.prototype,C),m}var _=(function(){function m(C){w(this,m),this.WHITESPACE_REGEX=/^([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)/,this.NUMBER_REGEX=/^((\x2D[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?[0-9]+(\.[0-9]+)?([Ee]\x2D?[0-9]+(\.[0-9]+)?)?|0x[0-9A-Fa-f]+|0b[01]+)\b/,this.OPERATOR_REGEX=i.createOperatorRegex(["<>","<=",">="].concat(f(C.operators||[]))),this.BLOCK_COMMENT_REGEX=/^(\/\*(?:(?![])[\s\S])*?(?:\*\/|$))/,this.LINE_COMMENT_REGEX=i.createLineCommentRegex(C.lineCommentTypes),this.RESERVED_TOP_LEVEL_REGEX=i.createReservedWordRegex(C.reservedTopLevelWords),this.RESERVED_TOP_LEVEL_NO_INDENT_REGEX=i.createReservedWordRegex(C.reservedTopLevelWordsNoIndent),this.RESERVED_NEWLINE_REGEX=i.createReservedWordRegex(C.reservedNewlineWords),this.RESERVED_PLAIN_REGEX=i.createReservedWordRegex(C.reservedWords),this.WORD_REGEX=i.createWordRegex(C.specialWordChars),this.STRING_REGEX=i.createStringRegex(C.stringTypes),this.OPEN_PAREN_REGEX=i.createParenRegex(C.openParens),this.CLOSE_PAREN_REGEX=i.createParenRegex(C.closeParens),this.INDEXED_PLACEHOLDER_REGEX=i.createPlaceholderRegex(C.indexedPlaceholderTypes,"[0-9]*"),this.IDENT_NAMED_PLACEHOLDER_REGEX=i.createPlaceholderRegex(C.namedPlaceholderTypes,"[a-zA-Z0-9._$]+"),this.STRING_NAMED_PLACEHOLDER_REGEX=i.createPlaceholderRegex(C.namedPlaceholderTypes,i.createStringPattern(C.stringTypes))}return E(m,[{key:"tokenize",value:function(C){for(var T=[],O;C.length;){var R=this.getWhitespace(C);C=C.substring(R.length),C.length&&(O=this.getNextToken(C,O),C=C.substring(O.value.length),T.push(u(u({},O),{},{whitespaceBefore:R})))}return T}},{key:"getWhitespace",value:function(C){var T=C.match(this.WHITESPACE_REGEX);return T?T[1]:""}},{key:"getNextToken",value:function(C,T){return this.getCommentToken(C)||this.getStringToken(C)||this.getOpenParenToken(C)||this.getCloseParenToken(C)||this.getPlaceholderToken(C)||this.getNumberToken(C)||this.getReservedWordToken(C,T)||this.getWordToken(C)||this.getOperatorToken(C)}},{key:"getCommentToken",value:function(C){return this.getLineCommentToken(C)||this.getBlockCommentToken(C)}},{key:"getLineCommentToken",value:function(C){return this.getTokenOnFirstMatch({input:C,type:r.default.LINE_COMMENT,regex:this.LINE_COMMENT_REGEX})}},{key:"getBlockCommentToken",value:function(C){return this.getTokenOnFirstMatch({input:C,type:r.default.BLOCK_COMMENT,regex:this.BLOCK_COMMENT_REGEX})}},{key:"getStringToken",value:function(C){return this.getTokenOnFirstMatch({input:C,type:r.default.STRING,regex:this.STRING_REGEX})}},{key:"getOpenParenToken",value:function(C){return this.getTokenOnFirstMatch({input:C,type:r.default.OPEN_PAREN,regex:this.OPEN_PAREN_REGEX})}},{key:"getCloseParenToken",value:function(C){return this.getTokenOnFirstMatch({input:C,type:r.default.CLOSE_PAREN,regex:this.CLOSE_PAREN_REGEX})}},{key:"getPlaceholderToken",value:function(C){return this.getIdentNamedPlaceholderToken(C)||this.getStringNamedPlaceholderToken(C)||this.getIndexedPlaceholderToken(C)}},{key:"getIdentNamedPlaceholderToken",value:function(C){return this.getPlaceholderTokenWithKey({input:C,regex:this.IDENT_NAMED_PLACEHOLDER_REGEX,parseKey:function(T){return T.slice(1)}})}},{key:"getStringNamedPlaceholderToken",value:function(C){var T=this;return this.getPlaceholderTokenWithKey({input:C,regex:this.STRING_NAMED_PLACEHOLDER_REGEX,parseKey:function(O){return T.getEscapedPlaceholderKey({key:O.slice(2,-1),quoteChar:O.slice(-1)})}})}},{key:"getIndexedPlaceholderToken",value:function(C){return this.getPlaceholderTokenWithKey({input:C,regex:this.INDEXED_PLACEHOLDER_REGEX,parseKey:function(T){return T.slice(1)}})}},{key:"getPlaceholderTokenWithKey",value:function(C){var T=C.input,O=C.regex,R=C.parseKey,j=this.getTokenOnFirstMatch({input:T,regex:O,type:r.default.PLACEHOLDER});return j&&(j.key=R(j.value)),j}},{key:"getEscapedPlaceholderKey",value:function(C){var T=C.key,O=C.quoteChar;return T.replace(new RegExp((0,o.escapeRegExp)("\\"+O),"gu"),O)}},{key:"getNumberToken",value:function(C){return this.getTokenOnFirstMatch({input:C,type:r.default.NUMBER,regex:this.NUMBER_REGEX})}},{key:"getOperatorToken",value:function(C){return this.getTokenOnFirstMatch({input:C,type:r.default.OPERATOR,regex:this.OPERATOR_REGEX})}},{key:"getReservedWordToken",value:function(C,T){if(!(T&&T.value&&T.value==="."))return this.getTopLevelReservedToken(C)||this.getNewlineReservedToken(C)||this.getTopLevelReservedTokenNoIndent(C)||this.getPlainReservedToken(C)}},{key:"getTopLevelReservedToken",value:function(C){return this.getTokenOnFirstMatch({input:C,type:r.default.RESERVED_TOP_LEVEL,regex:this.RESERVED_TOP_LEVEL_REGEX})}},{key:"getNewlineReservedToken",value:function(C){return this.getTokenOnFirstMatch({input:C,type:r.default.RESERVED_NEWLINE,regex:this.RESERVED_NEWLINE_REGEX})}},{key:"getTopLevelReservedTokenNoIndent",value:function(C){return this.getTokenOnFirstMatch({input:C,type:r.default.RESERVED_TOP_LEVEL_NO_INDENT,regex:this.RESERVED_TOP_LEVEL_NO_INDENT_REGEX})}},{key:"getPlainReservedToken",value:function(C){return this.getTokenOnFirstMatch({input:C,type:r.default.RESERVED,regex:this.RESERVED_PLAIN_REGEX})}},{key:"getWordToken",value:function(C){return this.getTokenOnFirstMatch({input:C,type:r.default.WORD,regex:this.WORD_REGEX})}},{key:"getTokenOnFirstMatch",value:function(C){var T=C.input,O=C.type,R=C.regex,j=T.match(R);return j?{type:O,value:j[1]}:void 0}}]),m})();t.default=_,e.exports=t.default})(LS,LS.exports)),LS.exports}var LL;function Ppe(){return LL||(LL=1,(function(e,t){function n(_){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(m){return typeof m}:n=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},n(_)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(ic()),i=o(oc());function o(_){return _&&_.__esModule?_:{default:_}}function a(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function s(_,m){for(var C=0;C<m.length;C++){var T=m[C];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}function l(_,m,C){return m&&s(_.prototype,m),_}function c(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),m&&u(_,m)}function u(_,m){return u=Object.setPrototypeOf||function(C,T){return C.__proto__=T,C},u(_,m)}function d(_){var m=g();return function(){var C=h(_),T;if(m){var O=h(this).constructor;T=Reflect.construct(C,arguments,O)}else T=C.apply(this,arguments);return f(this,T)}}function f(_,m){return m&&(n(m)==="object"||typeof m=="function")?m:p(_)}function p(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function g(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function h(_){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)},h(_)}var y=["ABS","ACTIVATE","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","ANY","ARE","ARRAY","AS","ASC","ASENSITIVE","ASSOCIATE","ASUTIME","ASYMMETRIC","AT","ATOMIC","ATTRIBUTES","AUDIT","AUTHORIZATION","AUX","AUXILIARY","AVG","BEFORE","BEGIN","BETWEEN","BIGINT","BINARY","BLOB","BOOLEAN","BOTH","BUFFERPOOL","BY","CACHE","CALL","CALLED","CAPTURE","CARDINALITY","CASCADED","CASE","CAST","CCSID","CEIL","CEILING","CHAR","CHARACTER","CHARACTER_LENGTH","CHAR_LENGTH","CHECK","CLOB","CLONE","CLOSE","CLUSTER","COALESCE","COLLATE","COLLECT","COLLECTION","COLLID","COLUMN","COMMENT","COMMIT","CONCAT","CONDITION","CONNECT","CONNECTION","CONSTRAINT","CONTAINS","CONTINUE","CONVERT","CORR","CORRESPONDING","COUNT","COUNT_BIG","COVAR_POP","COVAR_SAMP","CREATE","CROSS","CUBE","CUME_DIST","CURRENT","CURRENT_DATE","CURRENT_DEFAULT_TRANSFORM_GROUP","CURRENT_LC_CTYPE","CURRENT_PATH","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_TRANSFORM_GROUP_FOR_TYPE","CURRENT_USER","CURSOR","CYCLE","DATA","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DATE","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEALLOCATE","DEC","DECIMAL","DECLARE","DEFAULT","DEFAULTS","DEFINITION","DELETE","DENSERANK","DENSE_RANK","DEREF","DESCRIBE","DESCRIPTOR","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DOUBLE","DROP","DSSIZE","DYNAMIC","EACH","EDITPROC","ELEMENT","ELSE","ELSEIF","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ERASE","ESCAPE","EVERY","EXCEPTION","EXCLUDING","EXCLUSIVE","EXEC","EXECUTE","EXISTS","EXIT","EXP","EXPLAIN","EXTENDED","EXTERNAL","EXTRACT","FALSE","FENCED","FETCH","FIELDPROC","FILE","FILTER","FINAL","FIRST","FLOAT","FLOOR","FOR","FOREIGN","FREE","FULL","FUNCTION","FUSION","GENERAL","GENERATED","GET","GLOBAL","GOTO","GRANT","GRAPHIC","GROUP","GROUPING","HANDLER","HASH","HASHED_VALUE","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IMMEDIATE","IN","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDICATOR","INDICATORS","INF","INFINITY","INHERIT","INNER","INOUT","INSENSITIVE","INSERT","INT","INTEGER","INTEGRITY","INTERSECTION","INTERVAL","INTO","IS","ISOBID","ISOLATION","ITERATE","JAR","JAVA","KEEP","KEY","LABEL","LANGUAGE","LARGE","LATERAL","LC_CTYPE","LEADING","LEAVE","LEFT","LIKE","LINKTYPE","LN","LOCAL","LOCALDATE","LOCALE","LOCALTIME","LOCALTIMESTAMP","LOCATOR","LOCATORS","LOCK","LOCKMAX","LOCKSIZE","LONG","LOOP","LOWER","MAINTAINED","MATCH","MATERIALIZED","MAX","MAXVALUE","MEMBER","MERGE","METHOD","MICROSECOND","MICROSECONDS","MIN","MINUTE","MINUTES","MINVALUE","MOD","MODE","MODIFIES","MODULE","MONTH","MONTHS","MULTISET","NAN","NATIONAL","NATURAL","NCHAR","NCLOB","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZE","NORMALIZED","NOT","NULL","NULLIF","NULLS","NUMERIC","NUMPARTS","OBID","OCTET_LENGTH","OF","OFFSET","OLD","OLD_TABLE","ON","ONLY","OPEN","OPTIMIZATION","OPTIMIZE","OPTION","ORDER","OUT","OUTER","OVER","OVERLAPS","OVERLAY","OVERRIDING","PACKAGE","PADDED","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSWORD","PATH","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","PIECESIZE","PLAN","POSITION","POWER","PRECISION","PREPARE","PREVVAL","PRIMARY","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PSID","PUBLIC","QUERY","QUERYNO","RANGE","RANK","READ","READS","REAL","RECOVERY","RECURSIVE","REF","REFERENCES","REFERENCING","REFRESH","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESTRICT","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNS","REVOKE","RIGHT","ROLE","ROLLBACK","ROLLUP","ROUND_CEILING","ROUND_DOWN","ROUND_FLOOR","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_UP","ROUND_UP","ROUTINE","ROW","ROWNUMBER","ROWS","ROWSET","ROW_NUMBER","RRN","RUN","SAVEPOINT","SCHEMA","SCOPE","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURITY","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SIGNAL","SIMILAR","SIMPLE","SMALLINT","SNAN","SOME","SOURCE","SPECIFIC","SPECIFICTYPE","SQL","SQLEXCEPTION","SQLID","SQLSTATE","SQLWARNING","SQRT","STACKED","STANDARD","START","STARTING","STATEMENT","STATIC","STATMENT","STAY","STDDEV_POP","STDDEV_SAMP","STOGROUP","STORES","STYLE","SUBMULTISET","SUBSTRING","SUM","SUMMARY","SYMMETRIC","SYNONYM","SYSFUN","SYSIBM","SYSPROC","SYSTEM","SYSTEM_USER","TABLE","TABLESAMPLE","TABLESPACE","THEN","TIME","TIMESTAMP","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TRAILING","TRANSACTION","TRANSLATE","TRANSLATION","TREAT","TRIGGER","TRIM","TRUE","TRUNCATE","TYPE","UESCAPE","UNDO","UNIQUE","UNKNOWN","UNNEST","UNTIL","UPPER","USAGE","USER","USING","VALIDPROC","VALUE","VARCHAR","VARIABLE","VARIANT","VARYING","VAR_POP","VAR_SAMP","VCAT","VERSION","VIEW","VOLATILE","VOLUMES","WHEN","WHENEVER","WHILE","WIDTH_BUCKET","WINDOW","WITH","WITHIN","WITHOUT","WLM","WRITE","XMLELEMENT","XMLEXISTS","XMLNAMESPACES","YEAR","YEARS"],b=["ADD","AFTER","ALTER COLUMN","ALTER TABLE","DELETE FROM","EXCEPT","FETCH FIRST","FROM","GROUP BY","GO","HAVING","INSERT INTO","INTERSECT","LIMIT","ORDER BY","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UPDATE","VALUES","WHERE"],w=["INTERSECT","INTERSECT ALL","MINUS","UNION","UNION ALL"],S=["AND","OR","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","FULL JOIN","FULL OUTER JOIN","CROSS JOIN","NATURAL JOIN"],E=(function(_){c(C,_);var m=d(C);function C(){return a(this,C),m.apply(this,arguments)}return l(C,[{key:"tokenizer",value:function(){return new i.default({reservedWords:y,reservedTopLevelWords:b,reservedNewlineWords:S,reservedTopLevelWordsNoIndent:w,stringTypes:['""',"''","``","[]"],openParens:["("],closeParens:[")"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[":"],lineCommentTypes:["--"],specialWordChars:["#","@"],operators:["**","!=","!>","!>","||"]})}}]),C})(r.default);t.default=E,e.exports=t.default})(AS,AS.exports)),AS.exports}var MS={exports:{}},ML;function Dpe(){return ML||(ML=1,(function(e,t){function n(_){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(m){return typeof m}:n=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},n(_)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(ic()),i=o(oc());function o(_){return _&&_.__esModule?_:{default:_}}function a(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function s(_,m){for(var C=0;C<m.length;C++){var T=m[C];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}function l(_,m,C){return m&&s(_.prototype,m),_}function c(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),m&&u(_,m)}function u(_,m){return u=Object.setPrototypeOf||function(C,T){return C.__proto__=T,C},u(_,m)}function d(_){var m=g();return function(){var C=h(_),T;if(m){var O=h(this).constructor;T=Reflect.construct(C,arguments,O)}else T=C.apply(this,arguments);return f(this,T)}}function f(_,m){return m&&(n(m)==="object"||typeof m=="function")?m:p(_)}function p(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function g(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function h(_){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)},h(_)}var y=["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BIGINT","BINARY","BLOB","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHAR","CHARACTER","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DEC","DECIMAL","DECLARE","DEFAULT","DELAYED","DELETE","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DO_DOMAIN_IDS","DOUBLE","DROP","DUAL","EACH","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FLOAT","FLOAT4","FLOAT8","FOR","FORCE","FOREIGN","FROM","FULLTEXT","GENERAL","GRANT","GROUP","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IGNORE_DOMAIN_IDS","IGNORE_SERVER_IDS","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","INTERSECT","INTERVAL","INTO","IS","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LONGBLOB","LONGTEXT","LOOP","LOW_PRIORITY","MASTER_HEARTBEAT_PERIOD","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NULL","NUMERIC","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PAGE_CHECKSUM","PARSE_VCOL_EXPR","PARTITION","POSITION","PRECISION","PRIMARY","PROCEDURE","PURGE","RANGE","READ","READS","READ_WRITE","REAL","RECURSIVE","REF_SYSTEM_ID","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","RETURNING","REVOKE","RIGHT","RLIKE","ROWS","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SLOW","SMALLINT","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STATS_AUTO_RECALC","STATS_PERSISTENT","STATS_SAMPLE_PAGES","STRAIGHT_JOIN","TABLE","TERMINATED","THEN","TINYBLOB","TINYINT","TINYTEXT","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VARBINARY","VARCHAR","VARCHARACTER","VARYING","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],b=["ADD","ALTER COLUMN","ALTER TABLE","DELETE FROM","EXCEPT","FROM","GROUP BY","HAVING","INSERT INTO","INSERT","LIMIT","ORDER BY","SELECT","SET","UPDATE","VALUES","WHERE"],w=["INTERSECT","INTERSECT ALL","UNION","UNION ALL"],S=["AND","ELSE","OR","WHEN","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","CROSS JOIN","NATURAL JOIN","STRAIGHT_JOIN","NATURAL LEFT JOIN","NATURAL LEFT OUTER JOIN","NATURAL RIGHT JOIN","NATURAL RIGHT OUTER JOIN"],E=(function(_){c(C,_);var m=d(C);function C(){return a(this,C),m.apply(this,arguments)}return l(C,[{key:"tokenizer",value:function(){return new i.default({reservedWords:y,reservedTopLevelWords:b,reservedNewlineWords:S,reservedTopLevelWordsNoIndent:w,stringTypes:["``","''",'""'],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[],lineCommentTypes:["--","#"],specialWordChars:["@"],operators:[":=","<<",">>","!=","<>","<=>","&&","||"]})}}]),C})(r.default);t.default=E,e.exports=t.default})(MS,MS.exports)),MS.exports}var PS={exports:{}},PL;function Fpe(){return PL||(PL=1,(function(e,t){function n(_){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(m){return typeof m}:n=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},n(_)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(ic()),i=o(oc());function o(_){return _&&_.__esModule?_:{default:_}}function a(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function s(_,m){for(var C=0;C<m.length;C++){var T=m[C];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}function l(_,m,C){return m&&s(_.prototype,m),_}function c(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),m&&u(_,m)}function u(_,m){return u=Object.setPrototypeOf||function(C,T){return C.__proto__=T,C},u(_,m)}function d(_){var m=g();return function(){var C=h(_),T;if(m){var O=h(this).constructor;T=Reflect.construct(C,arguments,O)}else T=C.apply(this,arguments);return f(this,T)}}function f(_,m){return m&&(n(m)==="object"||typeof m=="function")?m:p(_)}function p(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function g(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function h(_){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)},h(_)}var y=["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BIGINT","BINARY","BLOB","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHAR","CHARACTER","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CUBE","CUME_DIST","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DEC","DECIMAL","DECLARE","DEFAULT","DELAYED","DELETE","DENSE_RANK","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DOUBLE","DROP","DUAL","EACH","ELSE","ELSEIF","EMPTY","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FIRST_VALUE","FLOAT","FLOAT4","FLOAT8","FOR","FORCE","FOREIGN","FROM","FULLTEXT","FUNCTION","GENERATED","GET","GRANT","GROUP","GROUPING","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","INTERVAL","INTO","IO_AFTER_GTIDS","IO_BEFORE_GTIDS","IS","ITERATE","JOIN","JSON_TABLE","KEY","KEYS","KILL","LAG","LAST_VALUE","LATERAL","LEAD","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LONGBLOB","LONGTEXT","LOOP","LOW_PRIORITY","MASTER_BIND","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NTH_VALUE","NTILE","NULL","NUMERIC","OF","ON","OPTIMIZE","OPTIMIZER_COSTS","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PERCENT_RANK","PRECISION","PRIMARY","PROCEDURE","PURGE","RANGE","RANK","READ","READS","READ_WRITE","REAL","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","REVOKE","RIGHT","RLIKE","ROW","ROWS","ROW_NUMBER","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SMALLINT","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STORED","STRAIGHT_JOIN","SYSTEM","TABLE","TERMINATED","THEN","TINYBLOB","TINYINT","TINYTEXT","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VARBINARY","VARCHAR","VARCHARACTER","VARYING","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],b=["ADD","ALTER COLUMN","ALTER TABLE","DELETE FROM","EXCEPT","FROM","GROUP BY","HAVING","INSERT INTO","INSERT","LIMIT","ORDER BY","SELECT","SET","UPDATE","VALUES","WHERE"],w=["INTERSECT","INTERSECT ALL","UNION","UNION ALL"],S=["AND","ELSE","OR","WHEN","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","CROSS JOIN","NATURAL JOIN","STRAIGHT_JOIN","NATURAL LEFT JOIN","NATURAL LEFT OUTER JOIN","NATURAL RIGHT JOIN","NATURAL RIGHT OUTER JOIN"],E=(function(_){c(C,_);var m=d(C);function C(){return a(this,C),m.apply(this,arguments)}return l(C,[{key:"tokenizer",value:function(){return new i.default({reservedWords:y,reservedTopLevelWords:b,reservedNewlineWords:S,reservedTopLevelWordsNoIndent:w,stringTypes:["``","''",'""'],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[],lineCommentTypes:["--","#"],specialWordChars:["@"],operators:[":=","<<",">>","!=","<>","<=>","&&","||","->","->>"]})}}]),C})(r.default);t.default=E,e.exports=t.default})(PS,PS.exports)),PS.exports}var DS={exports:{}},DL;function Upe(){return DL||(DL=1,(function(e,t){function n(_){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(m){return typeof m}:n=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},n(_)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(ic()),i=o(oc());function o(_){return _&&_.__esModule?_:{default:_}}function a(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function s(_,m){for(var C=0;C<m.length;C++){var T=m[C];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}function l(_,m,C){return m&&s(_.prototype,m),_}function c(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),m&&u(_,m)}function u(_,m){return u=Object.setPrototypeOf||function(C,T){return C.__proto__=T,C},u(_,m)}function d(_){var m=g();return function(){var C=h(_),T;if(m){var O=h(this).constructor;T=Reflect.construct(C,arguments,O)}else T=C.apply(this,arguments);return f(this,T)}}function f(_,m){return m&&(n(m)==="object"||typeof m=="function")?m:p(_)}function p(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function g(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function h(_){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)},h(_)}var y=["ALL","ALTER","ANALYZE","AND","ANY","ARRAY","AS","ASC","BEGIN","BETWEEN","BINARY","BOOLEAN","BREAK","BUCKET","BUILD","BY","CALL","CASE","CAST","CLUSTER","COLLATE","COLLECTION","COMMIT","CONNECT","CONTINUE","CORRELATE","COVER","CREATE","DATABASE","DATASET","DATASTORE","DECLARE","DECREMENT","DELETE","DERIVED","DESC","DESCRIBE","DISTINCT","DO","DROP","EACH","ELEMENT","ELSE","END","EVERY","EXCEPT","EXCLUDE","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FIRST","FLATTEN","FOR","FORCE","FROM","FUNCTION","GRANT","GROUP","GSI","HAVING","IF","IGNORE","ILIKE","IN","INCLUDE","INCREMENT","INDEX","INFER","INLINE","INNER","INSERT","INTERSECT","INTO","IS","JOIN","KEY","KEYS","KEYSPACE","KNOWN","LAST","LEFT","LET","LETTING","LIKE","LIMIT","LSM","MAP","MAPPING","MATCHED","MATERIALIZED","MERGE","MISSING","NAMESPACE","NEST","NOT","NULL","NUMBER","OBJECT","OFFSET","ON","OPTION","OR","ORDER","OUTER","OVER","PARSE","PARTITION","PASSWORD","PATH","POOL","PREPARE","PRIMARY","PRIVATE","PRIVILEGE","PROCEDURE","PUBLIC","RAW","REALM","REDUCE","RENAME","RETURN","RETURNING","REVOKE","RIGHT","ROLE","ROLLBACK","SATISFIES","SCHEMA","SELECT","SELF","SEMI","SET","SHOW","SOME","START","STATISTICS","STRING","SYSTEM","THEN","TO","TRANSACTION","TRIGGER","TRUE","TRUNCATE","UNDER","UNION","UNIQUE","UNKNOWN","UNNEST","UNSET","UPDATE","UPSERT","USE","USER","USING","VALIDATE","VALUE","VALUED","VALUES","VIA","VIEW","WHEN","WHERE","WHILE","WITH","WITHIN","WORK","XOR"],b=["DELETE FROM","EXCEPT ALL","EXCEPT","EXPLAIN DELETE FROM","EXPLAIN UPDATE","EXPLAIN UPSERT","FROM","GROUP BY","HAVING","INFER","INSERT INTO","LET","LIMIT","MERGE","NEST","ORDER BY","PREPARE","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UNNEST","UPDATE","UPSERT","USE KEYS","VALUES","WHERE"],w=["INTERSECT","INTERSECT ALL","MINUS","UNION","UNION ALL"],S=["AND","OR","XOR","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN"],E=(function(_){c(C,_);var m=d(C);function C(){return a(this,C),m.apply(this,arguments)}return l(C,[{key:"tokenizer",value:function(){return new i.default({reservedWords:y,reservedTopLevelWords:b,reservedNewlineWords:S,reservedTopLevelWordsNoIndent:w,stringTypes:['""',"''","``"],openParens:["(","[","{"],closeParens:[")","]","}"],namedPlaceholderTypes:["$"],lineCommentTypes:["#","--"],operators:["==","!="]})}}]),C})(r.default);t.default=E,e.exports=t.default})(DS,DS.exports)),DS.exports}var FS={exports:{}},FL;function zpe(){return FL||(FL=1,(function(e,t){function n(C){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(T){return typeof T}:n=function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},n(C)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(ic()),i=jS(),o=s(oc()),a=s(fh());function s(C){return C&&C.__esModule?C:{default:C}}function l(C,T){if(!(C instanceof T))throw new TypeError("Cannot call a class as a function")}function c(C,T){for(var O=0;O<T.length;O++){var R=T[O];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(C,R.key,R)}}function u(C,T,O){return T&&c(C.prototype,T),C}function d(C,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(T&&T.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),T&&f(C,T)}function f(C,T){return f=Object.setPrototypeOf||function(O,R){return O.__proto__=R,O},f(C,T)}function p(C){var T=y();return function(){var O=b(C),R;if(T){var j=b(this).constructor;R=Reflect.construct(O,arguments,j)}else R=O.apply(this,arguments);return g(this,R)}}function g(C,T){return T&&(n(T)==="object"||typeof T=="function")?T:h(C)}function h(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function b(C){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)},b(C)}var w=["A","ACCESSIBLE","AGENT","AGGREGATE","ALL","ALTER","ANY","ARRAY","AS","ASC","AT","ATTRIBUTE","AUTHID","AVG","BETWEEN","BFILE_BASE","BINARY_INTEGER","BINARY","BLOB_BASE","BLOCK","BODY","BOOLEAN","BOTH","BOUND","BREADTH","BULK","BY","BYTE","C","CALL","CALLING","CASCADE","CASE","CHAR_BASE","CHAR","CHARACTER","CHARSET","CHARSETFORM","CHARSETID","CHECK","CLOB_BASE","CLONE","CLOSE","CLUSTER","CLUSTERS","COALESCE","COLAUTH","COLLECT","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPILED","COMPRESS","CONNECT","CONSTANT","CONSTRUCTOR","CONTEXT","CONTINUE","CONVERT","COUNT","CRASH","CREATE","CREDENTIAL","CURRENT","CURRVAL","CURSOR","CUSTOMDATUM","DANGLING","DATA","DATE_BASE","DATE","DAY","DECIMAL","DEFAULT","DEFINE","DELETE","DEPTH","DESC","DETERMINISTIC","DIRECTORY","DISTINCT","DO","DOUBLE","DROP","DURATION","ELEMENT","ELSIF","EMPTY","END","ESCAPE","EXCEPTIONS","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTENDS","EXTERNAL","EXTRACT","FALSE","FETCH","FINAL","FIRST","FIXED","FLOAT","FOR","FORALL","FORCE","FROM","FUNCTION","GENERAL","GOTO","GRANT","GROUP","HASH","HEAP","HIDDEN","HOUR","IDENTIFIED","IF","IMMEDIATE","IN","INCLUDING","INDEX","INDEXES","INDICATOR","INDICES","INFINITE","INSTANTIABLE","INT","INTEGER","INTERFACE","INTERVAL","INTO","INVALIDATE","IS","ISOLATION","JAVA","LANGUAGE","LARGE","LEADING","LENGTH","LEVEL","LIBRARY","LIKE","LIKE2","LIKE4","LIKEC","LIMITED","LOCAL","LOCK","LONG","MAP","MAX","MAXLEN","MEMBER","MERGE","MIN","MINUTE","MLSLABEL","MOD","MODE","MONTH","MULTISET","NAME","NAN","NATIONAL","NATIVE","NATURAL","NATURALN","NCHAR","NEW","NEXTVAL","NOCOMPRESS","NOCOPY","NOT","NOWAIT","NULL","NULLIF","NUMBER_BASE","NUMBER","OBJECT","OCICOLL","OCIDATE","OCIDATETIME","OCIDURATION","OCIINTERVAL","OCILOBLOCATOR","OCINUMBER","OCIRAW","OCIREF","OCIREFCURSOR","OCIROWID","OCISTRING","OCITYPE","OF","OLD","ON","ONLY","OPAQUE","OPEN","OPERATOR","OPTION","ORACLE","ORADATA","ORDER","ORGANIZATION","ORLANY","ORLVARY","OTHERS","OUT","OVERLAPS","OVERRIDING","PACKAGE","PARALLEL_ENABLE","PARAMETER","PARAMETERS","PARENT","PARTITION","PASCAL","PCTFREE","PIPE","PIPELINED","PLS_INTEGER","PLUGGABLE","POSITIVE","POSITIVEN","PRAGMA","PRECISION","PRIOR","PRIVATE","PROCEDURE","PUBLIC","RAISE","RANGE","RAW","READ","REAL","RECORD","REF","REFERENCE","RELEASE","RELIES_ON","REM","REMAINDER","RENAME","RESOURCE","RESULT_CACHE","RESULT","RETURN","RETURNING","REVERSE","REVOKE","ROLLBACK","ROW","ROWID","ROWNUM","ROWTYPE","SAMPLE","SAVE","SAVEPOINT","SB1","SB2","SB4","SEARCH","SECOND","SEGMENT","SELF","SEPARATE","SEQUENCE","SERIALIZABLE","SHARE","SHORT","SIZE_T","SIZE","SMALLINT","SOME","SPACE","SPARSE","SQL","SQLCODE","SQLDATA","SQLERRM","SQLNAME","SQLSTATE","STANDARD","START","STATIC","STDDEV","STORED","STRING","STRUCT","STYLE","SUBMULTISET","SUBPARTITION","SUBSTITUTABLE","SUBTYPE","SUCCESSFUL","SUM","SYNONYM","SYSDATE","TABAUTH","TABLE","TDO","THE","THEN","TIME","TIMESTAMP","TIMEZONE_ABBR","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIMEZONE_REGION","TO","TRAILING","TRANSACTION","TRANSACTIONAL","TRIGGER","TRUE","TRUSTED","TYPE","UB1","UB2","UB4","UID","UNDER","UNIQUE","UNPLUG","UNSIGNED","UNTRUSTED","USE","USER","USING","VALIDATE","VALIST","VALUE","VARCHAR","VARCHAR2","VARIABLE","VARIANCE","VARRAY","VARYING","VIEW","VIEWS","VOID","WHENEVER","WHILE","WITH","WORK","WRAPPED","WRITE","YEAR","ZONE"],S=["ADD","ALTER COLUMN","ALTER TABLE","BEGIN","CONNECT BY","DECLARE","DELETE FROM","DELETE","END","EXCEPT","EXCEPTION","FETCH FIRST","FROM","GROUP BY","HAVING","INSERT INTO","INSERT","LIMIT","LOOP","MODIFY","ORDER BY","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","START WITH","UPDATE","VALUES","WHERE"],E=["INTERSECT","INTERSECT ALL","MINUS","UNION","UNION ALL"],_=["AND","CROSS APPLY","ELSE","END","OR","OUTER APPLY","WHEN","XOR","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","FULL JOIN","FULL OUTER JOIN","CROSS JOIN","NATURAL JOIN"],m=(function(C){d(O,C);var T=p(O);function O(){return l(this,O),T.apply(this,arguments)}return u(O,[{key:"tokenizer",value:function(){return new o.default({reservedWords:w,reservedTopLevelWords:S,reservedNewlineWords:_,reservedTopLevelWordsNoIndent:E,stringTypes:['""',"N''","''","``"],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[":"],lineCommentTypes:["--"],specialWordChars:["_","$","#",".","@"],operators:["||","**","!=",":="]})}},{key:"tokenOverride",value:function(R){return(0,i.isSet)(R)&&(0,i.isBy)(this.previousReservedToken)?{type:a.default.RESERVED,value:R.value}:R}}]),O})(r.default);t.default=m,e.exports=t.default})(FS,FS.exports)),FS.exports}var US={exports:{}},UL;function Bpe(){return UL||(UL=1,(function(e,t){function n(_){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(m){return typeof m}:n=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},n(_)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(ic()),i=o(oc());function o(_){return _&&_.__esModule?_:{default:_}}function a(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function s(_,m){for(var C=0;C<m.length;C++){var T=m[C];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}function l(_,m,C){return m&&s(_.prototype,m),_}function c(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),m&&u(_,m)}function u(_,m){return u=Object.setPrototypeOf||function(C,T){return C.__proto__=T,C},u(_,m)}function d(_){var m=g();return function(){var C=h(_),T;if(m){var O=h(this).constructor;T=Reflect.construct(C,arguments,O)}else T=C.apply(this,arguments);return f(this,T)}}function f(_,m){return m&&(n(m)==="object"||typeof m=="function")?m:p(_)}function p(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function g(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function h(_){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)},h(_)}var y=["ABORT","ABSOLUTE","ACCESS","ACTION","ADD","ADMIN","AFTER","AGGREGATE","ALL","ALSO","ALTER","ALWAYS","ANALYSE","ANALYZE","AND","ANY","ARRAY","AS","ASC","ASSERTION","ASSIGNMENT","ASYMMETRIC","AT","ATTACH","ATTRIBUTE","AUTHORIZATION","BACKWARD","BEFORE","BEGIN","BETWEEN","BIGINT","BINARY","BIT","BOOLEAN","BOTH","BY","CACHE","CALL","CALLED","CASCADE","CASCADED","CASE","CAST","CATALOG","CHAIN","CHAR","CHARACTER","CHARACTERISTICS","CHECK","CHECKPOINT","CLASS","CLOSE","CLUSTER","COALESCE","COLLATE","COLLATION","COLUMN","COLUMNS","COMMENT","COMMENTS","COMMIT","COMMITTED","CONCURRENTLY","CONFIGURATION","CONFLICT","CONNECTION","CONSTRAINT","CONSTRAINTS","CONTENT","CONTINUE","CONVERSION","COPY","COST","CREATE","CROSS","CSV","CUBE","CURRENT","CURRENT_CATALOG","CURRENT_DATE","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","CYCLE","DATA","DATABASE","DAY","DEALLOCATE","DEC","DECIMAL","DECLARE","DEFAULT","DEFAULTS","DEFERRABLE","DEFERRED","DEFINER","DELETE","DELIMITER","DELIMITERS","DEPENDS","DESC","DETACH","DICTIONARY","DISABLE","DISCARD","DISTINCT","DO","DOCUMENT","DOMAIN","DOUBLE","DROP","EACH","ELSE","ENABLE","ENCODING","ENCRYPTED","END","ENUM","ESCAPE","EVENT","EXCEPT","EXCLUDE","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXPLAIN","EXPRESSION","EXTENSION","EXTERNAL","EXTRACT","FALSE","FAMILY","FETCH","FILTER","FIRST","FLOAT","FOLLOWING","FOR","FORCE","FOREIGN","FORWARD","FREEZE","FROM","FULL","FUNCTION","FUNCTIONS","GENERATED","GLOBAL","GRANT","GRANTED","GREATEST","GROUP","GROUPING","GROUPS","HANDLER","HAVING","HEADER","HOLD","HOUR","IDENTITY","IF","ILIKE","IMMEDIATE","IMMUTABLE","IMPLICIT","IMPORT","IN","INCLUDE","INCLUDING","INCREMENT","INDEX","INDEXES","INHERIT","INHERITS","INITIALLY","INLINE","INNER","INOUT","INPUT","INSENSITIVE","INSERT","INSTEAD","INT","INTEGER","INTERSECT","INTERVAL","INTO","INVOKER","IS","ISNULL","ISOLATION","JOIN","KEY","LABEL","LANGUAGE","LARGE","LAST","LATERAL","LEADING","LEAKPROOF","LEAST","LEFT","LEVEL","LIKE","LIMIT","LISTEN","LOAD","LOCAL","LOCALTIME","LOCALTIMESTAMP","LOCATION","LOCK","LOCKED","LOGGED","MAPPING","MATCH","MATERIALIZED","MAXVALUE","METHOD","MINUTE","MINVALUE","MODE","MONTH","MOVE","NAME","NAMES","NATIONAL","NATURAL","NCHAR","NEW","NEXT","NFC","NFD","NFKC","NFKD","NO","NONE","NORMALIZE","NORMALIZED","NOT","NOTHING","NOTIFY","NOTNULL","NOWAIT","NULL","NULLIF","NULLS","NUMERIC","OBJECT","OF","OFF","OFFSET","OIDS","OLD","ON","ONLY","OPERATOR","OPTION","OPTIONS","OR","ORDER","ORDINALITY","OTHERS","OUT","OUTER","OVER","OVERLAPS","OVERLAY","OVERRIDING","OWNED","OWNER","PARALLEL","PARSER","PARTIAL","PARTITION","PASSING","PASSWORD","PLACING","PLANS","POLICY","POSITION","PRECEDING","PRECISION","PREPARE","PREPARED","PRESERVE","PRIMARY","PRIOR","PRIVILEGES","PROCEDURAL","PROCEDURE","PROCEDURES","PROGRAM","PUBLICATION","QUOTE","RANGE","READ","REAL","REASSIGN","RECHECK","RECURSIVE","REF","REFERENCES","REFERENCING","REFRESH","REINDEX","RELATIVE","RELEASE","RENAME","REPEATABLE","REPLACE","REPLICA","RESET","RESTART","RESTRICT","RETURNING","RETURNS","REVOKE","RIGHT","ROLE","ROLLBACK","ROLLUP","ROUTINE","ROUTINES","ROW","ROWS","RULE","SAVEPOINT","SCHEMA","SCHEMAS","SCROLL","SEARCH","SECOND","SECURITY","SELECT","SEQUENCE","SEQUENCES","SERIALIZABLE","SERVER","SESSION","SESSION_USER","SET","SETOF","SETS","SHARE","SHOW","SIMILAR","SIMPLE","SKIP","SMALLINT","SNAPSHOT","SOME","SQL","STABLE","STANDALONE","START","STATEMENT","STATISTICS","STDIN","STDOUT","STORAGE","STORED","STRICT","STRIP","SUBSCRIPTION","SUBSTRING","SUPPORT","SYMMETRIC","SYSID","SYSTEM","TABLE","TABLES","TABLESAMPLE","TABLESPACE","TEMP","TEMPLATE","TEMPORARY","TEXT","THEN","TIES","TIME","TIMESTAMP","TO","TRAILING","TRANSACTION","TRANSFORM","TREAT","TRIGGER","TRIM","TRUE","TRUNCATE","TRUSTED","TYPE","TYPES","UESCAPE","UNBOUNDED","UNCOMMITTED","UNENCRYPTED","UNION","UNIQUE","UNKNOWN","UNLISTEN","UNLOGGED","UNTIL","UPDATE","USER","USING","VACUUM","VALID","VALIDATE","VALIDATOR","VALUE","VALUES","VARCHAR","VARIADIC","VARYING","VERBOSE","VERSION","VIEW","VIEWS","VOLATILE","WHEN","WHERE","WHITESPACE","WINDOW","WITH","WITHIN","WITHOUT","WORK","WRAPPER","WRITE","XML","XMLATTRIBUTES","XMLCONCAT","XMLELEMENT","XMLEXISTS","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROOT","XMLSERIALIZE","XMLTABLE","YEAR","YES","ZONE"],b=["ADD","AFTER","ALTER COLUMN","ALTER TABLE","CASE","DELETE FROM","END","EXCEPT","FETCH FIRST","FROM","GROUP BY","HAVING","INSERT INTO","INSERT","LIMIT","ORDER BY","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UPDATE","VALUES","WHERE"],w=["INTERSECT","INTERSECT ALL","UNION","UNION ALL"],S=["AND","ELSE","OR","WHEN","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","FULL JOIN","FULL OUTER JOIN","CROSS JOIN","NATURAL JOIN"],E=(function(_){c(C,_);var m=d(C);function C(){return a(this,C),m.apply(this,arguments)}return l(C,[{key:"tokenizer",value:function(){return new i.default({reservedWords:y,reservedTopLevelWords:b,reservedNewlineWords:S,reservedTopLevelWordsNoIndent:w,stringTypes:['""',"''","U&''",'U&""',"$$"],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["$"],namedPlaceholderTypes:[":"],lineCommentTypes:["--"],operators:["!=","<<",">>","||/","|/","::","->>","->","~~*","~~","!~~*","!~~","~*","!~*","!~","!!"]})}}]),C})(r.default);t.default=E,e.exports=t.default})(US,US.exports)),US.exports}var zS={exports:{}},zL;function $pe(){return zL||(zL=1,(function(e,t){function n(_){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(m){return typeof m}:n=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},n(_)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(ic()),i=o(oc());function o(_){return _&&_.__esModule?_:{default:_}}function a(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function s(_,m){for(var C=0;C<m.length;C++){var T=m[C];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}function l(_,m,C){return m&&s(_.prototype,m),_}function c(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),m&&u(_,m)}function u(_,m){return u=Object.setPrototypeOf||function(C,T){return C.__proto__=T,C},u(_,m)}function d(_){var m=g();return function(){var C=h(_),T;if(m){var O=h(this).constructor;T=Reflect.construct(C,arguments,O)}else T=C.apply(this,arguments);return f(this,T)}}function f(_,m){return m&&(n(m)==="object"||typeof m=="function")?m:p(_)}function p(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function g(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function h(_){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)},h(_)}var y=["AES128","AES256","ALLOWOVERWRITE","ANALYSE","ARRAY","AS","ASC","AUTHORIZATION","BACKUP","BINARY","BLANKSASNULL","BOTH","BYTEDICT","BZIP2","CAST","CHECK","COLLATE","COLUMN","CONSTRAINT","CREATE","CREDENTIALS","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURRENT_USER_ID","DEFAULT","DEFERRABLE","DEFLATE","DEFRAG","DELTA","DELTA32K","DESC","DISABLE","DISTINCT","DO","ELSE","EMPTYASNULL","ENABLE","ENCODE","ENCRYPT","ENCRYPTION","END","EXPLICIT","FALSE","FOR","FOREIGN","FREEZE","FULL","GLOBALDICT256","GLOBALDICT64K","GRANT","GZIP","IDENTITY","IGNORE","ILIKE","INITIALLY","INTO","LEADING","LOCALTIME","LOCALTIMESTAMP","LUN","LUNS","LZO","LZOP","MINUS","MOSTLY13","MOSTLY32","MOSTLY8","NATURAL","NEW","NULLS","OFF","OFFLINE","OFFSET","OLD","ON","ONLY","OPEN","ORDER","OVERLAPS","PARALLEL","PARTITION","PERCENT","PERMISSIONS","PLACING","PRIMARY","RAW","READRATIO","RECOVER","REFERENCES","REJECTLOG","RESORT","RESTORE","SESSION_USER","SIMILAR","SYSDATE","SYSTEM","TABLE","TAG","TDES","TEXT255","TEXT32K","THEN","TIMESTAMP","TO","TOP","TRAILING","TRUE","TRUNCATECOLUMNS","UNIQUE","USER","USING","VERBOSE","WALLET","WHEN","WITH","WITHOUT","PREDICATE","COLUMNS","COMPROWS","COMPRESSION","COPY","FORMAT","DELIMITER","FIXEDWIDTH","AVRO","JSON","ENCRYPTED","BZIP2","GZIP","LZOP","PARQUET","ORC","ACCEPTANYDATE","ACCEPTINVCHARS","BLANKSASNULL","DATEFORMAT","EMPTYASNULL","ENCODING","ESCAPE","EXPLICIT_IDS","FILLRECORD","IGNOREBLANKLINES","IGNOREHEADER","NULL AS","REMOVEQUOTES","ROUNDEC","TIMEFORMAT","TRIMBLANKS","TRUNCATECOLUMNS","COMPROWS","COMPUPDATE","MAXERROR","NOLOAD","STATUPDATE","MANIFEST","REGION","IAM_ROLE","MASTER_SYMMETRIC_KEY","SSH","ACCEPTANYDATE","ACCEPTINVCHARS","ACCESS_KEY_ID","SECRET_ACCESS_KEY","AVRO","BLANKSASNULL","BZIP2","COMPROWS","COMPUPDATE","CREDENTIALS","DATEFORMAT","DELIMITER","EMPTYASNULL","ENCODING","ENCRYPTED","ESCAPE","EXPLICIT_IDS","FILLRECORD","FIXEDWIDTH","FORMAT","IAM_ROLE","GZIP","IGNOREBLANKLINES","IGNOREHEADER","JSON","LZOP","MANIFEST","MASTER_SYMMETRIC_KEY","MAXERROR","NOLOAD","NULL AS","READRATIO","REGION","REMOVEQUOTES","ROUNDEC","SSH","STATUPDATE","TIMEFORMAT","SESSION_TOKEN","TRIMBLANKS","TRUNCATECOLUMNS","EXTERNAL","DATA CATALOG","HIVE METASTORE","CATALOG_ROLE","VACUUM","COPY","UNLOAD","EVEN","ALL"],b=["ADD","AFTER","ALTER COLUMN","ALTER TABLE","DELETE FROM","EXCEPT","FROM","GROUP BY","HAVING","INSERT INTO","INSERT","INTERSECT","TOP","LIMIT","MODIFY","ORDER BY","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UNION ALL","UNION","UPDATE","VALUES","WHERE","VACUUM","COPY","UNLOAD","ANALYZE","ANALYSE","DISTKEY","SORTKEY","COMPOUND","INTERLEAVED","FORMAT","DELIMITER","FIXEDWIDTH","AVRO","JSON","ENCRYPTED","BZIP2","GZIP","LZOP","PARQUET","ORC","ACCEPTANYDATE","ACCEPTINVCHARS","BLANKSASNULL","DATEFORMAT","EMPTYASNULL","ENCODING","ESCAPE","EXPLICIT_IDS","FILLRECORD","IGNOREBLANKLINES","IGNOREHEADER","NULL AS","REMOVEQUOTES","ROUNDEC","TIMEFORMAT","TRIMBLANKS","TRUNCATECOLUMNS","COMPROWS","COMPUPDATE","MAXERROR","NOLOAD","STATUPDATE","MANIFEST","REGION","IAM_ROLE","MASTER_SYMMETRIC_KEY","SSH","ACCEPTANYDATE","ACCEPTINVCHARS","ACCESS_KEY_ID","SECRET_ACCESS_KEY","AVRO","BLANKSASNULL","BZIP2","COMPROWS","COMPUPDATE","CREDENTIALS","DATEFORMAT","DELIMITER","EMPTYASNULL","ENCODING","ENCRYPTED","ESCAPE","EXPLICIT_IDS","FILLRECORD","FIXEDWIDTH","FORMAT","IAM_ROLE","GZIP","IGNOREBLANKLINES","IGNOREHEADER","JSON","LZOP","MANIFEST","MASTER_SYMMETRIC_KEY","MAXERROR","NOLOAD","NULL AS","READRATIO","REGION","REMOVEQUOTES","ROUNDEC","SSH","STATUPDATE","TIMEFORMAT","SESSION_TOKEN","TRIMBLANKS","TRUNCATECOLUMNS","EXTERNAL","DATA CATALOG","HIVE METASTORE","CATALOG_ROLE"],w=[],S=["AND","ELSE","OR","OUTER APPLY","WHEN","VACUUM","COPY","UNLOAD","ANALYZE","ANALYSE","DISTKEY","SORTKEY","COMPOUND","INTERLEAVED","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","FULL JOIN","FULL OUTER JOIN","CROSS JOIN","NATURAL JOIN"],E=(function(_){c(C,_);var m=d(C);function C(){return a(this,C),m.apply(this,arguments)}return l(C,[{key:"tokenizer",value:function(){return new i.default({reservedWords:y,reservedTopLevelWords:b,reservedNewlineWords:S,reservedTopLevelWordsNoIndent:w,stringTypes:['""',"''","``"],openParens:["("],closeParens:[")"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:["@","#","$"],lineCommentTypes:["--"],operators:["|/","||/","<<",">>","!=","||"]})}}]),C})(r.default);t.default=E,e.exports=t.default})(zS,zS.exports)),zS.exports}var BS={exports:{}},BL;function Hpe(){return BL||(BL=1,(function(e,t){function n(C){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(T){return typeof T}:n=function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},n(C)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(ic()),i=jS(),o=s(oc()),a=s(fh());function s(C){return C&&C.__esModule?C:{default:C}}function l(C,T){if(!(C instanceof T))throw new TypeError("Cannot call a class as a function")}function c(C,T){for(var O=0;O<T.length;O++){var R=T[O];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(C,R.key,R)}}function u(C,T,O){return T&&c(C.prototype,T),C}function d(C,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(T&&T.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),T&&f(C,T)}function f(C,T){return f=Object.setPrototypeOf||function(O,R){return O.__proto__=R,O},f(C,T)}function p(C){var T=y();return function(){var O=b(C),R;if(T){var j=b(this).constructor;R=Reflect.construct(O,arguments,j)}else R=O.apply(this,arguments);return g(this,R)}}function g(C,T){return T&&(n(T)==="object"||typeof T=="function")?T:h(C)}function h(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function b(C){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)},b(C)}var w=["ALL","ALTER","ANALYSE","ANALYZE","ARRAY_ZIP","ARRAY","AS","ASC","AVG","BETWEEN","CASCADE","CASE","CAST","COALESCE","COLLECT_LIST","COLLECT_SET","COLUMN","COLUMNS","COMMENT","CONSTRAINT","CONTAINS","CONVERT","COUNT","CUME_DIST","CURRENT ROW","CURRENT_DATE","CURRENT_TIMESTAMP","DATABASE","DATABASES","DATE_ADD","DATE_SUB","DATE_TRUNC","DAY_HOUR","DAY_MINUTE","DAY_SECOND","DAY","DAYS","DECODE","DEFAULT","DELETE","DENSE_RANK","DESC","DESCRIBE","DISTINCT","DISTINCTROW","DIV","DROP","ELSE","ENCODE","END","EXISTS","EXPLAIN","EXPLODE_OUTER","EXPLODE","FILTER","FIRST_VALUE","FIRST","FIXED","FLATTEN","FOLLOWING","FROM_UNIXTIME","FULL","GREATEST","GROUP_CONCAT","HOUR_MINUTE","HOUR_SECOND","HOUR","HOURS","IF","IFNULL","IN","INSERT","INTERVAL","INTO","IS","LAG","LAST_VALUE","LAST","LEAD","LEADING","LEAST","LEVEL","LIKE","MAX","MERGE","MIN","MINUTE_SECOND","MINUTE","MONTH","NATURAL","NOT","NOW()","NTILE","NULL","NULLIF","OFFSET","ON DELETE","ON UPDATE","ON","ONLY","OPTIMIZE","OVER","PERCENT_RANK","PRECEDING","RANGE","RANK","REGEXP","RENAME","RLIKE","ROW","ROWS","SECOND","SEPARATOR","SEQUENCE","SIZE","STRING","STRUCT","SUM","TABLE","TABLES","TEMPORARY","THEN","TO_DATE","TO_JSON","TO","TRAILING","TRANSFORM","TRUE","TRUNCATE","TYPE","TYPES","UNBOUNDED","UNIQUE","UNIX_TIMESTAMP","UNLOCK","UNSIGNED","USING","VARIABLES","VIEW","WHEN","WITH","YEAR_MONTH"],S=["ADD","AFTER","ALTER COLUMN","ALTER DATABASE","ALTER SCHEMA","ALTER TABLE","CLUSTER BY","CLUSTERED BY","DELETE FROM","DISTRIBUTE BY","FROM","GROUP BY","HAVING","INSERT INTO","INSERT","LIMIT","OPTIONS","ORDER BY","PARTITION BY","PARTITIONED BY","RANGE","ROWS","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","TBLPROPERTIES","UPDATE","USING","VALUES","WHERE","WINDOW"],E=["EXCEPT ALL","EXCEPT","INTERSECT ALL","INTERSECT","UNION ALL","UNION"],_=["AND","CREATE OR","CREATE","ELSE","LATERAL VIEW","OR","OUTER APPLY","WHEN","XOR","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","FULL JOIN","FULL OUTER JOIN","CROSS JOIN","NATURAL JOIN","ANTI JOIN","SEMI JOIN","LEFT ANTI JOIN","LEFT SEMI JOIN","RIGHT OUTER JOIN","RIGHT SEMI JOIN","NATURAL ANTI JOIN","NATURAL FULL OUTER JOIN","NATURAL INNER JOIN","NATURAL LEFT ANTI JOIN","NATURAL LEFT OUTER JOIN","NATURAL LEFT SEMI JOIN","NATURAL OUTER JOIN","NATURAL RIGHT OUTER JOIN","NATURAL RIGHT SEMI JOIN","NATURAL SEMI JOIN"],m=(function(C){d(O,C);var T=p(O);function O(){return l(this,O),T.apply(this,arguments)}return u(O,[{key:"tokenizer",value:function(){return new o.default({reservedWords:w,reservedTopLevelWords:S,reservedNewlineWords:_,reservedTopLevelWordsNoIndent:E,stringTypes:['""',"''","``","{}"],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:["$"],lineCommentTypes:["--"],operators:["!=","<=>","&&","||","=="]})}},{key:"tokenOverride",value:function(R){if((0,i.isWindow)(R)){var j=this.tokenLookAhead();if(j&&j.type===a.default.OPEN_PAREN)return{type:a.default.RESERVED,value:R.value}}if((0,i.isEnd)(R)){var D=this.tokenLookBehind();if(D&&D.type===a.default.OPERATOR&&D.value===".")return{type:a.default.WORD,value:R.value}}return R}}]),O})(r.default);t.default=m,e.exports=t.default})(BS,BS.exports)),BS.exports}var $S={exports:{}},$L;function Vpe(){return $L||($L=1,(function(e,t){function n(_){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(m){return typeof m}:n=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},n(_)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(ic()),i=o(oc());function o(_){return _&&_.__esModule?_:{default:_}}function a(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function s(_,m){for(var C=0;C<m.length;C++){var T=m[C];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}function l(_,m,C){return m&&s(_.prototype,m),_}function c(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),m&&u(_,m)}function u(_,m){return u=Object.setPrototypeOf||function(C,T){return C.__proto__=T,C},u(_,m)}function d(_){var m=g();return function(){var C=h(_),T;if(m){var O=h(this).constructor;T=Reflect.construct(C,arguments,O)}else T=C.apply(this,arguments);return f(this,T)}}function f(_,m){return m&&(n(m)==="object"||typeof m=="function")?m:p(_)}function p(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function g(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function h(_){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)},h(_)}var y=["ABS","ALL","ALLOCATE","ALTER","AND","ANY","ARE","ARRAY","AS","ASENSITIVE","ASYMMETRIC","AT","ATOMIC","AUTHORIZATION","AVG","BEGIN","BETWEEN","BIGINT","BINARY","BLOB","BOOLEAN","BOTH","BY","CALL","CALLED","CARDINALITY","CASCADED","CASE","CAST","CEIL","CEILING","CHAR","CHAR_LENGTH","CHARACTER","CHARACTER_LENGTH","CHECK","CLOB","CLOSE","COALESCE","COLLATE","COLLECT","COLUMN","COMMIT","CONDITION","CONNECT","CONSTRAINT","CONVERT","CORR","CORRESPONDING","COUNT","COVAR_POP","COVAR_SAMP","CREATE","CROSS","CUBE","CUME_DIST","CURRENT","CURRENT_CATALOG","CURRENT_DATE","CURRENT_DEFAULT_TRANSFORM_GROUP","CURRENT_PATH","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TRANSFORM_GROUP_FOR_TYPE","CURRENT_USER","CURSOR","CYCLE","DATE","DAY","DEALLOCATE","DEC","DECIMAL","DECLARE","DEFAULT","DELETE","DENSE_RANK","DEREF","DESCRIBE","DETERMINISTIC","DISCONNECT","DISTINCT","DOUBLE","DROP","DYNAMIC","EACH","ELEMENT","ELSE","END","END-EXEC","ESCAPE","EVERY","EXCEPT","EXEC","EXECUTE","EXISTS","EXP","EXTERNAL","EXTRACT","FALSE","FETCH","FILTER","FLOAT","FLOOR","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","FUSION","GET","GLOBAL","GRANT","GROUP","GROUPING","HAVING","HOLD","HOUR","IDENTITY","IN","INDICATOR","INNER","INOUT","INSENSITIVE","INSERT","INT","INTEGER","INTERSECT","INTERSECTION","INTERVAL","INTO","IS","JOIN","LANGUAGE","LARGE","LATERAL","LEADING","LEFT","LIKE","LIKE_REGEX","LN","LOCAL","LOCALTIME","LOCALTIMESTAMP","LOWER","MATCH","MAX","MEMBER","MERGE","METHOD","MIN","MINUTE","MOD","MODIFIES","MODULE","MONTH","MULTISET","NATIONAL","NATURAL","NCHAR","NCLOB","NEW","NO","NONE","NORMALIZE","NOT","NULL","NULLIF","NUMERIC","OCTET_LENGTH","OCCURRENCES_REGEX","OF","OLD","ON","ONLY","OPEN","OR","ORDER","OUT","OUTER","OVER","OVERLAPS","OVERLAY","PARAMETER","PARTITION","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","POSITION","POSITION_REGEX","POWER","PRECISION","PREPARE","PRIMARY","PROCEDURE","RANGE","RANK","READS","REAL","RECURSIVE","REF","REFERENCES","REFERENCING","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","RELEASE","RESULT","RETURN","RETURNS","REVOKE","RIGHT","ROLLBACK","ROLLUP","ROW","ROW_NUMBER","ROWS","SAVEPOINT","SCOPE","SCROLL","SEARCH","SECOND","SELECT","SENSITIVE","SESSION_USER","SET","SIMILAR","SMALLINT","SOME","SPECIFIC","SPECIFICTYPE","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQRT","START","STATIC","STDDEV_POP","STDDEV_SAMP","SUBMULTISET","SUBSTRING","SUBSTRING_REGEX","SUM","SYMMETRIC","SYSTEM","SYSTEM_USER","TABLE","TABLESAMPLE","THEN","TIME","TIMESTAMP","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TRAILING","TRANSLATE","TRANSLATE_REGEX","TRANSLATION","TREAT","TRIGGER","TRIM","TRUE","UESCAPE","UNION","UNIQUE","UNKNOWN","UNNEST","UPDATE","UPPER","USER","USING","VALUE","VALUES","VAR_POP","VAR_SAMP","VARBINARY","VARCHAR","VARYING","WHEN","WHENEVER","WHERE","WIDTH_BUCKET","WINDOW","WITH","WITHIN","WITHOUT","YEAR"],b=["ADD","ALTER COLUMN","ALTER TABLE","CASE","DELETE FROM","END","FETCH FIRST","FETCH NEXT","FETCH PRIOR","FETCH LAST","FETCH ABSOLUTE","FETCH RELATIVE","FROM","GROUP BY","HAVING","INSERT INTO","LIMIT","ORDER BY","SELECT","SET SCHEMA","SET","UPDATE","VALUES","WHERE"],w=["INTERSECT","INTERSECT ALL","INTERSECT DISTINCT","UNION","UNION ALL","UNION DISTINCT","EXCEPT","EXCEPT ALL","EXCEPT DISTINCT"],S=["AND","ELSE","OR","WHEN","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","FULL JOIN","FULL OUTER JOIN","CROSS JOIN","NATURAL JOIN"],E=(function(_){c(C,_);var m=d(C);function C(){return a(this,C),m.apply(this,arguments)}return l(C,[{key:"tokenizer",value:function(){return new i.default({reservedWords:y,reservedTopLevelWords:b,reservedNewlineWords:S,reservedTopLevelWordsNoIndent:w,stringTypes:['""',"''"],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[],lineCommentTypes:["--"]})}}]),C})(r.default);t.default=E,e.exports=t.default})($S,$S.exports)),$S.exports}var HS={exports:{}},HL;function qpe(){return HL||(HL=1,(function(e,t){function n(_){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(m){return typeof m}:n=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},n(_)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(ic()),i=o(oc());function o(_){return _&&_.__esModule?_:{default:_}}function a(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function s(_,m){for(var C=0;C<m.length;C++){var T=m[C];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}function l(_,m,C){return m&&s(_.prototype,m),_}function c(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),m&&u(_,m)}function u(_,m){return u=Object.setPrototypeOf||function(C,T){return C.__proto__=T,C},u(_,m)}function d(_){var m=g();return function(){var C=h(_),T;if(m){var O=h(this).constructor;T=Reflect.construct(C,arguments,O)}else T=C.apply(this,arguments);return f(this,T)}}function f(_,m){return m&&(n(m)==="object"||typeof m=="function")?m:p(_)}function p(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function g(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function h(_){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)},h(_)}var y=["ADD","EXTERNAL","PROCEDURE","ALL","FETCH","PUBLIC","ALTER","FILE","RAISERROR","AND","FILLFACTOR","READ","ANY","FOR","READTEXT","AS","FOREIGN","RECONFIGURE","ASC","FREETEXT","REFERENCES","AUTHORIZATION","FREETEXTTABLE","REPLICATION","BACKUP","FROM","RESTORE","BEGIN","FULL","RESTRICT","BETWEEN","FUNCTION","RETURN","BREAK","GOTO","REVERT","BROWSE","GRANT","REVOKE","BULK","GROUP","RIGHT","BY","HAVING","ROLLBACK","CASCADE","HOLDLOCK","ROWCOUNT","CASE","IDENTITY","ROWGUIDCOL","CHECK","IDENTITY_INSERT","RULE","CHECKPOINT","IDENTITYCOL","SAVE","CLOSE","IF","SCHEMA","CLUSTERED","IN","SECURITYAUDIT","COALESCE","INDEX","SELECT","COLLATE","INNER","SEMANTICKEYPHRASETABLE","COLUMN","INSERT","SEMANTICSIMILARITYDETAILSTABLE","COMMIT","INTERSECT","SEMANTICSIMILARITYTABLE","COMPUTE","INTO","SESSION_USER","CONSTRAINT","IS","SET","CONTAINS","JOIN","SETUSER","CONTAINSTABLE","KEY","SHUTDOWN","CONTINUE","KILL","SOME","CONVERT","LEFT","STATISTICS","CREATE","LIKE","SYSTEM_USER","CROSS","LINENO","TABLE","CURRENT","LOAD","TABLESAMPLE","CURRENT_DATE","MERGE","TEXTSIZE","CURRENT_TIME","NATIONAL","THEN","CURRENT_TIMESTAMP","NOCHECK","TO","CURRENT_USER","NONCLUSTERED","TOP","CURSOR","NOT","TRAN","DATABASE","NULL","TRANSACTION","DBCC","NULLIF","TRIGGER","DEALLOCATE","OF","TRUNCATE","DECLARE","OFF","TRY_CONVERT","DEFAULT","OFFSETS","TSEQUAL","DELETE","ON","UNION","DENY","OPEN","UNIQUE","DESC","OPENDATASOURCE","UNPIVOT","DISK","OPENQUERY","UPDATE","DISTINCT","OPENROWSET","UPDATETEXT","DISTRIBUTED","OPENXML","USE","DOUBLE","OPTION","USER","DROP","OR","VALUES","DUMP","ORDER","VARYING","ELSE","OUTER","VIEW","END","OVER","WAITFOR","ERRLVL","PERCENT","WHEN","ESCAPE","PIVOT","WHERE","EXCEPT","PLAN","WHILE","EXEC","PRECISION","WITH","EXECUTE","PRIMARY","WITHIN GROUP","EXISTS","PRINT","WRITETEXT","EXIT","PROC"],b=["ADD","ALTER COLUMN","ALTER TABLE","CASE","DELETE FROM","END","EXCEPT","FROM","GROUP BY","HAVING","INSERT INTO","INSERT","LIMIT","ORDER BY","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UPDATE","VALUES","WHERE"],w=["INTERSECT","INTERSECT ALL","MINUS","UNION","UNION ALL"],S=["AND","ELSE","OR","WHEN","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","FULL JOIN","FULL OUTER JOIN","CROSS JOIN"],E=(function(_){c(C,_);var m=d(C);function C(){return a(this,C),m.apply(this,arguments)}return l(C,[{key:"tokenizer",value:function(){return new i.default({reservedWords:y,reservedTopLevelWords:b,reservedNewlineWords:S,reservedTopLevelWordsNoIndent:w,stringTypes:['""',"N''","''","[]"],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:[],namedPlaceholderTypes:["@"],lineCommentTypes:["--"],specialWordChars:["#","@"],operators:[">=","<=","<>","!=","!<","!>","+=","-=","*=","/=","%=","|=","&=","^=","::"]})}}]),C})(r.default);t.default=E,e.exports=t.default})(HS,HS.exports)),HS.exports}var VL;function Wpe(){if(VL)return Bd;VL=1,Object.defineProperty(Bd,"__esModule",{value:!0}),Bd.supportedDialects=Bd.format=void 0;var e=u(Ppe()),t=u(Dpe()),n=u(Fpe()),r=u(Upe()),i=u(zpe()),o=u(Bpe()),a=u($pe()),s=u(Hpe()),l=u(Vpe()),c=u(qpe());function u(h){return h&&h.__esModule?h:{default:h}}function d(h){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(y){return typeof y}:d=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},d(h)}var f={db2:e.default,mariadb:t.default,mysql:n.default,n1ql:r.default,plsql:i.default,postgresql:o.default,redshift:a.default,spark:s.default,sql:l.default,tsql:c.default},p=function(h){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof h!="string")throw new Error("Invalid query argument. Extected string, instead got "+d(h));var b=l.default;if(y.language!==void 0&&(b=f[y.language]),b===void 0)throw Error("Unsupported SQL dialect: ".concat(y.language));return new b(y).format(h)};Bd.format=p;var g=Object.keys(f);return Bd.supportedDialects=g,Bd}var Gpe=Wpe();let Rm;Rm=(e,t)=>Gpe.format(e,{language:"mysql",...t}),us={isMacintosh:!1,isWindows:!1,isIOS:!1},typeof navigator=="object"&&(us.isMacintosh=navigator.userAgent.indexOf("Macintosh")!==-1,us.isWindows=navigator.userAgent.indexOf("Windows")>=0,us.isIOS=(navigator.userAgent.indexOf("Macintosh")>=0||navigator.userAgent.indexOf("iPad")>=0||navigator.userAgent.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0);function Kpe(e,t){return t.reduce((n,r)=>(r in e&&(n[r]=e[r]),n),{})}let VS,qL,WL,GL,KL,XL,YL,QL,JL,ZL,Ty,eM,tM,nM,rM,iM,oM,aM,sM,lM,cM,uM,dM,fM,hM,pM,mM,gM,yM,vM,bM,wM,xM,_M,EM,SM,CM,TM,AM,IM,OM,kM,NM,RM,jM,LM,MM,PM,DM,FM,UM,zM,BM,$M,HM,VM,qM,WM,GM,KM,XM,YM,QM,JM,ZM,e9,t9,n9,r9,i9,o9,a9,s9,l9,c9,u9,d9,f9,h9,p9,m9,g9,y9,v9,b9,w9,x9,_9,E9,S9,C9,T9,A9,I9,O9,k9,N9,R9,j9,L9,M9,P9,D9,F9,U9,z9,B9,$9,H9,V9,q9,W9,G9,K9,X9,Y9,Q9,J9,Z9,eP,tP,nP,rP,iP,oP,aP,sP,lP,cP,uP,dP,fP,hP,pP,mP,gP,yP,vP,bP,wP,xP,_P,EP,SP,CP,TP,AP,IP,OP,kP,NP,RP,jP,LP,MP,PP,DP,FP,UP,zP,BP,$P,HP;A_=()=>navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language,VS={lessThanXSeconds:{standalone:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"},withPreposition:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"}},xSeconds:{standalone:{one:"1 Sekunde",other:"{{count}} Sekunden"},withPreposition:{one:"1 Sekunde",other:"{{count}} Sekunden"}},halfAMinute:{standalone:"eine halbe Minute",withPreposition:"einer halben Minute"},lessThanXMinutes:{standalone:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"},withPreposition:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"}},xMinutes:{standalone:{one:"1 Minute",other:"{{count}} Minuten"},withPreposition:{one:"1 Minute",other:"{{count}} Minuten"}},aboutXHours:{standalone:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"},withPreposition:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"}},xHours:{standalone:{one:"1 Stunde",other:"{{count}} Stunden"},withPreposition:{one:"1 Stunde",other:"{{count}} Stunden"}},xDays:{standalone:{one:"1 Tag",other:"{{count}} Tage"},withPreposition:{one:"1 Tag",other:"{{count}} Tagen"}},aboutXWeeks:{standalone:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"},withPreposition:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"}},xWeeks:{standalone:{one:"1 Woche",other:"{{count}} Wochen"},withPreposition:{one:"1 Woche",other:"{{count}} Wochen"}},aboutXMonths:{standalone:{one:"etwa 1 Monat",other:"etwa {{count}} Monate"},withPreposition:{one:"etwa 1 Monat",other:"etwa {{count}} Monaten"}},xMonths:{standalone:{one:"1 Monat",other:"{{count}} Monate"},withPreposition:{one:"1 Monat",other:"{{count}} Monaten"}},aboutXYears:{standalone:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahre"},withPreposition:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahren"}},xYears:{standalone:{one:"1 Jahr",other:"{{count}} Jahre"},withPreposition:{one:"1 Jahr",other:"{{count}} Jahren"}},overXYears:{standalone:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahre"},withPreposition:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahren"}},almostXYears:{standalone:{one:"fast 1 Jahr",other:"fast {{count}} Jahre"},withPreposition:{one:"fast 1 Jahr",other:"fast {{count}} Jahren"}}},qL=(e,t,n)=>{let r;const i=n!=null&&n.addSuffix?VS[e].withPreposition:VS[e].standalone;return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:"vor "+r:r},WL={full:"EEEE, do MMMM y",long:"do MMMM y",medium:"do MMM y",short:"dd.MM.y"},GL={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},KL={full:"{{date}} 'um' {{time}}",long:"{{date}} 'um' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},XL={date:fo({formats:WL,defaultWidth:"full"}),time:fo({formats:GL,defaultWidth:"full"}),dateTime:fo({formats:KL,defaultWidth:"full"})},YL={lastWeek:"'letzten' eeee 'um' p",yesterday:"'gestern um' p",today:"'heute um' p",tomorrow:"'morgen um' p",nextWeek:"eeee 'um' p",other:"P"},QL=(e,t,n,r)=>YL[e],JL={narrow:["v.Chr.","n.Chr."],abbreviated:["v.Chr.","n.Chr."],wide:["vor Christus","nach Christus"]},ZL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1. Quartal","2. Quartal","3. Quartal","4. Quartal"]},Ty={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","M\xE4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],wide:["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},eM={narrow:Ty.narrow,abbreviated:["Jan.","Feb.","M\xE4rz","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],wide:Ty.wide},tM={narrow:["S","M","D","M","D","F","S"],short:["So","Mo","Di","Mi","Do","Fr","Sa"],abbreviated:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],wide:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},nM={narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachm.",evening:"Abend",night:"Nacht"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"}},rM={narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachm.",evening:"abends",night:"nachts"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"}},iM=e=>Number(e)+".",oM={ordinalNumber:iM,era:Qr({values:JL,defaultWidth:"wide"}),quarter:Qr({values:ZL,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Qr({values:Ty,formattingValues:eM,defaultWidth:"wide"}),day:Qr({values:tM,defaultWidth:"wide"}),dayPeriod:Qr({values:nM,defaultWidth:"wide",formattingValues:rM,defaultFormattingWidth:"wide"})},aM=/^(\d+)(\.)?/i,sM=/\d+/i,lM={narrow:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,abbreviated:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,wide:/^(vor Christus|vor unserer Zeitrechnung|nach Christus|unserer Zeitrechnung)/i},cM={any:[/^v/i,/^n/i]},uM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](\.)? Quartal/i},dM={any:[/1/i,/2/i,/3/i,/4/i]},fM={narrow:/^[jfmasond]/i,abbreviated:/^(j[a]n|feb|mr[z]?|apr|mai|jun[i]?|jul[i]?|aug|sep|okt|nov|dez)\.?/i,wide:/^(januar|februar|mrz|april|mai|juni|juli|august|september|oktober|november|dezember)/i},hM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^j[a]/i,/^f/i,/^mr/i,/^ap/i,/^mai/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pM={narrow:/^[smdmf]/i,short:/^(so|mo|di|mi|do|fr|sa)/i,abbreviated:/^(son?|mon?|die?|mit?|don?|fre?|sam?)\.?/i,wide:/^(sonntag|montag|dienstag|mittwoch|donnerstag|freitag|samstag)/i},mM={any:[/^so/i,/^mo/i,/^di/i,/^mi/i,/^do/i,/^f/i,/^sa/i]},gM={narrow:/^(vm\.?|nm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,abbreviated:/^(vorm\.?|nachm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,wide:/^(vormittags|nachmittags|Mitternacht|Mittag|morgens|nachmittags|abends|nachts)/i},yM={any:{am:/^v/i,pm:/^n/i,midnight:/^Mitte/i,noon:/^Mitta/i,morning:/morgens/i,afternoon:/nachmittags/i,evening:/abends/i,night:/nachts/i}},vM={ordinalNumber:Md({matchPattern:aM,parsePattern:sM,valueCallback:e=>parseInt(e)}),era:Jr({matchPatterns:lM,defaultMatchWidth:"wide",parsePatterns:cM,defaultParseWidth:"any"}),quarter:Jr({matchPatterns:uM,defaultMatchWidth:"wide",parsePatterns:dM,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Jr({matchPatterns:fM,defaultMatchWidth:"wide",parsePatterns:hM,defaultParseWidth:"any"}),day:Jr({matchPatterns:pM,defaultMatchWidth:"wide",parsePatterns:mM,defaultParseWidth:"any"}),dayPeriod:Jr({matchPatterns:gM,defaultMatchWidth:"wide",parsePatterns:yM,defaultParseWidth:"any"})},bM={code:"de",formatDistance:qL,formatLong:XL,formatRelative:QL,localize:oM,match:vM,options:{weekStartsOn:1,firstWeekContainsDate:4}},wM={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"dd/MM/yyyy"},xM={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},_M={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},EM={date:fo({formats:wM,defaultWidth:"full"}),time:fo({formats:xM,defaultWidth:"full"}),dateTime:fo({formats:_M,defaultWidth:"full"})},SM={code:"en-GB",formatDistance:uL,formatLong:EM,formatRelative:dL,localize:fL,match:hL,options:{weekStartsOn:1,firstWeekContainsDate:4}},CM={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 d\xEDa",other:"{{count}} d\xEDas"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 a\xF1o",other:"alrededor de {{count}} a\xF1os"},xYears:{one:"1 a\xF1o",other:"{{count}} a\xF1os"},overXYears:{one:"m\xE1s de 1 a\xF1o",other:"m\xE1s de {{count}} a\xF1os"},almostXYears:{one:"casi 1 a\xF1o",other:"casi {{count}} a\xF1os"}},TM=(e,t,n)=>{let r;const i=CM[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},AM={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},IM={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},OM={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kM={date:fo({formats:AM,defaultWidth:"full"}),time:fo({formats:IM,defaultWidth:"full"}),dateTime:fo({formats:OM,defaultWidth:"full"})},NM={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'ma\xF1ana a la' p",nextWeek:"eeee 'a la' p",other:"P"},RM={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'ma\xF1ana a las' p",nextWeek:"eeee 'a las' p",other:"P"},jM=(e,t,n,r)=>t.getHours()!==1?RM[e]:NM[e],LM={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despu\xE9s de cristo"]},MM={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1\xBA trimestre","2\xBA trimestre","3\xBA trimestre","4\xBA trimestre"]},PM={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},DM={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s\xE1"],abbreviated:["dom","lun","mar","mi\xE9","jue","vie","s\xE1b"],wide:["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"]},FM={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"ma\xF1ana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"ma\xF1ana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"ma\xF1ana",afternoon:"tarde",evening:"tarde",night:"noche"}},UM={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la ma\xF1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xF1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xF1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},zM=(e,t)=>Number(e)+"\xBA",BM={ordinalNumber:zM,era:Qr({values:LM,defaultWidth:"wide"}),quarter:Qr({values:MM,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:Qr({values:PM,defaultWidth:"wide"}),day:Qr({values:DM,defaultWidth:"wide"}),dayPeriod:Qr({values:FM,defaultWidth:"wide",formattingValues:UM,defaultFormattingWidth:"wide"})},$M=/^(\d+)()?/i,HM=/\d+/i,VM={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},qM={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},WM={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},GM={any:[/1/i,/2/i,/3/i,/4/i]},KM={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},XM={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},YM={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},QM={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},JM={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},ZM={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},e9={ordinalNumber:Md({matchPattern:$M,parsePattern:HM,valueCallback:function(e){return parseInt(e,10)}}),era:Jr({matchPatterns:VM,defaultMatchWidth:"wide",parsePatterns:qM,defaultParseWidth:"any"}),quarter:Jr({matchPatterns:WM,defaultMatchWidth:"wide",parsePatterns:GM,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Jr({matchPatterns:KM,defaultMatchWidth:"wide",parsePatterns:XM,defaultParseWidth:"any"}),day:Jr({matchPatterns:YM,defaultMatchWidth:"wide",parsePatterns:QM,defaultParseWidth:"any"}),dayPeriod:Jr({matchPatterns:JM,defaultMatchWidth:"any",parsePatterns:ZM,defaultParseWidth:"any"})},t9={code:"es",formatDistance:TM,formatLong:kM,formatRelative:jM,localize:BM,match:e9,options:{weekStartsOn:1,firstWeekContainsDate:1}},n9={lessThanXSeconds:{one:"moins d\u2019une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d\u2019une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d\u2019un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu\u2019un an",other:"presque {{count}} ans"}},r9=(e,t,n)=>{let r;const i=n9[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dans "+r:"il y a "+r:r},i9={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},o9={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},a9={full:"{{date}} '\xE0' {{time}}",long:"{{date}} '\xE0' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},s9={date:fo({formats:i9,defaultWidth:"full"}),time:fo({formats:o9,defaultWidth:"full"}),dateTime:fo({formats:a9,defaultWidth:"full"})},l9={lastWeek:"eeee 'dernier \xE0' p",yesterday:"'hier \xE0' p",today:"'aujourd\u2019hui \xE0' p",tomorrow:"'demain \xE0' p'",nextWeek:"eeee 'prochain \xE0' p",other:"P"},c9=(e,t,n,r)=>l9[e],u9={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant J\xE9sus-Christ","apr\xE8s J\xE9sus-Christ"]},d9={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2\xE8me trim.","3\xE8me trim.","4\xE8me trim."],wide:["1er trimestre","2\xE8me trimestre","3\xE8me trimestre","4\xE8me trimestre"]},f9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","f\xE9vr.","mars","avr.","mai","juin","juil.","ao\xFBt","sept.","oct.","nov.","d\xE9c."],wide:["janvier","f\xE9vrier","mars","avril","mai","juin","juillet","ao\xFBt","septembre","octobre","novembre","d\xE9cembre"]},h9={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},p9={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"apr\xE8s-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l\u2019apr\xE8s-midi",evening:"du soir",night:"du matin"}},m9=(e,t)=>{const n=Number(e),r=t==null?void 0:t.unit;if(n===0)return"0";const i=["year","week","hour","minute","second"];let o;return n===1?o=r&&i.includes(r)?"\xE8re":"er":o="\xE8me",n+o},g9=["MMM","MMMM"],y9={preprocessor:(e,t)=>e.getDate()===1||!t.some(n=>n.isToken&&g9.includes(n.value))?t:t.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:m9,era:Qr({values:u9,defaultWidth:"wide"}),quarter:Qr({values:d9,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Qr({values:f9,defaultWidth:"wide"}),day:Qr({values:h9,defaultWidth:"wide"}),dayPeriod:Qr({values:p9,defaultWidth:"wide"})},v9=/^(\d+)(ime|re|me|er|e)?/i,b9=/\d+/i,w9={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},x9={any:[/^av/i,/^ap/i]},_9={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},E9={any:[/1/i,/2/i,/3/i,/4/i]},S9={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},C9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},T9={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},A9={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},I9={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},O9={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},k9={ordinalNumber:Md({matchPattern:v9,parsePattern:b9,valueCallback:e=>parseInt(e)}),era:Jr({matchPatterns:w9,defaultMatchWidth:"wide",parsePatterns:x9,defaultParseWidth:"any"}),quarter:Jr({matchPatterns:_9,defaultMatchWidth:"wide",parsePatterns:E9,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Jr({matchPatterns:S9,defaultMatchWidth:"wide",parsePatterns:C9,defaultParseWidth:"any"}),day:Jr({matchPatterns:T9,defaultMatchWidth:"wide",parsePatterns:A9,defaultParseWidth:"any"}),dayPeriod:Jr({matchPatterns:I9,defaultMatchWidth:"any",parsePatterns:O9,defaultParseWidth:"any"})},N9={code:"fr",formatDistance:r9,formatLong:s9,formatRelative:c9,localize:y9,match:k9,options:{weekStartsOn:1,firstWeekContainsDate:4}},R9={lessThanXSeconds:{one:"1\u79D2\u672A\u6E80",other:"{{count}}\u79D2\u672A\u6E80",oneWithSuffix:"\u7D041\u79D2",otherWithSuffix:"\u7D04{{count}}\u79D2"},xSeconds:{one:"1\u79D2",other:"{{count}}\u79D2"},halfAMinute:"30\u79D2",lessThanXMinutes:{one:"1\u5206\u672A\u6E80",other:"{{count}}\u5206\u672A\u6E80",oneWithSuffix:"\u7D041\u5206",otherWithSuffix:"\u7D04{{count}}\u5206"},xMinutes:{one:"1\u5206",other:"{{count}}\u5206"},aboutXHours:{one:"\u7D041\u6642\u9593",other:"\u7D04{{count}}\u6642\u9593"},xHours:{one:"1\u6642\u9593",other:"{{count}}\u6642\u9593"},xDays:{one:"1\u65E5",other:"{{count}}\u65E5"},aboutXWeeks:{one:"\u7D041\u9031\u9593",other:"\u7D04{{count}}\u9031\u9593"},xWeeks:{one:"1\u9031\u9593",other:"{{count}}\u9031\u9593"},aboutXMonths:{one:"\u7D041\u304B\u6708",other:"\u7D04{{count}}\u304B\u6708"},xMonths:{one:"1\u304B\u6708",other:"{{count}}\u304B\u6708"},aboutXYears:{one:"\u7D041\u5E74",other:"\u7D04{{count}}\u5E74"},xYears:{one:"1\u5E74",other:"{{count}}\u5E74"},overXYears:{one:"1\u5E74\u4EE5\u4E0A",other:"{{count}}\u5E74\u4EE5\u4E0A"},almostXYears:{one:"1\u5E74\u8FD1\u304F",other:"{{count}}\u5E74\u8FD1\u304F"}},j9=(e,t,n)=>{n=n||{};let r;const i=R9[e];return typeof i=="string"?r=i:t===1?n.addSuffix&&i.oneWithSuffix?r=i.oneWithSuffix:r=i.one:n.addSuffix&&i.otherWithSuffix?r=i.otherWithSuffix.replace("{{count}}",String(t)):r=i.other.replace("{{count}}",String(t)),n.addSuffix?n.comparison&&n.comparison>0?r+"\u5F8C":r+"\u524D":r},L9={full:"y\u5E74M\u6708d\u65E5EEEE",long:"y\u5E74M\u6708d\u65E5",medium:"y/MM/dd",short:"y/MM/dd"},M9={full:"H\u6642mm\u5206ss\u79D2 zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},P9={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},D9={date:fo({formats:L9,defaultWidth:"full"}),time:fo({formats:M9,defaultWidth:"full"}),dateTime:fo({formats:P9,defaultWidth:"full"})},F9={lastWeek:"\u5148\u9031\u306Eeeee\u306Ep",yesterday:"\u6628\u65E5\u306Ep",today:"\u4ECA\u65E5\u306Ep",tomorrow:"\u660E\u65E5\u306Ep",nextWeek:"\u7FCC\u9031\u306Eeeee\u306Ep",other:"P"},U9=(e,t,n,r)=>F9[e],z9={narrow:["BC","AC"],abbreviated:["\u7D00\u5143\u524D","\u897F\u66A6"],wide:["\u7D00\u5143\u524D","\u897F\u66A6"]},B9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["\u7B2C1\u56DB\u534A\u671F","\u7B2C2\u56DB\u534A\u671F","\u7B2C3\u56DB\u534A\u671F","\u7B2C4\u56DB\u534A\u671F"]},$9={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],wide:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"]},H9={narrow:["\u65E5","\u6708","\u706B","\u6C34","\u6728","\u91D1","\u571F"],short:["\u65E5","\u6708","\u706B","\u6C34","\u6728","\u91D1","\u571F"],abbreviated:["\u65E5","\u6708","\u706B","\u6C34","\u6728","\u91D1","\u571F"],wide:["\u65E5\u66DC\u65E5","\u6708\u66DC\u65E5","\u706B\u66DC\u65E5","\u6C34\u66DC\u65E5","\u6728\u66DC\u65E5","\u91D1\u66DC\u65E5","\u571F\u66DC\u65E5"]},V9={narrow:{am:"\u5348\u524D",pm:"\u5348\u5F8C",midnight:"\u6DF1\u591C",noon:"\u6B63\u5348",morning:"\u671D",afternoon:"\u5348\u5F8C",evening:"\u591C",night:"\u6DF1\u591C"},abbreviated:{am:"\u5348\u524D",pm:"\u5348\u5F8C",midnight:"\u6DF1\u591C",noon:"\u6B63\u5348",morning:"\u671D",afternoon:"\u5348\u5F8C",evening:"\u591C",night:"\u6DF1\u591C"},wide:{am:"\u5348\u524D",pm:"\u5348\u5F8C",midnight:"\u6DF1\u591C",noon:"\u6B63\u5348",morning:"\u671D",afternoon:"\u5348\u5F8C",evening:"\u591C",night:"\u6DF1\u591C"}},q9={narrow:{am:"\u5348\u524D",pm:"\u5348\u5F8C",midnight:"\u6DF1\u591C",noon:"\u6B63\u5348",morning:"\u671D",afternoon:"\u5348\u5F8C",evening:"\u591C",night:"\u6DF1\u591C"},abbreviated:{am:"\u5348\u524D",pm:"\u5348\u5F8C",midnight:"\u6DF1\u591C",noon:"\u6B63\u5348",morning:"\u671D",afternoon:"\u5348\u5F8C",evening:"\u591C",night:"\u6DF1\u591C"},wide:{am:"\u5348\u524D",pm:"\u5348\u5F8C",midnight:"\u6DF1\u591C",noon:"\u6B63\u5348",morning:"\u671D",afternoon:"\u5348\u5F8C",evening:"\u591C",night:"\u6DF1\u591C"}},W9=(e,t)=>{const n=Number(e);switch(String(t==null?void 0:t.unit)){case"year":return`${n}\u5E74`;case"quarter":return`\u7B2C${n}\u56DB\u534A\u671F`;case"month":return`${n}\u6708`;case"week":return`\u7B2C${n}\u9031`;case"date":return`${n}\u65E5`;case"hour":return`${n}\u6642`;case"minute":return`${n}\u5206`;case"second":return`${n}\u79D2`;default:return`${n}`}},G9={ordinalNumber:W9,era:Qr({values:z9,defaultWidth:"wide"}),quarter:Qr({values:B9,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:Qr({values:$9,defaultWidth:"wide"}),day:Qr({values:H9,defaultWidth:"wide"}),dayPeriod:Qr({values:V9,defaultWidth:"wide",formattingValues:q9,defaultFormattingWidth:"wide"})},K9=/^?\d+(|||||||)?/i,X9=/\d+/i,Y9={narrow:/^(B\.?C\.?|A\.?D\.?)/i,abbreviated:/^([]|)/i,wide:/^([]|)/i},Q9={narrow:[/^B/i,/^A/i],any:[/^()/i,/^(|)/i]},J9={narrow:/^[1234]/i,abbreviated:/^Q[1234]/i,wide:/^[1234]/i},Z9={any:[/(1||)/i,/(2||)/i,/(3||)/i,/(4||)/i]},eP={narrow:/^([123456789]|1[012])/,abbreviated:/^([123456789]|1[012])/i,wide:/^([123456789]|1[012])/i},tP={any:[/^1\D/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},nP={narrow:/^[]/,short:/^[]/,abbreviated:/^[]/,wide:/^[]/},rP={any:[/^/,/^/,/^/,/^/,/^/,/^/,/^/]},iP={any:/^(AM|PM|||||||)/i},oP={any:{am:/^(A|)/i,pm:/^(P|)/i,midnight:/^|/i,noon:/^/i,morning:/^/i,afternoon:/^/i,evening:/^/i,night:/^/i}},aP={ordinalNumber:Md({matchPattern:K9,parsePattern:X9,valueCallback:function(e){return parseInt(e,10)}}),era:Jr({matchPatterns:Y9,defaultMatchWidth:"wide",parsePatterns:Q9,defaultParseWidth:"any"}),quarter:Jr({matchPatterns:J9,defaultMatchWidth:"wide",parsePatterns:Z9,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Jr({matchPatterns:eP,defaultMatchWidth:"wide",parsePatterns:tP,defaultParseWidth:"any"}),day:Jr({matchPatterns:nP,defaultMatchWidth:"wide",parsePatterns:rP,defaultParseWidth:"any"}),dayPeriod:Jr({matchPatterns:iP,defaultMatchWidth:"any",parsePatterns:oP,defaultParseWidth:"any"})},sP={code:"ja",formatDistance:j9,formatLong:D9,formatRelative:U9,localize:G9,match:aP,options:{weekStartsOn:0,firstWeekContainsDate:1}},lP={lessThanXSeconds:{one:"1\uCD08 \uBBF8\uB9CC",other:"{{count}}\uCD08 \uBBF8\uB9CC"},xSeconds:{one:"1\uCD08",other:"{{count}}\uCD08"},halfAMinute:"30\uCD08",lessThanXMinutes:{one:"1\uBD84 \uBBF8\uB9CC",other:"{{count}}\uBD84 \uBBF8\uB9CC"},xMinutes:{one:"1\uBD84",other:"{{count}}\uBD84"},aboutXHours:{one:"\uC57D 1\uC2DC\uAC04",other:"\uC57D {{count}}\uC2DC\uAC04"},xHours:{one:"1\uC2DC\uAC04",other:"{{count}}\uC2DC\uAC04"},xDays:{one:"1\uC77C",other:"{{count}}\uC77C"},aboutXWeeks:{one:"\uC57D 1\uC8FC",other:"\uC57D {{count}}\uC8FC"},xWeeks:{one:"1\uC8FC",other:"{{count}}\uC8FC"},aboutXMonths:{one:"\uC57D 1\uAC1C\uC6D4",other:"\uC57D {{count}}\uAC1C\uC6D4"},xMonths:{one:"1\uAC1C\uC6D4",other:"{{count}}\uAC1C\uC6D4"},aboutXYears:{one:"\uC57D 1\uB144",other:"\uC57D {{count}}\uB144"},xYears:{one:"1\uB144",other:"{{count}}\uB144"},overXYears:{one:"1\uB144 \uC774\uC0C1",other:"{{count}}\uB144 \uC774\uC0C1"},almostXYears:{one:"\uAC70\uC758 1\uB144",other:"\uAC70\uC758 {{count}}\uB144"}},cP=(e,t,n)=>{let r;const i=lP[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?r+" \uD6C4":r+" \uC804":r},uP={full:"y\uB144 M\uC6D4 d\uC77C EEEE",long:"y\uB144 M\uC6D4 d\uC77C",medium:"y.MM.dd",short:"y.MM.dd"},dP={full:"a H\uC2DC mm\uBD84 ss\uCD08 zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},fP={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},hP={date:fo({formats:uP,defaultWidth:"full"}),time:fo({formats:dP,defaultWidth:"full"}),dateTime:fo({formats:fP,defaultWidth:"full"})},pP={lastWeek:"'\uC9C0\uB09C' eeee p",yesterday:"'\uC5B4\uC81C' p",today:"'\uC624\uB298' p",tomorrow:"'\uB0B4\uC77C' p",nextWeek:"'\uB2E4\uC74C' eeee p",other:"P"},mP=(e,t,n,r)=>pP[e],gP={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["\uAE30\uC6D0\uC804","\uC11C\uAE30"]},yP={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1\uBD84\uAE30","2\uBD84\uAE30","3\uBD84\uAE30","4\uBD84\uAE30"]},vP={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1\uC6D4","2\uC6D4","3\uC6D4","4\uC6D4","5\uC6D4","6\uC6D4","7\uC6D4","8\uC6D4","9\uC6D4","10\uC6D4","11\uC6D4","12\uC6D4"],wide:["1\uC6D4","2\uC6D4","3\uC6D4","4\uC6D4","5\uC6D4","6\uC6D4","7\uC6D4","8\uC6D4","9\uC6D4","10\uC6D4","11\uC6D4","12\uC6D4"]},bP={narrow:["\uC77C","\uC6D4","\uD654","\uC218","\uBAA9","\uAE08","\uD1A0"],short:["\uC77C","\uC6D4","\uD654","\uC218","\uBAA9","\uAE08","\uD1A0"],abbreviated:["\uC77C","\uC6D4","\uD654","\uC218","\uBAA9","\uAE08","\uD1A0"],wide:["\uC77C\uC694\uC77C","\uC6D4\uC694\uC77C","\uD654\uC694\uC77C","\uC218\uC694\uC77C","\uBAA9\uC694\uC77C","\uAE08\uC694\uC77C","\uD1A0\uC694\uC77C"]},wP={narrow:{am:"\uC624\uC804",pm:"\uC624\uD6C4",midnight:"\uC790\uC815",noon:"\uC815\uC624",morning:"\uC544\uCE68",afternoon:"\uC624\uD6C4",evening:"\uC800\uB141",night:"\uBC24"},abbreviated:{am:"\uC624\uC804",pm:"\uC624\uD6C4",midnight:"\uC790\uC815",noon:"\uC815\uC624",morning:"\uC544\uCE68",afternoon:"\uC624\uD6C4",evening:"\uC800\uB141",night:"\uBC24"},wide:{am:"\uC624\uC804",pm:"\uC624\uD6C4",midnight:"\uC790\uC815",noon:"\uC815\uC624",morning:"\uC544\uCE68",afternoon:"\uC624\uD6C4",evening:"\uC800\uB141",night:"\uBC24"}},xP={narrow:{am:"\uC624\uC804",pm:"\uC624\uD6C4",midnight:"\uC790\uC815",noon:"\uC815\uC624",morning:"\uC544\uCE68",afternoon:"\uC624\uD6C4",evening:"\uC800\uB141",night:"\uBC24"},abbreviated:{am:"\uC624\uC804",pm:"\uC624\uD6C4",midnight:"\uC790\uC815",noon:"\uC815\uC624",morning:"\uC544\uCE68",afternoon:"\uC624\uD6C4",evening:"\uC800\uB141",night:"\uBC24"},wide:{am:"\uC624\uC804",pm:"\uC624\uD6C4",midnight:"\uC790\uC815",noon:"\uC815\uC624",morning:"\uC544\uCE68",afternoon:"\uC624\uD6C4",evening:"\uC800\uB141",night:"\uBC24"}},_P=(e,t)=>{const n=Number(e);switch(String(t==null?void 0:t.unit)){case"minute":case"second":return String(n);case"date":return n+"\uC77C";default:return n+"\uBC88\uC9F8"}},EP={ordinalNumber:_P,era:Qr({values:gP,defaultWidth:"wide"}),quarter:Qr({values:yP,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Qr({values:vP,defaultWidth:"wide"}),day:Qr({values:bP,defaultWidth:"wide"}),dayPeriod:Qr({values:wP,defaultWidth:"wide",formattingValues:xP,defaultFormattingWidth:"wide"})},SP=/^(\d+)(|)?/i,CP=/\d+/i,TP={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(|)/i},AP={any:[/^(bc|)/i,/^(ad|)/i]},IP={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]?/i},OP={any:[/1/i,/2/i,/3/i,/4/i]},kP={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])/i,wide:/^(1[012]|[123456789])/i},NP={any:[/^1?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},RP={narrow:/^[]/,short:/^[]/,abbreviated:/^[]/,wide:/^[]/},jP={any:[/^/,/^/,/^/,/^/,/^/,/^/,/^/]},LP={any:/^(am|pm|||||||)/i},MP={any:{am:/^(am|)/i,pm:/^(pm|)/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^/i,evening:/^/i,night:/^/i}},PP={ordinalNumber:Md({matchPattern:SP,parsePattern:CP,valueCallback:e=>parseInt(e,10)}),era:Jr({matchPatterns:TP,defaultMatchWidth:"wide",parsePatterns:AP,defaultParseWidth:"any"}),quarter:Jr({matchPatterns:IP,defaultMatchWidth:"wide",parsePatterns:OP,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Jr({matchPatterns:kP,defaultMatchWidth:"wide",parsePatterns:NP,defaultParseWidth:"any"}),day:Jr({matchPatterns:RP,defaultMatchWidth:"wide",parsePatterns:jP,defaultParseWidth:"any"}),dayPeriod:Jr({matchPatterns:LP,defaultMatchWidth:"any",parsePatterns:MP,defaultParseWidth:"any"})},DP={code:"ko",formatDistance:cP,formatLong:hP,formatRelative:mP,localize:EP,match:PP,options:{weekStartsOn:0,firstWeekContainsDate:1}},FP={lessThanXSeconds:{one:"\u4E0D\u5230 1 \u79D2",other:"\u4E0D\u5230 {{count}} \u79D2"},xSeconds:{one:"1 \u79D2",other:"{{count}} \u79D2"},halfAMinute:"\u534A\u5206\u949F",lessThanXMinutes:{one:"\u4E0D\u5230 1 \u5206\u949F",other:"\u4E0D\u5230 {{count}} \u5206\u949F"},xMinutes:{one:"1 \u5206\u949F",other:"{{count}} \u5206\u949F"},xHours:{one:"1 \u5C0F\u65F6",other:"{{count}} \u5C0F\u65F6"},aboutXHours:{one:"\u5927\u7EA6 1 \u5C0F\u65F6",other:"\u5927\u7EA6 {{count}} \u5C0F\u65F6"},xDays:{one:"1 \u5929",other:"{{count}} \u5929"},aboutXWeeks:{one:"\u5927\u7EA6 1 \u4E2A\u661F\u671F",other:"\u5927\u7EA6 {{count}} \u4E2A\u661F\u671F"},xWeeks:{one:"1 \u4E2A\u661F\u671F",other:"{{count}} \u4E2A\u661F\u671F"},aboutXMonths:{one:"\u5927\u7EA6 1 \u4E2A\u6708",other:"\u5927\u7EA6 {{count}} \u4E2A\u6708"},xMonths:{one:"1 \u4E2A\u6708",other:"{{count}} \u4E2A\u6708"},aboutXYears:{one:"\u5927\u7EA6 1 \u5E74",other:"\u5927\u7EA6 {{count}} \u5E74"},xYears:{one:"1 \u5E74",other:"{{count}} \u5E74"},overXYears:{one:"\u8D85\u8FC7 1 \u5E74",other:"\u8D85\u8FC7 {{count}} \u5E74"},almostXYears:{one:"\u5C06\u8FD1 1 \u5E74",other:"\u5C06\u8FD1 {{count}} \u5E74"}},UP=(e,t,n)=>{let r;const i=FP[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?r+"\u5185":r+"\u524D":r},zP={full:"y'\u5E74'M'\u6708'd'\u65E5' EEEE",long:"y'\u5E74'M'\u6708'd'\u65E5'",medium:"yyyy-MM-dd",short:"yy-MM-dd"},BP={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},$P={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},HP={date:fo({formats:zP,defaultWidth:"full"}),time:fo({formats:BP,defaultWidth:"full"}),dateTime:fo({formats:$P,defaultWidth:"full"})};function VP(e,t,n){const r="eeee p";return gpe(e,t,n)?r:e.getTime()>t.getTime()?"'\u4E0B\u4E2A'"+r:"'\u4E0A\u4E2A'"+r}let qP,WP,GP,KP,XP,YP,QP,JP,ZP,eD,tD,nD,rD,iD,oD,aD,sD,lD,cD,uD,dD,fD,hD,pD,qS;qP={lastWeek:VP,yesterday:"'\u6628\u5929' p",today:"'\u4ECA\u5929' p",tomorrow:"'\u660E\u5929' p",nextWeek:VP,other:"PP p"},WP=(e,t,n,r)=>{const i=qP[e];return typeof i=="function"?i(t,n,r):i},GP={narrow:["\u524D","\u516C\u5143"],abbreviated:["\u524D","\u516C\u5143"],wide:["\u516C\u5143\u524D","\u516C\u5143"]},KP={narrow:["1","2","3","4"],abbreviated:["\u7B2C\u4E00\u5B63","\u7B2C\u4E8C\u5B63","\u7B2C\u4E09\u5B63","\u7B2C\u56DB\u5B63"],wide:["\u7B2C\u4E00\u5B63\u5EA6","\u7B2C\u4E8C\u5B63\u5EA6","\u7B2C\u4E09\u5B63\u5EA6","\u7B2C\u56DB\u5B63\u5EA6"]},XP={narrow:["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"],abbreviated:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],wide:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"]},YP={narrow:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],short:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],abbreviated:["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"],wide:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"]},QP={narrow:{am:"\u4E0A",pm:"\u4E0B",midnight:"\u51CC\u6668",noon:"\u5348",morning:"\u65E9",afternoon:"\u4E0B\u5348",evening:"\u665A",night:"\u591C"},abbreviated:{am:"\u4E0A\u5348",pm:"\u4E0B\u5348",midnight:"\u51CC\u6668",noon:"\u4E2D\u5348",morning:"\u65E9\u6668",afternoon:"\u4E2D\u5348",evening:"\u665A\u4E0A",night:"\u591C\u95F4"},wide:{am:"\u4E0A\u5348",pm:"\u4E0B\u5348",midnight:"\u51CC\u6668",noon:"\u4E2D\u5348",morning:"\u65E9\u6668",afternoon:"\u4E2D\u5348",evening:"\u665A\u4E0A",night:"\u591C\u95F4"}},JP={narrow:{am:"\u4E0A",pm:"\u4E0B",midnight:"\u51CC\u6668",noon:"\u5348",morning:"\u65E9",afternoon:"\u4E0B\u5348",evening:"\u665A",night:"\u591C"},abbreviated:{am:"\u4E0A\u5348",pm:"\u4E0B\u5348",midnight:"\u51CC\u6668",noon:"\u4E2D\u5348",morning:"\u65E9\u6668",afternoon:"\u4E2D\u5348",evening:"\u665A\u4E0A",night:"\u591C\u95F4"},wide:{am:"\u4E0A\u5348",pm:"\u4E0B\u5348",midnight:"\u51CC\u6668",noon:"\u4E2D\u5348",morning:"\u65E9\u6668",afternoon:"\u4E2D\u5348",evening:"\u665A\u4E0A",night:"\u591C\u95F4"}},ZP=(e,t)=>{const n=Number(e);switch(t==null?void 0:t.unit){case"date":return n.toString()+"\u65E5";case"hour":return n.toString()+"\u65F6";case"minute":return n.toString()+"\u5206";case"second":return n.toString()+"\u79D2";default:return"\u7B2C "+n.toString()}},eD={ordinalNumber:ZP,era:Qr({values:GP,defaultWidth:"wide"}),quarter:Qr({values:KP,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Qr({values:XP,defaultWidth:"wide"}),day:Qr({values:YP,defaultWidth:"wide"}),dayPeriod:Qr({values:QP,defaultWidth:"wide",formattingValues:JP,defaultFormattingWidth:"wide"})},tD=/^(\s*)?\d+(|||)?/i,nD=/\d+/i,rD={narrow:/^()/i,abbreviated:/^()/i,wide:/^(|)/i},iD={any:[/^()/i,/^()/i]},oD={narrow:/^[1234]/i,abbreviated:/^[]/i,wide:/^[]/i},aD={any:[/(1|)/i,/(2|)/i,/(3|)/i,/(4|)/i]},sD={narrow:/^(|||||||||[])/i,abbreviated:/^(|||||||||[]|\d|1[12])/i,wide:/^(|||||||||[])/i},lD={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^(?!(|))/i,/^/i,/^/i],any:[/^|1/i,/^|2/i,/^|3/i,/^|4/i,/^|5/i,/^|6/i,/^|7/i,/^|8/i,/^|9/i,/^(?!(|))|10/i,/^|11/i,/^|12/i]},cD={narrow:/^[]/i,short:/^[]/i,abbreviated:/^[]/i,wide:/^[]/i},uD={any:[//i,//i,//i,//i,//i,//i,//i]},dD={any:/^(?|?||[]|?||?||)/i},fD={any:{am:/^?/i,pm:/^?/i,midnight:/^/i,noon:/^[]/i,morning:/^/i,afternoon:/^/i,evening:/^?/i,night:/^/i}},hD={ordinalNumber:Md({matchPattern:tD,parsePattern:nD,valueCallback:e=>parseInt(e,10)}),era:Jr({matchPatterns:rD,defaultMatchWidth:"wide",parsePatterns:iD,defaultParseWidth:"any"}),quarter:Jr({matchPatterns:oD,defaultMatchWidth:"wide",parsePatterns:aD,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Jr({matchPatterns:sD,defaultMatchWidth:"wide",parsePatterns:lD,defaultParseWidth:"any"}),day:Jr({matchPatterns:cD,defaultMatchWidth:"wide",parsePatterns:uD,defaultParseWidth:"any"}),dayPeriod:Jr({matchPatterns:dD,defaultMatchWidth:"any",parsePatterns:fD,defaultParseWidth:"any"})},pD={code:"zh-CN",formatDistance:UP,formatLong:HP,formatRelative:WP,localize:eD,match:hD,options:{weekStartsOn:1,firstWeekContainsDate:4}},ey=e=>({"en-GB":SM,"en-US":Sy,"fr-FR":N9,"es-ES":t9,"de-DE":bM,"ja-JP":sP,"ko-KR":DP,"zh-CN":pD})[e]||Sy,qS=e=>Array.from(new Set(e));var jm=(e=>(e.High="1",e.MediumHigh="2",e.Medium="3",e.MediumLow="4",e.Low="5",e))(jm||{}),Pu=(e=>(e[e.Method=0]="Method",e[e.Function=1]="Function",e[e.Constructor=2]="Constructor",e[e.Field=3]="Field",e[e.Variable=4]="Variable",e[e.Class=5]="Class",e[e.Struct=6]="Struct",e[e.Interface=7]="Interface",e[e.Module=8]="Module",e[e.Property=9]="Property",e[e.Event=10]="Event",e[e.Operator=11]="Operator",e[e.Unit=12]="Unit",e[e.Value=13]="Value",e[e.Constant=14]="Constant",e[e.Enum=15]="Enum",e[e.EnumMember=16]="EnumMember",e[e.Keyword=17]="Keyword",e[e.Text=18]="Text",e[e.Color=19]="Color",e[e.File=20]="File",e[e.Reference=21]="Reference",e[e.Customcolor=22]="Customcolor",e[e.Folder=23]="Folder",e[e.TypeParameter=24]="TypeParameter",e[e.User=25]="User",e[e.Issue=26]="Issue",e[e.Snippet=27]="Snippet",e))(Pu||{});let ac,WS,Ay,Iy,$d,GS,Oy,mD,gD,yD,vD,bD,KS,XS,wD,xD,_D,ED,ky,Ny,Ry,YS,SD,Hd,CD,TD,jy,sc,AD,QS,JS,ZS,ID,eC,OD,kD,ND;ds="questdb-sql",ac=e=>e.replace(new RegExp("(?<![\"'`])(--\\s?.*$)","gm"),(t,n)=>{if(n){const r=n.split(`
`);return n.startsWith("--")&&r.length>1?`
`+ac(r[1]):""}return t}),WS=e=>{const t=e.getModel(),n=e.getSelection();return t&&n?t.getValueInRange(n):void 0},Ay=(e,t)=>{const n=e.getModel();if(!n)return[];const r=e.getSelection(),i=r?n.getValueInRange(r):void 0;if(!r||!i){const u=$d(e);return u?[u]:[]}let o=n.getOffsetAt(r.getStartPosition()),a=n.getOffsetAt(r.getEndPosition());const s=Ui(i);ac(s).length>0&&(o+=i.indexOf(s),a=o+s.length);const l=t.find(u=>u.endOffset>=o),c=t.filter(u=>u.startOffset<=a).pop();return!l||!c?[]:Oy(e,n.getPositionAt(l.startOffset),n.getPositionAt(c.endOffset)).map(u=>{const d=XS(n,r,{startOffset:n.getOffsetAt({lineNumber:u.row+1,column:u.column}),endOffset:n.getOffsetAt({lineNumber:u.endRow+1,column:u.endColumn})}),f=n.getValueInRange(d);return ac(Ui(f))?{query:u.query,row:u.row,column:u.column,endRow:u.endRow,endColumn:u.endColumn,selection:{startOffset:n.getOffsetAt({lineNumber:d.startLineNumber,column:d.startColumn}),endOffset:n.getOffsetAt({lineNumber:d.endLineNumber,column:d.endColumn}),queryText:f}}:void 0}).filter(Boolean)},Iy=(e,t,n)=>{const r=e.getValue({preserveBOM:!1,lineEnding:`
`});if(!r||!ac(r))return{sqlTextStack:[],nextSql:null};const i={row:t.lineNumber-1,column:t.column},o=n?{row:n.lineNumber-1,column:n.column}:{row:0,column:1};let a=0;if(n){const m=r.split(`
`),C=Math.min(o.row,m.length-1);for(let T=0;T<C;T++)m[T]!==void 0&&(a+=m[T].length+1);m[C]!==void 0&&(a+=Math.min(o.column-1,m[C].length))}let s=o.row,l=o.column;const c=[];let u=o.row,d=o.column,f=a-1,p=null,g=!1,h=[],y=[],b=!1,w=!1;for(;a<r.length&&(r[a]===`
`||r[a]===" ");)r[a]===`
`?(s++,u++,l=1,d=1):(l++,d++),a++;f=a;let S=a;for(;S<r.length&&p===null;S++){switch(r[S]){case";":{if(g||b||w){l++;break}s<i.row||s===i.row&&l<i.column?(c.push({row:u,col:d,position:f,endRow:s,endCol:l,limit:S}),u=s,d=l+1,f=S+1,l++):p={row:u,col:d,position:f,endRow:s,endCol:l,limit:S};break}case" ":case"	":{f===S&&(u=s,d=l+1,f=S+1),l++;break}case`
`:{b&&(b=!1,f===S-1&&(f=S,u=s,d=l)),s++,l=1,f===S&&(u=s,d=l,f=S+1);break}case"'":{!w&&!b&&(g=!g),l++;break}case"-":{!w&&!g&&(h.push(S),h.length===2&&(h[0]+1===h[1]?(f===S-1&&(f=S,u=s,d=l),h=[],b=!0):h.shift())),l++;break}case"/":{!w&&!b&&!g&&(y.length===0?y.push(S):y=[S]),w&&y.length===1&&y[0]+1===S&&(f===S-1&&(f=S+1,u=s,d=l+1),y=[],w=!1),l++;break}case"*":{!w&&!b&&(y.length===1&&y[0]+1===S?(f===S-1&&(f=S,u=s,d=l),y=[],w=!0):y.length>0&&(y=[])),w&&(y=[S]),l++;break}default:{l++;break}}(b||w)&&f===S-1&&(f=S,u=s,d=l)}p||(f===-1?r.substring(a):r.substring(f)).length>0&&(p={row:u,col:d,position:f===-1?a:f,endRow:s,endCol:l,limit:S});const E=c.filter(m=>m.row!==m.endRow||m.col!==m.endCol),_=p&&(p.row!==p.endRow||p.col!==p.endCol)?p:null;return{sqlTextStack:E,nextSql:_}},$d=e=>{const t=e.getPosition(),n=e.getValue({preserveBOM:!1,lineEnding:`
`});if(!n||!ac(n)||!t)return;const{sqlTextStack:r,nextSql:i}=Iy(e,t),o=t.lineNumber-1,a=r.length>0?r[r.length-1]:null,s=a?{start:a.row,end:a.endRow}:null,l=i?{start:i.row,end:i.endRow}:null,c=s&&o>=s.start&&o<=s.end,u=l&&o>=l.start&&o<=l.end;if(c&&!u)return{query:n.substring(a.position,a.limit),row:a.row,column:a.col,endRow:a.endRow,endColumn:a.endCol};if(u&&!c)return{query:n.substring(i.position,i.limit),row:i.row,column:i.col,endRow:i.endRow,endColumn:i.endCol};if(c&&u){const d=a.endCol;return t.column>d?{query:n.substring(i.position,i.limit),row:i.row,column:i.col,endRow:i.endRow,endColumn:i.endCol}:{query:n.substring(a.position,a.limit),row:a.row,column:a.col,endRow:a.endRow,endColumn:a.endCol}}},GS=e=>{const t=SD(e),n=e.getValue({preserveBOM:!1,lineEnding:`
`});if(!n||!ac(n)||!t)return[];const{sqlTextStack:r,nextSql:i}=Iy(e,t),o=r.map(s=>({query:n.substring(s.position,s.limit),row:s.row,column:s.col,endRow:s.endRow,endColumn:s.endCol})),a=i?{query:n.substring(i.position,i.limit),row:i.row,column:i.col,endRow:i.endRow,endColumn:i.endCol}:null;return[...o,...a?[a]:[]]},Oy=(e,t,n)=>{const r=e.getValue({preserveBOM:!1,lineEnding:`
`});if(!r||!ac(r)||!t||!n)return[];const{sqlTextStack:i,nextSql:o}=Iy(e,n,t),a=i.map(l=>({query:r.substring(l.position,l.limit),row:l.row,column:l.col,endRow:l.endRow,endColumn:l.endCol})),s=o?{query:r.substring(o.position,o.limit),row:o.row,column:o.col,endRow:o.endRow,endColumn:o.endCol}:null;return[...a,...s?[s]:[]]},mD=(e,t,n)=>{const r=e.getModel();if(!r||!n)return[];const i=[];for(const o of n){const a=r.getPositionAt(o.startOffset);if(a.lineNumber===t){const s=r.getPositionAt(o.endOffset),l=r.getValueInRange({startLineNumber:a.lineNumber,startColumn:a.column,endLineNumber:s.lineNumber,endColumn:s.column});i.push({query:l,row:a.lineNumber-1,column:a.column,endRow:s.lineNumber-1,endColumn:s.column})}}return i},gD=e=>{const t=e.getModel();if(!t)return;const n=e.getSelection(),r=WS(e);if(n&&r){let i=t.getOffsetAt(n.getStartPosition()),o=t.getOffsetAt(n.getEndPosition());const a=Ui(r);if(ac(a).length>0){i+=r.indexOf(a),o=i+a.length;const s=t.getPositionAt(i),l=t.getPositionAt(o);e.setSelection({startLineNumber:s.lineNumber,endLineNumber:l.lineNumber,startColumn:s.column,endColumn:l.column});const c=$d(e);if(c)return{...c,selection:{startOffset:i,endOffset:o,queryText:a}}}}},yD=e=>{let t;const n=WS(e);if(n&&ac(Ui(n))?t=gD(e):t=$d(e),!t)return;let r;return t.selection?r={...t,selection:{...t.selection,queryText:Ui(t.selection.queryText)}}:r={...t,query:Ui(t.query)},r},vD=e=>({query:e,row:0,column:1,endRow:0,endColumn:1}),bD=(e,t)=>{const n=e.getModel();if(!n)return;const r=n.getPositionAt(t.startOffset),i=t.query.split(`
`),o=i.length,a=i[i.length-1].length+1;return{query:t.query,row:r.lineNumber-1,column:r.column,endRow:r.lineNumber-1+o-1,endColumn:o===1?r.column+a-1:a}},KS=(e,t,n)=>{if(n===t.query.length){const o=t.query.trimEnd().length,a=Ry(t,o);return{startColumn:a.column,endColumn:a.column,startLineNumber:a.lineNumber,endLineNumber:a.lineNumber}}const r=Ry(t,n),i=e.getModel();if(i){const o=i.getWordAtPosition(r);if(o)return{startColumn:o.startColumn,endColumn:o.endColumn,startLineNumber:r.lineNumber,endLineNumber:r.lineNumber}}return null},XS=(e,t,n)=>{const r=e.getOffsetAt({lineNumber:t.startLineNumber,column:t.startColumn}),i=e.getOffsetAt({lineNumber:t.endLineNumber,column:t.endColumn}),o=Math.max(r,n.startOffset),a=Math.min(i,n.endOffset),s=e.getPositionAt(o),l=e.getPositionAt(a);return{startLineNumber:s.lineNumber,endLineNumber:l.lineNumber,startColumn:s.column,endColumn:l.column}},wD=(e,t)=>{e.trigger("keyboard","type",{text:t}),e.focus()},xD=({editor:e,lineNumber:t,column:n,text:r})=>{e.executeEdits("",[{range:{startLineNumber:t,startColumn:n,endLineNumber:t,endColumn:n},text:r}])},_D=({appendAt:e,model:t,position:n})=>{const r=n.lineNumber===1,i=n.lineNumber===(t==null?void 0:t.getValue().split(`
`).length),o=t==null?void 0:t.getLineContent(n.lineNumber),a=i||t==null?void 0:t.getLineContent(n.lineNumber+1),s=!r&&!i,l={prefix:1,suffix:2,lineStartOffset:1,selectStartOffset:0},c=({end:[{when:()=>r,then:()=>({prefix:1,suffix:0})},{when:()=>!0,then:()=>({prefix:2,suffix:0,selectStartOffset:1})}],cursor:[{when:()=>(t==null?void 0:t.getValue())==="",then:()=>({prefix:0,suffix:1,lineStartOffset:0})},{when:()=>r&&o==="",then:()=>({prefix:0,lineStartOffset:0,suffix:a===""?0:1})},{when:()=>r&&o!=="",then:()=>({prefix:a===""?1:2,suffix:1,selectStartOffset:1})},{when:()=>s&&o==="",then:()=>({prefix:0,suffix:a===""?1:2})},{when:()=>s&&o!==""&&a!=="",then:()=>({prefix:1,suffix:2})},{when:()=>s&&o!==""&&a==="",then:()=>({prefix:1,suffix:1,selectStartOffset:1})},{when:()=>i,then:()=>({prefix:o===""?1:2,suffix:1,lineStartOffset:1,selectStartOffset:o===""?0:1})}]}[e].find(({when:u})=>u())??{then:()=>l}).then();return{...l,...c}},ED=({model:e,position:t,lineStartOffset:n,newQueryLines:r,appendAt:i})=>{if(i==="cursor")return{lineStart:t.lineNumber+n,lineEnd:t.lineNumber+r.length,columnStart:1,columnEnd:r[r.length-1].length+1};const o=((e==null?void 0:e.getValue().split(`
`).length)??0)+n;return{lineStart:o,lineEnd:o+r.length,columnStart:1,columnEnd:r[r.length-1].length+1}},ky=(e,t,n={appendAt:"cursor"})=>{const r=e.getModel();if(r){const i=e.getPosition();if(i){const o=t.split(`
`),{prefix:a,suffix:s,lineStartOffset:l,selectStartOffset:c}=_D({appendAt:n.appendAt,model:r,position:i}),u=ED({model:r,position:i,lineStartOffset:l,appendAt:n.appendAt,newQueryLines:o}),d={lineStart:u.lineStart+c,lineEnd:u.lineStart+c+(o.length-1),columnStart:1,columnEnd:u.columnEnd};xD({editor:e,lineNumber:u.lineStart,column:u.columnStart,text:`${`
`.repeat(a)}${t}${`
`.repeat(s)}`}),e.setSelection({startLineNumber:d.lineStart,endLineNumber:d.lineEnd,startColumn:d.columnStart,endColumn:d.columnEnd})}e.focus(),n.appendAt==="end"&&e.revealLine(r.getLineCount())}},Ny=(e,t)=>{const n=t.getModel();n&&e.editor.setModelMarkers(n,ds,[])},Ry=(e,t)=>{const n=Math.min(t,e.query.length);let r=0,i=1;for(let o=0;o<n;o++)e.query.charAt(o)===`
`?(r++,i=1):i++;return{lineNumber:r+1+e.row,column:r===0?i+e.column:i}},Ui=e=>{let t=e.trim();return t.endsWith(";")&&(t=t.slice(0,-1)),t.trim()},YS=(e,t)=>e.findMatches(t,!0,!1,!0,null,!0)??null,SD=e=>{const t=e.getModel();if(!t)return;const n=t.getLineCount(),r=t.getLineContent(n);return{lineNumber:n,column:r.length+1}},Hd=(e,t)=>{const n=e.getModel();return n?n.getOffsetAt({lineNumber:t.row+1,column:t.column}):0},Ql=(e,t)=>{const n=Ui(e);return`${n}@${t}-${t+n.length}`},Od=e=>{const t=e.lastIndexOf("@"),n=e.slice(0,t),r=e.slice(t+1),[i,o]=r.split("-");return{queryText:n,startOffset:parseInt(i,10),endOffset:parseInt(o,10)}},hm=e=>e?Od(e):{queryText:"",startOffset:0,endOffset:0},CD=(e,t,n)=>{const{queryText:r,startOffset:i}=Od(e),o=TD(i,t,n);return Ql(r,o)},TD=(e,t,n)=>e>=t?e+n:e,jy=(e,t,n)=>{const r=e.getModel();if(!r)return!1;const i=r.getValueLength();if(n<0||n>=i)return!1;const o=r.getPositionAt(n),a=Oy(e,o,o)[0];return a?Ui(a.query)===Ui(t):!1},sc=(e,t)=>{const n=Hd(e,t);return Ql(t.query,n)},AD=(e,t,n,r)=>{const i=t.getModel();if(!i)return;const o=[];if(r){const a=sc(t,r),s=n[a];if(s&&s.error){const{error:l,selection:c}=s,u=KS(t,r,l.position);if(u){const d=c?XS(i,u,c):u;o.push({message:l.error,severity:e.MarkerSeverity.Error,startLineNumber:d.startLineNumber,endLineNumber:d.endLineNumber,startColumn:d.startColumn,endColumn:d.endColumn})}else{const d=Ry(r,l.position);o.push({message:l.error,severity:e.MarkerSeverity.Error,startLineNumber:d.lineNumber,endLineNumber:d.lineNumber,startColumn:d.column,endColumn:d.column})}}}e.editor.setModelMarkers(i,ds,o)},QS=({tables:e,range:t,priority:n,openQuote:r,nextCharQuote:i})=>e.map(o=>({label:o.table_name,kind:Pu.Class,insertText:r?o.table_name+(i?"":'"'):/^[a-z0-9_]+$/i.test(o.table_name)?o.table_name:`"${o.table_name}"`,sortText:n,range:t})),JS=({columns:e,range:t,withTableName:n,priority:r})=>n?e.map(i=>({label:{label:`${i.table_name}.${i.column_name}`,detail:"",description:i.data_type},kind:Pu.Enum,insertText:`${i.table_name}.${i.column_name}`,sortText:r,range:t})):qS(e.map(i=>i.column_name)).map(i=>{var a;const o=e.filter(s=>s.column_name===i).map(s=>s.table_name);return{label:{label:i,detail:` (${o.sort().join(", ")})`,description:o.length>1?"":(a=e.find(s=>s.column_name===i))==null?void 0:a.data_type},kind:Pu.Enum,insertText:i,sortText:r,range:t}}),ZS=e=>[...Lu.functions.map(t=>({label:t,kind:Pu.Function,insertText:t,range:e})),...Lu.dataTypes.map(t=>({label:t,kind:Pu.Keyword,insertText:t,range:e})),...Lu.keywords.map(t=>{const n=t.toUpperCase();return{label:n,kind:Pu.Keyword,filterText:t,insertText:n,range:e}}),...Vj.map(t=>{const n=t.toUpperCase();return{label:n,kind:Pu.Operator,filterText:t,insertText:n,range:e}})],ID=e=>e.replace(/(^")|("$)/g,""),eC=e=>e.match(/(?:,$|,\s$|\b(?:SELECT|UPDATE|COLUMN|ON|JOIN|BY|WHERE|DISTINCT)\s$)/gim),OD=(e,t=[],n={})=>({triggerCharacters:`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz
 ."`.split(""),provideCompletionItems(r,i){const o=r.getWordUntilPosition(i),a=$d(e),s=r.getValueInRange({startLineNumber:i.lineNumber,startColumn:1,endLineNumber:i.lineNumber,endColumn:i.column});let l=[];const c=/^\s*$/.test(s),u=/(-- |--|\/\/ |\/\/)$/gim.test(s);if(c||u)return null;if(a){const d=YS(r,a.query);if(d.length>0){const f=d.find(_=>_.range.startLineNumber===a.row+1),p=a.query.match(new RegExp("(?<=FROM\\s)([^ )]+)","gim")),g=a.query.match(/(JOIN)\s+([^ ]+)/i),h=a.query.match(/(ALTER TABLE)\s+([^ ]+)/i);p?l=qS(p):h&&h[2]&&l.push(h[2]),g&&g[2]&&l.push(g[2]),l=l.map(ID);const y=r.getValueInRange({startLineNumber:(f==null?void 0:f.range.startLineNumber)??1,startColumn:(f==null?void 0:f.range.startColumn)??1,endLineNumber:i.lineNumber,endColumn:o.startColumn}),b={startLineNumber:i.lineNumber,endLineNumber:i.lineNumber,startColumn:o.startColumn,endColumn:o.endColumn},w=r.getValueInRange({startLineNumber:i.lineNumber,startColumn:o.endColumn,endLineNumber:i.lineNumber,endColumn:o.endColumn+1}),S=y.substr(-1)==='"',E=w=='"';if(/(FROM|INTO|(ALTER|BACKUP|DROP|REINDEX|RENAME|TRUNCATE|VACUUM) TABLE|JOIN|UPDATE)\s$/gim.test(y)||/'$/gim.test(y)&&!y.endsWith("= '"))return{suggestions:QS({tables:t,range:b,priority:jm.High,openQuote:S,nextCharQuote:E})};if(/(?:(SELECT|UPDATE).*?(?:(?:,(?:COLUMN )?)|(?:ALTER COLUMN ))?(?:WHERE )?(?: BY )?(?: ON )?(?: SET )?$|ALTER COLUMN )/gim.test(y)&&!c){if(l.length>0){const _=y.match(/\sON\s/gim)!==null;return{suggestions:[...eC(y)?JS({columns:l.reduce((m,C)=>[...m,...n[C]??[]],[]),range:b,withTableName:_,priority:jm.High}):[],...ZS(b)]}}else if(eC(y))return{suggestions:[...JS({columns:Object.values(n).reduce((_,m)=>[..._,...m],[]),range:b,withTableName:!1,priority:jm.High})]}}if(o.word)return{suggestions:[...QS({tables:t,range:b,priority:jm.High,openQuote:S,nextCharQuote:E}),...ZS(b)]}}}}}),kD={provideDocumentFormattingEdits(e,t){const n=Rm(e.getValue(),{indent:" ".repeat(t.tabSize)});return[{range:e.getFullModelRange(),text:n}]}},ND={provideDocumentRangeFormattingEdits(e,t,n){const r=Rm(e.getValueInRange(t),{indent:" ".repeat(n.tabSize)});return[{range:t,text:r}]}};var tC={exports:{}},Xpe=tC.exports,RD;function Ype(){return RD||(RD=1,(function(e,t){(function(n,r){e.exports=r()})(Xpe,function(){var n=function(I,k){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,W){P.__proto__=W}||function(P,W){for(var X in W)Object.prototype.hasOwnProperty.call(W,X)&&(P[X]=W[X])})(I,k)},r=function(){return(r=Object.assign||function(I){for(var k,P=1,W=arguments.length;P<W;P++)for(var X in k=arguments[P])Object.prototype.hasOwnProperty.call(k,X)&&(I[X]=k[X]);return I}).apply(this,arguments)};function i(I,k,P){for(var W,X=0,oe=k.length;X<oe;X++)!W&&X in k||((W=W||Array.prototype.slice.call(k,0,X))[X]=k[X]);return I.concat(W||Array.prototype.slice.call(k))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:_l,a=Object.keys,s=Array.isArray;function l(I,k){return typeof k!="object"||a(k).forEach(function(P){I[P]=k[P]}),I}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var c=Object.getPrototypeOf,u={}.hasOwnProperty;function d(I,k){return u.call(I,k)}function f(I,k){typeof k=="function"&&(k=k(c(I))),(typeof Reflect>"u"?a:Reflect.ownKeys)(k).forEach(function(P){g(I,P,k[P])})}var p=Object.defineProperty;function g(I,k,P,W){p(I,k,l(P&&d(P,"get")&&typeof P.get=="function"?{get:P.get,set:P.set,configurable:!0}:{value:P,configurable:!0,writable:!0},W))}function h(I){return{from:function(k){return I.prototype=Object.create(k.prototype),g(I.prototype,"constructor",I),{extend:f.bind(null,I.prototype)}}}}var y=Object.getOwnPropertyDescriptor,b=[].slice;function w(I,k,P){return b.call(I,k,P)}function S(I,k){return k(I)}function E(I){if(!I)throw new Error("Assertion Failed")}function _(I){o.setImmediate?setImmediate(I):setTimeout(I,0)}function m(I,k){if(typeof k=="string"&&d(I,k))return I[k];if(!k)return I;if(typeof k!="string"){for(var P=[],W=0,X=k.length;W<X;++W){var oe=m(I,k[W]);P.push(oe)}return P}var pe=k.indexOf(".");if(pe!==-1){var xe=I[k.substr(0,pe)];return xe==null?void 0:m(xe,k.substr(pe+1))}}function C(I,k,P){if(I&&k!==void 0&&!("isFrozen"in Object&&Object.isFrozen(I)))if(typeof k!="string"&&"length"in k){E(typeof P!="string"&&"length"in P);for(var W=0,X=k.length;W<X;++W)C(I,k[W],P[W])}else{var oe,pe,xe=k.indexOf(".");xe!==-1?(oe=k.substr(0,xe),(pe=k.substr(xe+1))===""?P===void 0?s(I)&&!isNaN(parseInt(oe))?I.splice(oe,1):delete I[oe]:I[oe]=P:C(xe=!(xe=I[oe])||!d(I,oe)?I[oe]={}:xe,pe,P)):P===void 0?s(I)&&!isNaN(parseInt(k))?I.splice(k,1):delete I[k]:I[k]=P}}function T(I){var k,P={};for(k in I)d(I,k)&&(P[k]=I[k]);return P}var O=[].concat;function R(I){return O.apply([],I)}var dt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(R([8,16,32,64].map(function(I){return["Int","Uint","Float"].map(function(k){return k+I+"Array"})}))).filter(function(I){return o[I]}),j=new Set(dt.map(function(I){return o[I]})),D=null;function L(I){return D=new WeakMap,I=(function k(P){if(!P||typeof P!="object")return P;var W=D.get(P);if(W)return W;if(s(P)){W=[],D.set(P,W);for(var X=0,oe=P.length;X<oe;++X)W.push(k(P[X]))}else if(j.has(P.constructor))W=P;else{var pe,xe=c(P);for(pe in W=xe===Object.prototype?{}:Object.create(xe),D.set(P,W),P)d(P,pe)&&(W[pe]=k(P[pe]))}return W})(I),D=null,I}var V={}.toString;function z(I){return V.call(I).slice(8,-1)}var B=typeof Symbol<"u"?Symbol.iterator:"@@iterator",H=typeof B=="symbol"?function(I){var k;return I!=null&&(k=I[B])&&k.apply(I)}:function(){return null};function J(I,k){return k=I.indexOf(k),0<=k&&I.splice(k,1),0<=k}var ne={};function q(I){var k,P,W,X;if(arguments.length===1){if(s(I))return I.slice();if(this===ne&&typeof I=="string")return[I];if(X=H(I)){for(P=[];!(W=X.next()).done;)P.push(W.value);return P}if(I==null)return[I];if(typeof(k=I.length)!="number")return[I];for(P=new Array(k);k--;)P[k]=I[k];return P}for(k=arguments.length,P=new Array(k);k--;)P[k]=arguments[k];return P}var ee=typeof Symbol<"u"?function(I){return I[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ce=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Et=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ce),te={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function $(I,k){this.name=I,this.message=k}function ae(I,k){return I+". Errors: "+Object.keys(k).map(function(P){return k[P].toString()}).filter(function(P,W,X){return X.indexOf(P)===W}).join(`
`)}function ue(I,k,P,W){this.failures=k,this.failedKeys=W,this.successCount=P,this.message=ae(I,k)}function me(I,k){this.name="BulkError",this.failures=Object.keys(k).map(function(P){return k[P]}),this.failuresByPos=k,this.message=ae(I,this.failures)}h($).from(Error).extend({toString:function(){return this.name+": "+this.message}}),h(ue).from($),h(me).from($);var Fe=Et.reduce(function(I,k){return I[k]=k+"Error",I},{}),Ie=$,Ee=Et.reduce(function(I,k){var P=k+"Error";function W(X,oe){this.name=P,X?typeof X=="string"?(this.message="".concat(X).concat(oe?`
 `+oe:""),this.inner=oe||null):typeof X=="object"&&(this.message="".concat(X.name," ").concat(X.message),this.inner=X):(this.message=te[k]||P,this.inner=null)}return h(W).from(Ie),I[k]=W,I},{});Ee.Syntax=SyntaxError,Ee.Type=TypeError,Ee.Range=RangeError;var He=Ce.reduce(function(I,k){return I[k+"Error"]=Ee[k],I},{}),it=Et.reduce(function(I,k){return["Syntax","Type","Range"].indexOf(k)===-1&&(I[k+"Error"]=Ee[k]),I},{});function St(){}function xt(I){return I}function Ct(I,k){return I==null||I===xt?k:function(P){return k(I(P))}}function We(I,k){return function(){I.apply(this,arguments),k.apply(this,arguments)}}function Oe(I,k){return I===St?k:function(){var P=I.apply(this,arguments);P!==void 0&&(arguments[0]=P);var W=this.onsuccess,X=this.onerror;this.onsuccess=null,this.onerror=null;var oe=k.apply(this,arguments);return W&&(this.onsuccess=this.onsuccess?We(W,this.onsuccess):W),X&&(this.onerror=this.onerror?We(X,this.onerror):X),oe!==void 0?oe:P}}function ye(I,k){return I===St?k:function(){I.apply(this,arguments);var P=this.onsuccess,W=this.onerror;this.onsuccess=this.onerror=null,k.apply(this,arguments),P&&(this.onsuccess=this.onsuccess?We(P,this.onsuccess):P),W&&(this.onerror=this.onerror?We(W,this.onerror):W)}}function Ve(I,k){return I===St?k:function(P){var W=I.apply(this,arguments);l(P,W);var X=this.onsuccess,oe=this.onerror;return this.onsuccess=null,this.onerror=null,P=k.apply(this,arguments),X&&(this.onsuccess=this.onsuccess?We(X,this.onsuccess):X),oe&&(this.onerror=this.onerror?We(oe,this.onerror):oe),W===void 0?P===void 0?void 0:P:l(W,P)}}function Xe(I,k){return I===St?k:function(){return k.apply(this,arguments)!==!1&&I.apply(this,arguments)}}function se(I,k){return I===St?k:function(){var P=I.apply(this,arguments);if(P&&typeof P.then=="function"){for(var W=this,X=arguments.length,oe=new Array(X);X--;)oe[X]=arguments[X];return P.then(function(){return k.apply(W,oe)})}return k.apply(this,arguments)}}it.ModifyError=ue,it.DexieError=$,it.BulkError=me;var we=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Le(I){we=I}var ot={},_e=100,dt=typeof Promise>"u"?[]:(function(){var I=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[I,c(I),I];var k=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[k,c(k),I]})(),Ce=dt[0],Et=dt[1],dt=dt[2],Et=Et&&Et.then,Ne=Ce&&Ce.constructor,Ye=!!dt,jt=function(I,k){xn.push([I,k]),Jt&&(queueMicrotask(Ji),Jt=!1)},qt=!0,Jt=!0,Ht=[],en=[],hn=xt,Zt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:St,pgp:!1,env:{},finalize:St},Tt=Zt,xn=[],Jn=0,ir=[];function Bt(I){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var k=this._PSD=Tt;if(typeof I!="function"){if(I!==ot)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&mr(this,this._value))}this._state=null,this._value=null,++k.ref,(function P(W,X){try{X(function(oe){if(W._state===null){if(oe===W)throw new TypeError("A promise cannot be resolved with itself.");var pe=W._lib&&Lr();oe&&typeof oe.then=="function"?P(W,function(xe,De){oe instanceof Bt?oe._then(xe,De):oe.then(xe,De)}):(W._state=!0,W._value=oe,ri(W)),pe&&or()}},mr.bind(null,W))}catch(oe){mr(W,oe)}})(this,I)}var Sr={get:function(){var I=Tt,k=Kr;function P(W,X){var oe=this,pe=!I.global&&(I!==Tt||k!==Kr),xe=pe&&!ln(),De=new Bt(function(ze,Qe){Hn(oe,new _r(Ue(W,I,pe,xe),Ue(X,I,pe,xe),ze,Qe,I))});return this._consoleTask&&(De._consoleTask=this._consoleTask),De}return P.prototype=ot,P},set:function(I){g(this,"then",I&&I.prototype===ot?Sr:{get:function(){return I},set:Sr.set})}};function _r(I,k,P,W,X){this.onFulfilled=typeof I=="function"?I:null,this.onRejected=typeof k=="function"?k:null,this.resolve=P,this.reject=W,this.psd=X}function mr(I,k){var P,W;en.push(k),I._state===null&&(P=I._lib&&Lr(),k=hn(k),I._state=!1,I._value=k,W=I,Ht.some(function(X){return X._value===W._value})||Ht.push(W),ri(I),P&&or())}function ri(I){var k=I._listeners;I._listeners=[];for(var P=0,W=k.length;P<W;++P)Hn(I,k[P]);var X=I._PSD;--X.ref||X.finalize(),Jn===0&&(++Jn,jt(function(){--Jn==0&&Cr()},[]))}function Hn(I,k){if(I._state!==null){var P=I._state?k.onFulfilled:k.onRejected;if(P===null)return(I._state?k.resolve:k.reject)(I._value);++k.psd.ref,++Jn,jt(fi,[P,I,k])}else I._listeners.push(k)}function fi(I,k,P){try{var W,X=k._value;!k._state&&en.length&&(en=[]),W=we&&k._consoleTask?k._consoleTask.run(function(){return I(X)}):I(X),k._state||en.indexOf(X)!==-1||(function(oe){for(var pe=Ht.length;pe;)if(Ht[--pe]._value===oe._value)return Ht.splice(pe,1)})(k),P.resolve(W)}catch(oe){P.reject(oe)}finally{--Jn==0&&Cr(),--P.psd.ref||P.psd.finalize()}}function Ji(){It(Zt,function(){Lr()&&or()})}function Lr(){var I=qt;return Jt=qt=!1,I}function or(){var I,k,P;do for(;0<xn.length;)for(I=xn,xn=[],P=I.length,k=0;k<P;++k){var W=I[k];W[0].apply(null,W[1])}while(0<xn.length);Jt=qt=!0}function Cr(){var I=Ht;Ht=[],I.forEach(function(W){W._PSD.onunhandled.call(null,W._value,W)});for(var k=ir.slice(0),P=k.length;P;)k[--P]()}function Or(I){return new Bt(ot,!1,I)}function er(I,k){var P=Tt;return function(){var W=Lr(),X=Tt;try{return Me(P,!0),I.apply(this,arguments)}catch(oe){k&&k(oe)}finally{Me(X,!1),W&&or()}}}f(Bt.prototype,{then:Sr,_then:function(I,k){Hn(this,new _r(null,null,I,k,Tt))},catch:function(I){if(arguments.length===1)return this.then(null,I);var k=I,P=arguments[1];return typeof k=="function"?this.then(null,function(W){return(W instanceof k?P:Or)(W)}):this.then(null,function(W){return(W&&W.name===k?P:Or)(W)})},finally:function(I){return this.then(function(k){return Bt.resolve(I()).then(function(){return k})},function(k){return Bt.resolve(I()).then(function(){return Or(k)})})},timeout:function(I,k){var P=this;return I<1/0?new Bt(function(W,X){var oe=setTimeout(function(){return X(new Ee.Timeout(k))},I);P.then(W,X).finally(clearTimeout.bind(null,oe))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&g(Bt.prototype,Symbol.toStringTag,"Dexie.Promise"),Zt.env=ut(),f(Bt,{all:function(){var I=q.apply(null,arguments).map(Wn);return new Bt(function(k,P){I.length===0&&k([]);var W=I.length;I.forEach(function(X,oe){return Bt.resolve(X).then(function(pe){I[oe]=pe,--W||k(I)},P)})})},resolve:function(I){return I instanceof Bt?I:I&&typeof I.then=="function"?new Bt(function(k,P){I.then(k,P)}):new Bt(ot,!0,I)},reject:Or,race:function(){var I=q.apply(null,arguments).map(Wn);return new Bt(function(k,P){I.map(function(W){return Bt.resolve(W).then(k,P)})})},PSD:{get:function(){return Tt},set:function(I){return Tt=I}},totalEchoes:{get:function(){return Kr}},newPSD:Ni,usePSD:It,scheduler:{get:function(){return jt},set:function(I){jt=I}},rejectionMapper:{get:function(){return hn},set:function(I){hn=I}},follow:function(I,k){return new Bt(function(P,W){return Ni(function(X,oe){var pe=Tt;pe.unhandleds=[],pe.onunhandled=oe,pe.finalize=We(function(){var xe,De=this;xe=function(){De.unhandleds.length===0?X():oe(De.unhandleds[0])},ir.push(function ze(){xe(),ir.splice(ir.indexOf(ze),1)}),++Jn,jt(function(){--Jn==0&&Cr()},[])},pe.finalize),I()},k,P,W)})}}),Ne&&(Ne.allSettled&&g(Bt,"allSettled",function(){var I=q.apply(null,arguments).map(Wn);return new Bt(function(k){I.length===0&&k([]);var P=I.length,W=new Array(P);I.forEach(function(X,oe){return Bt.resolve(X).then(function(pe){return W[oe]={status:"fulfilled",value:pe}},function(pe){return W[oe]={status:"rejected",reason:pe}}).then(function(){return--P||k(W)})})})}),Ne.any&&typeof AggregateError<"u"&&g(Bt,"any",function(){var I=q.apply(null,arguments).map(Wn);return new Bt(function(k,P){I.length===0&&P(new AggregateError([]));var W=I.length,X=new Array(W);I.forEach(function(oe,pe){return Bt.resolve(oe).then(function(xe){return k(xe)},function(xe){X[pe]=xe,--W||P(new AggregateError(X))})})})}),Ne.withResolvers&&(Bt.withResolvers=Ne.withResolvers));var Zn={awaits:0,echoes:0,id:0},yr=0,Hr=[],Gr=0,Kr=0,$i=0;function Ni(I,k,P,W){var X=Tt,oe=Object.create(X);return oe.parent=X,oe.ref=0,oe.global=!1,oe.id=++$i,Zt.env,oe.env=Ye?{Promise:Bt,PromiseProp:{value:Bt,configurable:!0,writable:!0},all:Bt.all,race:Bt.race,allSettled:Bt.allSettled,any:Bt.any,resolve:Bt.resolve,reject:Bt.reject}:{},k&&l(oe,k),++X.ref,oe.finalize=function(){--this.parent.ref||this.parent.finalize()},W=It(oe,I,P,W),oe.ref===0&&oe.finalize(),W}function Pi(){return Zn.id||(Zn.id=++yr),++Zn.awaits,Zn.echoes+=_e,Zn.id}function ln(){return!!Zn.awaits&&(--Zn.awaits==0&&(Zn.id=0),Zn.echoes=Zn.awaits*_e,!0)}function Wn(I){return Zn.echoes&&I&&I.constructor===Ne?(Pi(),I.then(function(k){return ln(),k},function(k){return ln(),pt(k)})):I}function Tr(){var I=Hr[Hr.length-1];Hr.pop(),Me(I,!1)}function Me(I,k){var P,W=Tt;(k?!Zn.echoes||Gr++&&I===Tt:!Gr||--Gr&&I===Tt)||queueMicrotask(k?(function(X){++Kr,Zn.echoes&&--Zn.echoes!=0||(Zn.echoes=Zn.awaits=Zn.id=0),Hr.push(Tt),Me(X,!0)}).bind(null,I):Tr),I!==Tt&&(Tt=I,W===Zt&&(Zt.env=ut()),Ye&&(P=Zt.env.Promise,k=I.env,(W.global||I.global)&&(Object.defineProperty(o,"Promise",k.PromiseProp),P.all=k.all,P.race=k.race,P.resolve=k.resolve,P.reject=k.reject,k.allSettled&&(P.allSettled=k.allSettled),k.any&&(P.any=k.any))))}function ut(){var I=o.Promise;return Ye?{Promise:I,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:I.all,race:I.race,allSettled:I.allSettled,any:I.any,resolve:I.resolve,reject:I.reject}:{}}function It(I,k,P,W,X){var oe=Tt;try{return Me(I,!0),k(P,W,X)}finally{Me(oe,!1)}}function Ue(I,k,P,W){return typeof I!="function"?I:function(){var X=Tt;P&&Pi(),Me(k,!0);try{return I.apply(this,arguments)}finally{Me(X,!1),W&&queueMicrotask(ln)}}}function lt(I){Promise===Ne&&Zn.echoes===0?Gr===0?I():enqueueNativeMicroTask(I):setTimeout(I,0)}(""+Et).indexOf("[native code]")===-1&&(Pi=ln=St);var pt=Bt.reject,Ut="\uFFFF",Pt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",In="String expected.",mn=[],Xt="__dbnames",un="readonly",Ln="readwrite";function Yt(I,k){return I?k?function(){return I.apply(this,arguments)&&k.apply(this,arguments)}:I:k}var tn={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Fn(I){return typeof I!="string"||/\./.test(I)?function(k){return k}:function(k){return k[I]===void 0&&I in k&&delete(k=L(k))[I],k}}function hr(){throw Ee.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function dn(I,k){try{var P=Dr(I),W=Dr(k);if(P!==W)return P==="Array"?1:W==="Array"?-1:P==="binary"?1:W==="binary"?-1:P==="string"?1:W==="string"?-1:P==="Date"?1:W!=="Date"?NaN:-1;switch(P){case"number":case"Date":case"string":return k<I?1:I<k?-1:0;case"binary":return(function(X,oe){for(var pe=X.length,xe=oe.length,De=pe<xe?pe:xe,ze=0;ze<De;++ze)if(X[ze]!==oe[ze])return X[ze]<oe[ze]?-1:1;return pe===xe?0:pe<xe?-1:1})(Ir(I),Ir(k));case"Array":return(function(X,oe){for(var pe=X.length,xe=oe.length,De=pe<xe?pe:xe,ze=0;ze<De;++ze){var Qe=dn(X[ze],oe[ze]);if(Qe!==0)return Qe}return pe===xe?0:pe<xe?-1:1})(I,k)}}catch{}return NaN}function Dr(I){var k=typeof I;return k!="object"?k:ArrayBuffer.isView(I)?"binary":(I=z(I),I==="ArrayBuffer"?"binary":I)}function Ir(I){return I instanceof Uint8Array?I:ArrayBuffer.isView(I)?new Uint8Array(I.buffer,I.byteOffset,I.byteLength):new Uint8Array(I)}function vi(I,k,P){var W=I.schema.yProps;return W?(k&&0<P.numFailures&&(k=k.filter(function(X,oe){return!P.failures[oe]})),Promise.all(W.map(function(X){return X=X.updatesTable,k?I.db.table(X).where("k").anyOf(k).delete():I.db.table(X).clear()})).then(function(){return P})):P}var Rn=(Sn.prototype.execute=function(I){var k=this["@@propmod"];if(k.add!==void 0){var P=k.add;if(s(P))return i(i([],s(I)?I:[],!0),P).sort();if(typeof P=="number")return(Number(I)||0)+P;if(typeof P=="bigint")try{return BigInt(I)+P}catch{return BigInt(0)+P}throw new TypeError("Invalid term ".concat(P))}if(k.remove!==void 0){var W=k.remove;if(s(W))return s(I)?I.filter(function(X){return!W.includes(X)}).sort():[];if(typeof W=="number")return Number(I)-W;if(typeof W=="bigint")try{return BigInt(I)-W}catch{return BigInt(0)-W}throw new TypeError("Invalid subtrahend ".concat(W))}return P=(P=k.replacePrefix)===null||P===void 0?void 0:P[0],P&&typeof I=="string"&&I.startsWith(P)?k.replacePrefix[1]+I.substring(P.length):I},Sn);function Sn(I){this["@@propmod"]=I}function On(I,k){for(var P=a(k),W=P.length,X=!1,oe=0;oe<W;++oe){var pe=P[oe],xe=k[pe],De=m(I,pe);xe instanceof Rn?(C(I,pe,xe.execute(De)),X=!0):De!==xe&&(C(I,pe,xe),X=!0)}return X}var kr=(Cn.prototype._trans=function(I,k,P){var W=this._tx||Tt.trans,X=this.name,oe=we&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(I==="readonly"?"read":"write"," ").concat(this.name));function pe(ze,Qe,je){if(!je.schema[X])throw new Ee.NotFound("Table "+X+" not part of transaction");return k(je.idbtrans,je)}var xe=Lr();try{var De=W&&W.db._novip===this.db._novip?W===Tt.trans?W._promise(I,pe,P):Ni(function(){return W._promise(I,pe,P)},{trans:W,transless:Tt.transless||Tt}):(function ze(Qe,je,Ze,Be){if(Qe.idbdb&&(Qe._state.openComplete||Tt.letThrough||Qe._vip)){var Ge=Qe._createTransaction(je,Ze,Qe._dbSchema);try{Ge.create(),Qe._state.PR1398_maxLoop=3}catch(Ke){return Ke.name===Fe.InvalidState&&Qe.isOpen()&&0<--Qe._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Qe.close({disableAutoOpen:!1}),Qe.open().then(function(){return ze(Qe,je,Ze,Be)})):pt(Ke)}return Ge._promise(je,function(Ke,et){return Ni(function(){return Tt.trans=Ge,Be(Ke,et,Ge)})}).then(function(Ke){if(je==="readwrite")try{Ge.idbtrans.commit()}catch{}return je==="readonly"?Ke:Ge._completion.then(function(){return Ke})})}if(Qe._state.openComplete)return pt(new Ee.DatabaseClosed(Qe._state.dbOpenError));if(!Qe._state.isBeingOpened){if(!Qe._state.autoOpen)return pt(new Ee.DatabaseClosed);Qe.open().catch(St)}return Qe._state.dbReadyPromise.then(function(){return ze(Qe,je,Ze,Be)})})(this.db,I,[this.name],pe);return oe&&(De._consoleTask=oe,De=De.catch(function(ze){return console.trace(ze),pt(ze)})),De}finally{xe&&or()}},Cn.prototype.get=function(I,k){var P=this;return I&&I.constructor===Object?this.where(I).first(k):I==null?pt(new Ee.Type("Invalid argument to Table.get()")):this._trans("readonly",function(W){return P.core.get({trans:W,key:I}).then(function(X){return P.hook.reading.fire(X)})}).then(k)},Cn.prototype.where=function(I){if(typeof I=="string")return new this.db.WhereClause(this,I);if(s(I))return new this.db.WhereClause(this,"[".concat(I.join("+"),"]"));var k=a(I);if(k.length===1)return this.where(k[0]).equals(I[k[0]]);var P=this.schema.indexes.concat(this.schema.primKey).filter(function(xe){if(xe.compound&&k.every(function(ze){return 0<=xe.keyPath.indexOf(ze)})){for(var De=0;De<k.length;++De)if(k.indexOf(xe.keyPath[De])===-1)return!1;return!0}return!1}).sort(function(xe,De){return xe.keyPath.length-De.keyPath.length})[0];if(P&&this.db._maxKey!==Ut){var oe=P.keyPath.slice(0,k.length);return this.where(oe).equals(oe.map(function(De){return I[De]}))}!P&&we&&console.warn("The query ".concat(JSON.stringify(I)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(k.join("+"),"]"));var W=this.schema.idxByName;function X(xe,De){return dn(xe,De)===0}var pe=k.reduce(function(je,De){var ze=je[0],Qe=je[1],je=W[De],Ze=I[De];return[ze||je,ze||!je?Yt(Qe,je&&je.multi?function(Be){return Be=m(Be,De),s(Be)&&Be.some(function(Ge){return X(Ze,Ge)})}:function(Be){return X(Ze,m(Be,De))}):Qe]},[null,null]),oe=pe[0],pe=pe[1];return oe?this.where(oe.name).equals(I[oe.keyPath]).filter(pe):P?this.filter(pe):this.where(k).equals("")},Cn.prototype.filter=function(I){return this.toCollection().and(I)},Cn.prototype.count=function(I){return this.toCollection().count(I)},Cn.prototype.offset=function(I){return this.toCollection().offset(I)},Cn.prototype.limit=function(I){return this.toCollection().limit(I)},Cn.prototype.each=function(I){return this.toCollection().each(I)},Cn.prototype.toArray=function(I){return this.toCollection().toArray(I)},Cn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Cn.prototype.orderBy=function(I){return new this.db.Collection(new this.db.WhereClause(this,s(I)?"[".concat(I.join("+"),"]"):I))},Cn.prototype.reverse=function(){return this.toCollection().reverse()},Cn.prototype.mapToClass=function(I){var k,P=this.db,W=this.name;function X(){return k!==null&&k.apply(this,arguments)||this}(this.schema.mappedClass=I).prototype instanceof hr&&((function(De,ze){if(typeof ze!="function"&&ze!==null)throw new TypeError("Class extends value "+String(ze)+" is not a constructor or null");function Qe(){this.constructor=De}n(De,ze),De.prototype=ze===null?Object.create(ze):(Qe.prototype=ze.prototype,new Qe)})(X,k=I),Object.defineProperty(X.prototype,"db",{get:function(){return P},enumerable:!1,configurable:!0}),X.prototype.table=function(){return W},I=X);for(var oe=new Set,pe=I.prototype;pe;pe=c(pe))Object.getOwnPropertyNames(pe).forEach(function(De){return oe.add(De)});function xe(De){if(!De)return De;var ze,Qe=Object.create(I.prototype);for(ze in De)if(!oe.has(ze))try{Qe[ze]=De[ze]}catch{}return Qe}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=xe,this.hook("reading",xe),I},Cn.prototype.defineClass=function(){return this.mapToClass(function(I){l(this,I)})},Cn.prototype.add=function(I,k){var P=this,W=this.schema.primKey,X=W.auto,oe=W.keyPath,pe=I;return oe&&X&&(pe=Fn(oe)(I)),this._trans("readwrite",function(xe){return P.core.mutate({trans:xe,type:"add",keys:k!=null?[k]:null,values:[pe]})}).then(function(xe){return xe.numFailures?Bt.reject(xe.failures[0]):xe.lastResult}).then(function(xe){if(oe)try{C(I,oe,xe)}catch{}return xe})},Cn.prototype.upsert=function(I,k){var P=this,W=this.schema.primKey.keyPath;return this._trans("readwrite",function(X){return P.core.get({trans:X,key:I}).then(function(oe){var pe=oe??{};return On(pe,k),W&&C(pe,W,I),P.core.mutate({trans:X,type:"put",values:[pe],keys:[I],upsert:!0,updates:{keys:[I],changeSpecs:[k]}}).then(function(xe){return xe.numFailures?Bt.reject(xe.failures[0]):!!oe})})})},Cn.prototype.update=function(I,k){return typeof I!="object"||s(I)?this.where(":id").equals(I).modify(k):(I=m(I,this.schema.primKey.keyPath),I===void 0?pt(new Ee.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(I).modify(k))},Cn.prototype.put=function(I,k){var P=this,W=this.schema.primKey,X=W.auto,oe=W.keyPath,pe=I;return oe&&X&&(pe=Fn(oe)(I)),this._trans("readwrite",function(xe){return P.core.mutate({trans:xe,type:"put",values:[pe],keys:k!=null?[k]:null})}).then(function(xe){return xe.numFailures?Bt.reject(xe.failures[0]):xe.lastResult}).then(function(xe){if(oe)try{C(I,oe,xe)}catch{}return xe})},Cn.prototype.delete=function(I){var k=this;return this._trans("readwrite",function(P){return k.core.mutate({trans:P,type:"delete",keys:[I]}).then(function(W){return vi(k,[I],W)}).then(function(W){return W.numFailures?Bt.reject(W.failures[0]):void 0})})},Cn.prototype.clear=function(){var I=this;return this._trans("readwrite",function(k){return I.core.mutate({trans:k,type:"deleteRange",range:tn}).then(function(P){return vi(I,null,P)})}).then(function(k){return k.numFailures?Bt.reject(k.failures[0]):void 0})},Cn.prototype.bulkGet=function(I){var k=this;return this._trans("readonly",function(P){return k.core.getMany({keys:I,trans:P}).then(function(W){return W.map(function(X){return k.hook.reading.fire(X)})})})},Cn.prototype.bulkAdd=function(I,k,P){var W=this,X=Array.isArray(k)?k:void 0,oe=(P=P||(X?void 0:k))?P.allKeys:void 0;return this._trans("readwrite",function(pe){var ze=W.schema.primKey,xe=ze.auto,ze=ze.keyPath;if(ze&&X)throw new Ee.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(X&&X.length!==I.length)throw new Ee.InvalidArgument("Arguments objects and keys must have the same length");var De=I.length,ze=ze&&xe?I.map(Fn(ze)):I;return W.core.mutate({trans:pe,type:"add",keys:X,values:ze,wantResults:oe}).then(function(Ge){var je=Ge.numFailures,Ze=Ge.results,Be=Ge.lastResult,Ge=Ge.failures;if(je===0)return oe?Ze:Be;throw new me("".concat(W.name,".bulkAdd(): ").concat(je," of ").concat(De," operations failed"),Ge)})})},Cn.prototype.bulkPut=function(I,k,P){var W=this,X=Array.isArray(k)?k:void 0,oe=(P=P||(X?void 0:k))?P.allKeys:void 0;return this._trans("readwrite",function(pe){var ze=W.schema.primKey,xe=ze.auto,ze=ze.keyPath;if(ze&&X)throw new Ee.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(X&&X.length!==I.length)throw new Ee.InvalidArgument("Arguments objects and keys must have the same length");var De=I.length,ze=ze&&xe?I.map(Fn(ze)):I;return W.core.mutate({trans:pe,type:"put",keys:X,values:ze,wantResults:oe}).then(function(Ge){var je=Ge.numFailures,Ze=Ge.results,Be=Ge.lastResult,Ge=Ge.failures;if(je===0)return oe?Ze:Be;throw new me("".concat(W.name,".bulkPut(): ").concat(je," of ").concat(De," operations failed"),Ge)})})},Cn.prototype.bulkUpdate=function(I){var k=this,P=this.core,W=I.map(function(pe){return pe.key}),X=I.map(function(pe){return pe.changes}),oe=[];return this._trans("readwrite",function(pe){return P.getMany({trans:pe,keys:W,cache:"clone"}).then(function(xe){var De=[],ze=[];I.forEach(function(je,Ze){var Be=je.key,Ge=je.changes,Ke=xe[Ze];if(Ke){for(var et=0,at=Object.keys(Ge);et<at.length;et++){var K=at[et],ce=Ge[K];if(K===k.schema.primKey.keyPath){if(dn(ce,Be)!==0)throw new Ee.Constraint("Cannot update primary key in bulkUpdate()")}else C(Ke,K,ce)}oe.push(Ze),De.push(Be),ze.push(Ke)}});var Qe=De.length;return P.mutate({trans:pe,type:"put",keys:De,values:ze,updates:{keys:W,changeSpecs:X}}).then(function(je){var Ze=je.numFailures,Be=je.failures;if(Ze===0)return Qe;for(var Ge=0,Ke=Object.keys(Be);Ge<Ke.length;Ge++){var et,at=Ke[Ge],K=oe[Number(at)];K!=null&&(et=Be[at],delete Be[at],Be[K]=et)}throw new me("".concat(k.name,".bulkUpdate(): ").concat(Ze," of ").concat(Qe," operations failed"),Be)})})})},Cn.prototype.bulkDelete=function(I){var k=this,P=I.length;return this._trans("readwrite",function(W){return k.core.mutate({trans:W,type:"delete",keys:I}).then(function(X){return vi(k,I,X)})}).then(function(pe){var X=pe.numFailures,oe=pe.lastResult,pe=pe.failures;if(X===0)return oe;throw new me("".concat(k.name,".bulkDelete(): ").concat(X," of ").concat(P," operations failed"),pe)})},Cn);function Cn(){}function Ti(I){function k(pe,xe){if(xe){for(var De=arguments.length,ze=new Array(De-1);--De;)ze[De-1]=arguments[De];return P[pe].subscribe.apply(null,ze),I}if(typeof pe=="string")return P[pe]}var P={};k.addEventType=oe;for(var W=1,X=arguments.length;W<X;++W)oe(arguments[W]);return k;function oe(pe,xe,De){if(typeof pe!="object"){var ze;xe=xe||Xe;var Qe={subscribers:[],fire:De=De||St,subscribe:function(je){Qe.subscribers.indexOf(je)===-1&&(Qe.subscribers.push(je),Qe.fire=xe(Qe.fire,je))},unsubscribe:function(je){Qe.subscribers=Qe.subscribers.filter(function(Ze){return Ze!==je}),Qe.fire=Qe.subscribers.reduce(xe,De)}};return P[pe]=k[pe]=Qe}a(ze=pe).forEach(function(je){var Ze=ze[je];if(s(Ze))oe(je,ze[je][0],ze[je][1]);else{if(Ze!=="asap")throw new Ee.InvalidArgument("Invalid event config");var Be=oe(je,xt,function(){for(var Ge=arguments.length,Ke=new Array(Ge);Ge--;)Ke[Ge]=arguments[Ge];Be.subscribers.forEach(function(et){_(function(){et.apply(null,Ke)})})})}})}}function gr(I,k){return h(k).from({prototype:I}),k}function Ar(I,k){return!(I.filter||I.algorithm||I.or)&&(k?I.justLimit:!I.replayFilter)}function Xr(I,k){I.filter=Yt(I.filter,k)}function Vr(I,k,P){var W=I.replayFilter;I.replayFilter=W?function(){return Yt(W(),k())}:k,I.justLimit=P&&!W}function ti(I,k){if(I.isPrimKey)return k.primaryKey;var P=k.getIndexByKeyPath(I.index);if(!P)throw new Ee.Schema("KeyPath "+I.index+" on object store "+k.name+" is not indexed");return P}function co(I,k,P){var W=ti(I,k.schema);return k.openCursor({trans:P,values:!I.keysOnly,reverse:I.dir==="prev",unique:!!I.unique,query:{index:W,range:I.range}})}function Ri(I,k,P,W){var X=I.replayFilter?Yt(I.filter,I.replayFilter()):I.filter;if(I.or){var oe={},pe=function(xe,De,ze){var Qe,je;X&&!X(De,ze,function(Ze){return De.stop(Ze)},function(Ze){return De.fail(Ze)})||((je=""+(Qe=De.primaryKey))=="[object ArrayBuffer]"&&(je=""+new Uint8Array(Qe)),d(oe,je)||(oe[je]=!0,k(xe,De,ze)))};return Promise.all([I.or._iterate(pe,P),bi(co(I,W,P),I.algorithm,pe,!I.keysOnly&&I.valueMapper)])}return bi(co(I,W,P),Yt(I.algorithm,X),k,!I.keysOnly&&I.valueMapper)}function bi(I,k,P,W){var X=er(W?function(oe,pe,xe){return P(W(oe),pe,xe)}:P);return I.then(function(oe){if(oe)return oe.start(function(){var pe=function(){return oe.continue()};k&&!k(oe,function(xe){return pe=xe},function(xe){oe.stop(xe),pe=St},function(xe){oe.fail(xe),pe=St})||X(oe.value,oe,function(xe){return pe=xe}),pe()})})}var Eo=(En.prototype._read=function(I,k){var P=this._ctx;return P.error?P.table._trans(null,pt.bind(null,P.error)):P.table._trans("readonly",I).then(k)},En.prototype._write=function(I){var k=this._ctx;return k.error?k.table._trans(null,pt.bind(null,k.error)):k.table._trans("readwrite",I,"locked")},En.prototype._addAlgorithm=function(I){var k=this._ctx;k.algorithm=Yt(k.algorithm,I)},En.prototype._iterate=function(I,k){return Ri(this._ctx,I,k,this._ctx.table.core)},En.prototype.clone=function(I){var k=Object.create(this.constructor.prototype),P=Object.create(this._ctx);return I&&l(P,I),k._ctx=P,k},En.prototype.raw=function(){return this._ctx.valueMapper=null,this},En.prototype.each=function(I){var k=this._ctx;return this._read(function(P){return Ri(k,I,P,k.table.core)})},En.prototype.count=function(I){var k=this;return this._read(function(P){var W=k._ctx,X=W.table.core;if(Ar(W,!0))return X.count({trans:P,query:{index:ti(W,X.schema),range:W.range}}).then(function(pe){return Math.min(pe,W.limit)});var oe=0;return Ri(W,function(){return++oe,!1},P,X).then(function(){return oe})}).then(I)},En.prototype.sortBy=function(I,k){var P=I.split(".").reverse(),W=P[0],X=P.length-1;function oe(De,ze){return ze?oe(De[P[ze]],ze-1):De[W]}var pe=this._ctx.dir==="next"?1:-1;function xe(De,ze){return dn(oe(De,X),oe(ze,X))*pe}return this.toArray(function(De){return De.sort(xe)}).then(k)},En.prototype.toArray=function(I){var k=this;return this._read(function(P){var W=k._ctx;if(W.dir==="next"&&Ar(W,!0)&&0<W.limit){var X=W.valueMapper,oe=ti(W,W.table.core.schema);return W.table.core.query({trans:P,limit:W.limit,values:!0,query:{index:oe,range:W.range}}).then(function(xe){return xe=xe.result,X?xe.map(X):xe})}var pe=[];return Ri(W,function(xe){return pe.push(xe)},P,W.table.core).then(function(){return pe})},I)},En.prototype.offset=function(I){var k=this._ctx;return I<=0||(k.offset+=I,Ar(k)?Vr(k,function(){var P=I;return function(W,X){return P===0||(P===1?--P:X(function(){W.advance(P),P=0}),!1)}}):Vr(k,function(){var P=I;return function(){return--P<0}})),this},En.prototype.limit=function(I){return this._ctx.limit=Math.min(this._ctx.limit,I),Vr(this._ctx,function(){var k=I;return function(P,W,X){return--k<=0&&W(X),0<=k}},!0),this},En.prototype.until=function(I,k){return Xr(this._ctx,function(P,W,X){return!I(P.value)||(W(X),k)}),this},En.prototype.first=function(I){return this.limit(1).toArray(function(k){return k[0]}).then(I)},En.prototype.last=function(I){return this.reverse().first(I)},En.prototype.filter=function(I){var k;return Xr(this._ctx,function(P){return I(P.value)}),(k=this._ctx).isMatch=Yt(k.isMatch,I),this},En.prototype.and=function(I){return this.filter(I)},En.prototype.or=function(I){return new this.db.WhereClause(this._ctx.table,I,this)},En.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},En.prototype.desc=function(){return this.reverse()},En.prototype.eachKey=function(I){var k=this._ctx;return k.keysOnly=!k.isMatch,this.each(function(P,W){I(W.key,W)})},En.prototype.eachUniqueKey=function(I){return this._ctx.unique="unique",this.eachKey(I)},En.prototype.eachPrimaryKey=function(I){var k=this._ctx;return k.keysOnly=!k.isMatch,this.each(function(P,W){I(W.primaryKey,W)})},En.prototype.keys=function(I){var k=this._ctx;k.keysOnly=!k.isMatch;var P=[];return this.each(function(W,X){P.push(X.key)}).then(function(){return P}).then(I)},En.prototype.primaryKeys=function(I){var k=this._ctx;if(k.dir==="next"&&Ar(k,!0)&&0<k.limit)return this._read(function(W){var X=ti(k,k.table.core.schema);return k.table.core.query({trans:W,values:!1,limit:k.limit,query:{index:X,range:k.range}})}).then(function(W){return W.result}).then(I);k.keysOnly=!k.isMatch;var P=[];return this.each(function(W,X){P.push(X.primaryKey)}).then(function(){return P}).then(I)},En.prototype.uniqueKeys=function(I){return this._ctx.unique="unique",this.keys(I)},En.prototype.firstKey=function(I){return this.limit(1).keys(function(k){return k[0]}).then(I)},En.prototype.lastKey=function(I){return this.reverse().firstKey(I)},En.prototype.distinct=function(){var I=this._ctx,I=I.index&&I.table.schema.idxByName[I.index];if(!I||!I.multi)return this;var k={};return Xr(this._ctx,function(X){var W=X.primaryKey.toString(),X=d(k,W);return k[W]=!0,!X}),this},En.prototype.modify=function(I){var k=this,P=this._ctx;return this._write(function(W){var X=typeof I=="function"?I:function(Ke){return On(Ke,I)},oe=P.table.core,ze=oe.schema.primaryKey,pe=ze.outbound,xe=ze.extractKey,De=200,ze=k.db._options.modifyChunkSize;ze&&(De=typeof ze=="object"?ze[oe.name]||ze["*"]||200:ze);function Qe(Ke,K){var at=K.failures,K=K.numFailures;Ze+=Ke-K;for(var ce=0,he=a(at);ce<he.length;ce++){var $e=he[ce];je.push(at[$e])}}var je=[],Ze=0,Be=[],Ge=I===Hi;return k.clone().primaryKeys().then(function(Ke){function et(K){var ce=Math.min(De,Ke.length-K),he=Ke.slice(K,K+ce);return(Ge?Promise.resolve([]):oe.getMany({trans:W,keys:he,cache:"immutable"})).then(function($e){var Ae=[],qe=[],nt=pe?[]:null,ft=Ge?he:[];if(!Ge)for(var gt=0;gt<ce;++gt){var Nt=$e[gt],Wt={value:L(Nt),primKey:Ke[K+gt]};X.call(Wt,Wt.value,Wt)!==!1&&(Wt.value==null?ft.push(Ke[K+gt]):pe||dn(xe(Nt),xe(Wt.value))===0?(qe.push(Wt.value),pe&&nt.push(Ke[K+gt])):(ft.push(Ke[K+gt]),Ae.push(Wt.value)))}return Promise.resolve(0<Ae.length&&oe.mutate({trans:W,type:"add",values:Ae}).then(function(Qt){for(var pn in Qt.failures)ft.splice(parseInt(pn),1);Qe(Ae.length,Qt)})).then(function(){return(0<qe.length||at&&typeof I=="object")&&oe.mutate({trans:W,type:"put",keys:nt,values:qe,criteria:at,changeSpec:typeof I!="function"&&I,isAdditionalChunk:0<K}).then(function(Qt){return Qe(qe.length,Qt)})}).then(function(){return(0<ft.length||at&&Ge)&&oe.mutate({trans:W,type:"delete",keys:ft,criteria:at,isAdditionalChunk:0<K}).then(function(Qt){return vi(P.table,ft,Qt)}).then(function(Qt){return Qe(ft.length,Qt)})}).then(function(){return Ke.length>K+ce&&et(K+De)})})}var at=Ar(P)&&P.limit===1/0&&(typeof I!="function"||Ge)&&{index:P.index,range:P.range};return et(0).then(function(){if(0<je.length)throw new ue("Error modifying one or more objects",je,Ze,Be);return Ke.length})})})},En.prototype.delete=function(){var I=this._ctx,k=I.range;return!Ar(I)||I.table.schema.yProps||!I.isPrimKey&&k.type!==3?this.modify(Hi):this._write(function(P){var W=I.table.core.schema.primaryKey,X=k;return I.table.core.count({trans:P,query:{index:W,range:X}}).then(function(oe){return I.table.core.mutate({trans:P,type:"deleteRange",range:X}).then(function(De){var xe=De.failures,De=De.numFailures;if(De)throw new ue("Could not delete some values",Object.keys(xe).map(function(ze){return xe[ze]}),oe-De);return oe-De})})})},En);function En(){}var Hi=function(I,k){return k.value=null};function pa(I,k){return I<k?-1:I===k?0:1}function hi(I,k){return k<I?-1:I===k?0:1}function qn(I,k,P){return I=I instanceof xl?new I.Collection(I):I,I._ctx.error=new(P||TypeError)(k),I}function Vi(I){return new I.Collection(I,function(){return Oo("")}).limit(0)}function qi(I,k,P,W){var X,oe,pe,xe,De,ze,Qe,je=P.length;if(!P.every(function(Ge){return typeof Ge=="string"}))return qn(I,In);function Ze(Ge){X=Ge==="next"?function(et){return et.toUpperCase()}:function(et){return et.toLowerCase()},oe=Ge==="next"?function(et){return et.toLowerCase()}:function(et){return et.toUpperCase()},pe=Ge==="next"?pa:hi;var Ke=P.map(function(et){return{lower:oe(et),upper:X(et)}}).sort(function(et,at){return pe(et.lower,at.lower)});xe=Ke.map(function(et){return et.upper}),De=Ke.map(function(et){return et.lower}),Qe=(ze=Ge)==="next"?"":W}Ze("next"),I=new I.Collection(I,function(){return wi(xe[0],De[je-1]+W)}),I._ondirectionchange=function(Ge){Ze(Ge)};var Be=0;return I._addAlgorithm(function(Ge,Ke,et){var at=Ge.key;if(typeof at!="string")return!1;var K=oe(at);if(k(K,De,Be))return!0;for(var ce=null,he=Be;he<je;++he){var $e=(function(Ae,qe,nt,ft,gt,Nt){for(var Wt=Math.min(Ae.length,ft.length),Qt=-1,pn=0;pn<Wt;++pn){var Rr=qe[pn];if(Rr!==ft[pn])return gt(Ae[pn],nt[pn])<0?Ae.substr(0,pn)+nt[pn]+nt.substr(pn+1):gt(Ae[pn],ft[pn])<0?Ae.substr(0,pn)+ft[pn]+nt.substr(pn+1):0<=Qt?Ae.substr(0,Qt)+qe[Qt]+nt.substr(Qt+1):null;gt(Ae[pn],Rr)<0&&(Qt=pn)}return Wt<ft.length&&Nt==="next"?Ae+nt.substr(Ae.length):Wt<Ae.length&&Nt==="prev"?Ae.substr(0,nt.length):Qt<0?null:Ae.substr(0,Qt)+ft[Qt]+nt.substr(Qt+1)})(at,K,xe[he],De[he],pe,ze);$e===null&&ce===null?Be=he+1:(ce===null||0<pe(ce,$e))&&(ce=$e)}return Ke(ce!==null?function(){Ge.continue(ce+Qe)}:et),!1}),I}function wi(I,k,P,W){return{type:2,lower:I,upper:k,lowerOpen:P,upperOpen:W}}function Oo(I){return{type:1,lower:I,upper:I}}var xl=(Object.defineProperty(ii.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),ii.prototype.between=function(I,k,P,W){P=P!==!1,W=W===!0;try{return 0<this._cmp(I,k)||this._cmp(I,k)===0&&(P||W)&&(!P||!W)?Vi(this):new this.Collection(this,function(){return wi(I,k,!P,!W)})}catch{return qn(this,Pt)}},ii.prototype.equals=function(I){return I==null?qn(this,Pt):new this.Collection(this,function(){return Oo(I)})},ii.prototype.above=function(I){return I==null?qn(this,Pt):new this.Collection(this,function(){return wi(I,void 0,!0)})},ii.prototype.aboveOrEqual=function(I){return I==null?qn(this,Pt):new this.Collection(this,function(){return wi(I,void 0,!1)})},ii.prototype.below=function(I){return I==null?qn(this,Pt):new this.Collection(this,function(){return wi(void 0,I,!1,!0)})},ii.prototype.belowOrEqual=function(I){return I==null?qn(this,Pt):new this.Collection(this,function(){return wi(void 0,I)})},ii.prototype.startsWith=function(I){return typeof I!="string"?qn(this,In):this.between(I,I+Ut,!0,!0)},ii.prototype.startsWithIgnoreCase=function(I){return I===""?this.startsWith(I):qi(this,function(k,P){return k.indexOf(P[0])===0},[I],Ut)},ii.prototype.equalsIgnoreCase=function(I){return qi(this,function(k,P){return k===P[0]},[I],"")},ii.prototype.anyOfIgnoreCase=function(){var I=q.apply(ne,arguments);return I.length===0?Vi(this):qi(this,function(k,P){return P.indexOf(k)!==-1},I,"")},ii.prototype.startsWithAnyOfIgnoreCase=function(){var I=q.apply(ne,arguments);return I.length===0?Vi(this):qi(this,function(k,P){return P.some(function(W){return k.indexOf(W)===0})},I,Ut)},ii.prototype.anyOf=function(){var I=this,k=q.apply(ne,arguments),P=this._cmp;try{k.sort(P)}catch{return qn(this,Pt)}if(k.length===0)return Vi(this);var W=new this.Collection(this,function(){return wi(k[0],k[k.length-1])});W._ondirectionchange=function(oe){P=oe==="next"?I._ascending:I._descending,k.sort(P)};var X=0;return W._addAlgorithm(function(oe,pe,xe){for(var De=oe.key;0<P(De,k[X]);)if(++X===k.length)return pe(xe),!1;return P(De,k[X])===0||(pe(function(){oe.continue(k[X])}),!1)}),W},ii.prototype.notEqual=function(I){return this.inAnyRange([[-1/0,I],[I,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},ii.prototype.noneOf=function(){var I=q.apply(ne,arguments);if(I.length===0)return new this.Collection(this);try{I.sort(this._ascending)}catch{return qn(this,Pt)}var k=I.reduce(function(P,W){return P?P.concat([[P[P.length-1][1],W]]):[[-1/0,W]]},null);return k.push([I[I.length-1],this.db._maxKey]),this.inAnyRange(k,{includeLowers:!1,includeUppers:!1})},ii.prototype.inAnyRange=function(at,k){var P=this,W=this._cmp,X=this._ascending,oe=this._descending,pe=this._min,xe=this._max;if(at.length===0)return Vi(this);if(!at.every(function(K){return K[0]!==void 0&&K[1]!==void 0&&X(K[0],K[1])<=0}))return qn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ee.InvalidArgument);var De=!k||k.includeLowers!==!1,ze=k&&k.includeUppers===!0,Qe,je=X;function Ze(K,ce){return je(K[0],ce[0])}try{(Qe=at.reduce(function(K,ce){for(var he=0,$e=K.length;he<$e;++he){var Ae=K[he];if(W(ce[0],Ae[1])<0&&0<W(ce[1],Ae[0])){Ae[0]=pe(Ae[0],ce[0]),Ae[1]=xe(Ae[1],ce[1]);break}}return he===$e&&K.push(ce),K},[])).sort(Ze)}catch{return qn(this,Pt)}var Be=0,Ge=ze?function(K){return 0<X(K,Qe[Be][1])}:function(K){return 0<=X(K,Qe[Be][1])},Ke=De?function(K){return 0<oe(K,Qe[Be][0])}:function(K){return 0<=oe(K,Qe[Be][0])},et=Ge,at=new this.Collection(this,function(){return wi(Qe[0][0],Qe[Qe.length-1][1],!De,!ze)});return at._ondirectionchange=function(K){je=K==="next"?(et=Ge,X):(et=Ke,oe),Qe.sort(Ze)},at._addAlgorithm(function(K,ce,he){for(var $e,Ae=K.key;et(Ae);)if(++Be===Qe.length)return ce(he),!1;return!Ge($e=Ae)&&!Ke($e)||(P._cmp(Ae,Qe[Be][1])===0||P._cmp(Ae,Qe[Be][0])===0||ce(function(){je===X?K.continue(Qe[Be][0]):K.continue(Qe[Be][1])}),!1)}),at},ii.prototype.startsWithAnyOf=function(){var I=q.apply(ne,arguments);return I.every(function(k){return typeof k=="string"})?I.length===0?Vi(this):this.inAnyRange(I.map(function(k){return[k,k+Ut]})):qn(this,"startsWithAnyOf() only works with strings")},ii);function ii(){}function go(I){return er(function(k){return Wi(k),I(k.target.error),!1})}function Wi(I){I.stopPropagation&&I.stopPropagation(),I.preventDefault&&I.preventDefault()}var Fr="storagemutated",yo="x-storagemutated-1",Di=Ti(null,Fr),Fo=(Ai.prototype._lock=function(){return E(!Tt.global),++this._reculock,this._reculock!==1||Tt.global||(Tt.lockOwnerFor=this),this},Ai.prototype._unlock=function(){if(E(!Tt.global),--this._reculock==0)for(Tt.global||(Tt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var I=this._blockedFuncs.shift();try{It(I[1],I[0])}catch{}}return this},Ai.prototype._locked=function(){return this._reculock&&Tt.lockOwnerFor!==this},Ai.prototype.create=function(I){var k=this;if(!this.mode)return this;var P=this.db.idbdb,W=this.db._state.dbOpenError;if(E(!this.idbtrans),!I&&!P)switch(W&&W.name){case"DatabaseClosedError":throw new Ee.DatabaseClosed(W);case"MissingAPIError":throw new Ee.MissingAPI(W.message,W);default:throw new Ee.OpenFailed(W)}if(!this.active)throw new Ee.TransactionInactive;return E(this._completion._state===null),(I=this.idbtrans=I||(this.db.core||P).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=er(function(X){Wi(X),k._reject(I.error)}),I.onabort=er(function(X){Wi(X),k.active&&k._reject(new Ee.Abort(I.error)),k.active=!1,k.on("abort").fire(X)}),I.oncomplete=er(function(){k.active=!1,k._resolve(),"mutatedParts"in I&&Di.storagemutated.fire(I.mutatedParts)}),this},Ai.prototype._promise=function(I,k,P){var W=this;if(I==="readwrite"&&this.mode!=="readwrite")return pt(new Ee.ReadOnly("Transaction is readonly"));if(!this.active)return pt(new Ee.TransactionInactive);if(this._locked())return new Bt(function(oe,pe){W._blockedFuncs.push([function(){W._promise(I,k,P).then(oe,pe)},Tt])});if(P)return Ni(function(){var oe=new Bt(function(pe,xe){W._lock();var De=k(pe,xe,W);De&&De.then&&De.then(pe,xe)});return oe.finally(function(){return W._unlock()}),oe._lib=!0,oe});var X=new Bt(function(oe,pe){var xe=k(oe,pe,W);xe&&xe.then&&xe.then(oe,pe)});return X._lib=!0,X},Ai.prototype._root=function(){return this.parent?this.parent._root():this},Ai.prototype.waitFor=function(I){var k,P=this._root(),W=Bt.resolve(I);P._waitingFor?P._waitingFor=P._waitingFor.then(function(){return W}):(P._waitingFor=W,P._waitingQueue=[],k=P.idbtrans.objectStore(P.storeNames[0]),(function oe(){for(++P._spinCount;P._waitingQueue.length;)P._waitingQueue.shift()();P._waitingFor&&(k.get(-1/0).onsuccess=oe)})());var X=P._waitingFor;return new Bt(function(oe,pe){W.then(function(xe){return P._waitingQueue.push(er(oe.bind(null,xe)))},function(xe){return P._waitingQueue.push(er(pe.bind(null,xe)))}).finally(function(){P._waitingFor===X&&(P._waitingFor=null)})})},Ai.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ee.Abort))},Ai.prototype.table=function(I){var k=this._memoizedTables||(this._memoizedTables={});if(d(k,I))return k[I];var P=this.schema[I];if(!P)throw new Ee.NotFound("Table "+I+" not part of transaction");return P=new this.db.Table(I,P,this),P.core=this.db.core.table(I),k[I]=P},Ai);function Ai(){}function Zi(I,k,P,W,X,oe,pe,xe){return{name:I,keyPath:k,unique:P,multi:W,auto:X,compound:oe,src:(P&&!pe?"&":"")+(W?"*":"")+(X?"++":"")+oa(k),type:xe}}function oa(I){return typeof I=="string"?I:I?"["+[].join.call(I,"+")+"]":""}function ma(I,k,P){return{name:I,primKey:k,indexes:P,mappedClass:null,idxByName:(W=function(X){return[X.name,X]},P.reduce(function(X,oe,pe){return pe=W(oe,pe),pe&&(X[pe[0]]=pe[1]),X},{}))};var W}var ko=function(I){try{return I.only([[]]),ko=function(){return[[]]},[[]]}catch{return ko=function(){return Ut},Ut}};function ge(I){return I==null?function(){}:typeof I=="string"?(k=I).split(".").length===1?function(P){return P[k]}:function(P){return m(P,k)}:function(P){return m(P,I)};var k}function Y(I){return[].slice.call(I)}var ve=0;function Re(I){return I==null?":id":typeof I=="string"?I:"[".concat(I.join("+"),"]")}function Lt(I,k,De){function W(et){if(et.type===3)return null;if(et.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Be=et.lower,Ge=et.upper,Ke=et.lowerOpen,et=et.upperOpen;return Be===void 0?Ge===void 0?null:k.upperBound(Ge,!!et):Ge===void 0?k.lowerBound(Be,!!Ke):k.bound(Be,Ge,!!Ke,!!et)}function X(Ze){var Be,Ge=Ze.name;return{name:Ge,schema:Ze,mutate:function(Ke){var et=Ke.trans,at=Ke.type,K=Ke.keys,ce=Ke.values,he=Ke.range;return new Promise(function($e,Ae){$e=er($e);var qe=et.objectStore(Ge),nt=qe.keyPath==null,ft=at==="put"||at==="add";if(!ft&&at!=="delete"&&at!=="deleteRange")throw new Error("Invalid operation type: "+at);var gt,Nt=(K||ce||{length:1}).length;if(K&&ce&&K.length!==ce.length)throw new Error("Given keys array must have same length as given values array.");if(Nt===0)return $e({numFailures:0,failures:{},results:[],lastResult:void 0});function Wt(jr){++Rr,Wi(jr)}var Qt=[],pn=[],Rr=0;if(at==="deleteRange"){if(he.type===4)return $e({numFailures:Rr,failures:pn,results:[],lastResult:void 0});he.type===3?Qt.push(gt=qe.clear()):Qt.push(gt=qe.delete(W(he)))}else{var nt=ft?nt?[ce,K]:[ce,null]:[K,null],Gt=nt[0],Yr=nt[1];if(ft)for(var ci=0;ci<Nt;++ci)Qt.push(gt=Yr&&Yr[ci]!==void 0?qe[at](Gt[ci],Yr[ci]):qe[at](Gt[ci])),gt.onerror=Wt;else for(ci=0;ci<Nt;++ci)Qt.push(gt=qe[at](Gt[ci])),gt.onerror=Wt}function ga(jr){jr=jr.target.result,Qt.forEach(function(Ks,Ou){return Ks.error!=null&&(pn[Ou]=Ks.error)}),$e({numFailures:Rr,failures:pn,results:at==="delete"?K:Qt.map(function(Ks){return Ks.result}),lastResult:jr})}gt.onerror=function(jr){Wt(jr),ga(jr)},gt.onsuccess=ga})},getMany:function(Ke){var et=Ke.trans,at=Ke.keys;return new Promise(function(K,ce){K=er(K);for(var he,$e=et.objectStore(Ge),Ae=at.length,qe=new Array(Ae),nt=0,ft=0,gt=function(Qt){Qt=Qt.target,qe[Qt._pos]=Qt.result,++ft===nt&&K(qe)},Nt=go(ce),Wt=0;Wt<Ae;++Wt)at[Wt]!=null&&((he=$e.get(at[Wt]))._pos=Wt,he.onsuccess=gt,he.onerror=Nt,++nt);nt===0&&K(qe)})},get:function(Ke){var et=Ke.trans,at=Ke.key;return new Promise(function(K,ce){K=er(K);var he=et.objectStore(Ge).get(at);he.onsuccess=function($e){return K($e.target.result)},he.onerror=go(ce)})},query:(Be=ze,function(Ke){return new Promise(function(et,at){et=er(et);var K,ce,he,nt=Ke.trans,$e=Ke.values,Ae=Ke.limit,gt=Ke.query,qe=Ae===1/0?void 0:Ae,ft=gt.index,gt=gt.range,nt=nt.objectStore(Ge),ft=ft.isPrimaryKey?nt:nt.index(ft.name),gt=W(gt);if(Ae===0)return et({result:[]});Be?((qe=$e?ft.getAll(gt,qe):ft.getAllKeys(gt,qe)).onsuccess=function(Nt){return et({result:Nt.target.result})},qe.onerror=go(at)):(K=0,ce=!$e&&"openKeyCursor"in ft?ft.openKeyCursor(gt):ft.openCursor(gt),he=[],ce.onsuccess=function(Nt){var Wt=ce.result;return Wt?(he.push($e?Wt.value:Wt.primaryKey),++K===Ae?et({result:he}):void Wt.continue()):et({result:he})},ce.onerror=go(at))})}),openCursor:function(Ke){var et=Ke.trans,at=Ke.values,K=Ke.query,ce=Ke.reverse,he=Ke.unique;return new Promise(function($e,Ae){$e=er($e);var ft=K.index,qe=K.range,nt=et.objectStore(Ge),nt=ft.isPrimaryKey?nt:nt.index(ft.name),ft=ce?he?"prevunique":"prev":he?"nextunique":"next",gt=!at&&"openKeyCursor"in nt?nt.openKeyCursor(W(qe),ft):nt.openCursor(W(qe),ft);gt.onerror=go(Ae),gt.onsuccess=er(function(Nt){var Wt,Qt,pn,Rr,Gt=gt.result;Gt?(Gt.___id=++ve,Gt.done=!1,Wt=Gt.continue.bind(Gt),Qt=(Qt=Gt.continuePrimaryKey)&&Qt.bind(Gt),pn=Gt.advance.bind(Gt),Rr=function(){throw new Error("Cursor not stopped")},Gt.trans=et,Gt.stop=Gt.continue=Gt.continuePrimaryKey=Gt.advance=function(){throw new Error("Cursor not started")},Gt.fail=er(Ae),Gt.next=function(){var Yr=this,ci=1;return this.start(function(){return ci--?Yr.continue():Yr.stop()}).then(function(){return Yr})},Gt.start=function(Yr){function ci(){if(gt.result)try{Yr()}catch(jr){Gt.fail(jr)}else Gt.done=!0,Gt.start=function(){throw new Error("Cursor behind last entry")},Gt.stop()}var ga=new Promise(function(jr,Ks){jr=er(jr),gt.onerror=go(Ks),Gt.fail=Ks,Gt.stop=function(Ou){Gt.stop=Gt.continue=Gt.continuePrimaryKey=Gt.advance=Rr,jr(Ou)}});return gt.onsuccess=er(function(jr){gt.onsuccess=ci,ci()}),Gt.continue=Wt,Gt.continuePrimaryKey=Qt,Gt.advance=pn,ci(),ga},$e(Gt)):$e(null)},Ae)})},count:function(Ke){var et=Ke.query,at=Ke.trans,K=et.index,ce=et.range;return new Promise(function(he,$e){var Ae=at.objectStore(Ge),qe=K.isPrimaryKey?Ae:Ae.index(K.name),Ae=W(ce),qe=Ae?qe.count(Ae):qe.count();qe.onsuccess=er(function(nt){return he(nt.target.result)}),qe.onerror=go($e)})}}}var oe,pe,xe,Qe=(pe=De,xe=Y((oe=I).objectStoreNames),{schema:{name:oe.name,tables:xe.map(function(Ze){return pe.objectStore(Ze)}).map(function(Ze){var Be=Ze.keyPath,et=Ze.autoIncrement,Ge=s(Be),Ke={},et={name:Ze.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Be==null,compound:Ge,keyPath:Be,autoIncrement:et,unique:!0,extractKey:ge(Be)},indexes:Y(Ze.indexNames).map(function(at){return Ze.index(at)}).map(function(he){var K=he.name,ce=he.unique,$e=he.multiEntry,he=he.keyPath,$e={name:K,compound:s(he),keyPath:he,unique:ce,multiEntry:$e,extractKey:ge(he)};return Ke[Re(he)]=$e}),getIndexByKeyPath:function(at){return Ke[Re(at)]}};return Ke[":id"]=et.primaryKey,Be!=null&&(Ke[Re(Be)]=et.primaryKey),et})},hasGetAll:0<xe.length&&"getAll"in pe.objectStore(xe[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),De=Qe.schema,ze=Qe.hasGetAll,Qe=De.tables.map(X),je={};return Qe.forEach(function(Ze){return je[Ze.name]=Ze}),{stack:"dbcore",transaction:I.transaction.bind(I),table:function(Ze){if(!je[Ze])throw new Error("Table '".concat(Ze,"' not found"));return je[Ze]},MIN_KEY:-1/0,MAX_KEY:ko(k),schema:De}}function $t(I,k,P,W){var X=P.IDBKeyRange;return P.indexedDB,{dbcore:(W=Lt(k,X,W),I.dbcore.reduce(function(oe,pe){return pe=pe.create,r(r({},oe),pe(oe))},W))}}function on(I,W){var P=W.db,W=$t(I._middlewares,P,I._deps,W);I.core=W.dbcore,I.tables.forEach(function(X){var oe=X.name;I.core.schema.tables.some(function(pe){return pe.name===oe})&&(X.core=I.core.table(oe),I[oe]instanceof I.Table&&(I[oe].core=X.core))})}function $n(I,k,P,W){P.forEach(function(X){var oe=W[X];k.forEach(function(pe){var xe=(function De(ze,Qe){return y(ze,Qe)||(ze=c(ze))&&De(ze,Qe)})(pe,X);(!xe||"value"in xe&&xe.value===void 0)&&(pe===I.Transaction.prototype||pe instanceof I.Transaction?g(pe,X,{get:function(){return this.table(X)},set:function(De){p(this,X,{value:De,writable:!0,configurable:!0,enumerable:!0})}}):pe[X]=new I.Table(X,oe))})})}function Dn(I,k){k.forEach(function(P){for(var W in P)P[W]instanceof I.Table&&delete P[W]})}function A(I,k){return I._cfg.version-k._cfg.version}function N(I,k,P,W){var X=I._dbSchema;P.objectStoreNames.contains("$meta")&&!X.$meta&&(X.$meta=ma("$meta",Je("")[0],[]),I._storeNames.push("$meta"));var oe=I._createTransaction("readwrite",I._storeNames,X);oe.create(P),oe._completion.catch(W);var pe=oe._reject.bind(oe),xe=Tt.transless||Tt;Ni(function(){return Tt.trans=oe,Tt.transless=xe,k!==0?(on(I,P),ze=k,((De=oe).storeNames.includes("$meta")?De.table("$meta").get("version").then(function(Qe){return Qe??ze}):Bt.resolve(ze)).then(function(Qe){return Ze=Qe,Be=oe,Ge=P,Ke=[],Qe=(je=I)._versions,et=je._dbSchema=Se(0,je.idbdb,Ge),(Qe=Qe.filter(function(at){return at._cfg.version>=Ze})).length!==0?(Qe.forEach(function(at){Ke.push(function(){var K=et,ce=at._cfg.dbschema;Te(je,K,Ge),Te(je,ce,Ge),et=je._dbSchema=ce;var he=F(K,ce);he.add.forEach(function(ft){Q(Ge,ft[0],ft[1].primKey,ft[1].indexes)}),he.change.forEach(function(ft){if(ft.recreate)throw new Ee.Upgrade("Not yet support for changing primary key");var gt=Ge.objectStore(ft.name);ft.add.forEach(function(Nt){return le(gt,Nt)}),ft.change.forEach(function(Nt){gt.deleteIndex(Nt.name),le(gt,Nt)}),ft.del.forEach(function(Nt){return gt.deleteIndex(Nt)})});var $e=at._cfg.contentUpgrade;if($e&&at._cfg.version>Ze){on(je,Ge),Be._memoizedTables={};var Ae=T(ce);he.del.forEach(function(ft){Ae[ft]=K[ft]}),Dn(je,[je.Transaction.prototype]),$n(je,[je.Transaction.prototype],a(Ae),Ae),Be.schema=Ae;var qe,nt=ee($e);return nt&&Pi(),he=Bt.follow(function(){var ft;(qe=$e(Be))&&nt&&(ft=ln.bind(null,null),qe.then(ft,ft))}),qe&&typeof qe.then=="function"?Bt.resolve(qe):he.then(function(){return qe})}}),Ke.push(function(K){var ce,he,$e=at._cfg.dbschema;ce=$e,he=K,[].slice.call(he.db.objectStoreNames).forEach(function(Ae){return ce[Ae]==null&&he.db.deleteObjectStore(Ae)}),Dn(je,[je.Transaction.prototype]),$n(je,[je.Transaction.prototype],je._storeNames,je._dbSchema),Be.schema=je._dbSchema}),Ke.push(function(K){je.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(je.idbdb.version/10)===at._cfg.version?(je.idbdb.deleteObjectStore("$meta"),delete je._dbSchema.$meta,je._storeNames=je._storeNames.filter(function(ce){return ce!=="$meta"})):K.objectStore("$meta").put(at._cfg.version,"version"))})}),(function at(){return Ke.length?Bt.resolve(Ke.shift()(Be.idbtrans)).then(at):Bt.resolve()})().then(function(){Z(et,Ge)})):Bt.resolve();var je,Ze,Be,Ge,Ke,et}).catch(pe)):(a(X).forEach(function(Qe){Q(P,Qe,X[Qe].primKey,X[Qe].indexes)}),on(I,P),void Bt.follow(function(){return I.on.populate.fire(oe)}).catch(pe));var De,ze})}function M(I,k){Z(I._dbSchema,k),k.db.version%10!=0||k.objectStoreNames.contains("$meta")||k.db.createObjectStore("$meta").add(Math.ceil(k.db.version/10-1),"version");var P=Se(0,I.idbdb,k);Te(I,I._dbSchema,k);for(var W=0,X=F(P,I._dbSchema).change;W<X.length;W++){var oe=(function(pe){if(pe.change.length||pe.recreate)return console.warn("Unable to patch indexes of table ".concat(pe.name," because it has changes on the type of index or primary key.")),{value:void 0};var xe=k.objectStore(pe.name);pe.add.forEach(function(De){we&&console.debug("Dexie upgrade patch: Creating missing index ".concat(pe.name,".").concat(De.src)),le(xe,De)})})(X[W]);if(typeof oe=="object")return oe.value}}function F(I,k){var P,W={del:[],add:[],change:[]};for(P in I)k[P]||W.del.push(P);for(P in k){var X=I[P],oe=k[P];if(X){var pe={name:P,def:oe,recreate:!1,del:[],add:[],change:[]};if(""+(X.primKey.keyPath||"")!=""+(oe.primKey.keyPath||"")||X.primKey.auto!==oe.primKey.auto)pe.recreate=!0,W.change.push(pe);else{var xe=X.idxByName,De=oe.idxByName,ze=void 0;for(ze in xe)De[ze]||pe.del.push(ze);for(ze in De){var Qe=xe[ze],je=De[ze];Qe?Qe.src!==je.src&&pe.change.push(je):pe.add.push(je)}(0<pe.del.length||0<pe.add.length||0<pe.change.length)&&W.change.push(pe)}}else W.add.push([P,oe])}return W}function Q(I,k,P,W){var X=I.db.createObjectStore(k,P.keyPath?{keyPath:P.keyPath,autoIncrement:P.auto}:{autoIncrement:P.auto});return W.forEach(function(oe){return le(X,oe)}),X}function Z(I,k){a(I).forEach(function(P){k.db.objectStoreNames.contains(P)||(we&&console.debug("Dexie: Creating missing table",P),Q(k,P,I[P].primKey,I[P].indexes))})}function le(I,k){I.createIndex(k.name,k.keyPath,{unique:k.unique,multiEntry:k.multi})}function Se(I,k,P){var W={};return w(k.objectStoreNames,0).forEach(function(X){for(var oe=P.objectStore(X),pe=Zi(oa(ze=oe.keyPath),ze||"",!0,!1,!!oe.autoIncrement,ze&&typeof ze!="string",!0),xe=[],De=0;De<oe.indexNames.length;++De){var Qe=oe.index(oe.indexNames[De]),ze=Qe.keyPath,Qe=Zi(Qe.name,ze,!!Qe.unique,!!Qe.multiEntry,!1,ze&&typeof ze!="string",!1);xe.push(Qe)}W[X]=ma(X,pe,xe)}),W}function Te(I,k,P){for(var W=P.db.objectStoreNames,X=0;X<W.length;++X){var oe=W[X],pe=P.objectStore(oe);I._hasGetAll="getAll"in pe;for(var xe=0;xe<pe.indexNames.length;++xe){var De=pe.indexNames[xe],ze=pe.index(De).keyPath,Qe=typeof ze=="string"?ze:"["+w(ze).join("+")+"]";!k[oe]||(ze=k[oe].idxByName[Qe])&&(ze.name=De,delete k[oe].idxByName[Qe],k[oe].idxByName[De]=ze)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(I._hasGetAll=!1)}function Je(I){return I.split(",").map(function(k,P){var oe=k.split(":"),W=(X=oe[1])===null||X===void 0?void 0:X.trim(),X=(k=oe[0].trim()).replace(/([&*]|\+\+)/g,""),oe=/^\[/.test(X)?X.match(/^\[(.*)\]$/)[1].split("+"):X;return Zi(X,oe||null,/\&/.test(k),/\*/.test(k),/\+\+/.test(k),s(oe),P===0,W)})}var yt=(Rt.prototype._createTableSchema=ma,Rt.prototype._parseIndexSyntax=Je,Rt.prototype._parseStoresSpec=function(I,k){var P=this;a(I).forEach(function(W){if(I[W]!==null){var X=P._parseIndexSyntax(I[W]),oe=X.shift();if(!oe)throw new Ee.Schema("Invalid schema for table "+W+": "+I[W]);if(oe.unique=!0,oe.multi)throw new Ee.Schema("Primary key cannot be multiEntry*");X.forEach(function(pe){if(pe.auto)throw new Ee.Schema("Only primary key can be marked as autoIncrement (++)");if(!pe.keyPath)throw new Ee.Schema("Index must have a name and cannot be an empty string")}),X=P._createTableSchema(W,oe,X),k[W]=X}})},Rt.prototype.stores=function(P){var k=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,P):P;var P=k._versions,W={},X={};return P.forEach(function(oe){l(W,oe._cfg.storesSource),X=oe._cfg.dbschema={},oe._parseStoresSpec(W,X)}),k._dbSchema=X,Dn(k,[k._allTables,k,k.Transaction.prototype]),$n(k,[k._allTables,k,k.Transaction.prototype,this._cfg.tables],a(X),X),k._storeNames=a(X),this},Rt.prototype.upgrade=function(I){return this._cfg.contentUpgrade=se(this._cfg.contentUpgrade||St,I),this},Rt);function Rt(){}function ct(I,k){var P=I._dbNamesDB;return P||(P=I._dbNamesDB=new be(Xt,{addons:[],indexedDB:I,IDBKeyRange:k})).version(1).stores({dbnames:"name"}),P.table("dbnames")}function At(I){return I&&typeof I.databases=="function"}function jn(I){return Ni(function(){return Tt.letThrough=!0,I()})}function Qn(I){return!("from"in I)}var an=function(I,k){if(!this){var P=new an;return I&&"d"in I&&l(P,I),P}l(this,arguments.length?{d:1,from:I,to:1<arguments.length?k:I}:{d:0})};function li(I,k,P){var W=dn(k,P);if(!isNaN(W)){if(0<W)throw RangeError();if(Qn(I))return l(I,{from:k,to:P,d:1});var X=I.l,W=I.r;if(dn(P,I.from)<0)return X?li(X,k,P):I.l={from:k,to:P,d:1,l:null,r:null},Un(I);if(0<dn(k,I.to))return W?li(W,k,P):I.r={from:k,to:P,d:1,l:null,r:null},Un(I);dn(k,I.from)<0&&(I.from=k,I.l=null,I.d=W?W.d+1:1),0<dn(P,I.to)&&(I.to=P,I.r=null,I.d=I.l?I.l.d+1:1),P=!I.r,X&&!I.l&&xi(I,X),W&&P&&xi(I,W)}}function xi(I,k){Qn(k)||(function P(W,De){var oe=De.from,pe=De.to,xe=De.l,De=De.r;li(W,oe,pe),xe&&P(W,xe),De&&P(W,De)})(I,k)}function So(I,k){var P=Ur(k),W=P.next();if(W.done)return!1;for(var X=W.value,oe=Ur(I),pe=oe.next(X.from),xe=pe.value;!W.done&&!pe.done;){if(dn(xe.from,X.to)<=0&&0<=dn(xe.to,X.from))return!0;dn(X.from,xe.from)<0?X=(W=P.next(xe.from)).value:xe=(pe=oe.next(X.from)).value}return!1}function Ur(I){var k=Qn(I)?null:{s:0,n:I};return{next:function(P){for(var W=0<arguments.length;k;)switch(k.s){case 0:if(k.s=1,W)for(;k.n.l&&dn(P,k.n.from)<0;)k={up:k,n:k.n.l,s:1};else for(;k.n.l;)k={up:k,n:k.n.l,s:1};case 1:if(k.s=2,!W||dn(P,k.n.to)<=0)return{value:k.n,done:!1};case 2:if(k.n.r){k.s=3,k={up:k,n:k.n.r,s:0};continue}case 3:k=k.up}return{done:!0}}}}function Un(I){var k,P,W=(((k=I.r)===null||k===void 0?void 0:k.d)||0)-(((P=I.l)===null||P===void 0?void 0:P.d)||0),X=1<W?"r":W<-1?"l":"";X&&(k=X=="r"?"l":"r",P=r({},I),W=I[X],I.from=W.from,I.to=W.to,I[X]=W[X],P[X]=W[k],(I[k]=P).d=ji(P)),I.d=ji(I)}function ji(P){var k=P.r,P=P.l;return(k?P?Math.max(k.d,P.d):k.d:P?P.d:0)+1}function ur(I,k){return a(k).forEach(function(P){I[P]?xi(I[P],k[P]):I[P]=(function W(X){var oe,pe,xe={};for(oe in X)d(X,oe)&&(pe=X[oe],xe[oe]=!pe||typeof pe!="object"||j.has(pe.constructor)?pe:W(pe));return xe})(k[P])}),I}function pi(I,k){return I.all||k.all||Object.keys(I).some(function(P){return k[P]&&So(k[P],I[P])})}f(an.prototype,((Et={add:function(I){return xi(this,I),this},addKey:function(I){return li(this,I,I),this},addKeys:function(I){var k=this;return I.forEach(function(P){return li(k,P,P)}),this},hasKey:function(I){var k=Ur(this).next(I).value;return k&&dn(k.from,I)<=0&&0<=dn(k.to,I)}})[B]=function(){return Ur(this)},Et));var aa={},qa={},Co=!1;function Na(I){ur(qa,I),Co||(Co=!0,setTimeout(function(){Co=!1,Ra(qa,!(qa={}))},0))}function Ra(I,k){k===void 0&&(k=!1);var P=new Set;if(I.all)for(var W=0,X=Object.values(aa);W<X.length;W++)No(pe=X[W],I,P,k);else for(var oe in I){var pe,xe=/^idb\:\/\/(.*)\/(.*)\//.exec(oe);xe&&(oe=xe[1],xe=xe[2],(pe=aa["idb://".concat(oe,"/").concat(xe)])&&No(pe,I,P,k))}P.forEach(function(De){return De()})}function No(I,k,P,W){for(var X=[],oe=0,pe=Object.entries(I.queries.query);oe<pe.length;oe++){for(var xe=pe[oe],De=xe[0],ze=[],Qe=0,je=xe[1];Qe<je.length;Qe++){var Ze=je[Qe];pi(k,Ze.obsSet)?Ze.subscribers.forEach(function(et){return P.add(et)}):W&&ze.push(Ze)}W&&X.push([De,ze])}if(W)for(var Be=0,Ge=X;Be<Ge.length;Be++){var Ke=Ge[Be],De=Ke[0],ze=Ke[1];I.queries.query[De]=ze}}function Wa(I){var k=I._state,P=I._deps.indexedDB;if(k.isBeingOpened||I.idbdb)return k.dbReadyPromise.then(function(){return k.dbOpenError?pt(k.dbOpenError):I});k.isBeingOpened=!0,k.dbOpenError=null,k.openComplete=!1;var W=k.openCanceller,X=Math.round(10*I.verno),oe=!1;function pe(){if(k.openCanceller!==W)throw new Ee.DatabaseClosed("db.open() was cancelled")}function xe(){return new Bt(function(Ze,Be){if(pe(),!P)throw new Ee.MissingAPI;var Ge=I.name,Ke=k.autoSchema||!X?P.open(Ge):P.open(Ge,X);if(!Ke)throw new Ee.MissingAPI;Ke.onerror=go(Be),Ke.onblocked=er(I._fireOnBlocked),Ke.onupgradeneeded=er(function(et){var at;Qe=Ke.transaction,k.autoSchema&&!I._options.allowEmptyDB?(Ke.onerror=Wi,Qe.abort(),Ke.result.close(),(at=P.deleteDatabase(Ge)).onsuccess=at.onerror=er(function(){Be(new Ee.NoSuchDatabase("Database ".concat(Ge," doesnt exist")))})):(Qe.onerror=go(Be),et=et.oldVersion>Math.pow(2,62)?0:et.oldVersion,je=et<1,I.idbdb=Ke.result,oe&&M(I,Qe),N(I,et/10,Qe,Be))},Be),Ke.onsuccess=er(function(){Qe=null;var et,at,K,ce,he,$e=I.idbdb=Ke.result,Ae=w($e.objectStoreNames);if(0<Ae.length)try{var qe=$e.transaction((ce=Ae).length===1?ce[0]:ce,"readonly");if(k.autoSchema)at=$e,K=qe,(et=I).verno=at.version/10,K=et._dbSchema=Se(0,at,K),et._storeNames=w(at.objectStoreNames,0),$n(et,[et._allTables],a(K),K);else if(Te(I,I._dbSchema,qe),((he=F(Se(0,(he=I).idbdb,qe),he._dbSchema)).add.length||he.change.some(function(nt){return nt.add.length||nt.change.length}))&&!oe)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),$e.close(),X=$e.version+1,oe=!0,Ze(xe());on(I,qe)}catch{}mn.push(I),$e.onversionchange=er(function(nt){k.vcFired=!0,I.on("versionchange").fire(nt)}),$e.onclose=er(function(){I.close({disableAutoOpen:!1})}),je&&(he=I._deps,qe=Ge,$e=he.indexedDB,he=he.IDBKeyRange,At($e)||qe===Xt||ct($e,he).put({name:qe}).catch(St)),Ze()},Be)}).catch(function(Ze){switch(Ze==null?void 0:Ze.name){case"UnknownError":if(0<k.PR1398_maxLoop)return k.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),xe();break;case"VersionError":if(0<X)return X=0,xe()}return Bt.reject(Ze)})}var De,ze=k.dbReadyResolve,Qe=null,je=!1;return Bt.race([W,(typeof navigator>"u"?Bt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Ze){function Be(){return indexedDB.databases().finally(Ze)}De=setInterval(Be,100),Be()}).finally(function(){return clearInterval(De)}):Promise.resolve()).then(xe)]).then(function(){return pe(),k.onReadyBeingFired=[],Bt.resolve(jn(function(){return I.on.ready.fire(I.vip)})).then(function Ze(){if(0<k.onReadyBeingFired.length){var Be=k.onReadyBeingFired.reduce(se,St);return k.onReadyBeingFired=[],Bt.resolve(jn(function(){return Be(I.vip)})).then(Ze)}})}).finally(function(){k.openCanceller===W&&(k.onReadyBeingFired=null,k.isBeingOpened=!1)}).catch(function(Ze){k.dbOpenError=Ze;try{Qe&&Qe.abort()}catch{}return W===k.openCanceller&&I._close(),pt(Ze)}).finally(function(){k.openComplete=!0,ze()}).then(function(){var Ze;return je&&(Ze={},I.tables.forEach(function(Be){Be.schema.indexes.forEach(function(Ge){Ge.name&&(Ze["idb://".concat(I.name,"/").concat(Be.name,"/").concat(Ge.name)]=new an(-1/0,[[[]]]))}),Ze["idb://".concat(I.name,"/").concat(Be.name,"/")]=Ze["idb://".concat(I.name,"/").concat(Be.name,"/:dels")]=new an(-1/0,[[[]]])}),Di(Fr).fire(Ze),Ra(Ze,!0)),I})}function vo(I){function k(oe){return I.next(oe)}var P=X(k),W=X(function(oe){return I.throw(oe)});function X(oe){return function(De){var xe=oe(De),De=xe.value;return xe.done?De:De&&typeof De.then=="function"?De.then(P,W):s(De)?Promise.all(De).then(P,W):P(De)}}return X(k)()}function sa(I,k,P){for(var W=s(I)?I.slice():[I],X=0;X<P;++X)W.push(k);return W}var Iu={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(I){return r(r({},I),{table:function(k){var P=I.table(k),W=P.schema,X={},oe=[];function pe(je,Ze,Be){var Ge=Re(je),Ke=X[Ge]=X[Ge]||[],et=je==null?0:typeof je=="string"?1:je.length,at=0<Ze,at=r(r({},Be),{name:at?"".concat(Ge,"(virtual-from:").concat(Be.name,")"):Be.name,lowLevelIndex:Be,isVirtual:at,keyTail:Ze,keyLength:et,extractKey:ge(je),unique:!at&&Be.unique});return Ke.push(at),at.isPrimaryKey||oe.push(at),1<et&&pe(et===2?je[0]:je.slice(0,et-1),Ze+1,Be),Ke.sort(function(K,ce){return K.keyTail-ce.keyTail}),at}k=pe(W.primaryKey.keyPath,0,W.primaryKey),X[":id"]=[k];for(var xe=0,De=W.indexes;xe<De.length;xe++){var ze=De[xe];pe(ze.keyPath,0,ze)}function Qe(je){var Ze,Be=je.query.index;return Be.isVirtual?r(r({},je),{query:{index:Be.lowLevelIndex,range:(Ze=je.query.range,Be=Be.keyTail,{type:Ze.type===1?2:Ze.type,lower:sa(Ze.lower,Ze.lowerOpen?I.MAX_KEY:I.MIN_KEY,Be),lowerOpen:!0,upper:sa(Ze.upper,Ze.upperOpen?I.MIN_KEY:I.MAX_KEY,Be),upperOpen:!0})}}):je}return r(r({},P),{schema:r(r({},W),{primaryKey:k,indexes:oe,getIndexByKeyPath:function(je){return(je=X[Re(je)])&&je[0]}}),count:function(je){return P.count(Qe(je))},query:function(je){return P.query(Qe(je))},openCursor:function(je){var Ze=je.query.index,Be=Ze.keyTail,Ge=Ze.isVirtual,Ke=Ze.keyLength;return Ge?P.openCursor(Qe(je)).then(function(at){return at&&et(at)}):P.openCursor(je);function et(at){return Object.create(at,{continue:{value:function(K){K!=null?at.continue(sa(K,je.reverse?I.MAX_KEY:I.MIN_KEY,Be)):je.unique?at.continue(at.key.slice(0,Ke).concat(je.reverse?I.MIN_KEY:I.MAX_KEY,Be)):at.continue()}},continuePrimaryKey:{value:function(K,ce){at.continuePrimaryKey(sa(K,I.MAX_KEY,Be),ce)}},primaryKey:{get:function(){return at.primaryKey}},key:{get:function(){var K=at.key;return Ke===1?K[0]:K.slice(0,Ke)}},value:{get:function(){return at.value}}})}}})}})}};function la(I,k,P,W){return P=P||{},W=W||"",a(I).forEach(function(X){var oe,pe,xe;d(k,X)?(oe=I[X],pe=k[X],typeof oe=="object"&&typeof pe=="object"&&oe&&pe?(xe=z(oe))!==z(pe)?P[W+X]=k[X]:xe==="Object"?la(oe,pe,P,W+X+"."):oe!==pe&&(P[W+X]=k[X]):oe!==pe&&(P[W+X]=k[X])):P[W+X]=void 0}),a(k).forEach(function(X){d(I,X)||(P[W+X]=k[X])}),P}function ss(I,k){return k.type==="delete"?k.keys:k.keys||k.values.map(I.extractKey)}var vr={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(I){return r(r({},I),{table:function(k){var P=I.table(k),W=P.schema.primaryKey;return r(r({},P),{mutate:function(X){var oe=Tt.trans,pe=oe.table(k).hook,xe=pe.deleting,De=pe.creating,ze=pe.updating;switch(X.type){case"add":if(De.fire===St)break;return oe._promise("readwrite",function(){return Qe(X)},!0);case"put":if(De.fire===St&&ze.fire===St)break;return oe._promise("readwrite",function(){return Qe(X)},!0);case"delete":if(xe.fire===St)break;return oe._promise("readwrite",function(){return Qe(X)},!0);case"deleteRange":if(xe.fire===St)break;return oe._promise("readwrite",function(){return(function je(Ze,Be,Ge){return P.query({trans:Ze,values:!1,query:{index:W,range:Be},limit:Ge}).then(function(Ke){var et=Ke.result;return Qe({type:"delete",keys:et,trans:Ze}).then(function(at){return 0<at.numFailures?Promise.reject(at.failures[0]):et.length<Ge?{failures:[],numFailures:0,lastResult:void 0}:je(Ze,r(r({},Be),{lower:et[et.length-1],lowerOpen:!0}),Ge)})})})(X.trans,X.range,1e4)},!0)}return P.mutate(X);function Qe(je){var Ze,Be,Ge,Ke=Tt.trans,et=je.keys||ss(W,je);if(!et)throw new Error("Keys missing");return(je=je.type==="add"||je.type==="put"?r(r({},je),{keys:et}):r({},je)).type!=="delete"&&(je.values=i([],je.values)),je.keys&&(je.keys=i([],je.keys)),Ze=P,Ge=et,((Be=je).type==="add"?Promise.resolve([]):Ze.getMany({trans:Be.trans,keys:Ge,cache:"immutable"})).then(function(at){var K=et.map(function(ce,he){var $e,Ae,qe,nt=at[he],ft={onerror:null,onsuccess:null};return je.type==="delete"?xe.fire.call(ft,ce,nt,Ke):je.type==="add"||nt===void 0?($e=De.fire.call(ft,ce,je.values[he],Ke),ce==null&&$e!=null&&(je.keys[he]=ce=$e,W.outbound||C(je.values[he],W.keyPath,ce))):($e=la(nt,je.values[he]),(Ae=ze.fire.call(ft,$e,ce,nt,Ke))&&(qe=je.values[he],Object.keys(Ae).forEach(function(gt){d(qe,gt)?qe[gt]=Ae[gt]:C(qe,gt,Ae[gt])}))),ft});return P.mutate(je).then(function(ce){for(var he=ce.failures,$e=ce.results,Ae=ce.numFailures,ce=ce.lastResult,qe=0;qe<et.length;++qe){var nt=($e||et)[qe],ft=K[qe];nt==null?ft.onerror&&ft.onerror(he[qe]):ft.onsuccess&&ft.onsuccess(je.type==="put"&&at[qe]?je.values[qe]:nt)}return{failures:he,results:$e,numFailures:Ae,lastResult:ce}}).catch(function(ce){return K.forEach(function(he){return he.onerror&&he.onerror(ce)}),Promise.reject(ce)})})}}})}})}};function ja(I,k,P){try{if(!k||k.keys.length<I.length)return null;for(var W=[],X=0,oe=0;X<k.keys.length&&oe<I.length;++X)dn(k.keys[X],I[oe])===0&&(W.push(P?L(k.values[X]):k.values[X]),++oe);return W.length===I.length?W:null}catch{return null}}var uo={stack:"dbcore",level:-1,create:function(I){return{table:function(k){var P=I.table(k);return r(r({},P),{getMany:function(W){if(!W.cache)return P.getMany(W);var X=ja(W.keys,W.trans._cache,W.cache==="clone");return X?Bt.resolve(X):P.getMany(W).then(function(oe){return W.trans._cache={keys:W.keys,values:W.cache==="clone"?L(oe):oe},oe})},mutate:function(W){return W.type!=="add"&&(W.trans._cache=null),P.mutate(W)}})}}}};function Gs(I,k){return I.trans.mode==="readonly"&&!!I.subscr&&!I.trans.explicit&&I.trans.db._options.cache!=="disabled"&&!k.schema.primaryKey.outbound}function Gi(I,k){switch(I){case"query":return k.values&&!k.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var de={stack:"dbcore",level:0,name:"Observability",create:function(I){var k=I.schema.name,P=new an(I.MIN_KEY,I.MAX_KEY);return r(r({},I),{transaction:function(W,X,oe){if(Tt.subscr&&X!=="readonly")throw new Ee.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Tt.querier));return I.transaction(W,X,oe)},table:function(W){var X=I.table(W),oe=X.schema,pe=oe.primaryKey,je=oe.indexes,xe=pe.extractKey,De=pe.outbound,ze=pe.autoIncrement&&je.filter(function(Be){return Be.compound&&Be.keyPath.includes(pe.keyPath)}),Qe=r(r({},X),{mutate:function(Be){function Ge(gt){return gt="idb://".concat(k,"/").concat(W,"/").concat(gt),ce[gt]||(ce[gt]=new an)}var Ke,et,at,K=Be.trans,ce=Be.mutatedParts||(Be.mutatedParts={}),he=Ge(""),$e=Ge(":dels"),Ae=Be.type,ft=Be.type==="deleteRange"?[Be.range]:Be.type==="delete"?[Be.keys]:Be.values.length<50?[ss(pe,Be).filter(function(gt){return gt}),Be.values]:[],qe=ft[0],nt=ft[1],ft=Be.trans._cache;return s(qe)?(he.addKeys(qe),(ft=Ae==="delete"||qe.length===nt.length?ja(qe,ft):null)||$e.addKeys(qe),(ft||nt)&&(Ke=Ge,et=ft,at=nt,oe.indexes.forEach(function(gt){var Nt=Ke(gt.name||"");function Wt(pn){return pn!=null?gt.extractKey(pn):null}function Qt(pn){return gt.multiEntry&&s(pn)?pn.forEach(function(Rr){return Nt.addKey(Rr)}):Nt.addKey(pn)}(et||at).forEach(function(pn,Yr){var Gt=et&&Wt(et[Yr]),Yr=at&&Wt(at[Yr]);dn(Gt,Yr)!==0&&(Gt!=null&&Qt(Gt),Yr!=null&&Qt(Yr))})}))):qe?(nt={from:(nt=qe.lower)!==null&&nt!==void 0?nt:I.MIN_KEY,to:(nt=qe.upper)!==null&&nt!==void 0?nt:I.MAX_KEY},$e.add(nt),he.add(nt)):(he.add(P),$e.add(P),oe.indexes.forEach(function(gt){return Ge(gt.name).add(P)})),X.mutate(Be).then(function(gt){return!qe||Be.type!=="add"&&Be.type!=="put"||(he.addKeys(gt.results),ze&&ze.forEach(function(Nt){for(var Wt=Be.values.map(function(Gt){return Nt.extractKey(Gt)}),Qt=Nt.keyPath.findIndex(function(Gt){return Gt===pe.keyPath}),pn=0,Rr=gt.results.length;pn<Rr;++pn)Wt[pn][Qt]=gt.results[pn];Ge(Nt.name).addKeys(Wt)})),K.mutatedParts=ur(K.mutatedParts||{},ce),gt})}}),je=function(Ge){var Ke=Ge.query,Ge=Ke.index,Ke=Ke.range;return[Ge,new an((Ge=Ke.lower)!==null&&Ge!==void 0?Ge:I.MIN_KEY,(Ke=Ke.upper)!==null&&Ke!==void 0?Ke:I.MAX_KEY)]},Ze={get:function(Be){return[pe,new an(Be.key)]},getMany:function(Be){return[pe,new an().addKeys(Be.keys)]},count:je,query:je,openCursor:je};return a(Ze).forEach(function(Be){Qe[Be]=function(Ge){var Ke=Tt.subscr,et=!!Ke,at=Gs(Tt,X)&&Gi(Be,Ge)?Ge.obsSet={}:Ke;if(et){var K=function(nt){return nt="idb://".concat(k,"/").concat(W,"/").concat(nt),at[nt]||(at[nt]=new an)},ce=K(""),he=K(":dels"),Ke=Ze[Be](Ge),et=Ke[0],Ke=Ke[1];if((Be==="query"&&et.isPrimaryKey&&!Ge.values?he:K(et.name||"")).add(Ke),!et.isPrimaryKey){if(Be!=="count"){var $e=Be==="query"&&De&&Ge.values&&X.query(r(r({},Ge),{values:!1}));return X[Be].apply(this,arguments).then(function(nt){if(Be==="query"){if(De&&Ge.values)return $e.then(function(Wt){return Wt=Wt.result,ce.addKeys(Wt),nt});var ft=Ge.values?nt.result.map(xe):nt.result;(Ge.values?ce:he).addKeys(ft)}else if(Be==="openCursor"){var gt=nt,Nt=Ge.values;return gt&&Object.create(gt,{key:{get:function(){return he.addKey(gt.primaryKey),gt.key}},primaryKey:{get:function(){var Wt=gt.primaryKey;return he.addKey(Wt),Wt}},value:{get:function(){return Nt&&ce.addKey(gt.primaryKey),gt.value}}})}return nt})}he.add(P)}}return X[Be].apply(this,arguments)}}),Qe}})}};function Pe(I,k,P){if(P.numFailures===0)return k;if(k.type==="deleteRange")return null;var W=k.keys?k.keys.length:"values"in k&&k.values?k.values.length:1;return P.numFailures===W?null:(k=r({},k),s(k.keys)&&(k.keys=k.keys.filter(function(X,oe){return!(oe in P.failures)})),"values"in k&&s(k.values)&&(k.values=k.values.filter(function(X,oe){return!(oe in P.failures)})),k)}function mt(I,k){return P=I,((W=k).lower===void 0||(W.lowerOpen?0<dn(P,W.lower):0<=dn(P,W.lower)))&&(I=I,(k=k).upper===void 0||(k.upperOpen?dn(I,k.upper)<0:dn(I,k.upper)<=0));var P,W}function Ot(I,k,Ze,W,X,oe){if(!Ze||Ze.length===0)return I;var pe=k.query.index,xe=pe.multiEntry,De=k.query.range,ze=W.schema.primaryKey.extractKey,Qe=pe.extractKey,je=(pe.lowLevelIndex||pe).extractKey,Ze=Ze.reduce(function(Be,Ge){var Ke=Be,et=[];if(Ge.type==="add"||Ge.type==="put")for(var at=new an,K=Ge.values.length-1;0<=K;--K){var ce,he=Ge.values[K],$e=ze(he);at.hasKey($e)||(ce=Qe(he),(xe&&s(ce)?ce.some(function(gt){return mt(gt,De)}):mt(ce,De))&&(at.addKey($e),et.push(he)))}switch(Ge.type){case"add":var Ae=new an().addKeys(k.values?Be.map(function(Nt){return ze(Nt)}):Be),Ke=Be.concat(k.values?et.filter(function(Nt){return Nt=ze(Nt),!Ae.hasKey(Nt)&&(Ae.addKey(Nt),!0)}):et.map(function(Nt){return ze(Nt)}).filter(function(Nt){return!Ae.hasKey(Nt)&&(Ae.addKey(Nt),!0)}));break;case"put":var qe=new an().addKeys(Ge.values.map(function(Nt){return ze(Nt)}));Ke=Be.filter(function(Nt){return!qe.hasKey(k.values?ze(Nt):Nt)}).concat(k.values?et:et.map(function(Nt){return ze(Nt)}));break;case"delete":var nt=new an().addKeys(Ge.keys);Ke=Be.filter(function(Nt){return!nt.hasKey(k.values?ze(Nt):Nt)});break;case"deleteRange":var ft=Ge.range;Ke=Be.filter(function(Nt){return!mt(ze(Nt),ft)})}return Ke},I);return Ze===I?I:(Ze.sort(function(Be,Ge){return dn(je(Be),je(Ge))||dn(ze(Be),ze(Ge))}),k.limit&&k.limit<1/0&&(Ze.length>k.limit?Ze.length=k.limit:I.length===k.limit&&Ze.length<k.limit&&(X.dirty=!0)),oe?Object.freeze(Ze):Ze)}function kt(I,k){return dn(I.lower,k.lower)===0&&dn(I.upper,k.upper)===0&&!!I.lowerOpen==!!k.lowerOpen&&!!I.upperOpen==!!k.upperOpen}function zt(I,k){return(function(P,W,X,oe){if(P===void 0)return W!==void 0?-1:0;if(W===void 0)return 1;if((W=dn(P,W))===0){if(X&&oe)return 0;if(X)return 1;if(oe)return-1}return W})(I.lower,k.lower,I.lowerOpen,k.lowerOpen)<=0&&0<=(function(P,W,X,oe){if(P===void 0)return W!==void 0?1:0;if(W===void 0)return-1;if((W=dn(P,W))===0){if(X&&oe)return 0;if(X)return-1;if(oe)return 1}return W})(I.upper,k.upper,I.upperOpen,k.upperOpen)}function G(I,k,P,W){I.subscribers.add(P),W.addEventListener("abort",function(){var X,oe;I.subscribers.delete(P),I.subscribers.size===0&&(X=I,oe=k,setTimeout(function(){X.subscribers.size===0&&J(oe,X)},3e3))})}var re={stack:"dbcore",level:0,name:"Cache",create:function(I){var k=I.schema.name;return r(r({},I),{transaction:function(P,W,X){var oe,pe,xe=I.transaction(P,W,X);return W==="readwrite"&&(pe=(oe=new AbortController).signal,X=function(De){return function(){if(oe.abort(),W==="readwrite"){for(var ze=new Set,Qe=0,je=P;Qe<je.length;Qe++){var Ze=je[Qe],Be=aa["idb://".concat(k,"/").concat(Ze)];if(Be){var Ge=I.table(Ze),Ke=Be.optimisticOps.filter(function(Nt){return Nt.trans===xe});if(xe._explicit&&De&&xe.mutatedParts)for(var et=0,at=Object.values(Be.queries.query);et<at.length;et++)for(var K=0,ce=(Ae=at[et]).slice();K<ce.length;K++)pi((qe=ce[K]).obsSet,xe.mutatedParts)&&(J(Ae,qe),qe.subscribers.forEach(function(Nt){return ze.add(Nt)}));else if(0<Ke.length){Be.optimisticOps=Be.optimisticOps.filter(function(Nt){return Nt.trans!==xe});for(var he=0,$e=Object.values(Be.queries.query);he<$e.length;he++)for(var Ae,qe,nt,ft=0,gt=(Ae=$e[he]).slice();ft<gt.length;ft++)(qe=gt[ft]).res!=null&&xe.mutatedParts&&(De&&!qe.dirty?(nt=Object.isFrozen(qe.res),nt=Ot(qe.res,qe.req,Ke,Ge,qe,nt),qe.dirty?(J(Ae,qe),qe.subscribers.forEach(function(Nt){return ze.add(Nt)})):nt!==qe.res&&(qe.res=nt,qe.promise=Bt.resolve({result:nt}))):(qe.dirty&&J(Ae,qe),qe.subscribers.forEach(function(Nt){return ze.add(Nt)})))}}}ze.forEach(function(Nt){return Nt()})}}},xe.addEventListener("abort",X(!1),{signal:pe}),xe.addEventListener("error",X(!1),{signal:pe}),xe.addEventListener("complete",X(!0),{signal:pe})),xe},table:function(P){var W=I.table(P),X=W.schema.primaryKey;return r(r({},W),{mutate:function(oe){var pe=Tt.trans;if(X.outbound||pe.db._options.cache==="disabled"||pe.explicit||pe.idbtrans.mode!=="readwrite")return W.mutate(oe);var xe=aa["idb://".concat(k,"/").concat(P)];return xe?(pe=W.mutate(oe),oe.type!=="add"&&oe.type!=="put"||!(50<=oe.values.length||ss(X,oe).some(function(De){return De==null}))?(xe.optimisticOps.push(oe),oe.mutatedParts&&Na(oe.mutatedParts),pe.then(function(De){0<De.numFailures&&(J(xe.optimisticOps,oe),(De=Pe(0,oe,De))&&xe.optimisticOps.push(De),oe.mutatedParts&&Na(oe.mutatedParts))}),pe.catch(function(){J(xe.optimisticOps,oe),oe.mutatedParts&&Na(oe.mutatedParts)})):pe.then(function(De){var ze=Pe(0,r(r({},oe),{values:oe.values.map(function(Qe,je){var Ze;return De.failures[je]||(Qe=(Ze=X.keyPath)!==null&&Ze!==void 0&&Ze.includes(".")?L(Qe):r({},Qe),C(Qe,X.keyPath,De.results[je])),Qe})}),De);xe.optimisticOps.push(ze),queueMicrotask(function(){return oe.mutatedParts&&Na(oe.mutatedParts)})}),pe):W.mutate(oe)},query:function(oe){if(!Gs(Tt,W)||!Gi("query",oe))return W.query(oe);var pe=((ze=Tt.trans)===null||ze===void 0?void 0:ze.db._options.cache)==="immutable",je=Tt,xe=je.requery,De=je.signal,ze=(function(Ge,Ke,et,at){var K=aa["idb://".concat(Ge,"/").concat(Ke)];if(!K)return[];if(!(Ke=K.queries[et]))return[null,!1,K,null];var ce=Ke[(at.query?at.query.index.name:null)||""];if(!ce)return[null,!1,K,null];switch(et){case"query":var he=ce.find(function($e){return $e.req.limit===at.limit&&$e.req.values===at.values&&kt($e.req.query.range,at.query.range)});return he?[he,!0,K,ce]:[ce.find(function($e){return("limit"in $e.req?$e.req.limit:1/0)>=at.limit&&(!at.values||$e.req.values)&&zt($e.req.query.range,at.query.range)}),!1,K,ce];case"count":return he=ce.find(function($e){return kt($e.req.query.range,at.query.range)}),[he,!!he,K,ce]}})(k,P,"query",oe),Qe=ze[0],je=ze[1],Ze=ze[2],Be=ze[3];return Qe&&je?Qe.obsSet=oe.obsSet:(je=W.query(oe).then(function(Ge){var Ke=Ge.result;if(Qe&&(Qe.res=Ke),pe){for(var et=0,at=Ke.length;et<at;++et)Object.freeze(Ke[et]);Object.freeze(Ke)}else Ge.result=L(Ke);return Ge}).catch(function(Ge){return Be&&Qe&&J(Be,Qe),Promise.reject(Ge)}),Qe={obsSet:oe.obsSet,promise:je,subscribers:new Set,type:"query",req:oe,dirty:!1},Be?Be.push(Qe):(Be=[Qe],(Ze=Ze||(aa["idb://".concat(k,"/").concat(P)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[oe.query.index.name||""]=Be)),G(Qe,Be,xe,De),Qe.promise.then(function(Ge){return{result:Ot(Ge.result,oe,Ze==null?void 0:Ze.optimisticOps,W,Qe,pe)}})}})}})}};function fe(I,k){return new Proxy(I,{get:function(P,W,X){return W==="db"?k:Reflect.get(P,W,X)}})}var be=(ke.prototype.version=function(I){if(isNaN(I)||I<.1)throw new Ee.Type("Given version is not a positive number");if(I=Math.round(10*I)/10,this.idbdb||this._state.isBeingOpened)throw new Ee.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,I);var k=this._versions,P=k.filter(function(W){return W._cfg.version===I})[0];return P||(P=new this.Version(I),k.push(P),k.sort(A),P.stores({}),this._state.autoSchema=!1,P)},ke.prototype._whenReady=function(I){var k=this;return this.idbdb&&(this._state.openComplete||Tt.letThrough||this._vip)?I():new Bt(function(P,W){if(k._state.openComplete)return W(new Ee.DatabaseClosed(k._state.dbOpenError));if(!k._state.isBeingOpened){if(!k._state.autoOpen)return void W(new Ee.DatabaseClosed);k.open().catch(St)}k._state.dbReadyPromise.then(P,W)}).then(I)},ke.prototype.use=function(I){var k=I.stack,P=I.create,W=I.level,X=I.name;return X&&this.unuse({stack:k,name:X}),I=this._middlewares[k]||(this._middlewares[k]=[]),I.push({stack:k,create:P,level:W??10,name:X}),I.sort(function(oe,pe){return oe.level-pe.level}),this},ke.prototype.unuse=function(I){var k=I.stack,P=I.name,W=I.create;return k&&this._middlewares[k]&&(this._middlewares[k]=this._middlewares[k].filter(function(X){return W?X.create!==W:!!P&&X.name!==P})),this},ke.prototype.open=function(){var I=this;return It(Zt,function(){return Wa(I)})},ke.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var I=this._state,k=mn.indexOf(this);if(0<=k&&mn.splice(k,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}I.isBeingOpened||(I.dbReadyPromise=new Bt(function(P){I.dbReadyResolve=P}),I.openCanceller=new Bt(function(P,W){I.cancelOpen=W}))},ke.prototype.close=function(P){var k=(P===void 0?{disableAutoOpen:!0}:P).disableAutoOpen,P=this._state;k?(P.isBeingOpened&&P.cancelOpen(new Ee.DatabaseClosed),this._close(),P.autoOpen=!1,P.dbOpenError=new Ee.DatabaseClosed):(this._close(),P.autoOpen=this._options.autoOpen||P.isBeingOpened,P.openComplete=!1,P.dbOpenError=null)},ke.prototype.delete=function(I){var k=this;I===void 0&&(I={disableAutoOpen:!0});var P=0<arguments.length&&typeof arguments[0]!="object",W=this._state;return new Bt(function(X,oe){function pe(){k.close(I);var xe=k._deps.indexedDB.deleteDatabase(k.name);xe.onsuccess=er(function(){var De,ze,Qe;De=k._deps,ze=k.name,Qe=De.indexedDB,De=De.IDBKeyRange,At(Qe)||ze===Xt||ct(Qe,De).delete(ze).catch(St),X()}),xe.onerror=go(oe),xe.onblocked=k._fireOnBlocked}if(P)throw new Ee.InvalidArgument("Invalid closeOptions argument to db.delete()");W.isBeingOpened?W.dbReadyPromise.then(pe):pe()})},ke.prototype.backendDB=function(){return this.idbdb},ke.prototype.isOpen=function(){return this.idbdb!==null},ke.prototype.hasBeenClosed=function(){var I=this._state.dbOpenError;return I&&I.name==="DatabaseClosed"},ke.prototype.hasFailed=function(){return this._state.dbOpenError!==null},ke.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(ke.prototype,"tables",{get:function(){var I=this;return a(this._allTables).map(function(k){return I._allTables[k]})},enumerable:!1,configurable:!0}),ke.prototype.transaction=function(){var I=(function(k,P,W){var X=arguments.length;if(X<2)throw new Ee.InvalidArgument("Too few arguments");for(var oe=new Array(X-1);--X;)oe[X-1]=arguments[X];return W=oe.pop(),[k,R(oe),W]}).apply(this,arguments);return this._transaction.apply(this,I)},ke.prototype._transaction=function(I,k,P){var W=this,X=Tt.trans;X&&X.db===this&&I.indexOf("!")===-1||(X=null);var oe,pe,xe=I.indexOf("?")!==-1;I=I.replace("!","").replace("?","");try{if(pe=k.map(function(ze){if(ze=ze instanceof W.Table?ze.name:ze,typeof ze!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ze}),I=="r"||I===un)oe=un;else{if(I!="rw"&&I!=Ln)throw new Ee.InvalidArgument("Invalid transaction mode: "+I);oe=Ln}if(X){if(X.mode===un&&oe===Ln){if(!xe)throw new Ee.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");X=null}X&&pe.forEach(function(ze){if(X&&X.storeNames.indexOf(ze)===-1){if(!xe)throw new Ee.SubTransaction("Table "+ze+" not included in parent transaction.");X=null}}),xe&&X&&!X.active&&(X=null)}}catch(ze){return X?X._promise(null,function(Qe,je){je(ze)}):pt(ze)}var De=(function ze(Qe,je,Ze,Be,Ge){return Bt.resolve().then(function(){var Ke=Tt.transless||Tt,et=Qe._createTransaction(je,Ze,Qe._dbSchema,Be);if(et.explicit=!0,Ke={trans:et,transless:Ke},Be)et.idbtrans=Be.idbtrans;else try{et.create(),et.idbtrans._explicit=!0,Qe._state.PR1398_maxLoop=3}catch(ce){return ce.name===Fe.InvalidState&&Qe.isOpen()&&0<--Qe._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Qe.close({disableAutoOpen:!1}),Qe.open().then(function(){return ze(Qe,je,Ze,null,Ge)})):pt(ce)}var at,K=ee(Ge);return K&&Pi(),Ke=Bt.follow(function(){var ce;(at=Ge.call(et,et))&&(K?(ce=ln.bind(null,null),at.then(ce,ce)):typeof at.next=="function"&&typeof at.throw=="function"&&(at=vo(at)))},Ke),(at&&typeof at.then=="function"?Bt.resolve(at).then(function(ce){return et.active?ce:pt(new Ee.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Ke.then(function(){return at})).then(function(ce){return Be&&et._resolve(),et._completion.then(function(){return ce})}).catch(function(ce){return et._reject(ce),pt(ce)})})}).bind(null,this,oe,pe,X,P);return X?X._promise(oe,De,"lock"):Tt.trans?It(Tt.transless,function(){return W._whenReady(De)}):this._whenReady(De)},ke.prototype.table=function(I){if(!d(this._allTables,I))throw new Ee.InvalidTable("Table ".concat(I," does not exist"));return this._allTables[I]},ke);function ke(I,k){var P=this;this._middlewares={},this.verno=0;var W=ke.dependencies;this._options=k=r({addons:ke.addons,autoOpen:!0,indexedDB:W.indexedDB,IDBKeyRange:W.IDBKeyRange,cache:"cloned"},k),this._deps={indexedDB:k.indexedDB,IDBKeyRange:k.IDBKeyRange},W=k.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var X,oe,pe,xe,De,ze={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:St,dbReadyPromise:null,cancelOpen:St,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:k.autoOpen};ze.dbReadyPromise=new Bt(function(je){ze.dbReadyResolve=je}),ze.openCanceller=new Bt(function(je,Ze){ze.cancelOpen=Ze}),this._state=ze,this.name=I,this.on=Ti(this,"populate","blocked","versionchange","close",{ready:[se,St]}),this.once=function(je,Ze){var Be=function(){for(var Ge=[],Ke=0;Ke<arguments.length;Ke++)Ge[Ke]=arguments[Ke];P.on(je).unsubscribe(Be),Ze.apply(P,Ge)};return P.on(je,Be)},this.on.ready.subscribe=S(this.on.ready.subscribe,function(je){return function(Ze,Be){ke.vip(function(){var Ge,Ke=P._state;Ke.openComplete?(Ke.dbOpenError||Bt.resolve().then(Ze),Be&&je(Ze)):Ke.onReadyBeingFired?(Ke.onReadyBeingFired.push(Ze),Be&&je(Ze)):(je(Ze),Ge=P,Be||je(function et(){Ge.on.ready.unsubscribe(Ze),Ge.on.ready.unsubscribe(et)}))})}}),this.Collection=(X=this,gr(Eo.prototype,function(at,et){this.db=X;var Be=tn,Ge=null;if(et)try{Be=et()}catch(K){Ge=K}var Ke=at._ctx,et=Ke.table,at=et.hook.reading.fire;this._ctx={table:et,index:Ke.index,isPrimKey:!Ke.index||et.schema.primKey.keyPath&&Ke.index===et.schema.primKey.name,range:Be,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Ge,or:Ke.or,valueMapper:at!==xt?at:null}})),this.Table=(oe=this,gr(kr.prototype,function(je,Ze,Be){this.db=oe,this._tx=Be,this.name=je,this.schema=Ze,this.hook=oe._allTables[je]?oe._allTables[je].hook:Ti(null,{creating:[Oe,St],reading:[Ct,xt],updating:[Ve,St],deleting:[ye,St]})})),this.Transaction=(pe=this,gr(Fo.prototype,function(je,Ze,Be,Ge,Ke){var et=this;je!=="readonly"&&Ze.forEach(function(at){at=(at=Be[at])===null||at===void 0?void 0:at.yProps,at&&(Ze=Ze.concat(at.map(function(K){return K.updatesTable})))}),this.db=pe,this.mode=je,this.storeNames=Ze,this.schema=Be,this.chromeTransactionDurability=Ge,this.idbtrans=null,this.on=Ti(this,"complete","error","abort"),this.parent=Ke||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Bt(function(at,K){et._resolve=at,et._reject=K}),this._completion.then(function(){et.active=!1,et.on.complete.fire()},function(at){var K=et.active;return et.active=!1,et.on.error.fire(at),et.parent?et.parent._reject(at):K&&et.idbtrans&&et.idbtrans.abort(),pt(at)})})),this.Version=(xe=this,gr(yt.prototype,function(je){this.db=xe,this._cfg={version:je,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(De=this,gr(xl.prototype,function(je,Ze,Be){if(this.db=De,this._ctx={table:je,index:Ze===":id"?null:Ze,or:Be},this._cmp=this._ascending=dn,this._descending=function(Ge,Ke){return dn(Ke,Ge)},this._max=function(Ge,Ke){return 0<dn(Ge,Ke)?Ge:Ke},this._min=function(Ge,Ke){return dn(Ge,Ke)<0?Ge:Ke},this._IDBKeyRange=De._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ee.MissingAPI})),this.on("versionchange",function(je){0<je.newVersion?console.warn("Another connection wants to upgrade database '".concat(P.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(P.name,"'. Closing db now to resume the delete request.")),P.close({disableAutoOpen:!1})}),this.on("blocked",function(je){!je.newVersion||je.newVersion<je.oldVersion?console.warn("Dexie.delete('".concat(P.name,"') was blocked")):console.warn("Upgrade '".concat(P.name,"' blocked by other connection holding version ").concat(je.oldVersion/10))}),this._maxKey=ko(k.IDBKeyRange),this._createTransaction=function(je,Ze,Be,Ge){return new P.Transaction(je,Ze,Be,P._options.chromeTransactionDurability,Ge)},this._fireOnBlocked=function(je){P.on("blocked").fire(je),mn.filter(function(Ze){return Ze.name===P.name&&Ze!==P&&!Ze._state.vcFired}).map(function(Ze){return Ze.on("versionchange").fire(je)})},this.use(uo),this.use(re),this.use(de),this.use(Iu),this.use(vr);var Qe=new Proxy(this,{get:function(je,Ze,Be){if(Ze==="_vip")return!0;if(Ze==="table")return function(Ke){return fe(P.table(Ke),Qe)};var Ge=Reflect.get(je,Ze,Be);return Ge instanceof kr?fe(Ge,Qe):Ze==="tables"?Ge.map(function(Ke){return fe(Ke,Qe)}):Ze==="_createTransaction"?function(){return fe(Ge.apply(this,arguments),Qe)}:Ge}});this.vip=Qe,W.forEach(function(je){return je(P)})}var rt,Et=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Mt=(Vt.prototype.subscribe=function(I,k,P){return this._subscribe(I&&typeof I!="function"?I:{next:I,error:k,complete:P})},Vt.prototype[Et]=function(){return this},Vt);function Vt(I){this._subscribe=I}try{rt={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{rt={indexedDB:null,IDBKeyRange:null}}function fn(I){var k,P=!1,W=new Mt(function(X){var oe=ee(I),pe,xe=!1,De={},ze={},Qe={get closed(){return xe},unsubscribe:function(){xe||(xe=!0,pe&&pe.abort(),je&&Di.storagemutated.unsubscribe(Be))}};X.start&&X.start(Qe);var je=!1,Ze=function(){return lt(Ge)},Be=function(Ke){ur(De,Ke),pi(ze,De)&&Ze()},Ge=function(){var Ke,et,at;!xe&&rt.indexedDB&&(De={},Ke={},pe&&pe.abort(),pe=new AbortController,at=(function(K){var ce=Lr();try{oe&&Pi();var he=Ni(I,K);return he=oe?he.finally(ln):he}finally{ce&&or()}})(et={subscr:Ke,signal:pe.signal,requery:Ze,querier:I,trans:null}),Promise.resolve(at).then(function(K){P=!0,k=K,xe||et.signal.aborted||(De={},(function(ce){for(var he in ce)if(d(ce,he))return;return 1})(ze=Ke)||je||(Di(Fr,Be),je=!0),lt(function(){return!xe&&X.next&&X.next(K)}))},function(K){P=!1,["DatabaseClosedError","AbortError"].includes(K==null?void 0:K.name)||xe||lt(function(){xe||X.error&&X.error(K)})}))};return setTimeout(Ze,0),Qe});return W.hasValue=function(){return P},W.getValue=function(){return k},W}var cn=be;function yn(I){var k=Tn;try{Tn=!0,Di.storagemutated.fire(I),Ra(I,!0)}finally{Tn=k}}f(cn,r(r({},it),{delete:function(I){return new cn(I,{addons:[]}).delete()},exists:function(I){return new cn(I,{addons:[]}).open().then(function(k){return k.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(I){try{return k=cn.dependencies,P=k.indexedDB,k=k.IDBKeyRange,(At(P)?Promise.resolve(P.databases()).then(function(W){return W.map(function(X){return X.name}).filter(function(X){return X!==Xt})}):ct(P,k).toCollection().primaryKeys()).then(I)}catch{return pt(new Ee.MissingAPI)}var k,P},defineClass:function(){return function(I){l(this,I)}},ignoreTransaction:function(I){return Tt.trans?It(Tt.transless,I):I()},vip:jn,async:function(I){return function(){try{var k=vo(I.apply(this,arguments));return k&&typeof k.then=="function"?k:Bt.resolve(k)}catch(P){return pt(P)}}},spawn:function(I,k,P){try{var W=vo(I.apply(P,k||[]));return W&&typeof W.then=="function"?W:Bt.resolve(W)}catch(X){return pt(X)}},currentTransaction:{get:function(){return Tt.trans||null}},waitFor:function(I,k){return k=Bt.resolve(typeof I=="function"?cn.ignoreTransaction(I):I).timeout(k||6e4),Tt.trans?Tt.trans.waitFor(k):k},Promise:Bt,debug:{get:function(){return we},set:function(I){Le(I)}},derive:h,extend:l,props:f,override:S,Events:Ti,on:Di,liveQuery:fn,extendObservabilitySet:ur,getByKeyPath:m,setByKeyPath:C,delByKeyPath:function(I,k){typeof k=="string"?C(I,k,void 0):"length"in k&&[].map.call(k,function(P){C(I,P,void 0)})},shallowClone:T,deepClone:L,getObjectDiff:la,cmp:dn,asap:_,minKey:-1/0,addons:[],connections:mn,errnames:Fe,dependencies:rt,cache:aa,semVer:"4.2.1",version:"4.2.1".split(".").map(function(I){return parseInt(I)}).reduce(function(I,k,P){return I+k/Math.pow(10,2*P)})})),cn.maxKey=ko(cn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Di(Fr,function(I){Tn||(I=new CustomEvent(yo,{detail:I}),Tn=!0,dispatchEvent(I),Tn=!1)}),addEventListener(yo,function(I){I=I.detail,Tn||yn(I)}));var Kn,Tn=!1,Nr=function(){};return typeof BroadcastChannel<"u"&&((Nr=function(){(Kn=new BroadcastChannel(yo)).onmessage=function(I){return I.data&&yn(I.data)}})(),typeof Kn.unref=="function"&&Kn.unref(),Di(Fr,function(I){Tn||Kn.postMessage(I)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(I){if(!be.disableBfCache&&I.persisted){we&&console.debug("Dexie: handling persisted pagehide"),Kn==null||Kn.close();for(var k=0,P=mn;k<P.length;k++)P[k].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(I){!be.disableBfCache&&I.persisted&&(we&&console.debug("Dexie: handling persisted pageshow"),Nr(),yn({all:new an(-1/0,[[]])}))})),Bt.rejectionMapper=function(I,k){return!I||I instanceof $||I instanceof TypeError||I instanceof SyntaxError||!I.name||!He[I.name]?I:(k=new He[I.name](k||I.message,I),"stack"in I&&g(k,"stack",{get:function(){return this.inner.stack}}),k)},Le(we),r(be,Object.freeze({__proto__:null,Dexie:be,liveQuery:fn,Entity:hr,cmp:dn,PropModification:Rn,replacePrefix:function(I,k){return new Rn({replacePrefix:[I,k]})},add:function(I){return new Rn({add:I})},remove:function(I){return new Rn({remove:I})},default:be,RangeSet:an,mergeRanges:xi,rangesOverlap:So}),{default:be}),be})})(tC)),tC.exports}var Qpe=Ype();const nC=Ga(Qpe),jD=Symbol.for("Dexie"),hh=globalThis[jD]||(globalThis[jD]=nC);if(nC.semVer!==hh.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${nC.semVer} and ${hh.semVer}`);const{liveQuery:L7e,mergeRanges:M7e,rangesOverlap:P7e,RangeSet:D7e,cmp:F7e,Entity:U7e,PropModification:z7e,replacePrefix:B7e,add:$7e,remove:H7e,DexieYProvider:V7e}=hh;var Mn=(e=>(e.RELEASE_TYPE="RELEASE_TYPE",e.OAUTH_PROMPT="oauth.prompt",e.OAUTH_REDIRECT_COUNT="oauth.redirect.count",e.OAUTH_STATE="oauth.state",e.PKCE_CODE_VERIFIER="pkce.code.verifier",e.QUERY_TEXT="query.text",e.EDITOR_LINE="editor.line",e.EDITOR_COL="editor.col",e.EXAMPLE_QUERIES_VISITED="editor.exampleQueriesVisited",e.EDITOR_SPLITTER_BASIS="splitter.editor.basis",e.RESULTS_SPLITTER_BASIS="splitter.results.basis",e.REST_TOKEN="rest.token",e.BASIC_AUTH_HEADER="basic.auth.header",e.AUTO_REFRESH_TABLES="auto.refresh.tables",e.SSO_USERNAME="sso.username",e.LEFT_PANEL_STATE="left.panel.state",e.AI_ASSISTANT_SETTINGS="ai.assistant.settings",e.AI_CHAT_PANEL_WIDTH="ai.chat.panel.width",e))(Mn||{});const Ki=e=>localStorage.getItem(e)??"",Is=(e,t)=>localStorage.setItem(e,t),Vd=e=>localStorage.removeItem(e);class Jpe extends hh{constructor(){super("web-console"),this.ready=!1,this.version(1).stores({buffers:"++id, label",editor_settings:"++id, key"}),this.version(2).stores({read_notifications:"++id, newsId"}),this.version(3).stores({buffers:"++id, label, position, archived, archivedAt"}).upgrade(t=>{let n=0;t.table("buffers").toCollection().modify(r=>{r.position=n,n++})}),this.version(4).stores({ai_conversations:"id, bufferId, tableId, updatedAt, queryKey",ai_conversation_messages:"conversationId"}),this.version(5).upgrade(t=>t.table("buffers").filter(n=>n.isDiffBuffer===!0).delete()),this.on("populate",async()=>{const t=Ki(Mn.QUERY_TEXT);typeof t<"u"&&localStorage.removeItem(Mn.QUERY_TEXT),await this.buffers.add(Lm({label:"SQL",value:t??"",position:0})),await this.editor_settings.add({key:"activeBufferId",value:qd.id}),await this.editor_settings.add({key:"returnTo",value:""}),await this.editor_settings.add({key:"returnToLabel",value:""})}),this.on("ready",async()=>{await this.buffers.count()===0&&await this.buffers.add(Lm({label:"SQL",value:"",position:0}));const t=new URL(window.location.href),n=["returnTo","returnToLabel"];await Promise.all(n.map(async r=>{if(t.searchParams.has(r)){const i=t.searchParams.get(r)??"";await this.editor_settings.where("key").equals(r).count()!==0?await this.editor_settings.where("key").equals(r).modify({value:i}):await this.editor_settings.add({key:r,value:i}),t.searchParams.delete(r)}})),window.history.replaceState({},"",t),this.ready=!0})}}const ai=new Jpe;var Ly=(e=>(e.SQL="SQL",e.METRICS="Metrics",e))(Ly||{});const Zpe={cursorState:[{inSelectionMode:!1,selectionStart:{lineNumber:1,column:1},position:{lineNumber:1,column:1}}],contributionsState:[{"editor.contrib.wordHighlighter":!1,"editor.contrib.folding":{lineCount:1,provider:"indent",foldedImports:!1}}],viewState:{scrollLeft:0,firstPosition:{lineNumber:1,column:1},firstPositionDeltaTop:0}},Lm=({label:e,value:t,editorViewState:n=Zpe,metricsViewState:r,position:i,archived:o,archivedAt:a,isTemporary:s,isPreviewBuffer:l,previewContent:c})=>({label:e,value:t??"",editorViewState:r||l?void 0:n,metricsViewState:r,position:i,archived:o,archivedAt:a,isTemporary:s,isPreviewBuffer:l,previewContent:c}),eme=e=>({id:1,...Lm({label:e,position:0})}),qd={id:1,...Lm({label:"SQL",position:0})},La={getAll:()=>ai.buffers.toArray(),getById:e=>ai.buffers.get(e),getMetaById:e=>ai.buffers.get(e).then(t=>({archived:t==null?void 0:t.archived,archivedAt:t==null?void 0:t.archivedAt,label:t==null?void 0:t.label,type:t!=null&&t.metricsViewState?"Metrics":"SQL"})),getActiveId:()=>ai.editor_settings.where("key").equals("activeBufferId").first(),setActiveId:e=>ai.editor_settings.where("key").equals("activeBufferId").modify({value:e}),getBufferTypeById:e=>ai.buffers.get(e).then(t=>t!=null&&t.metricsViewState?"Metrics":"SQL"),update:(e,t)=>ai.buffers.update(e,t),delete:e=>ai.buffers.delete(e),deleteAll:()=>ai.buffers.clear()},tme=({editor:e,monaco:t,runQuery:n,runScript:r,onTabClosed:i,deleteBuffer:o,addBuffer:a})=>{const s=[];return e.addCommand(t.KeyMod.CtrlCmd|t.KeyMod.Shift|t.KeyCode.Enter,()=>{}),s.push(e.addAction({id:"execute",label:"Execute command",keybindings:[t.KeyCode.F9,t.KeyMod.CtrlCmd|t.KeyCode.Enter],run:()=>{n()}})),s.push(e.addAction({id:"run_script",label:"Run script",keybindings:[t.KeyMod.CtrlCmd|t.KeyMod.Shift|t.KeyCode.Enter],run:()=>{r()}})),s.push(e.addAction({id:"add_new_tab",label:"Add new tab",keybindings:[t.KeyMod.Alt|t.KeyCode.KeyT],run:()=>{a()}})),s.push(e.addAction({id:"close_active_tab",label:"Close current tab",keybindings:[t.KeyMod.Alt|t.KeyCode.KeyW],run:async()=>{const l=await La.getAll(),c=await La.getActiveId();l.length>1&&(c!=null&&c.value)&&typeof(c==null?void 0:c.value)=="number"&&(o(c.value),i&&i())}})),s.push(e.addAction({id:"search_docs",label:"Search QuestDB Docs",keybindings:[t.KeyMod.CtrlCmd|t.KeyCode.KeyK],run:()=>{const l=document.querySelector(".DocSearch-Button");l&&l.click()}})),s.push(e.addAction({id:"explain_query",label:"Explain query",keybindings:[t.KeyMod.CtrlCmd|t.KeyCode.KeyE],run:()=>{Bn.publish(zn.EXPLAIN_QUERY_EXEC)}})),()=>{s.forEach(l=>{l.dispose()})}},nme=e=>{e.languages.register({id:ds}),e.languages.setMonarchTokensProvider(ds,iL),e.languages.setLanguageConfiguration(ds,Zfe),e.languages.registerDocumentFormattingEditProvider(ds,kD),e.languages.registerDocumentRangeFormattingEditProvider(ds,ND)};by.config({paths:{vs:"assets/vs"}}),by.init().then(e=>(nme(e),e.editor.defineTheme("dracula",Jfe),e.editor.setTheme("dracula"),e));function rme(){var e=new Date().getTime(),t=typeof performance<"u"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var r=Math.random()*16;return e>0?(r=(e+r)%16|0,e=Math.floor(e/16)):(r=(t+r)%16|0,t=Math.floor(t/16)),(n==="x"?r:r&3|8).toString(16)})}window.crypto||(window.crypto={}),window.crypto.randomUUID=window.crypto.randomUUID??rme;const ime=Vn([`
  :root {
    --docsearch-primary-color: `,`;
    --docsearch-text-color: `,`;
    --docsearch-highlight-color: `,`;
    --docsearch-muted-color: #a4a6a8;
    --docsearch-container-background: rgba(0, 0, 0, 0.5);
    /* Modal */
    --docsearch-modal-background: `,`;
    --docsearch-modal-shadow: inset 1px 1px 0 0 #2c2e40, 0 3px 8px 0 #000309;
    /* Search box */
    --docsearch-searchbox-background: #2d303e;
    --docsearch-searchbox-focus-background: #141725;
    /* Hit */
    --docsearch-hit-color: `,`;
    --docsearch-hit-active-color: `,`;
    --docsearch-hit-background: `,`;
    --docsearch-hit-shadow: none;
    /* Footer */
    --docsearch-footer-background: `,`;
    --docsearch-footer-shadow:
      inset 0 1px 0 0 rgba(73, 76, 106, 0.5), 0 -4px 8px 0 rgba(0, 0, 0, 0.2);
    /* Keys */
    --docsearch-key-gradient: linear-gradient(
      -26.5deg,
      #32343e 0%,
      rgb(38, 40, 51) 100%
    );
    --docsearch-key-shadow:
      inset 0 -2px 0 0 #282d55, inset 0 0 1px 1px #51577d,
      0 2px 2px 0 rgba(3, 4, 9, 0.3);

    // Allotment styling
    --focus-border: `,`;
    --separator-border: `,`;
    --sash-size: 1.5rem !important;
    --sash-hover-size: 0.5rem;
    .allotment-module_splitView__L-yRc.allotment-module_separatorBorder__x-rDS.allotment-module_vertical__WSwwa
      > .allotment-module_splitViewContainer__rQnVa
      > .allotment-module_splitViewView__MGZ6O:not(:first-child)::before {
      height: 2px;
    }
    .allotment-module_splitView__L-yRc.allotment-module_separatorBorder__x-rDS.allotment-module_horizontal__7doS8
      > .allotment-module_splitViewContainer__rQnVa
      > .allotment-module_splitViewView__MGZ6O:not(:first-child)::before {
      width: 2px;
    }
  }
  .sash {
    ::before {
      transition: none;
    }
  }

  .DocSearch-Button {
    height: 3rem;
    border-radius: 0.4rem;
    color: `,`;
    border: 1px solid var(--docsearch-searchbox-background);
  }

  .DocSearch-Button:hover {
    background: `,`;
    box-shadow: none;
  }

  .DocSearch-Button-Placeholder {
    font-size: 100%;
  }

  .DocSearch-Button .DocSearch-Search-Icon {
    color: `,`;
    width: 1.4rem;
    height: 1.4rem;
  }

  .DocSearch-Button:hover .DocSearch-Search-Icon {
    color: `,`;
  }

  .DocSearch-Button-Key {
    top: 0;
    padding: 0 4px;
    background: `,`;
    border-radius: 2px;
    box-shadow: none;
    color: `,`;
    font-size: 1.2rem;
    font-style: inherit;
    font-family: inherit;
    font-weight: 600;
  }

  .DocSearch-Hit-title {
    font-size: 100%;
    overflow: hidden;
  }

  .DocSearch-Logo .cls-1,
  .DocSearch-Logo .cls-2 {
    fill: `,` !important;
  }
`],({theme:e})=>e.color.pink,({theme:e})=>e.color.foreground,({theme:e})=>e.color.pink,({theme:e})=>e.color.background,({theme:e})=>e.color.foreground,({theme:e})=>e.color.foreground,({theme:e})=>e.color.backgroundLighter,({theme:e})=>e.color.background,({theme:e})=>e.color.comment,({theme:e})=>e.color.backgroundDarker,({theme:e})=>e.color.foreground,({theme:e})=>e.color.comment,({theme:e})=>e.color.foreground,({theme:e})=>e.color.foreground,({theme:e})=>e.color.gray2,({theme:e})=>e.color.black,({theme:e})=>e.color.foreground),ome=b_([`
  `,`

  body {
    color: `,`;
  }
`],ime,({theme:e})=>e.color.foreground);function ame(e,t){const n=x.createContext(t),r=o=>{const{children:a,...s}=o,l=x.useMemo(()=>s,Object.values(s));return v.jsx(n.Provider,{value:l,children:a})};r.displayName=e+"Provider";function i(o){const a=x.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,i]}function lc(e,t=[]){let n=[];function r(o,a){const s=x.createContext(a),l=n.length;n=[...n,a];const c=d=>{var b;const{scope:f,children:p,...g}=d,h=((b=f==null?void 0:f[e])==null?void 0:b[l])||s,y=x.useMemo(()=>g,Object.values(g));return v.jsx(h.Provider,{value:y,children:p})};c.displayName=o+"Provider";function u(d,f){var h;const p=((h=f==null?void 0:f[e])==null?void 0:h[l])||s,g=x.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[c,u]}const i=()=>{const o=n.map(a=>x.createContext(a));return function(a){const s=(a==null?void 0:a[e])||o;return x.useMemo(()=>({[`__scope${e}`]:{...a,[e]:s}}),[a,s])}};return i.scopeName=e,[r,sme(i,...t)]}function sme(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(i){const o=r.reduce((a,{useScope:s,scopeName:l})=>{const c=s(i)[`__scope${l}`];return{...a,...c}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function LD(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function My(...e){return t=>{let n=!1;const r=e.map(i=>{const o=LD(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():LD(e[i],null)}}}}function wo(...e){return x.useCallback(My(...e),e)}function tr(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e==null||e(r),n===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}var Du=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},lme=pue[" useId ".trim().toString()]||(()=>{}),cme=0;function Wd(e){const[t,n]=x.useState(lme());return Du(()=>{n(r=>r??String(cme++))},[e]),t?`radix-${t}`:""}var ume=pue[" useInsertionEffect ".trim().toString()]||Du;function Mm({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,o,a]=dme({defaultProp:t,onChange:n}),s=e!==void 0,l=s?e:i;{const u=x.useRef(e!==void 0);x.useEffect(()=>{const d=u.current;d!==s&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=s},[s,r])}const c=x.useCallback(u=>{var d;if(s){const f=fme(u)?u(e):u;f!==e&&((d=a.current)==null||d.call(a,f))}else o(u)},[s,e,o,a]);return[l,c]}function dme({defaultProp:e,onChange:t}){const[n,r]=x.useState(e),i=x.useRef(n),o=x.useRef(t);return ume(()=>{o.current=t},[t]),x.useEffect(()=>{var a;i.current!==n&&((a=o.current)==null||a.call(o,n),i.current=n)},[n,i]),[n,r,o]}function fme(e){return typeof e=="function"}function ph(e){const t=hme(e),n=x.forwardRef((r,i)=>{const{children:o,...a}=r,s=x.Children.toArray(o),l=s.find(mme);if(l){const c=l.props.children,u=s.map(d=>d===l?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:d);return v.jsx(t,{...a,ref:i,children:x.isValidElement(c)?x.cloneElement(c,void 0,u):null})}return v.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function hme(e){const t=x.forwardRef((n,r)=>{const{children:i,...o}=n;if(x.isValidElement(i)){const a=yme(i),s=gme(o,i.props);return i.type!==x.Fragment&&(s.ref=r?My(r,a):a),x.cloneElement(i,s)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var MD=Symbol("radix.slottable");function pme(e){const t=({children:n})=>v.jsx(v.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=MD,t}function mme(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===MD}function gme(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{const s=o(...a);return i(...a),s}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function yme(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var vme=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],to=vme.reduce((e,t)=>{const n=ph(`Primitive.${t}`),r=x.forwardRef((i,o)=>{const{asChild:a,...s}=i,l=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(l,{...s,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function PD(e,t){e&&w_.flushSync(()=>e.dispatchEvent(t))}function cc(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function bme(e,t=globalThis==null?void 0:globalThis.document){const n=cc(e);x.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var wme="DismissableLayer",rC="dismissableLayer.update",xme="dismissableLayer.pointerDownOutside",_me="dismissableLayer.focusOutside",DD,FD=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Py=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:s,...l}=e,c=x.useContext(FD),[u,d]=x.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=x.useState({}),g=wo(t,C=>d(C)),h=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=h.indexOf(y),w=u?h.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,E=w>=b,_=Cme(C=>{const T=C.target,O=[...c.branches].some(R=>R.contains(T));!E||O||(i==null||i(C),a==null||a(C),C.defaultPrevented||(s==null||s()))},f),m=Tme(C=>{const T=C.target;[...c.branches].some(O=>O.contains(T))||(o==null||o(C),a==null||a(C),C.defaultPrevented||(s==null||s()))},f);return bme(C=>{w===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&s&&(C.preventDefault(),s()))},f),x.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(DD=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),UD(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=DD)}},[u,f,n,c]),x.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),UD())},[u,c]),x.useEffect(()=>{const C=()=>p({});return document.addEventListener(rC,C),()=>document.removeEventListener(rC,C)},[]),v.jsx(to.div,{...l,ref:g,style:{pointerEvents:S?E?"auto":"none":void 0,...e.style},onFocusCapture:tr(e.onFocusCapture,m.onFocusCapture),onBlurCapture:tr(e.onBlurCapture,m.onBlurCapture),onPointerDownCapture:tr(e.onPointerDownCapture,_.onPointerDownCapture)})});Py.displayName=wme;var Eme="DismissableLayerBranch",Sme=x.forwardRef((e,t)=>{const n=x.useContext(FD),r=x.useRef(null),i=wo(t,r);return x.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),v.jsx(to.div,{...e,ref:i})});Sme.displayName=Eme;function Cme(e,t=globalThis==null?void 0:globalThis.document){const n=cc(e),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const o=s=>{if(s.target&&!r.current){let l=function(){zD(xme,n,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Tme(e,t=globalThis==null?void 0:globalThis.document){const n=cc(e),r=x.useRef(!1);return x.useEffect(()=>{const i=o=>{o.target&&!r.current&&zD(_me,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function UD(){const e=new CustomEvent(rC);document.dispatchEvent(e)}function zD(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?PD(i,o):i.dispatchEvent(o)}var iC="focusScope.autoFocusOnMount",oC="focusScope.autoFocusOnUnmount",BD={bubbles:!1,cancelable:!0},Ame="FocusScope",Dy=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=e,[s,l]=x.useState(null),c=cc(i),u=cc(o),d=x.useRef(null),f=wo(t,h=>l(h)),p=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let h=function(S){if(p.paused||!s)return;const E=S.target;s.contains(E)?d.current=E:Fu(d.current,{select:!0})},y=function(S){if(p.paused||!s)return;const E=S.relatedTarget;E!==null&&(s.contains(E)||Fu(d.current,{select:!0}))},b=function(S){if(document.activeElement===document.body)for(const E of S)E.removedNodes.length>0&&Fu(s)};document.addEventListener("focusin",h),document.addEventListener("focusout",y);const w=new MutationObserver(b);return s&&w.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",y),w.disconnect()}}},[r,s,p.paused]),x.useEffect(()=>{if(s){VD.add(p);const h=document.activeElement;if(!s.contains(h)){const y=new CustomEvent(iC,BD);s.addEventListener(iC,c),s.dispatchEvent(y),y.defaultPrevented||(Ime(jme($D(s)),{select:!0}),document.activeElement===h&&Fu(s))}return()=>{s.removeEventListener(iC,c),setTimeout(()=>{const y=new CustomEvent(oC,BD);s.addEventListener(oC,u),s.dispatchEvent(y),y.defaultPrevented||Fu(h??document.body,{select:!0}),s.removeEventListener(oC,u),VD.remove(p)},0)}}},[s,c,u,p]);const g=x.useCallback(h=>{if(!n&&!r||p.paused)return;const y=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,b=document.activeElement;if(y&&b){const w=h.currentTarget,[S,E]=Ome(w);S&&E?!h.shiftKey&&b===E?(h.preventDefault(),n&&Fu(S,{select:!0})):h.shiftKey&&b===S&&(h.preventDefault(),n&&Fu(E,{select:!0})):b===w&&h.preventDefault()}},[n,r,p.paused]);return v.jsx(to.div,{tabIndex:-1,...a,ref:f,onKeyDown:g})});Dy.displayName=Ame;function Ime(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Fu(r,{select:t}),document.activeElement!==n)return}function Ome(e){const t=$D(e),n=HD(t,e),r=HD(t.reverse(),e);return[n,r]}function $D(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function HD(e,t){for(const n of e)if(!kme(n,{upTo:t}))return n}function kme(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Nme(e){return e instanceof HTMLInputElement&&"select"in e}function Fu(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Nme(e)&&t&&e.select()}}var VD=Rme();function Rme(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=qD(e,t),e.unshift(t)},remove(t){var n;e=qD(e,t),(n=e[0])==null||n.resume()}}}function qD(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function jme(e){return e.filter(t=>t.tagName!=="A")}var Lme="Portal",Fy=x.forwardRef((e,t)=>{var s;const{container:n,...r}=e,[i,o]=x.useState(!1);Du(()=>o(!0),[]);const a=n||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return a?ku.createPortal(v.jsx(to.div,{...r,ref:t}),a):null});Fy.displayName=Lme;function Mme(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var uc=e=>{const{present:t,children:n}=e,r=Pme(t),i=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),o=wo(r.ref,Dme(i));return typeof n=="function"||r.isPresent?x.cloneElement(i,{ref:o}):null};uc.displayName="Presence";function Pme(e){const[t,n]=x.useState(),r=x.useRef(null),i=x.useRef(e),o=x.useRef("none"),a=e?"mounted":"unmounted",[s,l]=Mme(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const c=Uy(r.current);o.current=s==="mounted"?c:"none"},[s]),Du(()=>{const c=r.current,u=i.current;if(u!==e){const d=o.current,f=Uy(c);e?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&d!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Du(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,d=p=>{const g=Uy(r.current).includes(CSS.escape(p.animationName));if(p.target===t&&g&&(l("ANIMATION_END"),!i.current)){const h=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=h)})}},f=p=>{p.target===t&&(o.current=Uy(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:x.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Uy(e){return(e==null?void 0:e.animationName)||"none"}function Dme(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var aC=0;function sC(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??WD()),document.body.insertAdjacentElement("beforeend",e[1]??WD()),aC++,()=>{aC===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),aC--}},[])}function WD(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var dc=function(){return dc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},dc.apply(this,arguments)};function GD(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Fme(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var zy="right-scroll-bar-position",By="width-before-scroll-bar",Ume="with-scroll-bars-hidden",zme="--removed-body-scroll-bar-size";function lC(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Bme(e,t){var n=x.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var $me=typeof window<"u"?x.useLayoutEffect:x.useEffect,KD=new WeakMap;function Hme(e,t){var n=Bme(null,function(r){return e.forEach(function(i){return lC(i,r)})});return $me(function(){var r=KD.get(n);if(r){var i=new Set(r),o=new Set(e),a=n.current;i.forEach(function(s){o.has(s)||lC(s,null)}),o.forEach(function(s){i.has(s)||lC(s,a)})}KD.set(n,e)},[e]),n}function Vme(e){return e}function qme(e,t){t===void 0&&(t=Vme);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var a=t(o,r);return n.push(a),function(){n=n.filter(function(s){return s!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(s){return o(s)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var s=n;n=[],s.forEach(o),a=n}var l=function(){var u=a;a=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){a.push(u),c()},filter:function(u){return a=a.filter(u),n}}}};return i}function Wme(e){e===void 0&&(e={});var t=qme(null);return t.options=dc({async:!0,ssr:!1},e),t}var XD=function(e){var t=e.sideCar,n=GD(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,dc({},n))};XD.isSideCarExport=!0;function Gme(e,t){return e.useMedium(t),XD}var YD=Wme(),cC=function(){},$y=x.forwardRef(function(e,t){var n=x.useRef(null),r=x.useState({onScrollCapture:cC,onWheelCapture:cC,onTouchMoveCapture:cC}),i=r[0],o=r[1],a=e.forwardProps,s=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,f=e.sideCar,p=e.noRelative,g=e.noIsolation,h=e.inert,y=e.allowPinchZoom,b=e.as,w=b===void 0?"div":b,S=e.gapMode,E=GD(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=f,m=Hme([n,t]),C=dc(dc({},E),i);return x.createElement(x.Fragment,null,u&&x.createElement(_,{sideCar:YD,removeScrollBar:c,shards:d,noRelative:p,noIsolation:g,inert:h,setCallbacks:o,allowPinchZoom:!!y,lockRef:n,gapMode:S}),a?x.cloneElement(x.Children.only(s),dc(dc({},C),{ref:m})):x.createElement(w,dc({},C,{className:l,ref:m}),s))});$y.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},$y.classNames={fullWidth:By,zeroRight:zy};var Kme=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Xme(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Kme();return t&&e.setAttribute("nonce",t),e}function Yme(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Qme(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Jme=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Xme())&&(Yme(t,n),Qme(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Zme=function(){var e=Jme();return function(t,n){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},QD=function(){var e=Zme(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},ege={left:0,top:0,right:0,gap:0},uC=function(e){return parseInt(e||"",10)||0},tge=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[uC(n),uC(r),uC(i)]},nge=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ege;var t=tge(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},rge=QD(),mh="data-scroll-locked",ige=function(e,t,n,r){var i=e.left,o=e.top,a=e.right,s=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Ume,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(mh,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zy,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(By,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(zy," .").concat(zy,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(By," .").concat(By,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(mh,`] {
    `).concat(zme,": ").concat(s,`px;
  }
`)},JD=function(){var e=parseInt(document.body.getAttribute(mh)||"0",10);return isFinite(e)?e:0},oge=function(){x.useEffect(function(){return document.body.setAttribute(mh,(JD()+1).toString()),function(){var e=JD()-1;e<=0?document.body.removeAttribute(mh):document.body.setAttribute(mh,e.toString())}},[])},age=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;oge();var o=x.useMemo(function(){return nge(i)},[i]);return x.createElement(rge,{styles:ige(o,!t,i,n?"":"!important")})},dC=!1;if(typeof window<"u")try{var Hy=Object.defineProperty({},"passive",{get:function(){return dC=!0,!0}});window.addEventListener("test",Hy,Hy),window.removeEventListener("test",Hy,Hy)}catch{dC=!1}var gh=dC?{passive:!1}:!1,sge=function(e){return e.tagName==="TEXTAREA"},ZD=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!sge(e)&&n[t]==="visible")},lge=function(e){return ZD(e,"overflowY")},cge=function(e){return ZD(e,"overflowX")},e7=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=t7(e,r);if(i){var o=n7(e,r),a=o[1],s=o[2];if(a>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},uge=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},dge=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},t7=function(e,t){return e==="v"?lge(t):cge(t)},n7=function(e,t){return e==="v"?uge(t):dge(t)},fge=function(e,t){return e==="h"&&t==="rtl"?-1:1},hge=function(e,t,n,r,i){var o=fge(e,window.getComputedStyle(t).direction),a=o*r,s=n.target,l=t.contains(s),c=!1,u=a>0,d=0,f=0;do{if(!s)break;var p=n7(e,s),g=p[0],h=p[1],y=p[2],b=h-y-o*g;(g||b)&&t7(e,s)&&(d+=b,f+=g);var w=s.parentNode;s=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(u&&Math.abs(d)<1||!u&&Math.abs(f)<1)&&(c=!0),c},Vy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},r7=function(e){return[e.deltaX,e.deltaY]},i7=function(e){return e&&"current"in e?e.current:e},pge=function(e,t){return e[0]===t[0]&&e[1]===t[1]},mge=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},gge=0,yh=[];function yge(e){var t=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),i=x.useState(gge++)[0],o=x.useState(QD)[0],a=x.useRef(e);x.useEffect(function(){a.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var h=Fme([e.lockRef.current],(e.shards||[]).map(i7),!0).filter(Boolean);return h.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),h.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=x.useCallback(function(h,y){if("touches"in h&&h.touches.length===2||h.type==="wheel"&&h.ctrlKey)return!a.current.allowPinchZoom;var b=Vy(h),w=n.current,S="deltaX"in h?h.deltaX:w[0]-b[0],E="deltaY"in h?h.deltaY:w[1]-b[1],_,m=h.target,C=Math.abs(S)>Math.abs(E)?"h":"v";if("touches"in h&&C==="h"&&m.type==="range")return!1;var T=e7(C,m);if(!T)return!0;if(T?_=C:(_=C==="v"?"h":"v",T=e7(C,m)),!T)return!1;if(!r.current&&"changedTouches"in h&&(S||E)&&(r.current=_),!_)return!0;var O=r.current||_;return hge(O,y,h,O==="h"?S:E)},[]),l=x.useCallback(function(h){var y=h;if(!(!yh.length||yh[yh.length-1]!==o)){var b="deltaY"in y?r7(y):Vy(y),w=t.current.filter(function(_){return _.name===y.type&&(_.target===y.target||y.target===_.shadowParent)&&pge(_.delta,b)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var S=(a.current.shards||[]).map(i7).filter(Boolean).filter(function(_){return _.contains(y.target)}),E=S.length>0?s(y,S[0]):!a.current.noIsolation;E&&y.cancelable&&y.preventDefault()}}},[]),c=x.useCallback(function(h,y,b,w){var S={name:h,delta:y,target:b,should:w,shadowParent:vge(b)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(E){return E!==S})},1)},[]),u=x.useCallback(function(h){n.current=Vy(h),r.current=void 0},[]),d=x.useCallback(function(h){c(h.type,r7(h),h.target,s(h,e.lockRef.current))},[]),f=x.useCallback(function(h){c(h.type,Vy(h),h.target,s(h,e.lockRef.current))},[]);x.useEffect(function(){return yh.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,gh),document.addEventListener("touchmove",l,gh),document.addEventListener("touchstart",u,gh),function(){yh=yh.filter(function(h){return h!==o}),document.removeEventListener("wheel",l,gh),document.removeEventListener("touchmove",l,gh),document.removeEventListener("touchstart",u,gh)}},[]);var p=e.removeScrollBar,g=e.inert;return x.createElement(x.Fragment,null,g?x.createElement(o,{styles:mge(i)}):null,p?x.createElement(age,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function vge(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const bge=Gme(YD,yge);var qy=x.forwardRef(function(e,t){return x.createElement($y,dc({},e,{ref:t,sideCar:bge}))});qy.classNames=$y.classNames;var wge=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},vh=new WeakMap,Wy=new WeakMap,Gy={},fC=0,o7=function(e){return e&&(e.host||o7(e.parentNode))},xge=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=o7(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},_ge=function(e,t,n,r){var i=xge(t,Array.isArray(e)?e:[e]);Gy[n]||(Gy[n]=new WeakMap);var o=Gy[n],a=[],s=new Set,l=new Set(i),c=function(d){!d||s.has(d)||(s.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(s.has(f))u(f);else try{var p=f.getAttribute(r),g=p!==null&&p!=="false",h=(vh.get(f)||0)+1,y=(o.get(f)||0)+1;vh.set(f,h),o.set(f,y),a.push(f),h===1&&g&&Wy.set(f,!0),y===1&&f.setAttribute(n,"true"),g||f.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return u(t),s.clear(),fC++,function(){a.forEach(function(d){var f=vh.get(d)-1,p=o.get(d)-1;vh.set(d,f),o.set(d,p),f||(Wy.has(d)||d.removeAttribute(r),Wy.delete(d)),p||d.removeAttribute(n)}),fC--,fC||(vh=new WeakMap,vh=new WeakMap,Wy=new WeakMap,Gy={})}},hC=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=wge(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),_ge(r,i,n,"aria-hidden")):function(){return null}},Ky="Dialog",[a7,s7]=lc(Ky),[Ege,kl]=a7(Ky),l7=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:a=!0}=e,s=x.useRef(null),l=x.useRef(null),[c,u]=Mm({prop:r,defaultProp:i??!1,onChange:o,caller:Ky});return v.jsx(Ege,{scope:t,triggerRef:s,contentRef:l,contentId:Wd(),titleId:Wd(),descriptionId:Wd(),open:c,onOpenChange:u,onOpenToggle:x.useCallback(()=>u(d=>!d),[u]),modal:a,children:n})};l7.displayName=Ky;var c7="DialogTrigger",u7=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=kl(c7,n),o=wo(t,i.triggerRef);return v.jsx(to.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":gC(i.open),...r,ref:o,onClick:tr(e.onClick,i.onOpenToggle)})});u7.displayName=c7;var pC="DialogPortal",[Sge,d7]=a7(pC,{forceMount:void 0}),f7=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=kl(pC,t);return v.jsx(Sge,{scope:t,forceMount:n,children:x.Children.map(r,a=>v.jsx(uc,{present:n||o.open,children:v.jsx(Fy,{asChild:!0,container:i,children:a})}))})};f7.displayName=pC;var Xy="DialogOverlay",h7=x.forwardRef((e,t)=>{const n=d7(Xy,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=kl(Xy,e.__scopeDialog);return o.modal?v.jsx(uc,{present:r||o.open,children:v.jsx(Tge,{...i,ref:t})}):null});h7.displayName=Xy;var Cge=ph("DialogOverlay.RemoveScroll"),Tge=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=kl(Xy,n);return v.jsx(qy,{as:Cge,allowPinchZoom:!0,shards:[i.contentRef],children:v.jsx(to.div,{"data-state":gC(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Gd="DialogContent",p7=x.forwardRef((e,t)=>{const n=d7(Gd,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=kl(Gd,e.__scopeDialog);return v.jsx(uc,{present:r||o.open,children:o.modal?v.jsx(Age,{...i,ref:t}):v.jsx(Ige,{...i,ref:t})})});p7.displayName=Gd;var Age=x.forwardRef((e,t)=>{const n=kl(Gd,e.__scopeDialog),r=x.useRef(null),i=wo(t,n.contentRef,r);return x.useEffect(()=>{const o=r.current;if(o)return hC(o)},[]),v.jsx(m7,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:tr(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:tr(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,s=a.button===0&&a.ctrlKey===!0;(a.button===2||s)&&o.preventDefault()}),onFocusOutside:tr(e.onFocusOutside,o=>o.preventDefault())})}),Ige=x.forwardRef((e,t)=>{const n=kl(Gd,e.__scopeDialog),r=x.useRef(!1),i=x.useRef(!1);return v.jsx(m7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,s;(a=e.onCloseAutoFocus)==null||a.call(e,o),o.defaultPrevented||(r.current||((s=n.triggerRef.current)==null||s.focus()),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var s,l;(s=e.onInteractOutside)==null||s.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;(l=n.triggerRef.current)!=null&&l.contains(a)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),m7=x.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...a}=e,s=kl(Gd,n),l=x.useRef(null),c=wo(t,l);return sC(),v.jsxs(v.Fragment,{children:[v.jsx(Dy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:v.jsx(Py,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":gC(s.open),...a,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),v.jsxs(v.Fragment,{children:[v.jsx(kge,{titleId:s.titleId}),v.jsx(Rge,{contentRef:l,descriptionId:s.descriptionId})]})]})}),mC="DialogTitle",g7=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=kl(mC,n);return v.jsx(to.h2,{id:i.titleId,...r,ref:t})});g7.displayName=mC;var y7="DialogDescription",v7=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=kl(y7,n);return v.jsx(to.p,{id:i.descriptionId,...r,ref:t})});v7.displayName=y7;var b7="DialogClose",w7=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=kl(b7,n);return v.jsx(to.button,{type:"button",...r,ref:t,onClick:tr(e.onClick,()=>i.onOpenChange(!1))})});w7.displayName=b7;function gC(e){return e?"open":"closed"}var x7="DialogTitleWarning",[Oge,_7]=ame(x7,{contentName:Gd,titleName:mC,docsSlug:"dialog"}),kge=({titleId:e})=>{const t=_7(x7),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Nge="DialogDescriptionWarning",Rge=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_7(Nge).contentName}}.`;return x.useEffect(()=>{var i;const r=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Pm=l7,yC=u7,Dm=f7,Fm=h7,Yy=p7,vC=g7,E7=v7,bC=w7,S7="AlertDialog",[jge]=lc(S7,[s7]),Gc=s7(),C7=e=>{const{__scopeAlertDialog:t,...n}=e,r=Gc(t);return v.jsx(Pm,{...r,...n,modal:!0})};C7.displayName=S7;var Lge="AlertDialogTrigger",T7=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Gc(n);return v.jsx(yC,{...i,...r,ref:t})});T7.displayName=Lge;var Mge="AlertDialogPortal",A7=e=>{const{__scopeAlertDialog:t,...n}=e,r=Gc(t);return v.jsx(Dm,{...r,...n})};A7.displayName=Mge;var Pge="AlertDialogOverlay",I7=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Gc(n);return v.jsx(Fm,{...i,...r,ref:t})});I7.displayName=Pge;var bh="AlertDialogContent",[Dge,Fge]=jge(bh),Uge=pme("AlertDialogContent"),O7=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,o=Gc(n),a=x.useRef(null),s=wo(t,a),l=x.useRef(null);return v.jsx(Oge,{contentName:bh,titleName:k7,docsSlug:"alert-dialog",children:v.jsx(Dge,{scope:n,cancelRef:l,children:v.jsxs(Yy,{role:"alertdialog",...o,...i,ref:s,onOpenAutoFocus:tr(i.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[v.jsx(Uge,{children:r}),v.jsx($ge,{contentRef:a})]})})})});O7.displayName=bh;var k7="AlertDialogTitle",N7=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Gc(n);return v.jsx(vC,{...i,...r,ref:t})});N7.displayName=k7;var R7="AlertDialogDescription",zge=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Gc(n);return v.jsx(E7,{...i,...r,ref:t})});zge.displayName=R7;var Bge="AlertDialogAction",j7=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Gc(n);return v.jsx(bC,{...i,...r,ref:t})});j7.displayName=Bge;var L7="AlertDialogCancel",M7=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=Fge(L7,n),o=Gc(n),a=wo(t,i);return v.jsx(bC,{...o,...r,ref:a})});M7.displayName=L7;var $ge=({contentRef:e})=>{const t=`\`${bh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${bh}\` by passing a \`${R7}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${bh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Hge=C7,Vge=T7,qge=A7,Wge=I7,Gge=O7,Kge=j7,Xge=M7,Yge=N7;let P7,D7,F7,Um;P7=Vn([`
  @keyframes dialogShow {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`]),D7=Vn([`
  @keyframes dialogHide {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }
`]),Jl={Root:Hge,Overlay:Wge,Trigger:Vge,Portal:qge,Content:U(Gge).withConfig({displayName:"AlertDialog__Content"})([`
    background-color: `,`;
    border-radius: `,`;
    box-shadow: 0 7px 30px -10px `,`;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 90vw;
    max-width: `,`;
    max-height: 85vh;
    padding: 0 0 2rem 0;
    border: 1px `,` solid;
    z-index: 101;

    `,`
    `,`
    
    &[data-state="open"] {
      animation: dialogShow 0.25s cubic-bezier(0.16, 1, 0.3, 1);
    }

    &[data-state="closed"] {
      animation: dialogHide 0.25s cubic-bezier(0.16, 1, 0.3, 1);
    }

    &:focus {
      outline: none;
    }
  `],({theme:e})=>e.color.background,({theme:e})=>e.borderRadius,({theme:e})=>e.color.black,({maxwidth:e})=>e??"50rem",({theme:e})=>e.color.selection,P7,D7),Title:U(Yge).withConfig({displayName:"AlertDialog__Title"})([`
    margin: 0;
    font-size: 1.6rem;
    color: `,`;
  `],({theme:e})=>e.color.foreground),Description:U.div.withConfig({displayName:"AlertDialog__Description"})([`
    margin-top: 2rem;
    padding: 0 2rem;
    color: `,`;
  `],({theme:e})=>e.color.foreground),ActionButtons:U.div.withConfig({displayName:"AlertDialog__ActionButtons"})([`
    display: flex;
    width: 100%;
    justify-content: flex-end;
    padding: 0 2rem;
    margin-top: 2rem;

    > button:not(:last-child) {
      margin-right: 1rem;
    }
  `]),Cancel:Xge,Action:Kge},F7=X1([`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`]),Um=Vn([`
  animation: `,` 1.5s cubic-bezier(0.62, 0.28, 0.23, 0.99) infinite;
`],F7),yN=Vn([`
  @keyframes slide {
    0% {
      background-position: 200% center;
    }
    100% {
      background-position: -200% center;
    }
  }

  background: linear-gradient(
    90deg,
    `,` 0%,
    `,` 40%,
    `,` 50%,
    `,` 60%,
    `,` 100%
  );
  background-size: 200% auto;
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-fill-color: transparent;
  animation: slide 3s linear infinite;
`],vt("gray2"),vt("gray2"),vt("white"),vt("gray2"),vt("gray2"));var U7=(e=>(e.SUCCESS="success",e.INFO="info",e.WARNING="warning",e.ERROR="error",e))(U7||{});let z7,B7,$7,wC,Nl,xC,H7,V7,q7,To,W7,_C,G7,EC,zm,K7,X7;z7=X1([`
  0% {
    opacity: 0.075;
  }
  
  50% {
    opacity: 0.3;
  }

  100% {
    opacity: 0.075;
  }
`]),B7=U.span.withConfig({displayName:"Badge__Root"})([`
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  padding: 0 1rem;
  border: 1px solid transparent;
  border-radius: `,`;
  line-height: 1.15;
  height: 3rem;
  color: `,`;
  background: `,`;

  &:after {
    content: "";
    position: absolute;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    opacity: 0.075;
    border-radius: `,`;
  }

  `,`

  `,`

  `,`

  `,`

  `,`;
`],({theme:e})=>e.borderRadius,({theme:e})=>e.color.white,({theme:e})=>e.color.background,({theme:e})=>e.borderRadius,({type:e,theme:t})=>e==="info"&&Vn([`
      color: `,`;
    `],t.color.foreground),({type:e,theme:t})=>e==="error"&&Vn([`
      color: `,`;

      &:after {
        background: `,`;
      }
    `],t.color.red,t.color.red),({type:e,theme:t})=>e==="success"&&Vn([`
      color: `,`;

      &:after {
        background: `,`;
      }
    `],t.color.green,t.color.green),({type:e,theme:t})=>e==="warning"&&Vn([`
      color: `,`;

      &:after {
        background: `,`;
      }
    `],t.color.orange,t.color.orange),e=>e.pulsate&&Vn([`
      &:after {
        animation: `,` 3s linear infinite;
      }
    `],z7)),$7=U.div.withConfig({displayName:"Badge__Icon"})([`
  display: flex;
  justify-content: center;
  align-items: center;

  `,`
`],({hasGap:e})=>e&&Vn([`
      margin-right: 0.75rem;
    `])),wC=({type:e,icon:t,pulsate:n,children:r,className:i,"data-hook":o})=>v.jsxs(B7,{className:i,type:e,pulsate:n,"data-hook":o,children:[t&&v.jsx($7,{hasGap:ie.Children.count(r)>0,children:t}),r]}),tt=U.div.attrs(e=>({flexDirection:e.flexDirection||"row",gap:e.gap||"1rem",margin:e.margin||"0",align:e.align||"center",justifyContent:e.justifyContent||"flex-start",alignSelf:e.alignSelf||""})).withConfig({displayName:"Box"})([`
  display: flex;
  flex-direction: `,`;
  gap: `,`;
  margin: `,`;
  align-items: `,`;
  justify-content: `,`;
  align-self: `,`;
`],({flexDirection:e})=>e,({gap:e})=>e,({margin:e})=>e,({align:e})=>e,({justifyContent:e})=>e,({alignSelf:e})=>e),Nl=e=>t=>t?t.theme.color[e]:"inherit",xC={primary:{normal:{background:"pinkDarker",border:"pinkDarker",color:"foreground"},hover:{background:"pink",border:"pink",color:"foreground"},disabled:{background:"selection",border:"gray1",color:"gray1"}},secondary:{normal:{background:"selection",border:"selection",color:"foreground"},hover:{background:"comment",border:"selection",color:"foreground"},disabled:{background:"selection",border:"gray1",color:"gray1"}},success:{normal:{background:"selection",border:"selection",color:"green"},hover:{background:"comment",border:"selection",color:"green"},disabled:{background:"selection",border:"gray1",color:"gray1"}},error:{normal:{background:"selection",border:"selection",color:"red"},hover:{background:"comment",border:"selection",color:"red"},disabled:{background:"selection",border:"gray1",color:"gray1"}},transparent:{normal:{background:"transparent",border:"transparent",color:"offWhite"},hover:{background:"comment",border:"transparent",color:"offWhite"},disabled:{background:"transparent",border:"transparent",color:"gray1"}},warning:{normal:{background:"selection",border:"selection",color:"orange"},hover:{background:"comment",border:"selection",color:"orange"},disabled:{background:"selection",border:"gray1",color:"gray1"}},gradient:{normal:{background:"backgroundDarker",border:"transparent",color:"white"},hover:{background:"backgroundDarker",border:"transparent",color:"white"},disabled:{background:"selection",border:"gray1",color:"gray1"}}},H7=e=>{const t=xC[e]??xC.primary;return Vn([`
    background: `,`;
    color: `,`;
    border-color: `,`;

    &:hover:not([disabled]) {
      background: `,`;
      color: `,`;
      border-color: `,`;
    }

    &:active:not([disabled]) {
      background: `,`;
      filter: brightness(90%);
    }

    &:disabled {
      cursor: not-allowed;
      background: `,`;
      color: `,`;
      border-color: `,`;
    }
  `],Nl(t.normal.background),Nl(t.normal.color),Nl(t.normal.border),Nl(t.hover.background),Nl(t.hover.color),Nl(t.hover.border),Nl(t.hover.background),Nl(t.disabled.background),Nl(t.disabled.color),Nl(t.disabled.border))},V7={black:"#191a21",black70:"rgba(25, 26, 33, 0.7)",black40:"rgba(25, 26, 33, 0.4)",black20:"rgba(25, 26, 33, 0.2)",overlayBackground:"rgba(44, 46, 61, 0.48)",gray1:"#585858",gray2:"#bbbbbb",backgroundDarker:"#21222c",chatBackground:"#1D1E25",backgroundLighter:"#282a36",background:"#2d303e",foreground:"#f8f8f2",selection:"#44475a",selectionDarker:"#333544",midnight:"#141725",comment:"#6272a4",red:"#ff5555",redDark:"#5a1d1d",loginBackground:"#1D070E",orangeDark:"#ff7f2a",orange:"#ffb86c",yellow:"#f1fa8c",green:"#50fa7b",greenDarker:"#00aa3b",purple:"#bd93f9",cyan:"#8be9fd",pink:"#d14671",pink50:"rgba(209, 70, 113, 0.25)",pinkDarker:"#be2f5b",pinkPrimary:"#c93261",pinkLighter:"#ff79c6",transparent:"transparent",white:"#fafafa",inherit:"inherit",tooltipBackground:"#6272a4",tableSelection:"#043c5c",graphLegend:"#6e7078",offWhite:"#bdbdbd"},q7={ms:"1rem",xs:"1.2rem",sm:"1.3rem",md:"1.4rem",lg:"1.5rem",xl:"1.7rem",hg:"3rem"},To={baseFontSize:"10px",color:V7,font:'"Open Sans", -apple-system, BlinkMacSystemFont, Helvetica, Roboto, sans-serif',fontEmoji:'"apple color emoji", "segoe ui emoji", "android emoji", "emojisymbols", "emojione mozilla", "twemoji mozilla", "segoe ui symbol", "noto color emoji"',fontMonospace:'SFMono-Regular, Menlo, Monaco, Consolas,"Liberation Mono", "Courier New", monospace',fontSize:q7,borderRadius:"0.8rem"},T_="linear-gradient(90deg, #D14671 0%, #892C6C 100%)",W7="linear-gradient(180deg, #D14671 0%, #892C6C 100%)",_C=e=>e.gradientStyle==="vertical"?W7:T_,G7=e=>{const t=_C(e);return t.includes("180deg")?t.replace("180deg","0deg"):t.replace("90deg","270deg")},EC=e=>"gradientWeight"in e&&e.gradientWeight==="thick"?"2px":"1px",zm=e=>"gradientWeight"in e&&e.gradientWeight==="thick"?e.theme.color.selectionDarker:e.theme.color.backgroundDarker,K7=U.div.withConfig({displayName:"Button__Prefix"})([`
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-right: 0.5rem;
  pointer-events: none;
  filter: `,`;
  opacity: `,`;
`],({disabled:e})=>e?"grayscale(100%)":"none",({disabled:e})=>e?.5:1),vn=ie.forwardRef(({as:e,children:t,prefixIcon:n,disabled:r,...i},o)=>{const a=e==="button"?{type:"button"}:{};return v.jsxs(X7,{ref:o,as:e??"button",disabled:r,"data-hook":i.dataHook,...i,...a,children:[n&&v.jsx(K7,{disabled:r,children:n}),t]})}),X7=U.button.withConfig({displayName:"Button__StyledButton"})([`
  display: inline-flex;
  height: `,`;
  padding: 0 1rem;
  align-items: center;
  justify-content: center;
  background: transparent;
  border-radius: 4px;
  border: 1px solid transparent;
  outline: 0;
  font-weight: 400;
  line-height: 1.15;
  cursor: pointer;

  svg + span {
    margin-left: 0.5rem;
  }

  `,`

  `,`

  `,`

  `,`

  `,`
`],SC,e=>e.rounded&&Vn([`
      border-radius: 50%;
      width: `,`;
      height: `,`;
      padding: 0;
    `],SC,SC),e=>e.disabled&&`
    cursor: default;
  `,e=>e.fullWidth&&Vn([`
      width: 100%;
    `]),e=>H7(e.skin??"primary"),e=>e.skin==="gradient"&&Vn([`
      border: `,` solid transparent;
      background:
        linear-gradient(`,", ",`) padding-box,
        `,` border-box;
      color: `,`;

      &:hover:not([disabled]) {
        background:
          linear-gradient(`,", ",`) padding-box,
          `,` border-box;
        filter: brightness(120%);
      }

      &:disabled {
        border: `," solid ",`;
        background: `,`;
        color: `,`;
      }
    `],EC,zm,zm,_C,e.theme.color.white,zm,zm,G7,EC(e),e.theme.color.gray1,e.theme.color.selection,e.theme.color.gray1));function SC({size:e}){return{sm:"2rem",md:"3rem",lg:"5rem"}[e??"md"]}function Y7(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Y7(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Qy(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Y7(e))&&(r&&(r+=" "),r+=t);return r}var CC,Q7;function Qge(){if(Q7)return CC;Q7=1;const e=(s,l,c,u)=>{if(c==="length"||c==="prototype"||c==="arguments"||c==="caller")return;const d=Object.getOwnPropertyDescriptor(s,c),f=Object.getOwnPropertyDescriptor(l,c);!t(d,f)&&u||Object.defineProperty(s,c,f)},t=function(s,l){return s===void 0||s.configurable||s.writable===l.writable&&s.enumerable===l.enumerable&&s.configurable===l.configurable&&(s.writable||s.value===l.value)},n=(s,l)=>{const c=Object.getPrototypeOf(l);c!==Object.getPrototypeOf(s)&&Object.setPrototypeOf(s,c)},r=(s,l)=>`/* Wrapped ${s}*/
${l}`,i=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),o=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),a=(s,l,c)=>{const u=c===""?"":`with ${c.trim()}() `,d=r.bind(null,u,l.toString());Object.defineProperty(d,"name",o),Object.defineProperty(s,"toString",{...i,value:d})};return CC=(s,l,{ignoreNonConfigurable:c=!1}={})=>{const{name:u}=s;for(const d of Reflect.ownKeys(l))e(s,l,d,c);return n(s,l),a(s,l,u),s},CC}var Jy={exports:{}},J7,Z7;function Jge(){return Z7||(Z7=1,J7=()=>{const e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e}),J7}var Zy=Jy.exports,eF;function Zge(){return eF||(eF=1,(function(e,t){var n=Zy&&Zy.__awaiter||function(a,s,l,c){return new(l||(l=Promise))(function(u,d){function f(h){try{g(c.next(h))}catch(y){d(y)}}function p(h){try{g(c.throw(h))}catch(y){d(y)}}function g(h){h.done?u(h.value):new l(function(y){y(h.value)}).then(f,p)}g((c=c.apply(a,s||[])).next())})},r=Zy&&Zy.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(Jge());function o(a,s="maxAge"){let l,c,u;const d=()=>n(this,void 0,void 0,function*(){if(l!==void 0)return;const g=h=>n(this,void 0,void 0,function*(){u=i.default();const y=h[1][s]-Date.now();if(y<=0){a.delete(h[0]),u.resolve();return}return l=h[0],c=setTimeout(()=>{a.delete(h[0]),u&&u.resolve()},y),typeof c.unref=="function"&&c.unref(),u.promise});try{for(const h of a)yield g(h)}catch{}l=void 0}),f=()=>{l=void 0,c!==void 0&&(clearTimeout(c),c=void 0),u!==void 0&&(u.reject(void 0),u=void 0)},p=a.set.bind(a);return a.set=(g,h)=>{a.has(g)&&a.delete(g);const y=p(g,h);return l&&l===g&&f(),d(),y},d(),a}t.default=o,e.exports=o,e.exports.default=o})(Jy,Jy.exports)),Jy.exports}var TC,tF;function e0e(){if(tF)return TC;tF=1;const e=Qge(),t=Zge(),n=new WeakMap,r=new WeakMap,i=(o,{cacheKey:a,cache:s=new Map,maxAge:l}={})=>{typeof l=="number"&&t(s);const c=function(...u){const d=a?a(u):u[0],f=s.get(d);if(f)return f.data;const p=o.apply(this,u);return s.set(d,{data:p,maxAge:l?Date.now()+l:Number.POSITIVE_INFINITY}),p};return e(c,o,{ignoreNonConfigurable:!0}),r.set(c,s),c};return i.decorator=(o={})=>(a,s,l)=>{const c=a[s];if(typeof c!="function")throw new TypeError("The decorated value must be a function");delete l.value,delete l.writable,l.get=function(){if(!n.has(this)){const u=i(c,o);return n.set(this,u),u}return n.get(this)}},i.clear=o=>{const a=r.get(o);if(!a)throw new TypeError("Can't clear a function that was not memoized!");if(typeof a.clear!="function")throw new TypeError("The cache Map can't be cleared!");a.clear()},TC=i,TC}var t0e=e0e();const nF=Ga(t0e);function n0e(e){return typeof e=="string"}function r0e(e,t,n){return n.indexOf(e)===t}function i0e(e){return e.toLowerCase()===e}function rF(e){return e.indexOf(",")===-1?e:e.split(",")}function AC(e){if(!e)return e;if(e==="C"||e==="posix"||e==="POSIX")return"en-US";if(e.indexOf(".")!==-1){var t=e.split(".")[0],n=t===void 0?"":t;return AC(n)}if(e.indexOf("@")!==-1){var r=e.split("@")[0],n=r===void 0?"":r;return AC(n)}if(e.indexOf("-")===-1||!i0e(e))return e;var i=e.split("-"),o=i[0],a=i[1],s=a===void 0?"":a;return"".concat(o,"-").concat(s.toUpperCase())}function o0e(e){var t=e===void 0?{}:e,n=t.useFallbackLocale,r=n===void 0?!0:n,i=t.fallbackLocale,o=i===void 0?"en-US":i,a=[];if(typeof navigator<"u"){for(var s=navigator.languages||[],l=[],c=0,u=s;c<u.length;c++){var d=u[c];l=l.concat(rF(d))}var f=navigator.language,p=f&&rF(f);a=a.concat(l,p)}return r&&a.push(o),a.filter(n0e).map(AC).filter(r0e)}var a0e=nF(o0e,{cacheKey:JSON.stringify});function s0e(e){return a0e(e)[0]||null}var iF=nF(s0e,{cacheKey:JSON.stringify});function Kc(e,t,n){return function(r,i){i===void 0&&(i=n);var o=e(r)+i;return t(o)}}function Bm(e){return function(t){return new Date(e(t).getTime()-1)}}function $m(e,t){return function(n){return[e(n),t(n)]}}function ho(e){if(e instanceof Date)return e.getFullYear();if(typeof e=="number")return e;var t=parseInt(e,10);if(typeof e=="string"&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function Uu(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function ev(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function wh(e){var t=ho(e),n=t+(-t+1)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var l0e=Kc(ho,wh,-100),oF=Kc(ho,wh,100),IC=Bm(oF),c0e=Kc(ho,IC,-100),aF=$m(wh,IC);function zu(e){var t=ho(e),n=t+(-t+1)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var sF=Kc(ho,zu,-10),OC=Kc(ho,zu,10),tv=Bm(OC),lF=Kc(ho,tv,-10),cF=$m(zu,tv);function xh(e){var t=ho(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}var uF=Kc(ho,xh,-1),kC=Kc(ho,xh,1),nv=Bm(kC),dF=Kc(ho,nv,-1),u0e=$m(xh,nv);function NC(e,t){return function(n,r){r===void 0&&(r=t);var i=ho(n),o=Uu(n)+r,a=new Date;return a.setFullYear(i,o,1),a.setHours(0,0,0,0),e(a)}}function Kd(e){var t=ho(e),n=Uu(e),r=new Date;return r.setFullYear(t,n,1),r.setHours(0,0,0,0),r}var fF=NC(Kd,-1),RC=NC(Kd,1),Hm=Bm(RC),hF=NC(Hm,-1),d0e=$m(Kd,Hm);function f0e(e,t){return function(n,r){r===void 0&&(r=t);var i=ho(n),o=Uu(n),a=ev(n)+r,s=new Date;return s.setFullYear(i,o,a),s.setHours(0,0,0,0),e(s)}}function Vm(e){var t=ho(e),n=Uu(e),r=ev(e),i=new Date;return i.setFullYear(t,n,r),i.setHours(0,0,0,0),i}var h0e=f0e(Vm,1),jC=Bm(h0e),p0e=$m(Vm,jC);function pF(e){return ev(Hm(e))}var qm,no={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},_h={ARABIC:"Arabic",HEBREW:"Hebrew",ISO_8601:"ISO 8601",US:"US"},m0e=(qm={},qm[no.GREGORY]=["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],qm[no.HEBREW]=["he","he-IL"],qm[no.ISLAMIC]=["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"],qm),LC=[0,1,2,3,4,5,6],MC=new Map;function g0e(e){return function(t,n){var r=t||iF();MC.has(r)||MC.set(r,new Map);var i=MC.get(r);return i.has(e)||i.set(e,new Intl.DateTimeFormat(r||void 0,e).format),i.get(e)(n)}}function y0e(e){var t=new Date(e);return new Date(t.setHours(12))}function Xd(e){return function(t,n){return g0e(e)(t,y0e(n))}}var v0e={day:"numeric"},b0e={day:"numeric",month:"long",year:"numeric"},w0e={month:"long"},x0e={month:"long",year:"numeric"},_0e={weekday:"short"},E0e={weekday:"long"},S0e={year:"numeric"},C0e=Xd(v0e),T0e=Xd(b0e),A0e=Xd(w0e),mF=Xd(x0e),I0e=Xd(_0e),O0e=Xd(E0e),rv=Xd(S0e),k0e=LC[0],N0e=LC[5],gF=LC[6];function Wm(e,t){t===void 0&&(t=no.ISO_8601);var n=e.getDay();switch(t){case no.ISO_8601:return(n+6)%7;case no.ISLAMIC:return(n+1)%7;case no.HEBREW:case no.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function R0e(e){var t=wh(e);return ho(t)}function j0e(e){var t=zu(e);return ho(t)}function PC(e,t){t===void 0&&(t=no.ISO_8601);var n=ho(e),r=Uu(e),i=e.getDate()-Wm(e,t);return new Date(n,r,i)}function L0e(e,t){t===void 0&&(t=no.ISO_8601);var n=t===no.GREGORY?no.GREGORY:no.ISO_8601,r=PC(e,t),i=ho(e)+1,o,a;do o=new Date(i,0,n===no.ISO_8601?4:1),a=PC(o,t),i-=1;while(e<a);return Math.round((r.getTime()-a.getTime())/(864e5*7))+1}function Yd(e,t){switch(e){case"century":return wh(t);case"decade":return zu(t);case"year":return xh(t);case"month":return Kd(t);case"day":return Vm(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function M0e(e,t){switch(e){case"century":return l0e(t);case"decade":return sF(t);case"year":return uF(t);case"month":return fF(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function yF(e,t){switch(e){case"century":return oF(t);case"decade":return OC(t);case"year":return kC(t);case"month":return RC(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function P0e(e,t){switch(e){case"decade":return sF(t,-100);case"year":return uF(t,-10);case"month":return fF(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function D0e(e,t){switch(e){case"decade":return OC(t,100);case"year":return kC(t,10);case"month":return RC(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}function vF(e,t){switch(e){case"century":return IC(t);case"decade":return tv(t);case"year":return nv(t);case"month":return Hm(t);case"day":return jC(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function F0e(e,t){switch(e){case"century":return c0e(t);case"decade":return lF(t);case"year":return dF(t);case"month":return hF(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function U0e(e,t){switch(e){case"decade":return lF(t,-100);case"year":return dF(t,-10);case"month":return hF(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function bF(e,t){switch(e){case"century":return aF(t);case"decade":return cF(t);case"year":return u0e(t);case"month":return d0e(t);case"day":return p0e(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function z0e(e,t,n){var r=[t,n].sort(function(i,o){return i.getTime()-o.getTime()});return[Yd(e,r[0]),vF(e,r[1])]}function wF(e,t,n){return t===void 0&&(t=rv),n.map(function(r){return t(e,r)}).join(" \u2013 ")}function B0e(e,t,n){return wF(e,t,aF(n))}function xF(e,t,n){return wF(e,t,cF(n))}function $0e(e){return e.getDay()===new Date().getDay()}function _F(e,t){t===void 0&&(t=no.ISO_8601);var n=e.getDay();switch(t){case no.ISLAMIC:case no.HEBREW:return n===N0e||n===gF;case no.ISO_8601:case no.GREGORY:return n===gF||n===k0e;default:throw new Error("Unsupported calendar type.")}}var fc="react-calendar__navigation";function H0e(e){var t=e.activeStartDate,n=e.drillUp,r=e.formatMonthYear,i=r===void 0?mF:r,o=e.formatYear,a=o===void 0?rv:o,s=e.locale,l=e.maxDate,c=e.minDate,u=e.navigationAriaLabel,d=u===void 0?"":u,f=e.navigationAriaLive,p=e.navigationLabel,g=e.next2AriaLabel,h=g===void 0?"":g,y=e.next2Label,b=y===void 0?"\xBB":y,w=e.nextAriaLabel,S=w===void 0?"":w,E=e.nextLabel,_=E===void 0?"\u203A":E,m=e.prev2AriaLabel,C=m===void 0?"":m,T=e.prev2Label,O=T===void 0?"\xAB":T,R=e.prevAriaLabel,j=R===void 0?"":R,D=e.prevLabel,L=D===void 0?"\u2039":D,V=e.setActiveStartDate,z=e.showDoubleView,B=e.view,H=e.views,J=H.indexOf(B)>0,ne=B!=="century",q=M0e(B,t),ee=ne?P0e(B,t):void 0,te=yF(B,t),$=ne?D0e(B,t):void 0,ae=(function(){if(q.getFullYear()<0)return!0;var Ct=F0e(B,t);return c&&c>=Ct})(),ue=ne&&(function(){if(ee.getFullYear()<0)return!0;var Ct=U0e(B,t);return c&&c>=Ct})(),me=l&&l<te,Fe=ne&&l&&l<$;function Ie(){V(q,"prev")}function Ee(){V(ee,"prev2")}function He(){V(te,"next")}function it(){V($,"next2")}function St(Ct){var We=(function(){switch(B){case"century":return B0e(s,a,Ct);case"decade":return xF(s,a,Ct);case"year":return a(s,Ct);case"month":return i(s,Ct);default:throw new Error("Invalid view: ".concat(B,"."))}})();return p?p({date:Ct,label:We,locale:s||iF()||void 0,view:B}):We}function xt(){var Ct="".concat(fc,"__label");return ie.createElement("button",{"aria-label":d,"aria-live":f,className:Ct,disabled:!J,onClick:n,style:{flexGrow:1},type:"button"},ie.createElement("span",{className:"".concat(Ct,"__labelText ").concat(Ct,"__labelText--from")},St(t)),z?ie.createElement(ie.Fragment,null,ie.createElement("span",{className:"".concat(Ct,"__divider")}," \u2013 "),ie.createElement("span",{className:"".concat(Ct,"__labelText ").concat(Ct,"__labelText--to")},St(te))):null)}return ie.createElement("div",{className:fc},O!==null&&ne?ie.createElement("button",{"aria-label":C,className:"".concat(fc,"__arrow ").concat(fc,"__prev2-button"),disabled:ue,onClick:Ee,type:"button"},O):null,L!==null&&ie.createElement("button",{"aria-label":j,className:"".concat(fc,"__arrow ").concat(fc,"__prev-button"),disabled:ae,onClick:Ie,type:"button"},L),xt(),_!==null&&ie.createElement("button",{"aria-label":S,className:"".concat(fc,"__arrow ").concat(fc,"__next-button"),disabled:me,onClick:He,type:"button"},_),b!==null&&ne?ie.createElement("button",{"aria-label":h,className:"".concat(fc,"__arrow ").concat(fc,"__next2-button"),disabled:Fe,onClick:it,type:"button"},b):null)}var Eh=function(){return Eh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Eh.apply(this,arguments)},V0e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function EF(e){return"".concat(e,"%")}function DC(e){var t=e.children,n=e.className,r=e.count,i=e.direction,o=e.offset,a=e.style,s=e.wrap,l=V0e(e,["children","className","count","direction","offset","style","wrap"]);return ie.createElement("div",Eh({className:n,style:Eh({display:"flex",flexDirection:i,flexWrap:s?"wrap":"nowrap"},a)},l),ie.Children.map(t,function(c,u){var d=o&&u===0?EF(100*o/r):null;return ie.cloneElement(c,Eh(Eh({},c.props),{style:{flexBasis:EF(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:d,marginInlineStart:d,marginInlineEnd:0}}))}))}var FC,SF;function q0e(){if(SF)return FC;SF=1;var e=function(){};return FC=e,FC}var W0e=q0e();const G0e=Ga(W0e);var Sh;function K0e(e,t,n){return t&&t>e?t:n&&n<e?n:e}function Gm(e,t){return t[0]<=e&&t[1]>=e}function X0e(e,t){return e[0]<=t[0]&&e[1]>=t[1]}function CF(e,t){return Gm(e[0],t)||Gm(e[1],t)}function TF(e,t,n){var r=CF(t,e),i=[];if(r){i.push(n);var o=Gm(e[0],t),a=Gm(e[1],t);o&&i.push("".concat(n,"Start")),a&&i.push("".concat(n,"End")),o&&a&&i.push("".concat(n,"BothEnds"))}return i}function Y0e(e){return Array.isArray(e)?e[0]!==null&&e[1]!==null:e!==null}function Q0e(e){if(!e)throw new Error("args is required");var t=e.value,n=e.date,r=e.hover,i="react-calendar__tile",o=[i];if(!n)return o;var a=new Date,s=(function(){if(Array.isArray(n))return n;var p=e.dateType;if(!p)throw new Error("dateType is required when date is not an array of two dates");return bF(p,n)})();if(Gm(a,s)&&o.push("".concat(i,"--now")),!t||!Y0e(t))return o;var l=(function(){if(Array.isArray(t))return t;var p=e.valueType;if(!p)throw new Error("valueType is required when value is not an array of two dates");return bF(p,t)})();X0e(l,s)?o.push("".concat(i,"--active")):CF(l,s)&&o.push("".concat(i,"--hasActive"));var c=TF(l,s,"".concat(i,"--range"));o.push.apply(o,c);var u=Array.isArray(t)?t:[t];if(r&&u.length===1){var d=r>l[0]?[l[0],r]:[r,l[0]],f=TF(d,s,"".concat(i,"--hover"));o.push.apply(o,f)}return o}var J0e=(Sh={},Sh[_h.ARABIC]=no.ISLAMIC,Sh[_h.HEBREW]=no.HEBREW,Sh[_h.ISO_8601]=no.ISO_8601,Sh[_h.US]=no.GREGORY,Sh);function Z0e(e){return e!==void 0&&e in _h}var AF=!1;function iv(e){if(Z0e(e)){var t=J0e[e];return G0e(AF,'Specifying calendarType="'.concat(e,'" is deprecated. Use calendarType="').concat(t,'" instead.')),AF=!0,t}return e}function ov(e){for(var t=e.className,n=e.count,r=n===void 0?3:n,i=e.dateTransform,o=e.dateType,a=e.end,s=e.hover,l=e.offset,c=e.renderTile,u=e.start,d=e.step,f=d===void 0?1:d,p=e.value,g=e.valueType,h=[],y=u;y<=a;y+=f){var b=i(y);h.push(c({classes:Q0e({date:b,dateType:o,hover:s,value:p,valueType:g}),date:b}))}return ie.createElement(DC,{className:t,count:r,offset:l,wrap:!0},h)}function av(e){var t=e.activeStartDate,n=e.children,r=e.classes,i=e.date,o=e.formatAbbr,a=e.locale,s=e.maxDate,l=e.maxDateTransform,c=e.minDate,u=e.minDateTransform,d=e.onClick,f=e.onMouseOver,p=e.style,g=e.tileClassName,h=e.tileContent,y=e.tileDisabled,b=e.view,w=x.useMemo(function(){var E={activeStartDate:t,date:i,view:b};return typeof g=="function"?g(E):g},[t,i,g,b]),S=x.useMemo(function(){var E={activeStartDate:t,date:i,view:b};return typeof h=="function"?h(E):h},[t,i,h,b]);return ie.createElement("button",{className:Qy(r,w),disabled:c&&u(c)>i||s&&l(s)<i||y&&y({activeStartDate:t,date:i,view:b}),onClick:d?function(E){return d(i,E)}:void 0,onFocus:f?function(){return f(i)}:void 0,onMouseOver:f?function(){return f(i)}:void 0,style:p,type:"button"},o?ie.createElement("abbr",{"aria-label":o(a,i)},n):n,S)}var UC=function(){return UC=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},UC.apply(this,arguments)},e1e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},IF="react-calendar__century-view__decades__decade";function t1e(e){var t=e.classes,n=t===void 0?[]:t,r=e.currentCentury,i=e.formatYear,o=i===void 0?rv:i,a=e1e(e,["classes","currentCentury","formatYear"]),s=a.date,l=a.locale,c=[];return n&&c.push.apply(c,n),c.push(IF),wh(s).getFullYear()!==r&&c.push("".concat(IF,"--neighboringCentury")),ie.createElement(av,UC({},a,{classes:c,maxDateTransform:tv,minDateTransform:zu,view:"century"}),xF(l,o,s))}var zC=function(){return zC=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},zC.apply(this,arguments)},OF=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function n1e(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringCentury,i=e.value,o=e.valueType,a=OF(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),s=R0e(t),l=s+(r?119:99);return ie.createElement(ov,{className:"react-calendar__century-view__decades",dateTransform:zu,dateType:"decade",end:l,hover:n,renderTile:function(c){var u=c.date,d=OF(c,["date"]);return ie.createElement(t1e,zC({key:u.getTime()},a,d,{activeStartDate:t,currentCentury:s,date:u}))},start:s,step:10,value:i,valueType:o})}var kF=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},r1e=Object.values(no),i1e=Object.values(_h),BC=["century","decade","year","month"],NF=bt.oneOf(kF(kF([],r1e,!0),i1e,!0)),sv=bt.oneOfType([bt.string,bt.arrayOf(bt.string)]),RF=function(e,t,n){var r=e,i=t,o=r[i];if(!o)return null;if(!(o instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(typeof o,"` supplied to `").concat(n,"`, expected instance of `Date`."));var a=e.maxDate;return a&&o>a?new Error("Invalid prop `".concat(t,"` of type `").concat(typeof o,"` supplied to `").concat(n,"`, minDate cannot be larger than maxDate.")):null},jF=function(e,t,n){var r=e,i=t,o=r[i];if(!o)return null;if(!(o instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(typeof o,"` supplied to `").concat(n,"`, expected instance of `Date`."));var a=e.minDate;return a&&o<a?new Error("Invalid prop `".concat(t,"` of type `").concat(typeof o,"` supplied to `").concat(n,"`, maxDate cannot be smaller than minDate.")):null},o1e=bt.oneOfType([bt.func,bt.exact({current:bt.any})]),a1e=bt.arrayOf(bt.oneOfType([bt.instanceOf(Date),bt.oneOf([null])]).isRequired),s1e=bt.oneOfType([bt.instanceOf(Date),bt.oneOf([null]),a1e]);bt.arrayOf(bt.oneOf(BC));var lv=function(e,t,n){var r=e,i=t,o=r[i];return o!==void 0&&(typeof o!="string"||BC.indexOf(o)===-1)?new Error("Invalid prop `".concat(t,"` of value `").concat(o,"` supplied to `").concat(n,"`, expected one of [").concat(BC.map(function(a){return'"'.concat(a,'"')}).join(", "),"].")):null};lv.isRequired=function(e,t,n,r,i){var o=e,a=t,s=o[a];return s?lv(e,t,n):new Error("The prop `".concat(t,"` is marked as required in `").concat(n,"`, but its value is `").concat(s,"`."))};var l1e=function(e){return bt.arrayOf(e)},cv={activeStartDate:bt.instanceOf(Date).isRequired,hover:bt.instanceOf(Date),locale:bt.string,maxDate:jF,minDate:RF,onClick:bt.func,onMouseOver:bt.func,tileClassName:bt.oneOfType([bt.func,sv]),tileContent:bt.oneOfType([bt.func,bt.node]),value:s1e,valueType:bt.oneOf(["century","decade","year","month","day"]).isRequired};bt.instanceOf(Date).isRequired,bt.arrayOf(bt.string.isRequired).isRequired,bt.instanceOf(Date).isRequired,bt.string,bt.func,bt.func,bt.objectOf(bt.oneOfType([bt.string,bt.number])),bt.oneOfType([bt.func,sv]),bt.oneOfType([bt.func,bt.node]),bt.func;var Km=function(){return Km=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Km.apply(this,arguments)},LF=function(e){function t(){return ie.createElement(n1e,Km({},e))}return ie.createElement("div",{className:"react-calendar__century-view"},t())};LF.propTypes=Km(Km({},cv),{showNeighboringCentury:bt.bool});var $C=function(){return $C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},$C.apply(this,arguments)},c1e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},MF="react-calendar__decade-view__years__year";function u1e(e){var t=e.classes,n=t===void 0?[]:t,r=e.currentDecade,i=e.formatYear,o=i===void 0?rv:i,a=c1e(e,["classes","currentDecade","formatYear"]),s=a.date,l=a.locale,c=[];return n&&c.push.apply(c,n),c.push(MF),zu(s).getFullYear()!==r&&c.push("".concat(MF,"--neighboringDecade")),ie.createElement(av,$C({},a,{classes:c,maxDateTransform:nv,minDateTransform:xh,view:"decade"}),o(l,s))}var HC=function(){return HC=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},HC.apply(this,arguments)},PF=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function d1e(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringDecade,i=e.value,o=e.valueType,a=PF(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),s=j0e(t),l=s+(r?11:9);return ie.createElement(ov,{className:"react-calendar__decade-view__years",dateTransform:xh,dateType:"year",end:l,hover:n,renderTile:function(c){var u=c.date,d=PF(c,["date"]);return ie.createElement(u1e,HC({key:u.getTime()},a,d,{activeStartDate:t,currentDecade:s,date:u}))},start:s,value:i,valueType:o})}var Xm=function(){return Xm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Xm.apply(this,arguments)},DF=function(e){function t(){return ie.createElement(d1e,Xm({},e))}return ie.createElement("div",{className:"react-calendar__decade-view"},t())};DF.propTypes=Xm(Xm({},cv),{showNeighboringDecade:bt.bool});var VC=function(){return VC=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},VC.apply(this,arguments)},f1e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},FF=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},h1e="react-calendar__year-view__months__month";function p1e(e){var t=e.classes,n=t===void 0?[]:t,r=e.formatMonth,i=r===void 0?A0e:r,o=e.formatMonthYear,a=o===void 0?mF:o,s=f1e(e,["classes","formatMonth","formatMonthYear"]),l=s.date,c=s.locale;return ie.createElement(av,VC({},s,{classes:FF(FF([],n,!0),[h1e],!1),formatAbbr:a,maxDateTransform:Hm,minDateTransform:Kd,view:"year"}),i(c,l))}var qC=function(){return qC=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},qC.apply(this,arguments)},UF=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function m1e(e){var t=e.activeStartDate,n=e.hover,r=e.value,i=e.valueType,o=UF(e,["activeStartDate","hover","value","valueType"]),a=0,s=11,l=ho(t);return ie.createElement(ov,{className:"react-calendar__year-view__months",dateTransform:function(c){var u=new Date;return u.setFullYear(l,c,1),Kd(u)},dateType:"month",end:s,hover:n,renderTile:function(c){var u=c.date,d=UF(c,["date"]);return ie.createElement(p1e,qC({key:u.getTime()},o,d,{activeStartDate:t,date:u}))},start:a,value:r,valueType:i})}var uv=function(){return uv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},uv.apply(this,arguments)},zF=function(e){function t(){return ie.createElement(m1e,uv({},e))}return ie.createElement("div",{className:"react-calendar__year-view"},t())};zF.propTypes=uv({},cv);var WC=function(){return WC=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},WC.apply(this,arguments)},g1e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},GC="react-calendar__month-view__days__day";function y1e(e){var t=e.calendarType,n=e.classes,r=n===void 0?[]:n,i=e.currentMonthIndex,o=e.formatDay,a=o===void 0?C0e:o,s=e.formatLongDate,l=s===void 0?T0e:s,c=g1e(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),u=iv(t),d=c.date,f=c.locale,p=[];return r&&p.push.apply(p,r),p.push(GC),_F(d,u)&&p.push("".concat(GC,"--weekend")),d.getMonth()!==i&&p.push("".concat(GC,"--neighboringMonth")),ie.createElement(av,WC({},c,{classes:p,formatAbbr:l,maxDateTransform:jC,minDateTransform:Vm,view:"month"}),a(f,d))}var KC=function(){return KC=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},KC.apply(this,arguments)},BF=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function v1e(e){var t=e.activeStartDate,n=e.calendarType,r=e.hover,i=e.showFixedNumberOfWeeks,o=e.showNeighboringMonth,a=e.value,s=e.valueType,l=BF(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),c=iv(n),u=ho(t),d=Uu(t),f=i||o,p=Wm(t,c),g=f?0:p,h=(f?-p:0)+1,y=(function(){if(i)return h+42-1;var b=pF(t);if(o){var w=new Date;w.setFullYear(u,d,b),w.setHours(0,0,0,0);var S=7-Wm(w,c)-1;return b+S}return b})();return ie.createElement(ov,{className:"react-calendar__month-view__days",count:7,dateTransform:function(b){var w=new Date;return w.setFullYear(u,d,b),Vm(w)},dateType:"day",hover:r,end:y,renderTile:function(b){var w=b.date,S=BF(b,["date"]);return ie.createElement(y1e,KC({key:w.getTime()},l,S,{activeStartDate:t,calendarType:n,currentMonthIndex:d,date:w}))},offset:g,start:h,value:a,valueType:s})}var $F="react-calendar__month-view__weekdays",XC="".concat($F,"__weekday");function b1e(e){for(var t=e.calendarType,n=e.formatShortWeekday,r=n===void 0?I0e:n,i=e.formatWeekday,o=i===void 0?O0e:i,a=e.locale,s=e.onMouseLeave,l=iv(t),c=new Date,u=Kd(c),d=ho(u),f=Uu(u),p=[],g=1;g<=7;g+=1){var h=new Date(d,f,g-Wm(u,l)),y=o(a,h);p.push(ie.createElement("div",{key:g,className:Qy(XC,$0e(h)&&"".concat(XC,"--current"),_F(h,l)&&"".concat(XC,"--weekend"))},ie.createElement("abbr",{"aria-label":y,title:y},r(a,h).replace(".",""))))}return ie.createElement(DC,{className:$F,count:7,onFocus:s,onMouseOver:s},p)}var dv=function(){return dv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},dv.apply(this,arguments)},HF=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},VF="react-calendar__tile";function w1e(e){var t=e.onClickWeekNumber,n=e.weekNumber,r=ie.createElement("span",null,n);if(t){var i=e.date,o=e.onClickWeekNumber,a=e.weekNumber,s=HF(e,["date","onClickWeekNumber","weekNumber"]);return ie.createElement("button",dv({},s,{className:VF,onClick:function(l){return o(a,i,l)},type:"button"}),r)}else{e.date,e.onClickWeekNumber,e.weekNumber;var s=HF(e,["date","onClickWeekNumber","weekNumber"]);return ie.createElement("div",dv({},s,{className:VF}),r)}}function x1e(e){var t=e.activeStartDate,n=e.calendarType,r=e.onClickWeekNumber,i=e.onMouseLeave,o=e.showFixedNumberOfWeeks,a=iv(n),s=(function(){if(o)return 6;var u=pF(t),d=Wm(t,a),f=u-(7-d);return 1+Math.ceil(f/7)})(),l=(function(){for(var u=ho(t),d=Uu(t),f=ev(t),p=[],g=0;g<s;g+=1)p.push(PC(new Date(u,d,f+g*7),a));return p})(),c=l.map(function(u){return L0e(u,a)});return ie.createElement(DC,{className:"react-calendar__month-view__weekNumbers",count:s,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0}},c.map(function(u,d){var f=l[d];if(!f)throw new Error("date is not defined");return ie.createElement(w1e,{key:u,date:f,onClickWeekNumber:r,weekNumber:u})}))}var Ym=function(){return Ym=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ym.apply(this,arguments)},_1e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function E1e(e){if(e)for(var t=0,n=Object.entries(m0e);t<n.length;t++){var r=n[t],i=r[0],o=r[1];if(o.includes(e))return i}return no.ISO_8601}var qF=function(e){var t=e.activeStartDate,n=e.locale,r=e.onMouseLeave,i=e.showFixedNumberOfWeeks,o=e.calendarType,a=o===void 0?E1e(n):o,s=e.formatShortWeekday,l=e.formatWeekday,c=e.onClickWeekNumber,u=e.showWeekNumbers,d=_1e(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function f(){return ie.createElement(b1e,{calendarType:a,formatShortWeekday:s,formatWeekday:l,locale:n,onMouseLeave:r})}function p(){return u?ie.createElement(x1e,{activeStartDate:t,calendarType:a,onClickWeekNumber:c,onMouseLeave:r,showFixedNumberOfWeeks:i}):null}function g(){return ie.createElement(v1e,Ym({calendarType:a},d))}var h="react-calendar__month-view";return ie.createElement("div",{className:Qy(h,u?"".concat(h,"--weekNumbers"):"")},ie.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},p(),ie.createElement("div",{style:{flexGrow:1,width:"100%"}},f(),g())))};qF.propTypes=Ym(Ym({},cv),{calendarType:NF,formatDay:bt.func,formatLongDate:bt.func,formatShortWeekday:bt.func,formatWeekday:bt.func,onClickWeekNumber:bt.func,onMouseLeave:bt.func,showFixedNumberOfWeeks:bt.bool,showNeighboringMonth:bt.bool,showWeekNumbers:bt.bool});var Ch=function(){return Ch=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ch.apply(this,arguments)},fv="react-calendar",Th=["century","decade","year","month"],S1e=["decade","year","month","day"],YC=new Date;YC.setFullYear(1,0,1),YC.setHours(0,0,0,0);var C1e=new Date(864e13);function Qm(e){return e instanceof Date?e:new Date(e)}function WF(e,t){return Th.slice(Th.indexOf(e),Th.indexOf(t)+1)}function T1e(e,t,n){var r=WF(t,n);return r.indexOf(e)!==-1}function QC(e,t,n){return e&&T1e(e,t,n)?e:n}function GF(e){var t=Th.indexOf(e);return S1e[t]}function A1e(e,t){var n=Array.isArray(e)?e[t]:e;if(!n)return null;var r=Qm(n);if(isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}function KF(e,t){var n=e.value,r=e.minDate,i=e.maxDate,o=e.maxDetail,a=A1e(n,t);if(!a)return null;var s=GF(o),l=(function(){switch(t){case 0:return Yd(s,a);case 1:return vF(s,a);default:throw new Error("Invalid index value: ".concat(t))}})();return K0e(l,r,i)}var JC=function(e){return KF(e,0)},XF=function(e){return KF(e,1)},I1e=function(e){return[JC,XF].map(function(t){return t(e)})};function YF(e){var t=e.maxDate,n=e.maxDetail,r=e.minDate,i=e.minDetail,o=e.value,a=e.view,s=QC(a,i,n),l=JC({value:o,minDate:r,maxDate:t,maxDetail:n})||new Date;return Yd(s,l)}function O1e(e){var t=e.activeStartDate,n=e.defaultActiveStartDate,r=e.defaultValue,i=e.defaultView,o=e.maxDate,a=e.maxDetail,s=e.minDate,l=e.minDetail,c=e.value,u=e.view,d=QC(u,l,a),f=t||n;return f?Yd(d,f):YF({maxDate:o,maxDetail:a,minDate:s,minDetail:l,value:c||r,view:u||i})}function ZC(e){return e&&(!Array.isArray(e)||e.length===1)}function hv(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var QF=x.forwardRef(function(e,t){var n=e.activeStartDate,r=e.allowPartialRange,i=e.calendarType,o=e.className,a=e.defaultActiveStartDate,s=e.defaultValue,l=e.defaultView,c=e.formatDay,u=e.formatLongDate,d=e.formatMonth,f=e.formatMonthYear,p=e.formatShortWeekday,g=e.formatWeekday,h=e.formatYear,y=e.goToRangeStartOnSelect,b=y===void 0?!0:y,w=e.inputRef,S=e.locale,E=e.maxDate,_=E===void 0?C1e:E,m=e.maxDetail,C=m===void 0?"month":m,T=e.minDate,O=T===void 0?YC:T,R=e.minDetail,j=R===void 0?"century":R,D=e.navigationAriaLabel,L=e.navigationAriaLive,V=e.navigationLabel,z=e.next2AriaLabel,B=e.next2Label,H=e.nextAriaLabel,J=e.nextLabel,ne=e.onActiveStartDateChange,q=e.onChange,ee=e.onClickDay,te=e.onClickDecade,$=e.onClickMonth,ae=e.onClickWeekNumber,ue=e.onClickYear,me=e.onDrillDown,Fe=e.onDrillUp,Ie=e.onViewChange,Ee=e.prev2AriaLabel,He=e.prev2Label,it=e.prevAriaLabel,St=e.prevLabel,xt=e.returnValue,Ct=xt===void 0?"start":xt,We=e.selectRange,Oe=e.showDoubleView,ye=e.showFixedNumberOfWeeks,Ve=e.showNavigation,Xe=Ve===void 0?!0:Ve,se=e.showNeighboringCentury,we=e.showNeighboringDecade,Le=e.showNeighboringMonth,ot=Le===void 0?!0:Le,_e=e.showWeekNumbers,Ce=e.tileClassName,dt=e.tileContent,Ne=e.tileDisabled,Ye=e.value,jt=e.view,qt=x.useState(a),Jt=qt[0],Ht=qt[1],en=x.useState(null),hn=en[0],Zt=en[1],Tt=x.useState(Array.isArray(s)?s.map(function(ln){return ln!==null?Qm(ln):null}):s!=null?Qm(s):null),xn=Tt[0],Jn=Tt[1],ir=x.useState(l),Bt=ir[0],Sr=ir[1],_r=n||Jt||O1e({activeStartDate:n,defaultActiveStartDate:a,defaultValue:s,defaultView:l,maxDate:_,maxDetail:C,minDate:O,minDetail:j,value:Ye,view:jt}),mr=(function(){var ln=(function(){return We&&ZC(xn)?xn:Ye!==void 0?Ye:xn})();return ln?Array.isArray(ln)?ln.map(function(Wn){return Wn!==null?Qm(Wn):null}):ln!==null?Qm(ln):null:null})(),ri=GF(C),Hn=QC(jt||Bt,j,C),fi=WF(j,C),Ji=We?hn:null,Lr=fi.indexOf(Hn)<fi.length-1,or=fi.indexOf(Hn)>0,Cr=x.useCallback(function(ln){var Wn=(function(){switch(Ct){case"start":return JC;case"end":return XF;case"range":return I1e;default:throw new Error("Invalid returnValue.")}})();return Wn({maxDate:_,maxDetail:C,minDate:O,value:ln})},[_,C,O,Ct]),Or=x.useCallback(function(ln,Wn){Ht(ln);var Tr={action:Wn,activeStartDate:ln,value:mr,view:Hn};ne&&!hv(_r,ln)&&ne(Tr)},[_r,ne,mr,Hn]),er=x.useCallback(function(ln,Wn){var Tr=(function(){switch(Hn){case"century":return te;case"decade":return ue;case"year":return $;case"month":return ee;default:throw new Error("Invalid view: ".concat(Hn,"."))}})();Tr&&Tr(ln,Wn)},[ee,te,$,ue,Hn]),Zn=x.useCallback(function(ln,Wn){if(Lr){er(ln,Wn);var Tr=fi[fi.indexOf(Hn)+1];if(!Tr)throw new Error("Attempted to drill down from the lowest view.");Ht(ln),Sr(Tr);var Me={action:"drillDown",activeStartDate:ln,value:mr,view:Tr};ne&&!hv(_r,ln)&&ne(Me),Ie&&Hn!==Tr&&Ie(Me),me&&me(Me)}},[_r,Lr,ne,er,me,Ie,mr,Hn,fi]),yr=x.useCallback(function(){if(or){var ln=fi[fi.indexOf(Hn)-1];if(!ln)throw new Error("Attempted to drill up from the highest view.");var Wn=Yd(ln,_r);Ht(Wn),Sr(ln);var Tr={action:"drillUp",activeStartDate:Wn,value:mr,view:ln};ne&&!hv(_r,Wn)&&ne(Tr),Ie&&Hn!==ln&&Ie(Tr),Fe&&Fe(Tr)}},[_r,or,ne,Fe,Ie,mr,Hn,fi]),Hr=x.useCallback(function(ln,Wn){var Tr=mr;er(ln,Wn);var Me=We&&!ZC(Tr),ut;if(We)if(Me)ut=Yd(ri,ln);else{if(!Tr)throw new Error("previousValue is required");if(Array.isArray(Tr))throw new Error("previousValue must not be an array");ut=z0e(ri,Tr,ln)}else ut=Cr(ln);var It=!We||Me||b?YF({maxDate:_,maxDetail:C,minDate:O,minDetail:j,value:ut,view:Hn}):null;Wn.persist(),Ht(It),Jn(ut);var Ue={action:"onChange",activeStartDate:It,value:ut,view:Hn};if(ne&&!hv(_r,It)&&ne(Ue),q)if(We){var lt=ZC(ut);if(!lt)q(ut||null,Wn);else if(r){if(Array.isArray(ut))throw new Error("value must not be an array");q([ut||null,null],Wn)}}else q(ut||null,Wn)},[_r,r,Cr,b,_,C,O,j,ne,q,er,We,mr,ri,Hn]);function Gr(ln){Zt(ln)}function Kr(){Zt(null)}x.useImperativeHandle(t,function(){return{activeStartDate:_r,drillDown:Zn,drillUp:yr,onChange:Hr,setActiveStartDate:Or,value:mr,view:Hn}},[_r,Zn,yr,Hr,Or,mr,Hn]);function $i(ln){var Wn=ln?yF(Hn,_r):Yd(Hn,_r),Tr=Lr?Zn:Hr,Me={activeStartDate:Wn,hover:Ji,locale:S,maxDate:_,minDate:O,onClick:Tr,onMouseOver:We?Gr:void 0,tileClassName:Ce,tileContent:dt,tileDisabled:Ne,value:mr,valueType:ri};switch(Hn){case"century":return ie.createElement(LF,Ch({formatYear:h,showNeighboringCentury:se},Me));case"decade":return ie.createElement(DF,Ch({formatYear:h,showNeighboringDecade:we},Me));case"year":return ie.createElement(zF,Ch({formatMonth:d,formatMonthYear:f},Me));case"month":return ie.createElement(qF,Ch({calendarType:i,formatDay:c,formatLongDate:u,formatShortWeekday:p,formatWeekday:g,onClickWeekNumber:ae,onMouseLeave:We?Kr:void 0,showFixedNumberOfWeeks:typeof ye<"u"?ye:Oe,showNeighboringMonth:ot,showWeekNumbers:_e},Me));default:throw new Error("Invalid view: ".concat(Hn,"."))}}function Ni(){return Xe?ie.createElement(H0e,{activeStartDate:_r,drillUp:yr,formatMonthYear:f,formatYear:h,locale:S,maxDate:_,minDate:O,navigationAriaLabel:D,navigationAriaLive:L,navigationLabel:V,next2AriaLabel:z,next2Label:B,nextAriaLabel:H,nextLabel:J,prev2AriaLabel:Ee,prev2Label:He,prevAriaLabel:it,prevLabel:St,setActiveStartDate:Or,showDoubleView:Oe,view:Hn,views:fi}):null}var Pi=Array.isArray(mr)?mr:[mr];return ie.createElement("div",{className:Qy(fv,We&&Pi.length===1&&"".concat(fv,"--selectRange"),Oe&&"".concat(fv,"--doubleView"),o),ref:w},Ni(),ie.createElement("div",{className:"".concat(fv,"__viewContainer"),onBlur:We?Kr:void 0,onMouseLeave:We?Kr:void 0},$i(),Oe?$i(!0):null))}),JF=bt.instanceOf(Date),ZF=bt.oneOfType([bt.string,bt.instanceOf(Date)]),eU=bt.oneOfType([ZF,l1e(ZF)]);QF.propTypes={activeStartDate:JF,allowPartialRange:bt.bool,calendarType:NF,className:sv,defaultActiveStartDate:JF,defaultValue:eU,defaultView:lv,formatDay:bt.func,formatLongDate:bt.func,formatMonth:bt.func,formatMonthYear:bt.func,formatShortWeekday:bt.func,formatWeekday:bt.func,formatYear:bt.func,goToRangeStartOnSelect:bt.bool,inputRef:o1e,locale:bt.string,maxDate:jF,maxDetail:bt.oneOf(Th),minDate:RF,minDetail:bt.oneOf(Th),navigationAriaLabel:bt.string,navigationAriaLive:bt.oneOf(["off","polite","assertive"]),navigationLabel:bt.func,next2AriaLabel:bt.string,next2Label:bt.node,nextAriaLabel:bt.string,nextLabel:bt.node,onActiveStartDateChange:bt.func,onChange:bt.func,onClickDay:bt.func,onClickDecade:bt.func,onClickMonth:bt.func,onClickWeekNumber:bt.func,onClickYear:bt.func,onDrillDown:bt.func,onDrillUp:bt.func,onViewChange:bt.func,prev2AriaLabel:bt.string,prev2Label:bt.node,prevAriaLabel:bt.string,prevLabel:bt.node,returnValue:bt.oneOf(["start","end","range"]),selectRange:bt.bool,showDoubleView:bt.bool,showFixedNumberOfWeeks:bt.bool,showNavigation:bt.bool,showNeighboringCentury:bt.bool,showNeighboringDecade:bt.bool,showNeighboringMonth:bt.bool,showWeekNumbers:bt.bool,tileClassName:bt.oneOfType([bt.func,sv]),tileContent:bt.oneOfType([bt.func,bt.node]),tileDisabled:bt.func,value:eU,view:lv};let tU,nU,rU,e4,iU;tU=({className:e,min:t,max:n,value:r,onChange:i,selectRange:o})=>v.jsx(QF,{className:e,defaultValue:r,minDate:t,maxDate:n,minDetail:"month",maxDetail:"month",returnValue:"start",onChange:a=>i(a),selectRange:o}),nU={color:"black",type:"span"},rU=Vn([`
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`]),e4=Vn([`
  color: `,`;
  font-family: `,`;
  font-size: `,`;
  font-style: `,`;
  font-weight: `,`;
  text-transform: `,`;
  `,`;
  `,`;
  `,`;
  `,`;
`],e=>e.color?vt(e.color):"inherit",({code:e,theme:t})=>e&&t.fontMonospace,({size:e,theme:t})=>e?t.fontSize[e]:"inherit",({_style:e})=>e??"inherit",({weight:e})=>e,({transform:e})=>e,({align:e})=>e?`text-align: ${e}`:"",({margin:e})=>e&&`margin: ${e}`,({padding:e})=>e&&`padding: ${e}`,({ellipsis:e})=>e&&rU),iU=U.label.withConfig({displayName:"Text__TextStyled"})([`
  `,`;
`],e4),st=({type:e,...t})=>v.jsx(iU,{as:e,...t,type:e}),st.defaultProps=nU;const oU=e=>e["acl.oidc.host"]?`${e["acl.oidc.tls.enabled"]?"https":"http"}://${e["acl.oidc.host"]}:${e["acl.oidc.port"]}`:"",k1e=({settings:e,code_challenge:t=null,state:n=null,prompt:r,redirect_uri:i})=>{const o={client_id:e["acl.oidc.client.id"]||"",response_type:"code",scope:e["acl.oidc.scope"]||"openid",redirect_uri:i},a=new URLSearchParams(o);return t&&(a.append("code_challenge",t),a.append("code_challenge_method","S256")),n&&a.append("state",n),r&&a.append("prompt",r),oU(e)+e["acl.oidc.authorization.endpoint"]+"?"+a.toString()},N1e=e=>new Date(new Date().getTime()+e*1e3),aU=async(e,t)=>fetch(`${oU(e)}${e["acl.oidc.token.endpoint"]}`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(t)}),sU=e=>e["acl.enabled"]&&!e["acl.basic.auth.realm.enabled"],lU=e=>localStorage.getItem(`${Mn.SSO_USERNAME}.${e}`)??"",R1e=(e,t)=>{localStorage.setItem(`${Mn.SSO_USERNAME}.${e}`,t)},j1e=e=>{localStorage.removeItem(`${Mn.SSO_USERNAME}.${e}`)};var cU={exports:{}};const L1e={},M1e=Object.freeze(Object.defineProperty({__proto__:null,default:L1e},Symbol.toStringTag,{value:"Module"})),uU=mue(M1e);var dU;function P1e(){return dU||(dU=1,(function(e){(function(){var t="input is invalid type",n=typeof window=="object",r=n?window:{};r.JS_SHA256_NO_WINDOW&&(n=!1);var i=!n&&typeof self=="object",o=!r.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node&&process.type!="renderer";o?r=_l:i&&(r=self);var a=!r.JS_SHA256_NO_COMMON_JS&&!0&&e.exports,s=!r.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),c=[-2147483648,8388608,32768,128],u=[24,16,8,0],d=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],f=["hex","array","digest","arrayBuffer"],p=[];(r.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(m){return Object.prototype.toString.call(m)==="[object Array]"}),s&&(r.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(m){return typeof m=="object"&&m.buffer&&m.buffer.constructor===ArrayBuffer});var g=function(m,C){return function(T){return new S(C,!0).update(T)[m]()}},h=function(m){var C=g("hex",m);o&&(C=y(C,m)),C.create=function(){return new S(m)},C.update=function(R){return C.create().update(R)};for(var T=0;T<f.length;++T){var O=f[T];C[O]=g(O,m)}return C},y=function(m,C){var T=uU,O=uU.Buffer,R=C?"sha224":"sha256",j;O.from&&!r.JS_SHA256_NO_BUFFER_FROM?j=O.from:j=function(L){return new O(L)};var D=function(L){if(typeof L=="string")return T.createHash(R).update(L,"utf8").digest("hex");if(L==null)throw new Error(t);return L.constructor===ArrayBuffer&&(L=new Uint8Array(L)),Array.isArray(L)||ArrayBuffer.isView(L)||L.constructor===O?T.createHash(R).update(j(L)).digest("hex"):m(L)};return D},b=function(m,C){return function(T,O){return new E(T,C,!0).update(O)[m]()}},w=function(m){var C=b("hex",m);C.create=function(R){return new E(R,m)},C.update=function(R,j){return C.create(R).update(j)};for(var T=0;T<f.length;++T){var O=f[T];C[O]=b(O,m)}return C};function S(m,C){C?(p[0]=p[16]=p[1]=p[2]=p[3]=p[4]=p[5]=p[6]=p[7]=p[8]=p[9]=p[10]=p[11]=p[12]=p[13]=p[14]=p[15]=0,this.blocks=p):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],m?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=m}S.prototype.update=function(m){if(!this.finalized){var C,T=typeof m;if(T!=="string"){if(T==="object"){if(m===null)throw new Error(t);if(s&&m.constructor===ArrayBuffer)m=new Uint8Array(m);else if(!Array.isArray(m)&&(!s||!ArrayBuffer.isView(m)))throw new Error(t)}else throw new Error(t);C=!0}for(var O,R=0,j,D=m.length,L=this.blocks;R<D;){if(this.hashed&&(this.hashed=!1,L[0]=this.block,this.block=L[16]=L[1]=L[2]=L[3]=L[4]=L[5]=L[6]=L[7]=L[8]=L[9]=L[10]=L[11]=L[12]=L[13]=L[14]=L[15]=0),C)for(j=this.start;R<D&&j<64;++R)L[j>>>2]|=m[R]<<u[j++&3];else for(j=this.start;R<D&&j<64;++R)O=m.charCodeAt(R),O<128?L[j>>>2]|=O<<u[j++&3]:O<2048?(L[j>>>2]|=(192|O>>>6)<<u[j++&3],L[j>>>2]|=(128|O&63)<<u[j++&3]):O<55296||O>=57344?(L[j>>>2]|=(224|O>>>12)<<u[j++&3],L[j>>>2]|=(128|O>>>6&63)<<u[j++&3],L[j>>>2]|=(128|O&63)<<u[j++&3]):(O=65536+((O&1023)<<10|m.charCodeAt(++R)&1023),L[j>>>2]|=(240|O>>>18)<<u[j++&3],L[j>>>2]|=(128|O>>>12&63)<<u[j++&3],L[j>>>2]|=(128|O>>>6&63)<<u[j++&3],L[j>>>2]|=(128|O&63)<<u[j++&3]);this.lastByteIndex=j,this.bytes+=j-this.start,j>=64?(this.block=L[16],this.start=j-64,this.hash(),this.hashed=!0):this.start=j}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},S.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var m=this.blocks,C=this.lastByteIndex;m[16]=this.block,m[C>>>2]|=c[C&3],this.block=m[16],C>=56&&(this.hashed||this.hash(),m[0]=this.block,m[16]=m[1]=m[2]=m[3]=m[4]=m[5]=m[6]=m[7]=m[8]=m[9]=m[10]=m[11]=m[12]=m[13]=m[14]=m[15]=0),m[14]=this.hBytes<<3|this.bytes>>>29,m[15]=this.bytes<<3,this.hash()}},S.prototype.hash=function(){var m=this.h0,C=this.h1,T=this.h2,O=this.h3,R=this.h4,j=this.h5,D=this.h6,L=this.h7,V=this.blocks,z,B,H,J,ne,q,ee,te,$,ae,ue;for(z=16;z<64;++z)ne=V[z-15],B=(ne>>>7|ne<<25)^(ne>>>18|ne<<14)^ne>>>3,ne=V[z-2],H=(ne>>>17|ne<<15)^(ne>>>19|ne<<13)^ne>>>10,V[z]=V[z-16]+B+V[z-7]+H<<0;for(ue=C&T,z=0;z<64;z+=4)this.first?(this.is224?(te=300032,ne=V[0]-1413257819,L=ne-150054599<<0,O=ne+24177077<<0):(te=704751109,ne=V[0]-210244248,L=ne-1521486534<<0,O=ne+143694565<<0),this.first=!1):(B=(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10),H=(R>>>6|R<<26)^(R>>>11|R<<21)^(R>>>25|R<<7),te=m&C,J=te^m&T^ue,ee=R&j^~R&D,ne=L+H+ee+d[z]+V[z],q=B+J,L=O+ne<<0,O=ne+q<<0),B=(O>>>2|O<<30)^(O>>>13|O<<19)^(O>>>22|O<<10),H=(L>>>6|L<<26)^(L>>>11|L<<21)^(L>>>25|L<<7),$=O&m,J=$^O&C^te,ee=L&R^~L&j,ne=D+H+ee+d[z+1]+V[z+1],q=B+J,D=T+ne<<0,T=ne+q<<0,B=(T>>>2|T<<30)^(T>>>13|T<<19)^(T>>>22|T<<10),H=(D>>>6|D<<26)^(D>>>11|D<<21)^(D>>>25|D<<7),ae=T&O,J=ae^T&m^$,ee=D&L^~D&R,ne=j+H+ee+d[z+2]+V[z+2],q=B+J,j=C+ne<<0,C=ne+q<<0,B=(C>>>2|C<<30)^(C>>>13|C<<19)^(C>>>22|C<<10),H=(j>>>6|j<<26)^(j>>>11|j<<21)^(j>>>25|j<<7),ue=C&T,J=ue^C&O^ae,ee=j&D^~j&L,ne=R+H+ee+d[z+3]+V[z+3],q=B+J,R=m+ne<<0,m=ne+q<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+m<<0,this.h1=this.h1+C<<0,this.h2=this.h2+T<<0,this.h3=this.h3+O<<0,this.h4=this.h4+R<<0,this.h5=this.h5+j<<0,this.h6=this.h6+D<<0,this.h7=this.h7+L<<0},S.prototype.hex=function(){this.finalize();var m=this.h0,C=this.h1,T=this.h2,O=this.h3,R=this.h4,j=this.h5,D=this.h6,L=this.h7,V=l[m>>>28&15]+l[m>>>24&15]+l[m>>>20&15]+l[m>>>16&15]+l[m>>>12&15]+l[m>>>8&15]+l[m>>>4&15]+l[m&15]+l[C>>>28&15]+l[C>>>24&15]+l[C>>>20&15]+l[C>>>16&15]+l[C>>>12&15]+l[C>>>8&15]+l[C>>>4&15]+l[C&15]+l[T>>>28&15]+l[T>>>24&15]+l[T>>>20&15]+l[T>>>16&15]+l[T>>>12&15]+l[T>>>8&15]+l[T>>>4&15]+l[T&15]+l[O>>>28&15]+l[O>>>24&15]+l[O>>>20&15]+l[O>>>16&15]+l[O>>>12&15]+l[O>>>8&15]+l[O>>>4&15]+l[O&15]+l[R>>>28&15]+l[R>>>24&15]+l[R>>>20&15]+l[R>>>16&15]+l[R>>>12&15]+l[R>>>8&15]+l[R>>>4&15]+l[R&15]+l[j>>>28&15]+l[j>>>24&15]+l[j>>>20&15]+l[j>>>16&15]+l[j>>>12&15]+l[j>>>8&15]+l[j>>>4&15]+l[j&15]+l[D>>>28&15]+l[D>>>24&15]+l[D>>>20&15]+l[D>>>16&15]+l[D>>>12&15]+l[D>>>8&15]+l[D>>>4&15]+l[D&15];return this.is224||(V+=l[L>>>28&15]+l[L>>>24&15]+l[L>>>20&15]+l[L>>>16&15]+l[L>>>12&15]+l[L>>>8&15]+l[L>>>4&15]+l[L&15]),V},S.prototype.toString=S.prototype.hex,S.prototype.digest=function(){this.finalize();var m=this.h0,C=this.h1,T=this.h2,O=this.h3,R=this.h4,j=this.h5,D=this.h6,L=this.h7,V=[m>>>24&255,m>>>16&255,m>>>8&255,m&255,C>>>24&255,C>>>16&255,C>>>8&255,C&255,T>>>24&255,T>>>16&255,T>>>8&255,T&255,O>>>24&255,O>>>16&255,O>>>8&255,O&255,R>>>24&255,R>>>16&255,R>>>8&255,R&255,j>>>24&255,j>>>16&255,j>>>8&255,j&255,D>>>24&255,D>>>16&255,D>>>8&255,D&255];return this.is224||V.push(L>>>24&255,L>>>16&255,L>>>8&255,L&255),V},S.prototype.array=S.prototype.digest,S.prototype.arrayBuffer=function(){this.finalize();var m=new ArrayBuffer(this.is224?28:32),C=new DataView(m);return C.setUint32(0,this.h0),C.setUint32(4,this.h1),C.setUint32(8,this.h2),C.setUint32(12,this.h3),C.setUint32(16,this.h4),C.setUint32(20,this.h5),C.setUint32(24,this.h6),this.is224||C.setUint32(28,this.h7),m};function E(m,C,T){var O,R=typeof m;if(R==="string"){var j=[],D=m.length,L=0,V;for(O=0;O<D;++O)V=m.charCodeAt(O),V<128?j[L++]=V:V<2048?(j[L++]=192|V>>>6,j[L++]=128|V&63):V<55296||V>=57344?(j[L++]=224|V>>>12,j[L++]=128|V>>>6&63,j[L++]=128|V&63):(V=65536+((V&1023)<<10|m.charCodeAt(++O)&1023),j[L++]=240|V>>>18,j[L++]=128|V>>>12&63,j[L++]=128|V>>>6&63,j[L++]=128|V&63);m=j}else if(R==="object"){if(m===null)throw new Error(t);if(s&&m.constructor===ArrayBuffer)m=new Uint8Array(m);else if(!Array.isArray(m)&&(!s||!ArrayBuffer.isView(m)))throw new Error(t)}else throw new Error(t);m.length>64&&(m=new S(C,!0).update(m).array());var z=[],B=[];for(O=0;O<64;++O){var H=m[O]||0;z[O]=92^H,B[O]=54^H}S.call(this,C,T),this.update(B),this.oKeyPad=z,this.inner=!0,this.sharedMemory=T}E.prototype=new S,E.prototype.finalize=function(){if(S.prototype.finalize.call(this),this.inner){this.inner=!1;var m=this.array();S.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(m),S.prototype.finalize.call(this)}};var _=h();_.sha256=_,_.sha224=h(!0),_.sha256.hmac=w(),_.sha224.hmac=w(!0),a?e.exports=_:(r.sha256=_.sha256,r.sha224=_.sha224)})()})(cU)),cU.exports}var D1e=P1e();const fU="3.7.8",F1e=fU,Ah=typeof Buffer=="function",hU=typeof TextDecoder=="function"?new TextDecoder:void 0,pU=typeof TextEncoder=="function"?new TextEncoder:void 0,U1e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Jm=Array.prototype.slice.call(U1e),pv=(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(Jm),z1e=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,va=String.fromCharCode.bind(String),mU=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),gU=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),yU=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),vU=e=>{let t,n,r,i,o="";const a=e.length%3;for(let s=0;s<e.length;){if((n=e.charCodeAt(s++))>255||(r=e.charCodeAt(s++))>255||(i=e.charCodeAt(s++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|i,o+=Jm[t>>18&63]+Jm[t>>12&63]+Jm[t>>6&63]+Jm[t&63]}return a?o.slice(0,a-3)+"===".substring(a):o},t4=typeof btoa=="function"?e=>btoa(e):Ah?e=>Buffer.from(e,"binary").toString("base64"):vU,n4=Ah?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,r=e.length;n<r;n+=4096)t.push(va.apply(null,e.subarray(n,n+4096)));return t4(t.join(""))},mv=(e,t=!1)=>t?gU(n4(e)):n4(e),B1e=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?va(192|t>>>6)+va(128|t&63):va(224|t>>>12&15)+va(128|t>>>6&63)+va(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return va(240|t>>>18&7)+va(128|t>>>12&63)+va(128|t>>>6&63)+va(128|t&63)}},$1e=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,bU=e=>e.replace($1e,B1e),wU=Ah?e=>Buffer.from(e,"utf8").toString("base64"):pU?e=>n4(pU.encode(e)):e=>t4(bU(e)),Ih=(e,t=!1)=>t?gU(wU(e)):wU(e),xU=e=>Ih(e,!0),H1e=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,V1e=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return va((n>>>10)+55296)+va((n&1023)+56320);case 3:return va((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return va((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},_U=e=>e.replace(H1e,V1e),EU=e=>{if(e=e.replace(/\s+/g,""),!z1e.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,n,r,i=[];for(let o=0;o<e.length;)t=pv[e.charAt(o++)]<<18|pv[e.charAt(o++)]<<12|(n=pv[e.charAt(o++)])<<6|(r=pv[e.charAt(o++)]),n===64?i.push(va(t>>16&255)):r===64?i.push(va(t>>16&255,t>>8&255)):i.push(va(t>>16&255,t>>8&255,t&255));return i.join("")},r4=typeof atob=="function"?e=>atob(yU(e)):Ah?e=>Buffer.from(e,"base64").toString("binary"):EU,SU=Ah?e=>mU(Buffer.from(e,"base64")):e=>mU(r4(e).split("").map(t=>t.charCodeAt(0))),CU=e=>SU(TU(e)),q1e=Ah?e=>Buffer.from(e,"base64").toString("utf8"):hU?e=>hU.decode(SU(e)):e=>_U(r4(e)),TU=e=>yU(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),i4=e=>q1e(TU(e)),W1e=e=>{if(typeof e!="string")return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},AU=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),IU=function(){const e=(t,n)=>Object.defineProperty(String.prototype,t,AU(n));e("fromBase64",function(){return i4(this)}),e("toBase64",function(t){return Ih(this,t)}),e("toBase64URI",function(){return Ih(this,!0)}),e("toBase64URL",function(){return Ih(this,!0)}),e("toUint8Array",function(){return CU(this)})},OU=function(){const e=(t,n)=>Object.defineProperty(Uint8Array.prototype,t,AU(n));e("toBase64",function(t){return mv(this,t)}),e("toBase64URI",function(){return mv(this,!0)}),e("toBase64URL",function(){return mv(this,!0)})},G1e=()=>{IU(),OU()},o4={version:fU,VERSION:F1e,atob:r4,atobPolyfill:EU,btoa:t4,btoaPolyfill:vU,fromBase64:i4,toBase64:Ih,encode:Ih,encodeURI:xU,encodeURL:xU,utob:bU,btou:_U,decode:i4,isValid:W1e,fromUint8Array:mv,toUint8Array:CU,extendString:IU,extendUint8Array:OU,extendBuiltins:G1e},K1e=60,X1e=60,Y1e=e=>e["acl.oidc.state.required"]?Z1e():null,Q1e=e=>e["acl.oidc.pkce.required"]?eye():null,J1e=e=>e?tye(e):null,Z1e=()=>{const e=new Uint8Array(K1e);crypto.getRandomValues(e);const t=o4.fromUint8Array(e,!0);return Is(Mn.OAUTH_STATE,t),t},eye=()=>{const e=new Uint8Array(X1e);crypto.getRandomValues(e);const t=o4.fromUint8Array(e,!0);return Is(Mn.PKCE_CODE_VERIFIER,t),t},tye=e=>{const t=[];for(let r=0;r<e.length;r++){const i=e.codePointAt(r);if(i===void 0)throw Error(r+" is out of bounds of string: "+e);t.push(i)}const n=new Uint8Array(D1e.sha256.create().update(t).array());return o4.fromUint8Array(n,!0)};function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function nye(e,t){if(Zm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rye(e){var t=nye(e,"string");return Zm(t)=="symbol"?t:t+""}function iye(e,t,n){return(t=rye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oye(e,t){if(e==null)return{};var n,r,i=rN(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var aye=["children","iconAttrs","iconVerticalAlign","iconViewBox","size","title"];function kU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kU(Object(n),!0).forEach(function(r){iye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var sye=x.forwardRef(function(e,t){var n=e.children,r=e.iconAttrs;e.iconVerticalAlign;var i=e.iconViewBox,o=e.size,a=e.title,s=oye(e,aye),l=NU(NU({viewBox:i,height:e.height!==void 0?e.height:o,width:e.width!==void 0?e.width:o,"aria-hidden":a==null?"true":void 0,focusable:"false",role:a!=null?"img":void 0},r),s);return x.createElement("svg",Dt({},l,{ref:t}),a&&x.createElement("title",{key:"icon-title"},a),n)}),Ft=U(sye).withConfig({displayName:"StyledIconBase",componentId:"sc-ea9ulj-0"})(["display:inline-block;vertical-align:",";overflow:hidden;"],function(e){return e.iconVerticalAlign}),RU=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"}))});RU.displayName="Add";var jU=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"m12 13.172 4.95-4.95 1.414 1.414L12 16 5.636 9.636 7.05 8.222z"}))});jU.displayName="ArrowDownS";var a4=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"m12 15-4.243-4.243 1.415-1.414L12 12.172l2.828-2.829 1.415 1.414z"}))});a4.displayName="ArrowDropDown";var LU=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"m12 11.828-2.828 2.829-1.415-1.414L12 9l4.243 4.243-1.415 1.414L12 11.828z"}))});LU.displayName="ArrowDropUp";var s4=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M7.828 11H20v2H7.828l5.364 5.364-1.414 1.414L4 12l7.778-7.778 1.414 1.414z"}))});s4.displayName="ArrowLeft";var MU=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M12 2c5.52 0 10 4.48 10 10s-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2zm0 18c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8zm1-8v4h-2v-4H8l4-4 4 4h-3z"}))});MU.displayName="ArrowUpCircle";var PU=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"m12 10.828-4.95 4.95-1.414-1.414L12 8l6.364 6.364-1.414 1.414z"}))});PU.displayName="ArrowUpS";var DU=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M21 19h2v2H1v-2h2V4a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v15h4v-8h-2V9h3a1 1 0 0 1 1 1v9zM5 5v14h8V5H5zm2 6h4v2H7v-2zm0-4h4v2H7V7z"}))});DU.displayName="Building";var FU=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M7.291 20.824 2 22l1.176-5.291A9.956 9.956 0 0 1 2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10a9.956 9.956 0 0 1-4.709-1.176zm.29-2.113.653.35A7.955 7.955 0 0 0 12 20a8 8 0 1 0-8-8c0 1.334.325 2.618.94 3.766l.349.653-.655 2.947 2.947-.655z"}))});FU.displayName="Chat3";var UU=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"m10 15.172 9.192-9.193 1.415 1.414L10 18l-6.364-6.364 1.414-1.414z"}))});UU.displayName="Check";var zU=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16z"}))});zU.displayName="CheckboxBlankCircle";var BU=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-.997-4L6.76 11.757l1.414-1.414 2.829 2.829 5.656-5.657 1.415 1.414L11.003 16z"}))});BU.displayName="CheckboxCircle";var Xc=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"m12 10.586 4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"}))});Xc.displayName="Close";var $U=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0-9.414 2.828-2.829 1.415 1.415L13.414 12l2.829 2.828-1.415 1.415L12 13.414l-2.828 2.829-1.415-1.415L10.586 12 7.757 9.172l1.415-1.415L12 10.586z"}))});$U.displayName="CloseCircle";var HU=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"m3.515 2.1 19.092 19.092-1.415 1.415-2.014-2.015A5.985 5.985 0 0 1 17 21H7A6 6 0 0 1 5.008 9.339a6.992 6.992 0 0 1 .353-2.563L2.1 3.514 3.515 2.1zM7 9c0 .081.002.163.006.243l.07 1.488-1.404.494A4.002 4.002 0 0 0 7 19h10c.186 0 .369-.013.548-.037L7.03 8.445C7.01 8.627 7 8.812 7 9zm5-7a7 7 0 0 1 6.992 7.339 6.003 6.003 0 0 1 3.212 8.65l-1.493-1.493a3.999 3.999 0 0 0-5.207-5.206L14.01 9.795A5.992 5.992 0 0 1 17 9a5 5 0 0 0-7.876-4.09l-1.43-1.43A6.97 6.97 0 0 1 12 2z"}))});HU.displayName="CloudOff";var VU=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M10 8h4V6.5a3.5 3.5 0 1 1 3.5 3.5H16v4h1.5a3.5 3.5 0 1 1-3.5 3.5V16h-4v1.5A3.5 3.5 0 1 1 6.5 14H8v-4H6.5A3.5 3.5 0 1 1 10 6.5V8zM8 8V6.5A1.5 1.5 0 1 0 6.5 8H8zm0 8H6.5A1.5 1.5 0 1 0 8 17.5V16zm8-8h1.5A1.5 1.5 0 1 0 16 6.5V8zm0 8v1.5a1.5 1.5 0 1 0 1.5-1.5H16zm-6-6v4h4v-4h-4z"}))});VU.displayName="Command";var qU=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M5 12.5c0 .313.461.858 1.53 1.393C7.914 14.585 9.877 15 12 15c2.123 0 4.086-.415 5.47-1.107 1.069-.535 1.53-1.08 1.53-1.393v-2.171C17.35 11.349 14.827 12 12 12s-5.35-.652-7-1.671V12.5zm14 2.829C17.35 16.349 14.827 17 12 17s-5.35-.652-7-1.671V17.5c0 .313.461.858 1.53 1.393C7.914 19.585 9.877 20 12 20c2.123 0 4.086-.415 5.47-1.107 1.069-.535 1.53-1.08 1.53-1.393v-2.171zM3 17.5v-10C3 5.015 7.03 3 12 3s9 2.015 9 4.5v10c0 2.485-4.03 4.5-9 4.5s-9-2.015-9-4.5zm9-7.5c2.123 0 4.086-.415 5.47-1.107C18.539 8.358 19 7.813 19 7.5c0-.313-.461-.858-1.53-1.393C16.086 5.415 14.123 5 12 5c-2.123 0-4.086.415-5.47 1.107C5.461 6.642 5 7.187 5 7.5c0 .313.461.858 1.53 1.393C7.914 9.585 9.877 10 12 10z"}))});qU.displayName="Database2";var WU=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M17 6h5v2h-2v13a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V8H2V6h5V3a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v3zm1 2H6v12h12V8zm-4.586 6 1.768 1.768-1.414 1.414L12 15.414l-1.768 1.768-1.414-1.414L10.586 14l-1.768-1.768 1.414-1.414L12 12.586l1.768-1.768 1.414 1.414L13.414 14zM9 4v2h6V4H9z"}))});WU.displayName="DeleteBin2";var GU=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M13 10h5l-6 6-6-6h5V3h2v7zm-9 9h16v-7h2v8a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-8h2v7z"}))});GU.displayName="Download2";var Qd=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M6.414 16 16.556 5.858l-1.414-1.414L5 14.586V16h1.414zm.829 2H3v-4.243L14.435 2.322a1 1 0 0 1 1.414 0l2.829 2.829a1 1 0 0 1 0 1.414L7.243 18zM3 20h18v2H3v-2z"}))});Qd.displayName="Edit";var l4=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-1-5h2v2h-2v-2zm0-8h2v6h-2V7z"}))});l4.displayName="ErrorWarning";var Oh=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M10 6v2H5v11h11v-5h2v6a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm11-3v8h-2V6.413l-7.793 7.794-1.414-1.414L17.585 5H13V3h8z"}))});Oh.displayName="ExternalLink";var KU=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M12 3c5.392 0 9.878 3.88 10.819 9-.94 5.12-5.427 9-10.819 9-5.392 0-9.878-3.88-10.819-9C2.121 6.88 6.608 3 12 3zm0 16a9.005 9.005 0 0 0 8.777-7 9.005 9.005 0 0 0-17.554 0A9.005 9.005 0 0 0 12 19zm0-2.5a4.5 4.5 0 1 1 0-9 4.5 4.5 0 0 1 0 9zm0-2a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"}))});KU.displayName="Eye";var XU=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M17.882 19.297A10.949 10.949 0 0 1 12 21c-5.392 0-9.878-3.88-10.819-9a10.982 10.982 0 0 1 3.34-6.066L1.392 2.808l1.415-1.415 19.799 19.8-1.415 1.414-3.31-3.31zM5.935 7.35A8.965 8.965 0 0 0 3.223 12a9.005 9.005 0 0 0 13.201 5.838l-2.028-2.028A4.5 4.5 0 0 1 8.19 9.604L5.935 7.35zm6.979 6.978-3.242-3.242a2.5 2.5 0 0 0 3.241 3.241zm7.893 2.264-1.431-1.43A8.935 8.935 0 0 0 20.777 12 9.005 9.005 0 0 0 9.552 5.338L7.974 3.76C9.221 3.27 10.58 3 12 3c5.392 0 9.878 3.88 10.819 9a10.947 10.947 0 0 1-2.012 4.592zm-9.084-9.084a4.5 4.5 0 0 1 4.769 4.769l-4.77-4.769z"}))});XU.displayName="EyeOff";var YU=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M15 4H5v16h14V8h-4V4zM3 2.992C3 2.444 3.447 2 3.999 2H16l5 5v13.993A1 1 0 0 1 20.007 22H3.993A1 1 0 0 1 3 21.008V2.992zM17.657 12l-3.536 3.536-1.414-1.415L14.828 12l-2.12-2.121 1.413-1.415L17.657 12zM6.343 12 9.88 8.464l1.414 1.415L9.172 12l2.12 2.121-1.413 1.415L6.343 12z"}))});YU.displayName="FileCode",th=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M7 6V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3v3c0 .552-.45 1-1.007 1H4.007A1.001 1.001 0 0 1 3 21l.003-14c0-.552.45-1 1.007-1H7zM5.003 8 5 20h10V8H5.003zM9 6h8v10h2V4H9v2z"}))}),th.displayName="FileCopy";var QU=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M15 4H5v16h14V8h-4V4zM3 2.992C3 2.444 3.447 2 3.999 2H16l5 5v13.993A1 1 0 0 1 20.007 22H3.993A1 1 0 0 1 3 21.008V2.992zm10.529 11.454a4.002 4.002 0 0 1-4.86-6.274 4 4 0 0 1 6.274 4.86l2.21 2.21-1.414 1.415-2.21-2.21zm-.618-2.032a2 2 0 1 0-2.828-2.828 2 2 0 0 0 2.828 2.828z"}))});QU.displayName="FileSearch",oh=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M21 8v12.993A1 1 0 0 1 20.007 22H3.993A.993.993 0 0 1 3 21.008V2.992C3 2.455 3.449 2 4.002 2h10.995L21 8zm-2 1h-5V4H5v16h14V9zM8 7h3v2H8V7zm0 4h8v2H8v-2zm0 4h8v2H8v-2z"}))}),oh.displayName="FileText";var c4=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M14 10h-4v4h4v-4zm2 0v4h3v-4h-3zm-2 9v-3h-4v3h4zm2 0h3v-3h-3v3zM14 5h-4v3h4V5zm2 0v3h3V5h-3zm-8 5H5v4h3v-4zm0 9v-3H5v3h3zM8 5H5v3h3V5zM4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"}))});c4.displayName="Grid";var hc=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zM11 7h2v2h-2V7zm0 4h2v6h-2v-6z"}))});hc.displayName="Information";var u4=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M12 2a1 1 0 0 1 1 1v3a1 1 0 0 1-2 0V3a1 1 0 0 1 1-1zm0 15a1 1 0 0 1 1 1v3a1 1 0 0 1-2 0v-3a1 1 0 0 1 1-1zm8.66-10a1 1 0 0 1-.366 1.366l-2.598 1.5a1 1 0 1 1-1-1.732l2.598-1.5A1 1 0 0 1 20.66 7zM7.67 14.5a1 1 0 0 1-.366 1.366l-2.598 1.5a1 1 0 1 1-1-1.732l2.598-1.5a1 1 0 0 1 1.366.366zM20.66 17a1 1 0 0 1-1.366.366l-2.598-1.5a1 1 0 0 1 1-1.732l2.598 1.5A1 1 0 0 1 20.66 17zM7.67 9.5a1 1 0 0 1-1.366.366l-2.598-1.5a1 1 0 1 1 1-1.732l2.598 1.5A1 1 0 0 1 7.67 9.5z"}))});u4.displayName="Loader";var d4=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M3.055 13H5.07a7.002 7.002 0 0 0 13.858 0h2.016a9.001 9.001 0 0 1-17.89 0zm0-2a9.001 9.001 0 0 1 17.89 0H18.93a7.002 7.002 0 0 0-13.858 0H3.055z"}))});d4.displayName="Loader3";var JU=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M18.364 5.636 16.95 7.05A7 7 0 1 0 19 12h2a9 9 0 1 1-2.636-6.364z"}))});JU.displayName="Loader4";var ZU=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M5 11h8v2H5v3l-5-4 5-4v3zm-1 7h2.708a8 8 0 1 0 0-12H4a9.985 9.985 0 0 1 8-4c5.523 0 10 4.477 10 10s-4.477 10-10 10a9.985 9.985 0 0 1-8-4z"}))});ZU.displayName="LogoutCircle";var ez=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M12 22C6.477 22 2 17.523 2 12c0-4.478 2.943-8.268 7-9.542v2.124A8.003 8.003 0 0 0 12 20a8.003 8.003 0 0 0 7.418-5h2.124c-1.274 4.057-5.064 7-9.542 7zm9.95-9H11V2.05c.329-.033.663-.05 1-.05 5.523 0 10 4.477 10 10 0 .337-.017.671-.05 1zM13 4.062V11h6.938A8.004 8.004 0 0 0 13 4.062z"}))});ez.displayName="PieChart";var f4=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-1-5h2v2h-2v-2zm2-1.645V14h-2v-1.5a1 1 0 0 1 1-1 1.5 1.5 0 1 0-1.471-1.794l-1.962-.393A3.501 3.501 0 1 1 13 13.355z"}))});f4.displayName="Question";var gv=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M5.463 4.433A9.961 9.961 0 0 1 12 2c5.523 0 10 4.477 10 10 0 2.136-.67 4.116-1.81 5.74L17 12h3A8 8 0 0 0 6.46 6.228l-.997-1.795zm13.074 15.134A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12c0-2.136.67-4.116 1.81-5.74L7 12H4a8 8 0 0 0 13.54 5.772l.997 1.795z"}))});gv.displayName="Refresh";var h4=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z"}))});h4.displayName="Restart";var p4=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"m18.031 16.617 4.283 4.282-1.415 1.415-4.282-4.283A8.96 8.96 0 0 1 11 20c-4.968 0-9-4.032-9-9s4.032-9 9-9 9 4.032 9 9a8.96 8.96 0 0 1-1.969 5.617zm-2.006-.742A6.977 6.977 0 0 0 18 11c0-3.868-3.133-7-7-7-3.868 0-7 3.132-7 7 0 3.867 3.132 7 7 7a6.977 6.977 0 0 0 4.875-1.975l.15-.15z"}))});p4.displayName="Search";var tz=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M11 2c4.968 0 9 4.032 9 9s-4.032 9-9 9-9-4.032-9-9 4.032-9 9-9zm0 16c3.867 0 7-3.133 7-7 0-3.868-3.133-7-7-7-3.868 0-7 3.132-7 7 0 3.867 3.132 7 7 7zm8.485.071 2.829 2.828-1.415 1.415-2.828-2.829 1.414-1.414z"}))});tz.displayName="Search2";var yv=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M2 12c0-.865.11-1.703.316-2.504A3 3 0 0 0 4.99 4.867a9.99 9.99 0 0 1 4.335-2.505 3 3 0 0 0 5.348 0 9.99 9.99 0 0 1 4.335 2.505 3 3 0 0 0 2.675 4.63 10.036 10.036 0 0 1 0 5.007 3 3 0 0 0-2.675 4.629 9.99 9.99 0 0 1-4.335 2.505 3 3 0 0 0-5.348 0 9.99 9.99 0 0 1-4.335-2.505 3 3 0 0 0-2.675-4.63A10.056 10.056 0 0 1 2 12zm4.804 3c.63 1.091.81 2.346.564 3.524.408.29.842.541 1.297.75A4.993 4.993 0 0 1 12 18c1.26 0 2.438.471 3.335 1.274.455-.209.889-.46 1.297-.75A4.993 4.993 0 0 1 17.196 15a4.993 4.993 0 0 1 2.77-2.25 8.126 8.126 0 0 0 0-1.5A4.993 4.993 0 0 1 17.195 9a4.993 4.993 0 0 1-.564-3.524 7.989 7.989 0 0 0-1.297-.75A4.993 4.993 0 0 1 12 6a4.993 4.993 0 0 1-3.335-1.274 7.99 7.99 0 0 0-1.297.75A4.993 4.993 0 0 1 6.804 9a4.993 4.993 0 0 1-2.77 2.25 8.126 8.126 0 0 0 0 1.5A4.993 4.993 0 0 1 6.805 15zM12 15a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"}))});yv.displayName="Settings4";var vv=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M7 7v10h10V7H7zM6 5h12a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1z"}))});vv.displayName="Stop";var nz=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M5 11h14v2H5z"}))});nz.displayName="Subtract",Yl=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M4 8h16V5H4v3zm10 11v-9h-4v9h4zm2 0h4v-9h-4v9zm-8 0v-9H4v9h4zM3 3h18a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"}))}),Yl.displayName="Table";var rz=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M12 11a5 5 0 0 1 5 5v6h-2v-6a3 3 0 0 0-2.824-2.995L12 13a3 3 0 0 0-2.995 2.824L9 16v6H7v-6a5 5 0 0 1 5-5zm-6.5 3c.279 0 .55.033.81.094a5.947 5.947 0 0 0-.301 1.575L6 16v.086a1.492 1.492 0 0 0-.356-.08L5.5 16a1.5 1.5 0 0 0-1.493 1.356L4 17.5V22H2v-4.5A3.5 3.5 0 0 1 5.5 14zm13 0a3.5 3.5 0 0 1 3.5 3.5V22h-2v-4.5a1.5 1.5 0 0 0-1.356-1.493L18.5 16c-.175 0-.343.03-.5.085V16c0-.666-.108-1.306-.309-1.904A3.42 3.42 0 0 1 18.5 14zm-13-6a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5zm13 0a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5zm-13 2a.5.5 0 1 0 0 1 .5.5 0 0 0 0-1zm13 0a.5.5 0 1 0 0 1 .5.5 0 0 0 0-1zM12 2a4 4 0 1 1 0 8 4 4 0 0 1 0-8zm0 2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"}))});rz.displayName="Team";var iz=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M3 3h18a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2v14h16V5H4zm8 10h6v2h-6v-2zm-3.333-3L5.838 9.172l1.415-1.415L11.495 12l-4.242 4.243-1.415-1.415L8.667 12z"}))});iz.displayName="TerminalBox";var oz=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M4 19h16v-7h2v8a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-8h2v7zm9-10v7h-2V9H6l6-6 6 6h-5z"}))});oz.displayName="Upload2";var m4=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M4 22a8 8 0 1 1 16 0h-2a6 6 0 1 0-12 0H4zm8-9c-3.315 0-6-2.685-6-6s2.685-6 6-6 6 2.685 6 6-2.685 6-6 6zm0-2c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4z"}))});m4.displayName="User";var az=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M22 20H2v-2h1v-6.969C3 6.043 7.03 2 12 2s9 4.043 9 9.031V18h1v2zM5 18h14v-6.969C19 7.148 15.866 4 12 4s-7 3.148-7 7.031V18zm4.5 3h5a2.5 2.5 0 1 1-5 0z"}))});az.displayName="Notification2",Nu=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-.997-6 7.07-7.071-1.414-1.414-5.656 5.657-2.829-2.829-1.414 1.414L11.003 16z"}))}),Nu.displayName="CheckboxCircle",ny=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-11.414L9.172 7.757 7.757 9.172 10.586 12l-2.829 2.828 1.415 1.415L12 13.414l2.828 2.829 1.415-1.415L13.414 12l2.829-2.828-1.415-1.415L12 10.586z"}))}),ny.displayName="CloseCircle";var g4=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-1-7v2h2v-2h-2zm0-8v6h2V7h-2z"}))});g4.displayName="ErrorWarning";var sz=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M12 2C6.475 2 2 6.475 2 12a9.994 9.994 0 0 0 6.838 9.488c.5.087.687-.213.687-.476 0-.237-.013-1.024-.013-1.862-2.512.463-3.162-.612-3.362-1.175-.113-.288-.6-1.175-1.025-1.413-.35-.187-.85-.65-.013-.662.788-.013 1.35.725 1.538 1.025.9 1.512 2.338 1.087 2.912.825.088-.65.35-1.087.638-1.337-2.225-.25-4.55-1.113-4.55-4.938 0-1.088.387-1.987 1.025-2.688-.1-.25-.45-1.275.1-2.65 0 0 .837-.262 2.75 1.026a9.28 9.28 0 0 1 2.5-.338c.85 0 1.7.112 2.5.337 1.912-1.3 2.75-1.024 2.75-1.024.55 1.375.2 2.4.1 2.65.637.7 1.025 1.587 1.025 2.687 0 3.838-2.337 4.688-4.562 4.938.362.312.675.912.675 1.85 0 1.337-.013 2.412-.013 2.75 0 .262.188.574.688.474A10.016 10.016 0 0 0 22 12c0-5.525-4.475-10-10-10z"}))});sz.displayName="Github";var lz=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z"}))});lz.displayName="Menu",C_=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M6 5h12a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1z"}))}),C_.displayName="Stop";var bv=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M16.939 7.939 12 12.879l-4.939-4.94-2.122 2.122L12 17.121l7.061-7.06z"}))});bv.displayName="ChevronDown",pm=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M10.061 19.061 17.121 12l-7.06-7.061-2.122 2.122L12.879 12l-4.94 4.939z"}))}),pm.displayName="ChevronRight";var cz=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M19 21a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14zm-8-9V7h2v5h4l-5 5-5-5h4z"}))});cz.displayName="DownArrowSquare";var uz=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M15 9.783V4h1V2H8v2h1v5.783l-4.268 9.389a1.992 1.992 0 0 0 .14 1.911A1.99 1.99 0 0 0 6.553 22h10.895a1.99 1.99 0 0 0 1.681-.917c.37-.574.423-1.289.14-1.911L15 9.783zm-4.09.631c.06-.13.09-.271.09-.414V4h2v6c0 .143.03.284.09.414L15.177 15H8.825l2.085-4.586z"}))});uz.displayName="Flask";var dz=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M5 21h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2zm7-14 5 5h-4v5h-2v-5H7l5-5z"}))});dz.displayName="UpArrowSquare";var fz=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M21 5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5zm-4.793 9.793-1.414 1.414L12 13.414l-2.793 2.793-1.414-1.414L10.586 12 7.793 9.207l1.414-1.414L12 10.586l2.793-2.793 1.414 1.414L13.414 12l2.793 2.793z"}))});fz.displayName="XSquare";var hz=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M20.98 11.802a.995.995 0 0 0-.738-.771l-6.86-1.716 2.537-5.921a.998.998 0 0 0-.317-1.192.996.996 0 0 0-1.234.024l-11 9a1 1 0 0 0 .39 1.744l6.719 1.681-3.345 5.854A1.001 1.001 0 0 0 8 22a.995.995 0 0 0 .6-.2l12-9a1 1 0 0 0 .38-.998z"}))});hz.displayName="Zap";var pz={exports:{}},mz;function lye(){return mz||(mz=1,(function(e,t){(function(n,r){e.exports=r()})(self,(function(){return n={1238:i=>{i.exports={version:"17.5.0"}},7629:(i,o,a)=>{const s=a(375),l=a(8571),c=a(9474),u=a(1687),d=a(8652),f=a(8160),p=a(3292),g=a(6354),h=a(8901),y=a(9708),b=a(6914),w=a(2294),S=a(6133),E=a(1152),_=a(8863),m=a(2036),C={Base:class{constructor(T){this.type=T,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new w.Ids,this._preferences=null,this._refs=new S.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return s(typeof y.describe=="function","Manifest functionality disabled"),y.describe(this)}allow(...T){return f.verifyFlat(T,"allow"),this._values(T,"_valids")}alter(T){s(T&&typeof T=="object"&&!Array.isArray(T),"Invalid targets argument"),s(!this._inRuleset(),"Cannot set alterations inside a ruleset");const O=this.clone();O.$_terms.alterations=O.$_terms.alterations||[];for(const R in T){const j=T[R];s(typeof j=="function","Alteration adjuster for",R,"must be a function"),O.$_terms.alterations.push({target:R,adjuster:j})}return O.$_temp.ruleset=!1,O}artifact(T){return s(T!==void 0,"Artifact cannot be undefined"),s(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",T)}cast(T){return s(T===!1||typeof T=="string","Invalid to value"),s(T===!1||this._definition.cast[T],"Type",this.type,"does not support casting to",T),this.$_setFlag("cast",T===!1?void 0:T)}default(T,O){return this._default("default",T,O)}description(T){return s(T&&typeof T=="string","Description must be a non-empty string"),this.$_setFlag("description",T)}empty(T){const O=this.clone();return T!==void 0&&(T=O.$_compile(T,{override:!1})),O.$_setFlag("empty",T,{clone:!1})}error(T){return s(T,"Missing error"),s(T instanceof Error||typeof T=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",T)}example(T,O={}){return s(T!==void 0,"Missing example"),f.assertOptions(O,["override"]),this._inner("examples",T,{single:!0,override:O.override})}external(T,O){return typeof T=="object"&&(s(!O,"Cannot combine options with description"),O=T.description,T=T.method),s(typeof T=="function","Method must be a function"),s(O===void 0||O&&typeof O=="string","Description must be a non-empty string"),this._inner("externals",{method:T,description:O},{single:!0})}failover(T,O){return this._default("failover",T,O)}forbidden(){return this.presence("forbidden")}id(T){return T?(s(typeof T=="string","id must be a non-empty string"),s(/^[^\.]+$/.test(T),"id cannot contain period character"),this.$_setFlag("id",T)):this.$_setFlag("id",void 0)}invalid(...T){return this._values(T,"_invalids")}label(T){return s(T&&typeof T=="string","Label name must be a non-empty string"),this.$_setFlag("label",T)}meta(T){return s(T!==void 0,"Meta cannot be undefined"),this._inner("metas",T,{single:!0})}note(...T){s(T.length,"Missing notes");for(const O of T)s(O&&typeof O=="string","Notes must be non-empty strings");return this._inner("notes",T)}only(T=!0){return s(typeof T=="boolean","Invalid mode:",T),this.$_setFlag("only",T)}optional(){return this.presence("optional")}prefs(T){s(T,"Missing preferences"),s(T.context===void 0,"Cannot override context"),s(T.externals===void 0,"Cannot override externals"),s(T.warnings===void 0,"Cannot override warnings"),s(T.debug===void 0,"Cannot override debug"),f.checkPreferences(T);const O=this.clone();return O._preferences=f.preferences(O._preferences,T),O}presence(T){return s(["optional","required","forbidden"].includes(T),"Unknown presence mode",T),this.$_setFlag("presence",T)}raw(T=!0){return this.$_setFlag("result",T?"raw":void 0)}result(T){return s(["raw","strip"].includes(T),"Unknown result mode",T),this.$_setFlag("result",T)}required(){return this.presence("required")}strict(T){const O=this.clone(),R=T!==void 0&&!T;return O._preferences=f.preferences(O._preferences,{convert:R}),O}strip(T=!0){return this.$_setFlag("result",T?"strip":void 0)}tag(...T){s(T.length,"Missing tags");for(const O of T)s(O&&typeof O=="string","Tags must be non-empty strings");return this._inner("tags",T)}unit(T){return s(T&&typeof T=="string","Unit name must be a non-empty string"),this.$_setFlag("unit",T)}valid(...T){f.verifyFlat(T,"valid");const O=this.allow(...T);return O.$_setFlag("only",!!O._valids,{clone:!1}),O}when(T,O){const R=this.clone();R.$_terms.whens||(R.$_terms.whens=[]);const j=p.when(R,T,O);if(!["any","link"].includes(R.type)){const D=j.is?[j]:j.switch;for(const L of D)s(!L.then||L.then.type==="any"||L.then.type===R.type,"Cannot combine",R.type,"with",L.then&&L.then.type),s(!L.otherwise||L.otherwise.type==="any"||L.otherwise.type===R.type,"Cannot combine",R.type,"with",L.otherwise&&L.otherwise.type)}return R.$_terms.whens.push(j),R.$_mutateRebuild()}cache(T){s(!this._inRuleset(),"Cannot set caching inside a ruleset"),s(!this._cache,"Cannot override schema cache"),s(this._flags.artifact===void 0,"Cannot cache a rule with an artifact");const O=this.clone();return O._cache=T||d.provider.provision(),O.$_temp.ruleset=!1,O}clone(){const T=Object.create(Object.getPrototypeOf(this));return this._assign(T)}concat(T){s(f.isSchema(T),"Invalid schema object"),s(this.type==="any"||T.type==="any"||T.type===this.type,"Cannot merge type",this.type,"with another type:",T.type),s(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),s(!T._inRuleset(),"Cannot concatenate a schema with open ruleset");let O=this.clone();if(this.type==="any"&&T.type!=="any"){const R=T.clone();for(const j of Object.keys(O))j!=="type"&&(R[j]=O[j]);O=R}O._ids.concat(T._ids),O._refs.register(T,S.toSibling),O._preferences=O._preferences?f.preferences(O._preferences,T._preferences):T._preferences,O._valids=m.merge(O._valids,T._valids,T._invalids),O._invalids=m.merge(O._invalids,T._invalids,T._valids);for(const R of T._singleRules.keys())O._singleRules.has(R)&&(O._rules=O._rules.filter((j=>j.keep||j.name!==R)),O._singleRules.delete(R));for(const R of T._rules)T._definition.rules[R.method].multi||O._singleRules.set(R.name,R),O._rules.push(R);if(O._flags.empty&&T._flags.empty){O._flags.empty=O._flags.empty.concat(T._flags.empty);const R=Object.assign({},T._flags);delete R.empty,u(O._flags,R)}else if(T._flags.empty){O._flags.empty=T._flags.empty;const R=Object.assign({},T._flags);delete R.empty,u(O._flags,R)}else u(O._flags,T._flags);for(const R in T.$_terms){const j=T.$_terms[R];j?O.$_terms[R]?O.$_terms[R]=O.$_terms[R].concat(j):O.$_terms[R]=j.slice():O.$_terms[R]||(O.$_terms[R]=j)}return this.$_root._tracer&&this.$_root._tracer._combine(O,[this,T]),O.$_mutateRebuild()}extend(T){return s(!T.base,"Cannot extend type with another base"),h.type(this,T)}extract(T){return T=Array.isArray(T)?T:T.split("."),this._ids.reach(T)}fork(T,O){s(!this._inRuleset(),"Cannot fork inside a ruleset");let R=this;for(let j of[].concat(T))j=Array.isArray(j)?j:j.split("."),R=R._ids.fork(j,O,R);return R.$_temp.ruleset=!1,R}rule(T){const O=this._definition;f.assertOptions(T,Object.keys(O.modifiers)),s(this.$_temp.ruleset!==!1,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");const R=this.$_temp.ruleset===null?this._rules.length-1:this.$_temp.ruleset;s(R>=0&&R<this._rules.length,"Cannot apply rules to empty ruleset");const j=this.clone();for(let D=R;D<j._rules.length;++D){const L=j._rules[D],V=l(L);for(const z in T)O.modifiers[z](V,T[z]),s(V.name===L.name,"Cannot change rule name");j._rules[D]=V,j._singleRules.get(V.name)===L&&j._singleRules.set(V.name,V)}return j.$_temp.ruleset=!1,j.$_mutateRebuild()}get ruleset(){s(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");const T=this.clone();return T.$_temp.ruleset=T._rules.length,T}get $(){return this.ruleset}tailor(T){T=[].concat(T),s(!this._inRuleset(),"Cannot tailor inside a ruleset");let O=this;if(this.$_terms.alterations)for(const{target:R,adjuster:j}of this.$_terms.alterations)T.includes(R)&&(O=j(O),s(f.isSchema(O),"Alteration adjuster for",R,"failed to return a schema object"));return O=O.$_modify({each:R=>R.tailor(T),ref:!1}),O.$_temp.ruleset=!1,O.$_mutateRebuild()}tracer(){return E.location?E.location(this):this}validate(T,O){return _.entry(T,this,O)}validateAsync(T,O){return _.entryAsync(T,this,O)}$_addRule(T){typeof T=="string"&&(T={name:T}),s(T&&typeof T=="object","Invalid options"),s(T.name&&typeof T.name=="string","Invalid rule name");for(const L in T)s(L[0]!=="_","Cannot set private rule properties");const O=Object.assign({},T);O._resolve=[],O.method=O.method||O.name;const R=this._definition.rules[O.method],j=O.args;s(R,"Unknown rule",O.method);const D=this.clone();if(j){s(Object.keys(j).length===1||Object.keys(j).length===this._definition.rules[O.name].args.length,"Invalid rule definition for",this.type,O.name);for(const L in j){let V=j[L];if(V!==void 0){if(R.argsByName){const z=R.argsByName.get(L);if(z.ref&&f.isResolvable(V))O._resolve.push(L),D.$_mutateRegister(V);else if(z.normalize&&(V=z.normalize(V),j[L]=V),z.assert){const B=f.validateArg(V,L,z);s(!B,B,"or reference")}}j[L]=V}else delete j[L]}}return R.multi||(D._ruleRemove(O.name,{clone:!1}),D._singleRules.set(O.name,O)),D.$_temp.ruleset===!1&&(D.$_temp.ruleset=null),R.priority?D._rules.unshift(O):D._rules.push(O),D}$_compile(T,O){return p.schema(this.$_root,T,O)}$_createError(T,O,R,j,D,L={}){const V=L.flags!==!1?this._flags:{},z=L.messages?b.merge(this._definition.messages,L.messages):this._definition.messages;return new g.Report(T,O,R,V,z,j,D)}$_getFlag(T){return this._flags[T]}$_getRule(T){return this._singleRules.get(T)}$_mapLabels(T){return T=Array.isArray(T)?T:T.split("."),this._ids.labels(T)}$_match(T,O,R,j){(R=Object.assign({},R)).abortEarly=!0,R._externals=!1,O.snapshot();const D=!_.validate(T,this,O,R,j).errors;return O.restore(),D}$_modify(T){return f.assertOptions(T,["each","once","ref","schema"]),w.schema(this,T)||this}$_mutateRebuild(){return s(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:(T,{source:O,name:R,path:j,key:D})=>{const L=this._definition[O][R]&&this._definition[O][R].register;L!==!1&&this.$_mutateRegister(T,{family:L,key:D})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(T,{family:O,key:R}={}){this._refs.register(T,O),this._ids.register(T,{key:R})}$_property(T){return this._definition.properties[T]}$_reach(T){return this._ids.reach(T)}$_rootReferences(){return this._refs.roots()}$_setFlag(T,O,R={}){s(T[0]==="_"||!this._inRuleset(),"Cannot set flag inside a ruleset");const j=this._definition.flags[T]||{};if(c(O,j.default)&&(O=void 0),c(O,this._flags[T]))return this;const D=R.clone!==!1?this.clone():this;return O!==void 0?(D._flags[T]=O,D.$_mutateRegister(O)):delete D._flags[T],T[0]!=="_"&&(D.$_temp.ruleset=!1),D}$_parent(T,...O){return this[T][f.symbols.parent].call(this,...O)}$_validate(T,O,R){return _.validate(T,this,O,R)}_assign(T){T.type=this.type,T.$_root=this.$_root,T.$_temp=Object.assign({},this.$_temp),T.$_temp.whens={},T._ids=this._ids.clone(),T._preferences=this._preferences,T._valids=this._valids&&this._valids.clone(),T._invalids=this._invalids&&this._invalids.clone(),T._rules=this._rules.slice(),T._singleRules=l(this._singleRules,{shallow:!0}),T._refs=this._refs.clone(),T._flags=Object.assign({},this._flags),T._cache=null,T.$_terms={};for(const O in this.$_terms)T.$_terms[O]=this.$_terms[O]?this.$_terms[O].slice():null;T.$_super={};for(const O in this.$_super)T.$_super[O]=this._super[O].bind(T);return T}_bare(){const T=this.clone();T._reset();const O=T._definition.terms;for(const R in O){const j=O[R];T.$_terms[R]=j.init}return T.$_mutateRebuild()}_default(T,O,R={}){return f.assertOptions(R,"literal"),s(O!==void 0,"Missing",T,"value"),s(typeof O=="function"||!R.literal,"Only function value supports literal option"),typeof O=="function"&&R.literal&&(O={[f.symbols.literal]:!0,literal:O}),this.$_setFlag(T,O)}_generate(T,O,R){if(!this.$_terms.whens)return{schema:this};const j=[],D=[];for(let z=0;z<this.$_terms.whens.length;++z){const B=this.$_terms.whens[z];if(B.concat){j.push(B.concat),D.push("".concat(z,".concat"));continue}const H=B.ref?B.ref.resolve(T,O,R):T,J=B.is?[B]:B.switch,ne=D.length;for(let q=0;q<J.length;++q){const{is:ee,then:te,otherwise:$}=J[q],ae="".concat(z).concat(B.switch?"."+q:"");if(ee.$_match(H,O.nest(ee,"".concat(ae,".is")),R)){if(te){const ue=O.localize([...O.path,"".concat(ae,".then")],O.ancestors,O.schemas),{schema:me,id:Fe}=te._generate(T,ue,R);j.push(me),D.push("".concat(ae,".then").concat(Fe?"(".concat(Fe,")"):""));break}}else if($){const ue=O.localize([...O.path,"".concat(ae,".otherwise")],O.ancestors,O.schemas),{schema:me,id:Fe}=$._generate(T,ue,R);j.push(me),D.push("".concat(ae,".otherwise").concat(Fe?"(".concat(Fe,")"):""));break}}if(B.break&&D.length>ne)break}const L=D.join(", ");if(O.mainstay.tracer.debug(O,"rule","when",L),!L)return{schema:this};if(!O.mainstay.tracer.active&&this.$_temp.whens[L])return{schema:this.$_temp.whens[L],id:L};let V=this;this._definition.generate&&(V=this._definition.generate(this,T,O,R));for(const z of j)V=V.concat(z);return this.$_root._tracer&&this.$_root._tracer._combine(V,[this,...j]),this.$_temp.whens[L]=V,{schema:V,id:L}}_inner(T,O,R={}){s(!this._inRuleset(),"Cannot set ".concat(T," inside a ruleset"));const j=this.clone();return j.$_terms[T]&&!R.override||(j.$_terms[T]=[]),R.single?j.$_terms[T].push(O):j.$_terms[T].push(...O),j.$_temp.ruleset=!1,j}_inRuleset(){return this.$_temp.ruleset!==null&&this.$_temp.ruleset!==!1}_ruleRemove(T,O={}){if(!this._singleRules.has(T))return this;const R=O.clone!==!1?this.clone():this;R._singleRules.delete(T);const j=[];for(let D=0;D<R._rules.length;++D){const L=R._rules[D];L.name!==T||L.keep?j.push(L):R._inRuleset()&&D<R.$_temp.ruleset&&--R.$_temp.ruleset}return R._rules=j,R}_values(T,O){f.verifyFlat(T,O.slice(1,-1));const R=this.clone(),j=T[0]===f.symbols.override;if(j&&(T=T.slice(1)),!R[O]&&T.length?R[O]=new m:j&&(R[O]=T.length?new m:null,R.$_mutateRebuild()),!R[O])return R;j&&R[O].override();for(const D of T){s(D!==void 0,"Cannot call allow/valid/invalid with undefined"),s(D!==f.symbols.override,"Override must be the first value");const L=O==="_invalids"?"_valids":"_invalids";R[L]&&(R[L].remove(D),R[L].length||(s(O==="_valids"||!R._flags.only,"Setting invalid value",D,"leaves schema rejecting all values due to previous valid rule"),R[L]=null)),R[O].add(D,R._refs)}return R}}};C.Base.prototype[f.symbols.any]={version:f.version,compile:p.compile,root:"$_root"},C.Base.prototype.isImmutable=!0,C.Base.prototype.deny=C.Base.prototype.invalid,C.Base.prototype.disallow=C.Base.prototype.invalid,C.Base.prototype.equal=C.Base.prototype.valid,C.Base.prototype.exist=C.Base.prototype.required,C.Base.prototype.not=C.Base.prototype.invalid,C.Base.prototype.options=C.Base.prototype.prefs,C.Base.prototype.preferences=C.Base.prototype.prefs,i.exports=new C.Base},8652:(i,o,a)=>{const s=a(375),l=a(8571),c=a(8160),u={max:1e3,supported:new Set(["undefined","boolean","number","string"])};o.provider={provision:d=>new u.Cache(d)},u.Cache=class{constructor(d={}){c.assertOptions(d,["max"]),s(d.max===void 0||d.max&&d.max>0&&isFinite(d.max),"Invalid max cache size"),this._max=d.max||u.max,this._map=new Map,this._list=new u.List}get length(){return this._map.size}set(d,f){if(d!==null&&!u.supported.has(typeof d))return;let p=this._map.get(d);if(p)return p.value=f,void this._list.first(p);p=this._list.unshift({key:d,value:f}),this._map.set(d,p),this._compact()}get(d){const f=this._map.get(d);if(f)return this._list.first(f),l(f.value)}_compact(){if(this._map.size>this._max){const d=this._list.pop();this._map.delete(d.key)}}},u.List=class{constructor(){this.tail=null,this.head=null}unshift(d){return d.next=null,d.prev=this.head,this.head&&(this.head.next=d),this.head=d,this.tail||(this.tail=d),d}first(d){d!==this.head&&(this._remove(d),this.unshift(d))}pop(){return this._remove(this.tail)}_remove(d){const{next:f,prev:p}=d;return f.prev=p,p&&(p.next=f),d===this.tail&&(this.tail=f),d.prev=null,d.next=null,d}}},8160:(i,o,a)=>{const s=a(375),l=a(7916),c=a(1238);let u,d;const f={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};o.version=c.version,o.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},o.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},o.assertOptions=function(p,g,h="Options"){s(p&&typeof p=="object"&&!Array.isArray(p),"Options must be of type object");const y=Object.keys(p).filter((b=>!g.includes(b)));s(y.length===0,"".concat(h," contain unknown keys: ").concat(y))},o.checkPreferences=function(p){d=d||a(3378);const g=d.preferences.validate(p);if(g.error)throw new l([g.error.details[0].message])},o.compare=function(p,g,h){switch(h){case"=":return p===g;case">":return p>g;case"<":return p<g;case">=":return p>=g;case"<=":return p<=g}},o.default=function(p,g){return p===void 0?g:p},o.isIsoDate=function(p){return f.isoDate.test(p)},o.isNumber=function(p){return typeof p=="number"&&!isNaN(p)},o.isResolvable=function(p){return!!p&&(p[o.symbols.ref]||p[o.symbols.template])},o.isSchema=function(p,g={}){const h=p&&p[o.symbols.any];return!!h&&(s(g.legacy||h.version===o.version,"Cannot mix different versions of joi schemas"),!0)},o.isValues=function(p){return p[o.symbols.values]},o.limit=function(p){return Number.isSafeInteger(p)&&p>=0},o.preferences=function(p,g){u=u||a(6914),p=p||{},g=g||{};const h=Object.assign({},p,g);return g.errors&&p.errors&&(h.errors=Object.assign({},p.errors,g.errors),h.errors.wrap=Object.assign({},p.errors.wrap,g.errors.wrap)),g.messages&&(h.messages=u.compile(g.messages,p.messages)),delete h[o.symbols.prefs],h},o.tryWithPath=function(p,g,h={}){try{return p()}catch(y){throw y.path!==void 0?y.path=g+"."+y.path:y.path=g,h.append&&(y.message="".concat(y.message," (").concat(y.path,")")),y}},o.validateArg=function(p,g,{assert:h,message:y}){if(o.isSchema(h)){const b=h.validate(p);return b.error?b.error.message:void 0}if(!h(p))return g?"".concat(g," ").concat(y):y},o.verifyFlat=function(p,g){for(const h of p)s(!Array.isArray(h),"Method no longer accepts array arguments:",g)}},3292:(i,o,a)=>{const s=a(375),l=a(8160),c=a(6133),u={};o.schema=function(d,f,p={}){l.assertOptions(p,["appendPath","override"]);try{return u.schema(d,f,p)}catch(g){throw p.appendPath&&g.path!==void 0&&(g.message="".concat(g.message," (").concat(g.path,")")),g}},u.schema=function(d,f,p){s(f!==void 0,"Invalid undefined schema"),Array.isArray(f)&&(s(f.length,"Invalid empty array schema"),f.length===1&&(f=f[0]));const g=(h,...y)=>p.override!==!1?h.valid(d.override,...y):h.valid(...y);if(u.simple(f))return g(d,f);if(typeof f=="function")return d.custom(f);if(s(typeof f=="object","Invalid schema content:",typeof f),l.isResolvable(f))return g(d,f);if(l.isSchema(f))return f;if(Array.isArray(f)){for(const h of f)if(!u.simple(h))return d.alternatives().try(...f);return g(d,...f)}return f instanceof RegExp?d.string().regex(f):f instanceof Date?g(d.date(),f):(s(Object.getPrototypeOf(f)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),d.object().keys(f))},o.ref=function(d,f){return c.isRef(d)?d:c.create(d,f)},o.compile=function(d,f,p={}){l.assertOptions(p,["legacy"]);const g=f&&f[l.symbols.any];if(g)return s(p.legacy||g.version===l.version,"Cannot mix different versions of joi schemas:",g.version,l.version),f;if(typeof f!="object"||!p.legacy)return o.schema(d,f,{appendPath:!0});const h=u.walk(f);return h?h.compile(h.root,f):o.schema(d,f,{appendPath:!0})},u.walk=function(d){if(typeof d!="object")return null;if(Array.isArray(d)){for(const p of d){const g=u.walk(p);if(g)return g}return null}const f=d[l.symbols.any];if(f)return{root:d[f.root],compile:f.compile};s(Object.getPrototypeOf(d)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(const p in d){const g=u.walk(d[p]);if(g)return g}return null},u.simple=function(d){return d===null||["boolean","string","number"].includes(typeof d)},o.when=function(d,f,p){if(p===void 0&&(s(f&&typeof f=="object","Missing options"),p=f,f=c.create(".")),Array.isArray(p)&&(p={switch:p}),l.assertOptions(p,["is","not","then","otherwise","switch","break"]),l.isSchema(f))return s(p.is===void 0,'"is" can not be used with a schema condition'),s(p.not===void 0,'"not" can not be used with a schema condition'),s(p.switch===void 0,'"switch" can not be used with a schema condition'),u.condition(d,{is:f,then:p.then,otherwise:p.otherwise,break:p.break});if(s(c.isRef(f)||typeof f=="string","Invalid condition:",f),s(p.not===void 0||p.is===void 0,'Cannot combine "is" with "not"'),p.switch===void 0){let h=p;p.not!==void 0&&(h={is:p.not,then:p.otherwise,otherwise:p.then,break:p.break});let y=h.is!==void 0?d.$_compile(h.is):d.$_root.invalid(null,!1,0,"").required();return s(h.then!==void 0||h.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),s(h.break===void 0||h.then===void 0||h.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),p.is===void 0||c.isRef(p.is)||l.isSchema(p.is)||(y=y.required()),u.condition(d,{ref:o.ref(f),is:y,then:h.then,otherwise:h.otherwise,break:h.break})}s(Array.isArray(p.switch),'"switch" must be an array'),s(p.is===void 0,'Cannot combine "switch" with "is"'),s(p.not===void 0,'Cannot combine "switch" with "not"'),s(p.then===void 0,'Cannot combine "switch" with "then"');const g={ref:o.ref(f),switch:[],break:p.break};for(let h=0;h<p.switch.length;++h){const y=p.switch[h],b=h===p.switch.length-1;l.assertOptions(y,b?["is","then","otherwise"]:["is","then"]),s(y.is!==void 0,'Switch statement missing "is"'),s(y.then!==void 0,'Switch statement missing "then"');const w={is:d.$_compile(y.is),then:d.$_compile(y.then)};if(c.isRef(y.is)||l.isSchema(y.is)||(w.is=w.is.required()),b){s(p.otherwise===void 0||y.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');const S=p.otherwise!==void 0?p.otherwise:y.otherwise;S!==void 0&&(s(g.break===void 0,"Cannot specify both otherwise and break"),w.otherwise=d.$_compile(S))}g.switch.push(w)}return g},u.condition=function(d,f){for(const p of["then","otherwise"])f[p]===void 0?delete f[p]:f[p]=d.$_compile(f[p]);return f}},6354:(i,o,a)=>{const s=a(5688),l=a(8160),c=a(3328);o.Report=class{constructor(u,d,f,p,g,h,y){if(this.code=u,this.flags=p,this.messages=g,this.path=h.path,this.prefs=y,this.state=h,this.value=d,this.message=null,this.template=null,this.local=f||{},this.local.label=o.label(this.flags,this.state,this.prefs,this.messages),this.value===void 0||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){const b=this.path[this.path.length-1];typeof b!="object"&&(this.local.key=b)}}_setTemplate(u){if(this.template=u,!this.flags.label&&this.path.length===0){const d=this._template(this.template,"root");d&&(this.local.label=d)}}toString(){if(this.message)return this.message;const u=this.code;if(!this.prefs.errors.render)return this.code;const d=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return d===void 0?'Error code "'.concat(u,'" is not defined, your custom type is missing the correct messages definition'):(this.message=d.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(u,d){return o.template(this.value,u,d||this.code,this.state,this.prefs)}},o.path=function(u){let d="";for(const f of u)typeof f!="object"&&(typeof f=="string"?(d&&(d+="."),d+=f):d+="[".concat(f,"]"));return d},o.template=function(u,d,f,p,g){if(!d)return;if(c.isTemplate(d))return f!=="root"?d:null;let h=g.errors.language;if(l.isResolvable(h)&&(h=h.resolve(u,p,g)),h&&d[h]){if(d[h][f]!==void 0)return d[h][f];if(d[h]["*"]!==void 0)return d[h]["*"]}return d[f]?d[f]:d["*"]},o.label=function(u,d,f,p){if(u.label)return u.label;if(!f.errors.label)return"";let g=d.path;return f.errors.label==="key"&&d.path.length>1&&(g=d.path.slice(-1)),o.path(g)||o.template(null,f.messages,"root",d,f)||p&&o.template(null,p,"root",d,f)||"value"},o.process=function(u,d,f){if(!u)return null;const{override:p,message:g,details:h}=o.details(u);if(p)return p;if(f.errors.stack)return new o.ValidationError(g,h,d);const y=Error.stackTraceLimit;Error.stackTraceLimit=0;const b=new o.ValidationError(g,h,d);return Error.stackTraceLimit=y,b},o.details=function(u,d={}){let f=[];const p=[];for(const g of u){if(g instanceof Error){if(d.override!==!1)return{override:g};const y=g.toString();f.push(y),p.push({message:y,type:"override",context:{error:g}});continue}const h=g.toString();f.push(h),p.push({message:h,path:g.path.filter((y=>typeof y!="object")),type:g.code,context:g.local})}return f.length>1&&(f=[...new Set(f)]),{message:f.join(". "),details:p}},o.ValidationError=class extends Error{constructor(u,d,f){super(u),this._original=f,this.details=d}static isError(u){return u instanceof o.ValidationError}},o.ValidationError.prototype.isJoi=!0,o.ValidationError.prototype.name="ValidationError",o.ValidationError.prototype.annotate=s.error},8901:(i,o,a)=>{const s=a(375),l=a(8571),c=a(8160),u=a(6914),d={};o.type=function(f,p){const g=Object.getPrototypeOf(f),h=l(g),y=f._assign(Object.create(h)),b=Object.assign({},p);delete b.base,h._definition=b;const w=g._definition||{};b.messages=u.merge(w.messages,b.messages),b.properties=Object.assign({},w.properties,b.properties),y.type=b.type,b.flags=Object.assign({},w.flags,b.flags);const S=Object.assign({},w.terms);if(b.terms)for(const C in b.terms){const T=b.terms[C];s(y.$_terms[C]===void 0,"Invalid term override for",b.type,C),y.$_terms[C]=T.init,S[C]=T}b.terms=S,b.args||(b.args=w.args),b.prepare=d.prepare(b.prepare,w.prepare),b.coerce&&(typeof b.coerce=="function"&&(b.coerce={method:b.coerce}),b.coerce.from&&!Array.isArray(b.coerce.from)&&(b.coerce={method:b.coerce.method,from:[].concat(b.coerce.from)})),b.coerce=d.coerce(b.coerce,w.coerce),b.validate=d.validate(b.validate,w.validate);const E=Object.assign({},w.rules);if(b.rules)for(const C in b.rules){const T=b.rules[C];s(typeof T=="object","Invalid rule definition for",b.type,C);let O=T.method;if(O===void 0&&(O=function(){return this.$_addRule(C)}),O&&(s(!h[C],"Rule conflict in",b.type,C),h[C]=O),s(!E[C],"Rule conflict in",b.type,C),E[C]=T,T.alias){const R=[].concat(T.alias);for(const j of R)h[j]=T.method}T.args&&(T.argsByName=new Map,T.args=T.args.map((R=>(typeof R=="string"&&(R={name:R}),s(!T.argsByName.has(R.name),"Duplicated argument name",R.name),c.isSchema(R.assert)&&(R.assert=R.assert.strict().label(R.name)),T.argsByName.set(R.name,R),R))))}b.rules=E;const _=Object.assign({},w.modifiers);if(b.modifiers)for(const C in b.modifiers){s(!h[C],"Rule conflict in",b.type,C);const T=b.modifiers[C];s(typeof T=="function","Invalid modifier definition for",b.type,C);const O=function(R){return this.rule({[C]:R})};h[C]=O,_[C]=T}if(b.modifiers=_,b.overrides){h._super=g,y.$_super={};for(const C in b.overrides)s(g[C],"Cannot override missing",C),b.overrides[C][c.symbols.parent]=g[C],y.$_super[C]=g[C].bind(y);Object.assign(h,b.overrides)}b.cast=Object.assign({},w.cast,b.cast);const m=Object.assign({},w.manifest,b.manifest);return m.build=d.build(b.manifest&&b.manifest.build,w.manifest&&w.manifest.build),b.manifest=m,b.rebuild=d.rebuild(b.rebuild,w.rebuild),y},d.build=function(f,p){return f&&p?function(g,h){return p(f(g,h),h)}:f||p},d.coerce=function(f,p){return f&&p?{from:f.from&&p.from?[...new Set([...f.from,...p.from])]:null,method(g,h){let y;if((!p.from||p.from.includes(typeof g))&&(y=p.method(g,h),y)){if(y.errors||y.value===void 0)return y;g=y.value}if(!f.from||f.from.includes(typeof g)){const b=f.method(g,h);if(b)return b}return y}}:f||p},d.prepare=function(f,p){return f&&p?function(g,h){const y=f(g,h);if(y){if(y.errors||y.value===void 0)return y;g=y.value}return p(g,h)||y}:f||p},d.rebuild=function(f,p){return f&&p?function(g){p(g),f(g)}:f||p},d.validate=function(f,p){return f&&p?function(g,h){const y=p(g,h);if(y){if(y.errors&&(!Array.isArray(y.errors)||y.errors.length))return y;g=y.value}return f(g,h)||y}:f||p}},5107:(i,o,a)=>{const s=a(375),l=a(8571),c=a(8652),u=a(8160),d=a(3292),f=a(6354),p=a(8901),g=a(9708),h=a(6133),y=a(3328),b=a(1152);let w;const S={types:{alternatives:a(4946),any:a(8068),array:a(546),boolean:a(4937),date:a(7500),function:a(390),link:a(8785),number:a(3832),object:a(8966),string:a(7417),symbol:a(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){const E={_types:new Set(Object.keys(S.types))};for(const _ of E._types)E[_]=function(...m){return s(!m.length||["alternatives","link","object"].includes(_),"The",_,"type does not allow arguments"),S.generate(this,S.types[_],m)};for(const _ of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])E[_]=function(...m){return this.any()[_](...m)};Object.assign(E,S.methods);for(const _ in S.aliases){const m=S.aliases[_];E[_]=E[m]}return E.x=E.expression,b.setup&&b.setup(E),E}};S.methods={ValidationError:f.ValidationError,version:u.version,cache:c.provider,assert(E,_,...m){S.assert(E,_,!0,m)},attempt:(E,_,...m)=>S.assert(E,_,!1,m),build(E){return s(typeof g.build=="function","Manifest functionality disabled"),g.build(this,E)},checkPreferences(E){u.checkPreferences(E)},compile(E,_){return d.compile(this,E,_)},defaults(E){s(typeof E=="function","modifier must be a function");const _=Object.assign({},this);for(const m of _._types){const C=E(_[m]());s(u.isSchema(C),"modifier must return a valid schema object"),_[m]=function(...T){return S.generate(this,C,T)}}return _},expression:(...E)=>new y(...E),extend(...E){u.verifyFlat(E,"extend"),w=w||a(3378),s(E.length,"You need to provide at least one extension"),this.assert(E,w.extensions);const _=Object.assign({},this);_._types=new Set(_._types);for(let m of E){typeof m=="function"&&(m=m(_)),this.assert(m,w.extension);const C=S.expandExtension(m,_);for(const T of C){s(_[T.type]===void 0||_._types.has(T.type),"Cannot override name",T.type);const O=T.base||this.any(),R=p.type(O,T);_._types.add(T.type),_[T.type]=function(...j){return S.generate(this,R,j)}}}return _},isError:f.ValidationError.isError,isExpression:y.isTemplate,isRef:h.isRef,isSchema:u.isSchema,in:(...E)=>h.in(...E),override:u.symbols.override,ref:(...E)=>h.create(...E),types(){const E={};for(const _ of this._types)E[_]=this[_]();for(const _ in S.aliases)E[_]=this[_]();return E}},S.assert=function(E,_,m,C){const T=C[0]instanceof Error||typeof C[0]=="string"?C[0]:null,O=T?C[1]:C[0],R=_.validate(E,u.preferences({errors:{stack:!0}},O||{}));let j=R.error;if(!j)return R.value;if(T instanceof Error)throw T;const D=m&&typeof j.annotate=="function"?j.annotate():j.message;throw j instanceof f.ValidationError==0&&(j=l(j)),j.message=T?"".concat(T," ").concat(D):D,j},S.generate=function(E,_,m){return s(E,"Must be invoked on a Joi instance."),_.$_root=E,_._definition.args&&m.length?_._definition.args(_,...m):_},S.expandExtension=function(E,_){if(typeof E.type=="string")return[E];const m=[];for(const C of _._types)if(E.type.test(C)){const T=Object.assign({},E);T.type=C,T.base=_[C](),m.push(T)}return m},i.exports=S.root()},6914:(i,o,a)=>{const s=a(375),l=a(8571),c=a(3328);o.compile=function(u,d){if(typeof u=="string")return s(!d,"Cannot set single message string"),new c(u);if(c.isTemplate(u))return s(!d,"Cannot set single message template"),u;s(typeof u=="object"&&!Array.isArray(u),"Invalid message options"),d=d?l(d):{};for(let f in u){const p=u[f];if(f==="root"||c.isTemplate(p)){d[f]=p;continue}if(typeof p=="string"){d[f]=new c(p);continue}s(typeof p=="object"&&!Array.isArray(p),"Invalid message for",f);const g=f;for(f in d[g]=d[g]||{},p){const h=p[f];f==="root"||c.isTemplate(h)?d[g][f]=h:(s(typeof h=="string","Invalid message for",f,"in",g),d[g][f]=new c(h))}}return d},o.decompile=function(u){const d={};for(let f in u){const p=u[f];if(f==="root"){d.root=p;continue}if(c.isTemplate(p)){d[f]=p.describe({compact:!0});continue}const g=f;for(f in d[g]={},p){const h=p[f];f!=="root"?d[g][f]=h.describe({compact:!0}):d[g].root=h}}return d},o.merge=function(u,d){if(!u)return o.compile(d);if(!d)return u;if(typeof d=="string")return new c(d);if(c.isTemplate(d))return d;const f=l(u);for(let p in d){const g=d[p];if(p==="root"||c.isTemplate(g)){f[p]=g;continue}if(typeof g=="string"){f[p]=new c(g);continue}s(typeof g=="object"&&!Array.isArray(g),"Invalid message for",p);const h=p;for(p in f[h]=f[h]||{},g){const y=g[p];p==="root"||c.isTemplate(y)?f[h][p]=y:(s(typeof y=="string","Invalid message for",p,"in",h),f[h][p]=new c(y))}}return f}},2294:(i,o,a)=>{function s(g,h){var y=Object.keys(g);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(g);h&&(b=b.filter((function(w){return Object.getOwnPropertyDescriptor(g,w).enumerable}))),y.push.apply(y,b)}return y}function l(g){for(var h=1;h<arguments.length;h++){var y=arguments[h]!=null?arguments[h]:{};h%2?s(Object(y),!0).forEach((function(b){c(g,b,y[b])})):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(y)):s(Object(y)).forEach((function(b){Object.defineProperty(g,b,Object.getOwnPropertyDescriptor(y,b))}))}return g}function c(g,h,y){return h in g?Object.defineProperty(g,h,{value:y,enumerable:!0,configurable:!0,writable:!0}):g[h]=y,g}const u=a(375),d=a(8160),f=a(6133),p={};o.Ids=p.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){const g=new p.Ids;return g._byId=new Map(this._byId),g._byKey=new Map(this._byKey),g._schemaChain=this._schemaChain,g}concat(g){g._schemaChain&&(this._schemaChain=!0);for(const[h,y]of g._byId.entries())u(!this._byKey.has(h),"Schema id conflicts with existing key:",h),this._byId.set(h,y);for(const[h,y]of g._byKey.entries())u(!this._byId.has(h),"Schema key conflicts with existing id:",h),this._byKey.set(h,y)}fork(g,h,y){const b=this._collect(g);b.push({schema:y});const w=b.shift();let S={id:w.id,schema:h(w.schema)};u(d.isSchema(S.schema),"adjuster function failed to return a joi schema type");for(const E of b)S={id:E.id,schema:p.fork(E.schema,S.id,S.schema)};return S.schema}labels(g,h=[]){const y=g[0],b=this._get(y);if(!b)return[...h,...g].join(".");const w=g.slice(1);return h=[...h,b.schema._flags.label||y],w.length?b.schema._ids.labels(w,h):h.join(".")}reach(g,h=[]){const y=g[0],b=this._get(y);u(b,"Schema does not contain path",[...h,...g].join("."));const w=g.slice(1);return w.length?b.schema._ids.reach(w,[...h,y]):b.schema}register(g,{key:h}={}){if(!g||!d.isSchema(g))return;(g.$_property("schemaChain")||g._ids._schemaChain)&&(this._schemaChain=!0);const y=g._flags.id;if(y){const b=this._byId.get(y);u(!b||b.schema===g,"Cannot add different schemas with the same id:",y),u(!this._byKey.has(y),"Schema id conflicts with existing key:",y),this._byId.set(y,{schema:g,id:y})}h&&(u(!this._byKey.has(h),"Schema already contains key:",h),u(!this._byId.has(h),"Schema key conflicts with existing id:",h),this._byKey.set(h,{schema:g,id:h}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(g,h=[],y=[]){const b=g[0],w=this._get(b);u(w,"Schema does not contain path",[...h,...g].join(".")),y=[w,...y];const S=g.slice(1);return S.length?w.schema._ids._collect(S,[...h,b],y):y}_get(g){return this._byId.get(g)||this._byKey.get(g)}},p.fork=function(g,h,y){const b=o.schema(g,{each:(w,{key:S})=>{if(h===(w._flags.id||S))return y},ref:!1});return b?b.$_mutateRebuild():g},o.schema=function(g,h){let y;for(const b in g._flags){if(b[0]==="_")continue;const w=p.scan(g._flags[b],{source:"flags",name:b},h);w!==void 0&&(y=y||g.clone(),y._flags[b]=w)}for(let b=0;b<g._rules.length;++b){const w=g._rules[b],S=p.scan(w.args,{source:"rules",name:w.name},h);if(S!==void 0){y=y||g.clone();const E=Object.assign({},w);E.args=S,y._rules[b]=E,y._singleRules.get(w.name)===w&&y._singleRules.set(w.name,E)}}for(const b in g.$_terms){if(b[0]==="_")continue;const w=p.scan(g.$_terms[b],{source:"terms",name:b},h);w!==void 0&&(y=y||g.clone(),y.$_terms[b]=w)}return y},p.scan=function(g,h,y,b,w){const S=b||[];if(g===null||typeof g!="object")return;let E;if(Array.isArray(g)){for(let _=0;_<g.length;++_){const m=h.source==="terms"&&h.name==="keys"&&g[_].key,C=p.scan(g[_],h,y,[_,...S],m);C!==void 0&&(E=E||g.slice(),E[_]=C)}return E}if(y.schema!==!1&&d.isSchema(g)||y.ref!==!1&&f.isRef(g)){const _=y.each(g,l(l({},h),{},{path:S,key:w}));return _===g?void 0:_}for(const _ in g){if(_[0]==="_")continue;const m=p.scan(g[_],h,y,[_,...S],w);m!==void 0&&(E=E||Object.assign({},g),E[_]=m)}return E}},6133:(i,o,a)=>{function s(y,b){var w=Object.keys(y);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(y);b&&(S=S.filter((function(E){return Object.getOwnPropertyDescriptor(y,E).enumerable}))),w.push.apply(w,S)}return w}function l(y){for(var b=1;b<arguments.length;b++){var w=arguments[b]!=null?arguments[b]:{};b%2?s(Object(w),!0).forEach((function(S){c(y,S,w[S])})):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(w)):s(Object(w)).forEach((function(S){Object.defineProperty(y,S,Object.getOwnPropertyDescriptor(w,S))}))}return y}function c(y,b,w){return b in y?Object.defineProperty(y,b,{value:w,enumerable:!0,configurable:!0,writable:!0}):y[b]=w,y}const u=a(375),d=a(8571),f=a(9621),p=a(8160);let g;const h={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};o.create=function(y,b={}){u(typeof y=="string","Invalid reference key:",y),p.assertOptions(b,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),u(!b.prefix||typeof b.prefix=="object","options.prefix must be of type object");const w=Object.assign({},h.defaults,b);delete w.prefix;const S=w.separator,E=h.context(y,S,b.prefix);if(w.type=E.type,y=E.key,w.type==="value")if(E.root&&(u(!S||y[0]!==S,"Cannot specify relative path with root prefix"),w.ancestor="root",y||(y=null)),S&&S===y)y=null,w.ancestor=0;else if(w.ancestor!==void 0)u(!S||!y||y[0]!==S,"Cannot combine prefix with ancestor option");else{const[_,m]=h.ancestor(y,S);m&&(y=y.slice(m))===""&&(y=null),w.ancestor=_}return w.path=S?y===null?[]:y.split(S):[y],new h.Ref(w)},o.in=function(y,b={}){return o.create(y,l(l({},b),{},{in:!0}))},o.isRef=function(y){return!!y&&!!y[p.symbols.ref]},h.Ref=class{constructor(y){u(typeof y=="object","Invalid reference construction"),p.assertOptions(y,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),u([!1,void 0].includes(y.separator)||typeof y.separator=="string"&&y.separator.length===1,"Invalid separator"),u(!y.adjust||typeof y.adjust=="function","options.adjust must be a function"),u(!y.map||Array.isArray(y.map),"options.map must be an array"),u(!y.map||!y.adjust,"Cannot set both map and adjust options"),Object.assign(this,h.defaults,y),u(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(y,b,w,S,E={}){return u(!this.in||E.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(w.context,b,E):this.type==="local"?this._resolve(S,b,E):this.ancestor?this.ancestor==="root"?this._resolve(b.ancestors[b.ancestors.length-1],b,E):(u(this.ancestor<=b.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(b.ancestors[this.ancestor-1],b,E)):this._resolve(y,b,E)}_resolve(y,b,w){let S;if(this.type==="value"&&b.mainstay.shadow&&w.shadow!==!1&&(S=b.mainstay.shadow.get(this.absolute(b))),S===void 0&&(S=f(y,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(S=this.adjust(S)),this.map){const E=this.map.get(S);E!==void 0&&(S=E)}return b.mainstay&&b.mainstay.tracer.resolve(b,this,S),S}toString(){return this.display}absolute(y){return[...y.path.slice(0,-this.ancestor),...this.path]}clone(){return new h.Ref(this)}describe(){const y={path:this.path};this.type!=="value"&&(y.type=this.type),this.separator!=="."&&(y.separator=this.separator),this.type==="value"&&this.ancestor!==1&&(y.ancestor=this.ancestor),this.map&&(y.map=[...this.map]);for(const b of["adjust","iterables","render"])this[b]!==null&&this[b]!==void 0&&(y[b]=this[b]);return this.in!==!1&&(y.in=!0),{ref:y}}updateDisplay(){const y=this.key!==null?this.key:"";if(this.type!=="value")return void(this.display="ref:".concat(this.type,":").concat(y));if(!this.separator)return void(this.display="ref:".concat(y));if(!this.ancestor)return void(this.display="ref:".concat(this.separator).concat(y));if(this.ancestor==="root")return void(this.display="ref:root:".concat(y));if(this.ancestor===1)return void(this.display="ref:".concat(y||".."));const b=new Array(this.ancestor+1).fill(this.separator).join("");this.display="ref:".concat(b).concat(y||"")}},h.Ref.prototype[p.symbols.ref]=!0,o.build=function(y){return(y=Object.assign({},h.defaults,y)).type==="value"&&y.ancestor===void 0&&(y.ancestor=1),new h.Ref(y)},h.context=function(y,b,w={}){if(y=y.trim(),w){const S=w.global===void 0?"$":w.global;if(S!==b&&y.startsWith(S))return{key:y.slice(S.length),type:"global"};const E=w.local===void 0?"#":w.local;if(E!==b&&y.startsWith(E))return{key:y.slice(E.length),type:"local"};const _=w.root===void 0?"/":w.root;if(_!==b&&y.startsWith(_))return{key:y.slice(_.length),type:"value",root:!0}}return{key:y,type:"value"}},h.ancestor=function(y,b){if(!b)return[1,0];if(y[0]!==b)return[1,0];if(y[1]!==b)return[0,1];let w=2;for(;y[w]===b;)++w;return[w-1,w]},o.toSibling=0,o.toParent=1,o.Manager=class{constructor(){this.refs=[]}register(y,b){if(y)if(b=b===void 0?o.toParent:b,Array.isArray(y))for(const w of y)this.register(w,b);else if(p.isSchema(y))for(const w of y._refs.refs)w.ancestor-b>=0&&this.refs.push({ancestor:w.ancestor-b,root:w.root});else o.isRef(y)&&y.type==="value"&&y.ancestor-b>=0&&this.refs.push({ancestor:y.ancestor-b,root:y.root}),g=g||a(3328),g.isTemplate(y)&&this.register(y.refs(),b)}get length(){return this.refs.length}clone(){const y=new o.Manager;return y.refs=d(this.refs),y}reset(){this.refs=[]}roots(){return this.refs.filter((y=>!y.ancestor)).map((y=>y.root))}}},3378:(i,o,a)=>{const s=a(5107),l={};l.wrap=s.string().min(1).max(2).allow(!1),o.preferences=s.object({allowUnknown:s.boolean(),abortEarly:s.boolean(),artifacts:s.boolean(),cache:s.boolean(),context:s.object(),convert:s.boolean(),dateFormat:s.valid("date","iso","string","time","utc"),debug:s.boolean(),errors:{escapeHtml:s.boolean(),label:s.valid("path","key",!1),language:[s.string(),s.object().ref()],render:s.boolean(),stack:s.boolean(),wrap:{label:l.wrap,array:l.wrap,string:l.wrap}},externals:s.boolean(),messages:s.object(),noDefaults:s.boolean(),nonEnumerables:s.boolean(),presence:s.valid("required","optional","forbidden"),skipFunctions:s.boolean(),stripUnknown:s.object({arrays:s.boolean(),objects:s.boolean()}).or("arrays","objects").allow(!0,!1),warnings:s.boolean()}).strict(),l.nameRx=/^[a-zA-Z0-9]\w*$/,l.rule=s.object({alias:s.array().items(s.string().pattern(l.nameRx)).single(),args:s.array().items(s.string(),s.object({name:s.string().pattern(l.nameRx).required(),ref:s.boolean(),assert:s.alternatives([s.function(),s.object().schema()]).conditional("ref",{is:!0,then:s.required()}),normalize:s.function(),message:s.string().when("assert",{is:s.function(),then:s.required()})})),convert:s.boolean(),manifest:s.boolean(),method:s.function().allow(!1),multi:s.boolean(),validate:s.function()}),o.extension=s.object({type:s.alternatives([s.string(),s.object().regex()]).required(),args:s.function(),cast:s.object().pattern(l.nameRx,s.object({from:s.function().maxArity(1).required(),to:s.function().minArity(1).maxArity(2).required()})),base:s.object().schema().when("type",{is:s.object().regex(),then:s.forbidden()}),coerce:[s.function().maxArity(3),s.object({method:s.function().maxArity(3).required(),from:s.array().items(s.string()).single()})],flags:s.object().pattern(l.nameRx,s.object({setter:s.string(),default:s.any()})),manifest:{build:s.function().arity(2)},messages:[s.object(),s.string()],modifiers:s.object().pattern(l.nameRx,s.function().minArity(1).maxArity(2)),overrides:s.object().pattern(l.nameRx,s.function()),prepare:s.function().maxArity(3),rebuild:s.function().arity(1),rules:s.object().pattern(l.nameRx,l.rule),terms:s.object().pattern(l.nameRx,s.object({init:s.array().allow(null).required(),manifest:s.object().pattern(/.+/,[s.valid("schema","single"),s.object({mapped:s.object({from:s.string().required(),to:s.string().required()}).required()})])})),validate:s.function().maxArity(3)}).strict(),o.extensions=s.array().items(s.object(),s.function().arity(1)).strict(),l.desc={buffer:s.object({buffer:s.string()}),func:s.object({function:s.function().required(),options:{literal:!0}}),override:s.object({override:!0}),ref:s.object({ref:s.object({type:s.valid("value","global","local"),path:s.array().required(),separator:s.string().length(1).allow(!1),ancestor:s.number().min(0).integer().allow("root"),map:s.array().items(s.array().length(2)).min(1),adjust:s.function(),iterables:s.boolean(),in:s.boolean(),render:s.boolean()}).required()}),regex:s.object({regex:s.string().min(3)}),special:s.object({special:s.valid("deep").required()}),template:s.object({template:s.string().required(),options:s.object()}),value:s.object({value:s.alternatives([s.object(),s.array()]).required()})},l.desc.entity=s.alternatives([s.array().items(s.link("...")),s.boolean(),s.function(),s.number(),s.string(),l.desc.buffer,l.desc.func,l.desc.ref,l.desc.regex,l.desc.special,l.desc.template,l.desc.value,s.link("/")]),l.desc.values=s.array().items(null,s.boolean(),s.function(),s.number().allow(1/0,-1/0),s.string().allow(""),s.symbol(),l.desc.buffer,l.desc.func,l.desc.override,l.desc.ref,l.desc.regex,l.desc.template,l.desc.value),l.desc.messages=s.object().pattern(/.+/,[s.string(),l.desc.template,s.object().pattern(/.+/,[s.string(),l.desc.template])]),o.description=s.object({type:s.string().required(),flags:s.object({cast:s.string(),default:s.any(),description:s.string(),empty:s.link("/"),failover:l.desc.entity,id:s.string(),label:s.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:s.boolean(),unit:s.string()}).unknown(),preferences:{allowUnknown:s.boolean(),abortEarly:s.boolean(),artifacts:s.boolean(),cache:s.boolean(),convert:s.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:s.boolean(),label:["path","key"],language:[s.string(),l.desc.ref],wrap:{label:l.wrap,array:l.wrap}},externals:s.boolean(),messages:l.desc.messages,noDefaults:s.boolean(),nonEnumerables:s.boolean(),presence:["required","optional","forbidden"],skipFunctions:s.boolean(),stripUnknown:s.object({arrays:s.boolean(),objects:s.boolean()}).or("arrays","objects").allow(!0,!1),warnings:s.boolean()},allow:l.desc.values,invalid:l.desc.values,rules:s.array().min(1).items({name:s.string().required(),args:s.object().min(1),keep:s.boolean(),message:[s.string(),l.desc.messages],warn:s.boolean()}),keys:s.object().pattern(/.*/,s.link("/")),link:l.desc.ref}).pattern(/^[a-z]\w*$/,s.any())},493:(i,o,a)=>{const s=a(8571),l=a(9621),c=a(8160),u={value:Symbol("value")};i.exports=u.State=class{constructor(d,f,p){this.path=d,this.ancestors=f,this.mainstay=p.mainstay,this.schemas=p.schemas,this.debug=null}localize(d,f=null,p=null){const g=new u.State(d,f,this);return p&&g.schemas&&(g.schemas=[u.schemas(p),...g.schemas]),g}nest(d,f){const p=new u.State(this.path,this.ancestors,this);return p.schemas=p.schemas&&[u.schemas(d),...p.schemas],p.debug=f,p}shadow(d,f){this.mainstay.shadow=this.mainstay.shadow||new u.Shadow,this.mainstay.shadow.set(this.path,d,f)}snapshot(){this.mainstay.shadow&&(this._snapshot=s(this.mainstay.shadow.node(this.path)))}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0)}},u.schemas=function(d){return c.isSchema(d)?{schema:d}:d},u.Shadow=class{constructor(){this._values=null}set(d,f,p){if(!d.length||p==="strip"&&typeof d[d.length-1]=="number")return;this._values=this._values||new Map;let g=this._values;for(let h=0;h<d.length;++h){const y=d[h];let b=g.get(y);b||(b=new Map,g.set(y,b)),g=b}g[u.value]=f}get(d){const f=this.node(d);if(f)return f[u.value]}node(d){if(this._values)return l(this._values,d,{iterables:!0})}override(d,f){if(!this._values)return;const p=d.slice(0,-1),g=d[d.length-1],h=l(this._values,p,{iterables:!0});f?h.set(g,f):h&&h.delete(g)}}},3328:(i,o,a)=>{function s(w,S){var E=Object.keys(w);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(w);S&&(_=_.filter((function(m){return Object.getOwnPropertyDescriptor(w,m).enumerable}))),E.push.apply(E,_)}return E}function l(w){for(var S=1;S<arguments.length;S++){var E=arguments[S]!=null?arguments[S]:{};S%2?s(Object(E),!0).forEach((function(_){c(w,_,E[_])})):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(E)):s(Object(E)).forEach((function(_){Object.defineProperty(w,_,Object.getOwnPropertyDescriptor(E,_))}))}return w}function c(w,S,E){return S in w?Object.defineProperty(w,S,{value:E,enumerable:!0,configurable:!0,writable:!0}):w[S]=E,w}const u=a(375),d=a(8571),f=a(5277),p=a(1447),g=a(8160),h=a(6354),y=a(6133),b={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};i.exports=b.Template=class{constructor(w,S){u(typeof w=="string","Template source must be a string"),u(!w.includes("\0")&&!w.includes(""),"Template source cannot contain reserved control characters"),this.source=w,this.rendered=w,this._template=null,this._settings=d(S),this._parse()}_parse(){if(!this.source.includes("{"))return;const w=b.encode(this.source),S=b.split(w);let E=!1;const _=[],m=S.shift();m&&_.push(m);for(const C of S){const T=C[0]!=="{",O=T?"}":"}}",R=C.indexOf(O);if(R===-1||C[1]==="{"){_.push("{".concat(b.decode(C)));continue}let j=C.slice(T?0:1,R);const D=j[0]===":";D&&(j=j.slice(1));const L=this._ref(b.decode(j),{raw:T,wrapped:D});_.push(L),typeof L!="string"&&(E=!0);const V=C.slice(R+O.length);V&&_.push(b.decode(V))}E?this._template=_:this.rendered=_.join("")}static date(w,S){return b.dateFormat[S.dateFormat].call(w)}describe(w={}){if(!this._settings&&w.compact)return this.source;const S={template:this.source};return this._settings&&(S.options=this._settings),S}static build(w){return new b.Template(w.template,w.options)}isDynamic(){return!!this._template}static isTemplate(w){return!!w&&!!w[g.symbols.template]}refs(){if(!this._template)return;const w=[];for(const S of this._template)typeof S!="string"&&w.push(...S.refs);return w}resolve(w,S,E,_){return this._template&&this._template.length===1?this._part(this._template[0],w,S,E,_,{}):this.render(w,S,E,_)}_part(w,...S){return w.ref?w.ref.resolve(...S):w.formula.evaluate(S)}render(w,S,E,_,m={}){if(!this.isDynamic())return this.rendered;const C=[];for(const T of this._template)if(typeof T=="string")C.push(T);else{const O=this._part(T,w,S,E,_,m),R=b.stringify(O,w,S,E,_,m);if(R!==void 0){const j=T.raw||(m.errors&&m.errors.escapeHtml)===!1?R:f(R);C.push(b.wrap(j,T.wrapped&&E.errors.wrap.label))}}return C.join("")}_ref(w,{raw:S,wrapped:E}){const _=[],m=T=>{const O=y.create(T,this._settings);return _.push(O),R=>O.resolve(...R)};try{var C=new p.Parser(w,{reference:m,functions:b.functions,constants:b.constants})}catch(T){throw T.message='Invalid template variable "'.concat(w,'" fails due to: ').concat(T.message),T}if(C.single){if(C.single.type==="reference"){const T=_[0];return{ref:T,raw:S,refs:_,wrapped:E||T.type==="local"&&T.key==="label"}}return b.stringify(C.single.value)}return{formula:C,raw:S,refs:_}}toString(){return this.source}},b.Template.prototype[g.symbols.template]=!0,b.Template.prototype.isImmutable=!0,b.encode=function(w){return w.replace(/\\(\{+)/g,((S,E)=>b.opens.slice(0,E.length))).replace(/\\(\}+)/g,((S,E)=>b.closes.slice(0,E.length)))},b.decode=function(w){return w.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},b.split=function(w){const S=[];let E="";for(let _=0;_<w.length;++_){const m=w[_];if(m==="{"){let C="";for(;_+1<w.length&&w[_+1]==="{";)C+="{",++_;S.push(E),E=C}else E+=m}return S.push(E),S},b.wrap=function(w,S){return S?S.length===1?"".concat(S).concat(w).concat(S):"".concat(S[0]).concat(w).concat(S[1]):w},b.stringify=function(w,S,E,_,m,C={}){const T=typeof w,O=_&&_.errors&&_.errors.wrap||{};let R=!1;if(y.isRef(w)&&w.render&&(R=w.in,w=w.resolve(S,E,_,m,l({in:w.in},C))),w===null)return"null";if(T==="string")return b.wrap(w,C.arrayItems&&O.string);if(T==="number"||T==="function"||T==="symbol")return w.toString();if(T!=="object")return JSON.stringify(w);if(w instanceof Date)return b.Template.date(w,_);if(w instanceof Map){const D=[];for(const[L,V]of w.entries())D.push("".concat(L.toString()," -> ").concat(V.toString()));w=D}if(!Array.isArray(w))return w.toString();const j=[];for(const D of w)j.push(b.stringify(D,S,E,_,m,l({arrayItems:!0},C)));return b.wrap(j.join(", "),!R&&O.array)},b.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},b.functions={if:(w,S,E)=>w?S:E,msg(w){const[S,E,_,m,C]=this,T=C.messages;if(!T)return"";const O=h.template(S,T[0],w,E,_)||h.template(S,T[1],w,E,_);return O?O.render(S,E,_,m,C):""},number:w=>typeof w=="number"?w:typeof w=="string"?parseFloat(w):typeof w=="boolean"?w?1:0:w instanceof Date?w.getTime():null}},4946:(i,o,a)=>{const s=a(375),l=a(1687),c=a(8068),u=a(8160),d=a(3292),f=a(6354),p=a(6133),g={};i.exports=c.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:p.toSibling}},args:(h,...y)=>y.length===1&&Array.isArray(y[0])?h.try(...y[0]):h.try(...y),validate(h,y){const{schema:b,error:w,state:S,prefs:E}=y;if(b._flags.match){const m=[],C=[];for(let O=0;O<b.$_terms.matches.length;++O){const R=b.$_terms.matches[O],j=S.nest(R.schema,"match.".concat(O));j.snapshot();const D=R.schema.$_validate(h,j,E);D.errors?(C.push(D.errors),j.restore()):m.push(D.value)}if(m.length===0)return{errors:w("alternatives.any",{details:C.map((O=>f.details(O,{override:!1})))})};if(b._flags.match==="one")return m.length===1?{value:m[0]}:{errors:w("alternatives.one")};if(m.length!==b.$_terms.matches.length)return{errors:w("alternatives.all",{details:C.map((O=>f.details(O,{override:!1})))})};const T=O=>O.$_terms.matches.some((R=>R.schema.type==="object"||R.schema.type==="alternatives"&&T(R.schema)));return T(b)?{value:m.reduce(((O,R)=>l(O,R,{mergeArrays:!1})))}:{value:m[m.length-1]}}const _=[];for(let m=0;m<b.$_terms.matches.length;++m){const C=b.$_terms.matches[m];if(C.schema){const R=S.nest(C.schema,"match.".concat(m));R.snapshot();const j=C.schema.$_validate(h,R,E);if(!j.errors)return j;R.restore(),_.push({schema:C.schema,reports:j.errors});continue}const T=C.ref?C.ref.resolve(h,S,E):h,O=C.is?[C]:C.switch;for(let R=0;R<O.length;++R){const j=O[R],{is:D,then:L,otherwise:V}=j,z="match.".concat(m).concat(C.switch?"."+R:"");if(D.$_match(T,S.nest(D,"".concat(z,".is")),E)){if(L)return L.$_validate(h,S.nest(L,"".concat(z,".then")),E)}else if(V)return V.$_validate(h,S.nest(V,"".concat(z,".otherwise")),E)}}return g.errors(_,y)},rules:{conditional:{method(h,y){s(!this._flags._endedSwitch,"Unreachable condition"),s(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),s(y.break===void 0,"Cannot use break option with alternatives conditional");const b=this.clone(),w=d.when(b,h,y),S=w.is?[w]:w.switch;for(const E of S)if(E.then&&E.otherwise){b.$_setFlag("_endedSwitch",!0,{clone:!1});break}return b.$_terms.matches.push(w),b.$_mutateRebuild()}},match:{method(h){if(s(["any","one","all"].includes(h),"Invalid alternatives match mode",h),h!=="any")for(const y of this.$_terms.matches)s(y.schema,"Cannot combine match mode",h,"with conditional rules");return this.$_setFlag("match",h)}},try:{method(...h){s(h.length,"Missing alternative schemas"),u.verifyFlat(h,"try"),s(!this._flags._endedSwitch,"Unreachable condition");const y=this.clone();for(const b of h)y.$_terms.matches.push({schema:y.$_compile(b)});return y.$_mutateRebuild()}}},overrides:{label(h){return this.$_parent("label",h).$_modify({each:(y,b)=>b.path[0]!=="is"?y.label(h):void 0,ref:!1})}},rebuild(h){h.$_modify({each:y=>{u.isSchema(y)&&y.type==="array"&&h.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(h,y){if(y.matches)for(const b of y.matches){const{schema:w,ref:S,is:E,not:_,then:m,otherwise:C}=b;h=w?h.try(w):S?h.conditional(S,{is:E,then:m,not:_,otherwise:C,switch:b.switch}):h.conditional(E,{then:m,otherwise:C})}return h}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),g.errors=function(h,{error:y,state:b}){if(!h.length)return{errors:y("alternatives.any")};if(h.length===1)return{errors:h[0].reports};const w=new Set,S=[];for(const{reports:E,schema:_}of h){if(E.length>1)return g.unmatched(h,y);const m=E[0];if(m instanceof f.Report==0)return g.unmatched(h,y);if(m.state.path.length!==b.path.length){S.push({type:_.type,report:m});continue}if(m.code==="any.only"){for(const O of m.local.valids)w.add(O);continue}const[C,T]=m.code.split(".");T==="base"?w.add(C):S.push({type:_.type,report:m})}return S.length?S.length===1?{errors:S[0].report}:g.unmatched(h,y):{errors:y("alternatives.types",{types:[...w]})}},g.unmatched=function(h,y){const b=[];for(const w of h)b.push(...w.reports);return{errors:y("alternatives.match",f.details(b,{override:!1}))}}},8068:(i,o,a)=>{const s=a(375),l=a(7629),c=a(8160),u=a(6914);i.exports=l.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(d,f){return s(typeof d=="function","Method must be a function"),s(f===void 0||f&&typeof f=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:d,description:f}})},validate(d,f,{method:p}){try{return p(d,f)}catch(g){return f.error("any.custom",{error:g})}},args:["method","description"],multi:!0},messages:{method(d){return this.prefs({messages:d})}},shared:{method(d){s(c.isSchema(d)&&d._flags.id,"Schema must be a schema with an id");const f=this.clone();return f.$_terms.shared=f.$_terms.shared||[],f.$_terms.shared.push(d),f.$_mutateRegister(d),f}},warning:{method(d,f){return s(d&&typeof d=="string","Invalid warning code"),this.$_addRule({name:"warning",args:{code:d,local:f},warn:!0})},validate:(d,f,{code:p,local:g})=>f.error(p,g),args:["code","local"],multi:!0}},modifiers:{keep(d,f=!0){d.keep=f},message(d,f){d.message=u.compile(f)},warn(d,f=!0){d.warn=f}},manifest:{build(d,f){for(const p in f){const g=f[p];if(["examples","externals","metas","notes","tags"].includes(p))for(const h of g)d=d[p.slice(0,-1)](h);else if(p!=="alterations")if(p!=="whens"){if(p==="shared")for(const h of g)d=d.shared(h)}else for(const h of g){const{ref:y,is:b,not:w,then:S,otherwise:E,concat:_}=h;d=_?d.concat(_):y?d.when(y,{is:b,not:w,then:S,otherwise:E,switch:h.switch,break:h.break}):d.when(b,{then:S,otherwise:E,break:h.break})}else{const h={};for(const{target:y,adjuster:b}of g)h[y]=b;d=d.alter(h)}}return d}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:(i,o,a)=>{const s=a(375),l=a(9474),c=a(9621),u=a(8068),d=a(8160),f=a(3292),p={};i.exports=u.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(g,{schema:h,state:y,prefs:b}){if(!Array.isArray(g))return;const w=h.$_getRule("sort");return w?p.sort(h,g,w.args.options,y,b):void 0}},validate(g,{schema:h,error:y}){if(!Array.isArray(g)){if(h._flags.single){const b=[g];return b[d.symbols.arraySingle]=!0,{value:b}}return{errors:y("array.base")}}if(h.$_getRule("items")||h.$_terms.externals)return{value:g.slice()}},rules:{has:{method(g){g=this.$_compile(g,{appendPath:!0});const h=this.$_addRule({name:"has",args:{schema:g}});return h.$_mutateRegister(g),h},validate(g,{state:h,prefs:y,error:b},{schema:w}){const S=[g,...h.ancestors];for(let _=0;_<g.length;++_){const m=h.localize([...h.path,_],S,w);if(w.$_match(g[_],m,y))return g}const E=w._flags.label;return E?b("array.hasKnown",{patternLabel:E}):b("array.hasUnknown",null)},multi:!0},items:{method(...g){d.verifyFlat(g,"items");const h=this.$_addRule("items");for(let y=0;y<g.length;++y){const b=d.tryWithPath((()=>this.$_compile(g[y])),y,{append:!0});h.$_terms.items.push(b)}return h.$_mutateRebuild()},validate(g,{schema:h,error:y,state:b,prefs:w,errorsArray:S}){const E=h.$_terms._requireds.slice(),_=h.$_terms.ordered.slice(),m=[...h.$_terms._inclusions,...E],C=!g[d.symbols.arraySingle];delete g[d.symbols.arraySingle];const T=S();let O=g.length;for(let R=0;R<O;++R){const j=g[R];let D=!1,L=!1;const V=C?R:new Number(R),z=[...b.path,V];if(!h._flags.sparse&&j===void 0){if(T.push(y("array.sparse",{key:V,path:z,pos:R,value:void 0},b.localize(z))),w.abortEarly)return T;_.shift();continue}const B=[g,...b.ancestors];for(const q of h.$_terms._exclusions)if(q.$_match(j,b.localize(z,B,q),w,{presence:"ignore"})){if(T.push(y("array.excludes",{pos:R,value:j},b.localize(z))),w.abortEarly)return T;D=!0,_.shift();break}if(D)continue;if(h.$_terms.ordered.length){if(_.length){const q=_.shift(),ee=q.$_validate(j,b.localize(z,B,q),w);if(ee.errors){if(T.push(...ee.errors),w.abortEarly)return T}else if(q._flags.result==="strip")p.fastSplice(g,R),--R,--O;else{if(!h._flags.sparse&&ee.value===void 0){if(T.push(y("array.sparse",{key:V,path:z,pos:R,value:void 0},b.localize(z))),w.abortEarly)return T;continue}g[R]=ee.value}continue}if(!h.$_terms.items.length){if(T.push(y("array.orderedLength",{pos:R,limit:h.$_terms.ordered.length})),w.abortEarly)return T;break}}const H=[];let J=E.length;for(let q=0;q<J;++q){const ee=b.localize(z,B,E[q]);ee.snapshot();const te=E[q].$_validate(j,ee,w);if(H[q]=te,!te.errors){if(g[R]=te.value,L=!0,p.fastSplice(E,q),--q,--J,!h._flags.sparse&&te.value===void 0&&(T.push(y("array.sparse",{key:V,path:z,pos:R,value:void 0},b.localize(z))),w.abortEarly))return T;break}ee.restore()}if(L)continue;const ne=w.stripUnknown&&!!w.stripUnknown.arrays||!1;J=m.length;for(const q of m){let ee;const te=E.indexOf(q);if(te!==-1)ee=H[te];else{const $=b.localize(z,B,q);if($.snapshot(),ee=q.$_validate(j,$,w),!ee.errors){q._flags.result==="strip"?(p.fastSplice(g,R),--R,--O):h._flags.sparse||ee.value!==void 0?g[R]=ee.value:(T.push(y("array.sparse",{key:V,path:z,pos:R,value:void 0},b.localize(z))),D=!0),L=!0;break}$.restore()}if(J===1){if(ne){p.fastSplice(g,R),--R,--O,L=!0;break}if(T.push(...ee.errors),w.abortEarly)return T;D=!0;break}}if(!D&&(h.$_terms._inclusions.length||h.$_terms._requireds.length)&&!L){if(ne){p.fastSplice(g,R),--R,--O;continue}if(T.push(y("array.includes",{pos:R,value:j},b.localize(z))),w.abortEarly)return T}}return E.length&&p.fillMissedErrors(h,T,E,g,b,w),_.length&&(p.fillOrderedErrors(h,T,_,g,b,w),T.length||p.fillDefault(_,g,b,w)),T.length?T:g},priority:!0,manifest:!1},length:{method(g){return this.$_addRule({name:"length",args:{limit:g},operator:"="})},validate:(g,h,{limit:y},{name:b,operator:w,args:S})=>d.compare(g.length,y,w)?g:h.error("array."+b,{limit:S.limit,value:g}),args:[{name:"limit",ref:!0,assert:d.limit,message:"must be a positive integer"}]},max:{method(g){return this.$_addRule({name:"max",method:"length",args:{limit:g},operator:"<="})}},min:{method(g){return this.$_addRule({name:"min",method:"length",args:{limit:g},operator:">="})}},ordered:{method(...g){d.verifyFlat(g,"ordered");const h=this.$_addRule("items");for(let y=0;y<g.length;++y){const b=d.tryWithPath((()=>this.$_compile(g[y])),y,{append:!0});p.validateSingle(b,h),h.$_mutateRegister(b),h.$_terms.ordered.push(b)}return h.$_mutateRebuild()}},single:{method(g){const h=g===void 0||!!g;return s(!h||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",h)}},sort:{method(g={}){d.assertOptions(g,["by","order"]);const h={order:g.order||"ascending"};return g.by&&(h.by=f.ref(g.by,{ancestor:0}),s(!h.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:h}})},validate(g,{error:h,state:y,prefs:b,schema:w},{options:S}){const{value:E,errors:_}=p.sort(w,g,S,y,b);if(_)return _;for(let m=0;m<g.length;++m)if(g[m]!==E[m])return h("array.sort",{order:S.order,by:S.by?S.by.key:"value"});return g},convert:!0},sparse:{method(g){const h=g===void 0||!!g;return this._flags.sparse===h?this:(h?this.clone():this.$_addRule("items")).$_setFlag("sparse",h,{clone:!1})}},unique:{method(g,h={}){s(!g||typeof g=="function"||typeof g=="string","comparator must be a function or a string"),d.assertOptions(h,["ignoreUndefined","separator"]);const y={name:"unique",args:{options:h,comparator:g}};if(g)if(typeof g=="string"){const b=d.default(h.separator,".");y.path=b?g.split(b):[g]}else y.comparator=g;return this.$_addRule(y)},validate(g,{state:h,error:y,schema:b},{comparator:w,options:S},{comparator:E,path:_}){const m={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},C=E||l,T=S.ignoreUndefined;for(let O=0;O<g.length;++O){const R=_?c(g[O],_):g[O],j=E?m.custom:m[typeof R];if(s(j,"Failed to find unique map container for type",typeof R),j instanceof Map){const D=j.entries();let L;for(;!(L=D.next()).done;)if(C(L.value[0],R)){const V=h.localize([...h.path,O],[g,...h.ancestors]),z={pos:O,value:g[O],dupePos:L.value[1],dupeValue:g[L.value[1]]};return _&&(z.path=w),y("array.unique",z,V)}j.set(R,O)}else{if((!T||R!==void 0)&&j[R]!==void 0){const D={pos:O,value:g[O],dupePos:j[R],dupeValue:g[j[R]]};return _&&(D.path=w),y("array.unique",D,h.localize([...h.path,O],[g,...h.ancestors]))}j[R]=O}}return g},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(g,h)=>new Set(g)}},rebuild(g){g.$_terms._inclusions=[],g.$_terms._exclusions=[],g.$_terms._requireds=[];for(const h of g.$_terms.items)p.validateSingle(h,g),h._flags.presence==="required"?g.$_terms._requireds.push(h):h._flags.presence==="forbidden"?g.$_terms._exclusions.push(h):g.$_terms._inclusions.push(h);for(const h of g.$_terms.ordered)p.validateSingle(h,g)},manifest:{build:(g,h)=>(h.items&&(g=g.items(...h.items)),h.ordered&&(g=g.ordered(...h.ordered)),g)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),p.fillMissedErrors=function(g,h,y,b,w,S){const E=[];let _=0;for(const m of y){const C=m._flags.label;C?E.push(C):++_}E.length?_?h.push(g.$_createError("array.includesRequiredBoth",b,{knownMisses:E,unknownMisses:_},w,S)):h.push(g.$_createError("array.includesRequiredKnowns",b,{knownMisses:E},w,S)):h.push(g.$_createError("array.includesRequiredUnknowns",b,{unknownMisses:_},w,S))},p.fillOrderedErrors=function(g,h,y,b,w,S){const E=[];for(const _ of y)_._flags.presence==="required"&&E.push(_);E.length&&p.fillMissedErrors(g,h,E,b,w,S)},p.fillDefault=function(g,h,y,b){const w=[];let S=!0;for(let E=g.length-1;E>=0;--E){const _=g[E],m=[h,...y.ancestors],C=_.$_validate(void 0,y.localize(y.path,m,_),b).value;if(S){if(C===void 0)continue;S=!1}w.unshift(C)}w.length&&h.push(...w)},p.fastSplice=function(g,h){let y=h;for(;y<g.length;)g[y++]=g[y];--g.length},p.validateSingle=function(g,h){(g.type==="array"||g._flags._arrayItems)&&(s(!h._flags.single,"Cannot specify array item with single rule enabled"),h.$_setFlag("_arrayItems",!0,{clone:!1}))},p.sort=function(g,h,y,b,w){const S=y.order==="ascending"?1:-1,E=-1*S,_=S,m=(C,T)=>{let O=p.compare(C,T,E,_);if(O!==null||(y.by&&(C=y.by.resolve(C,b,w),T=y.by.resolve(T,b,w)),O=p.compare(C,T,E,_),O!==null))return O;const R=typeof C;if(R!==typeof T)throw g.$_createError("array.sort.mismatching",h,null,b,w);if(R!=="number"&&R!=="string")throw g.$_createError("array.sort.unsupported",h,{type:R},b,w);return R==="number"?(C-T)*S:C<T?E:_};try{return{value:h.slice().sort(m)}}catch(C){return{errors:C}}},p.compare=function(g,h,y,b){return g===h?0:g===void 0?1:h===void 0?-1:g===null?b:h===null?y:null}},4937:(i,o,a)=>{const s=a(375),l=a(8068),c=a(8160),u=a(2036),d={isBool:function(f){return typeof f=="boolean"}};i.exports=l.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(f,{schema:p}){if(typeof f!="boolean"){if(typeof f=="string"){const g=p._flags.sensitive?f:f.toLowerCase();f=g==="true"||g!=="false"&&f}return typeof f!="boolean"&&(f=p.$_terms.truthy&&p.$_terms.truthy.has(f,null,null,!p._flags.sensitive)||(!p.$_terms.falsy||!p.$_terms.falsy.has(f,null,null,!p._flags.sensitive))&&f),{value:f}}},validate(f,{error:p}){if(typeof f!="boolean")return{value:f,errors:p("boolean.base")}},rules:{truthy:{method(...f){c.verifyFlat(f,"truthy");const p=this.clone();p.$_terms.truthy=p.$_terms.truthy||new u;for(let g=0;g<f.length;++g){const h=f[g];s(h!==void 0,"Cannot call truthy with undefined"),p.$_terms.truthy.add(h)}return p}},falsy:{method(...f){c.verifyFlat(f,"falsy");const p=this.clone();p.$_terms.falsy=p.$_terms.falsy||new u;for(let g=0;g<f.length;++g){const h=f[g];s(h!==void 0,"Cannot call falsy with undefined"),p.$_terms.falsy.add(h)}return p}},sensitive:{method(f=!0){return this.$_setFlag("sensitive",f)}}},cast:{number:{from:d.isBool,to:(f,p)=>f?1:0},string:{from:d.isBool,to:(f,p)=>f?"true":"false"}},manifest:{build:(f,p)=>(p.truthy&&(f=f.truthy(...p.truthy)),p.falsy&&(f=f.falsy(...p.falsy)),f)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:(i,o,a)=>{const s=a(375),l=a(8068),c=a(8160),u=a(3328),d={isDate:function(f){return f instanceof Date}};i.exports=l.extend({type:"date",coerce:{from:["number","string"],method:(f,{schema:p})=>({value:d.parse(f,p._flags.format)||f})},validate(f,{schema:p,error:g,prefs:h}){if(f instanceof Date&&!isNaN(f.getTime()))return;const y=p._flags.format;return h.convert&&y&&typeof f=="string"?{value:f,errors:g("date.format",{format:y})}:{value:f,errors:g("date.base")}},rules:{compare:{method:!1,validate(f,p,{date:g},{name:h,operator:y,args:b}){const w=g==="now"?Date.now():g.getTime();return c.compare(f.getTime(),w,y)?f:p.error("date."+h,{limit:b.date,value:f})},args:[{name:"date",ref:!0,normalize:f=>f==="now"?f:d.parse(f),assert:f=>f!==null,message:"must have a valid date format"}]},format:{method(f){return s(["iso","javascript","unix"].includes(f),"Unknown date format",f),this.$_setFlag("format",f)}},greater:{method(f){return this.$_addRule({name:"greater",method:"compare",args:{date:f},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(f){return this.$_addRule({name:"less",method:"compare",args:{date:f},operator:"<"})}},max:{method(f){return this.$_addRule({name:"max",method:"compare",args:{date:f},operator:"<="})}},min:{method(f){return this.$_addRule({name:"min",method:"compare",args:{date:f},operator:">="})}},timestamp:{method(f="javascript"){return s(["javascript","unix"].includes(f),'"type" must be one of "javascript, unix"'),this.format(f)}}},cast:{number:{from:d.isDate,to:(f,p)=>f.getTime()},string:{from:d.isDate,to:(f,{prefs:p})=>u.date(f,p)}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),d.parse=function(f,p){if(f instanceof Date)return f;if(typeof f!="string"&&(isNaN(f)||!isFinite(f))||/^\s*$/.test(f))return null;if(p==="iso")return c.isIsoDate(f)?d.date(f.toString()):null;const g=f;if(typeof f=="string"&&/^[+-]?\d+(\.\d+)?$/.test(f)&&(f=parseFloat(f)),p){if(p==="javascript")return d.date(1*f);if(p==="unix")return d.date(1e3*f);if(typeof g=="string")return null}return d.date(f)},d.date=function(f){const p=new Date(f);return isNaN(p.getTime())?null:p}},390:(i,o,a)=>{const s=a(375),l=a(7824);i.exports=l.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(c){return s(Number.isSafeInteger(c)&&c>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:c}})},validate:(c,u,{n:d})=>c.length===d?c:u.error("function.arity",{n:d})},class:{method(){return this.$_addRule("class")},validate:(c,u)=>/^\s*class\s/.test(c.toString())?c:u.error("function.class",{value:c})},minArity:{method(c){return s(Number.isSafeInteger(c)&&c>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:c}})},validate:(c,u,{n:d})=>c.length>=d?c:u.error("function.minArity",{n:d})},maxArity:{method(c){return s(Number.isSafeInteger(c)&&c>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:c}})},validate:(c,u,{n:d})=>c.length<=d?c:u.error("function.maxArity",{n:d})}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:(i,o,a)=>{const s=a(978),l=a(375),c=a(8571),u=a(3652),d=a(8068),f=a(8160),p=a(3292),g=a(6354),h=a(6133),y=a(3328),b={renameDefaults:{alias:!1,multiple:!1,override:!1}};i.exports=d.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:!1}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(w,S)=>w.keys(S),validate(w,{schema:S,error:E,state:_,prefs:m}){if(!w||typeof w!==S.$_property("typeof")||Array.isArray(w))return{value:w,errors:E("object.base",{type:S.$_property("typeof")})};if(!(S.$_terms.renames||S.$_terms.dependencies||S.$_terms.keys||S.$_terms.patterns||S.$_terms.externals))return;w=b.clone(w,m);const C=[];if(S.$_terms.renames&&!b.rename(S,w,_,m,C))return{value:w,errors:C};if(!S.$_terms.keys&&!S.$_terms.patterns&&!S.$_terms.dependencies)return{value:w,errors:C};const T=new Set(Object.keys(w));if(S.$_terms.keys){const O=[w,..._.ancestors];for(const R of S.$_terms.keys){const j=R.key,D=w[j];T.delete(j);const L=_.localize([..._.path,j],O,R),V=R.schema.$_validate(D,L,m);if(V.errors){if(m.abortEarly)return{value:w,errors:V.errors};V.value!==void 0&&(w[j]=V.value),C.push(...V.errors)}else R.schema._flags.result==="strip"||V.value===void 0&&D!==void 0?delete w[j]:V.value!==void 0&&(w[j]=V.value)}}if(T.size||S._flags._hasPatternMatch){const O=b.unknown(S,w,T,C,_,m);if(O)return O}if(S.$_terms.dependencies)for(const O of S.$_terms.dependencies){if(O.key&&O.key.resolve(w,_,m,null,{shadow:!1})===void 0)continue;const R=b.dependencies[O.rel](S,O,w,_,m);if(R){const j=S.$_createError(R.code,w,R.context,_,m);if(m.abortEarly)return{value:w,errors:j};C.push(j)}}return{value:w,errors:C}},rules:{and:{method(...w){return f.verifyFlat(w,"and"),b.dependency(this,"and",null,w)}},append:{method(w){return w==null||Object.keys(w).length===0?this:this.keys(w)}},assert:{method(w,S,E){y.isTemplate(w)||(w=p.ref(w)),l(E===void 0||typeof E=="string","Message must be a string"),S=this.$_compile(S,{appendPath:!0});const _=this.$_addRule({name:"assert",args:{subject:w,schema:S,message:E}});return _.$_mutateRegister(w),_.$_mutateRegister(S),_},validate(w,{error:S,prefs:E,state:_},{subject:m,schema:C,message:T}){const O=m.resolve(w,_,E),R=h.isRef(m)?m.absolute(_):[];return C.$_match(O,_.localize(R,[w,..._.ancestors],C),E)?w:S("object.assert",{subject:m,message:T})},args:["subject","schema","message"],multi:!0},instance:{method(w,S){return l(typeof w=="function","constructor must be a function"),S=S||w.name,this.$_addRule({name:"instance",args:{constructor:w,name:S}})},validate:(w,S,{constructor:E,name:_})=>w instanceof E?w:S.error("object.instance",{type:_,value:w}),args:["constructor","name"]},keys:{method(w){l(w===void 0||typeof w=="object","Object schema must be a valid object"),l(!f.isSchema(w),"Object schema cannot be a joi schema");const S=this.clone();if(w)if(Object.keys(w).length){S.$_terms.keys=S.$_terms.keys?S.$_terms.keys.filter((E=>!w.hasOwnProperty(E.key))):new b.Keys;for(const E in w)f.tryWithPath((()=>S.$_terms.keys.push({key:E,schema:this.$_compile(w[E])})),E)}else S.$_terms.keys=new b.Keys;else S.$_terms.keys=null;return S.$_mutateRebuild()}},length:{method(w){return this.$_addRule({name:"length",args:{limit:w},operator:"="})},validate:(w,S,{limit:E},{name:_,operator:m,args:C})=>f.compare(Object.keys(w).length,E,m)?w:S.error("object."+_,{limit:C.limit,value:w}),args:[{name:"limit",ref:!0,assert:f.limit,message:"must be a positive integer"}]},max:{method(w){return this.$_addRule({name:"max",method:"length",args:{limit:w},operator:"<="})}},min:{method(w){return this.$_addRule({name:"min",method:"length",args:{limit:w},operator:">="})}},nand:{method(...w){return f.verifyFlat(w,"nand"),b.dependency(this,"nand",null,w)}},or:{method(...w){return f.verifyFlat(w,"or"),b.dependency(this,"or",null,w)}},oxor:{method(...w){return b.dependency(this,"oxor",null,w)}},pattern:{method(w,S,E={}){const _=w instanceof RegExp;_||(w=this.$_compile(w,{appendPath:!0})),l(S!==void 0,"Invalid rule"),f.assertOptions(E,["fallthrough","matches"]),_&&l(!w.flags.includes("g")&&!w.flags.includes("y"),"pattern should not use global or sticky mode"),S=this.$_compile(S,{appendPath:!0});const m=this.clone();m.$_terms.patterns=m.$_terms.patterns||[];const C={[_?"regex":"schema"]:w,rule:S};return E.matches&&(C.matches=this.$_compile(E.matches),C.matches.type!=="array"&&(C.matches=C.matches.$_root.array().items(C.matches)),m.$_mutateRegister(C.matches),m.$_setFlag("_hasPatternMatch",!0,{clone:!1})),E.fallthrough&&(C.fallthrough=!0),m.$_terms.patterns.push(C),m.$_mutateRegister(S),m}},ref:{method(){return this.$_addRule("ref")},validate:(w,S)=>h.isRef(w)?w:S.error("object.refType",{value:w})},regex:{method(){return this.$_addRule("regex")},validate:(w,S)=>w instanceof RegExp?w:S.error("object.regex",{value:w})},rename:{method(w,S,E={}){l(typeof w=="string"||w instanceof RegExp,"Rename missing the from argument"),l(typeof S=="string"||S instanceof y,"Invalid rename to argument"),l(S!==w,"Cannot rename key to same name:",w),f.assertOptions(E,["alias","ignoreUndefined","override","multiple"]);const _=this.clone();_.$_terms.renames=_.$_terms.renames||[];for(const m of _.$_terms.renames)l(m.from!==w,"Cannot rename the same key multiple times");return S instanceof y&&_.$_mutateRegister(S),_.$_terms.renames.push({from:w,to:S,options:s(b.renameDefaults,E)}),_}},schema:{method(w="any"){return this.$_addRule({name:"schema",args:{type:w}})},validate:(w,S,{type:E})=>!f.isSchema(w)||E!=="any"&&w.type!==E?S.error("object.schema",{type:E}):w},unknown:{method(w){return this.$_setFlag("unknown",w!==!1)}},with:{method(w,S,E={}){return b.dependency(this,"with",w,S,E)}},without:{method(w,S,E={}){return b.dependency(this,"without",w,S,E)}},xor:{method(...w){return f.verifyFlat(w,"xor"),b.dependency(this,"xor",null,w)}}},overrides:{default(w,S){return w===void 0&&(w=f.symbols.deepDefault),this.$_parent("default",w,S)}},rebuild(w){if(w.$_terms.keys){const S=new u.Sorter;for(const E of w.$_terms.keys)f.tryWithPath((()=>S.add(E,{after:E.schema.$_rootReferences(),group:E.key})),E.key);w.$_terms.keys=new b.Keys(...S.nodes)}},manifest:{build(w,S){if(S.keys&&(w=w.keys(S.keys)),S.dependencies)for(const{rel:E,key:_=null,peers:m,options:C}of S.dependencies)w=b.dependency(w,E,_,m,C);if(S.patterns)for(const{regex:E,schema:_,rule:m,fallthrough:C,matches:T}of S.patterns)w=w.pattern(E||_,m,{fallthrough:C,matches:T});if(S.renames)for(const{from:E,to:_,options:m}of S.renames)w=w.rename(E,_,m);return w}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),b.clone=function(w,S){if(typeof w=="object"){if(S.nonEnumerables)return c(w,{shallow:!0});const _=Object.create(Object.getPrototypeOf(w));return Object.assign(_,w),_}const E=function(..._){return w.apply(this,_)};return E.prototype=c(w.prototype),Object.defineProperty(E,"name",{value:w.name,writable:!1}),Object.defineProperty(E,"length",{value:w.length,writable:!1}),Object.assign(E,w),E},b.dependency=function(w,S,E,_,m){l(E===null||typeof E=="string",S,"key must be a strings"),m||(m=_.length>1&&typeof _[_.length-1]=="object"?_.pop():{}),f.assertOptions(m,["separator"]),_=[].concat(_);const C=f.default(m.separator,"."),T=[];for(const R of _)l(typeof R=="string",S,"peers must be strings"),T.push(p.ref(R,{separator:C,ancestor:0,prefix:!1}));E!==null&&(E=p.ref(E,{separator:C,ancestor:0,prefix:!1}));const O=w.clone();return O.$_terms.dependencies=O.$_terms.dependencies||[],O.$_terms.dependencies.push(new b.Dependency(S,E,T,_)),O},b.dependencies={and(w,S,E,_,m){const C=[],T=[],O=S.peers.length;for(const R of S.peers)R.resolve(E,_,m,null,{shadow:!1})===void 0?C.push(R.key):T.push(R.key);if(C.length!==O&&T.length!==O)return{code:"object.and",context:{present:T,presentWithLabels:b.keysToLabels(w,T),missing:C,missingWithLabels:b.keysToLabels(w,C)}}},nand(w,S,E,_,m){const C=[];for(const R of S.peers)R.resolve(E,_,m,null,{shadow:!1})!==void 0&&C.push(R.key);if(C.length!==S.peers.length)return;const T=S.paths[0],O=S.paths.slice(1);return{code:"object.nand",context:{main:T,mainWithLabel:b.keysToLabels(w,T),peers:O,peersWithLabels:b.keysToLabels(w,O)}}},or(w,S,E,_,m){for(const C of S.peers)if(C.resolve(E,_,m,null,{shadow:!1})!==void 0)return;return{code:"object.missing",context:{peers:S.paths,peersWithLabels:b.keysToLabels(w,S.paths)}}},oxor(w,S,E,_,m){const C=[];for(const O of S.peers)O.resolve(E,_,m,null,{shadow:!1})!==void 0&&C.push(O.key);if(!C.length||C.length===1)return;const T={peers:S.paths,peersWithLabels:b.keysToLabels(w,S.paths)};return T.present=C,T.presentWithLabels=b.keysToLabels(w,C),{code:"object.oxor",context:T}},with(w,S,E,_,m){for(const C of S.peers)if(C.resolve(E,_,m,null,{shadow:!1})===void 0)return{code:"object.with",context:{main:S.key.key,mainWithLabel:b.keysToLabels(w,S.key.key),peer:C.key,peerWithLabel:b.keysToLabels(w,C.key)}}},without(w,S,E,_,m){for(const C of S.peers)if(C.resolve(E,_,m,null,{shadow:!1})!==void 0)return{code:"object.without",context:{main:S.key.key,mainWithLabel:b.keysToLabels(w,S.key.key),peer:C.key,peerWithLabel:b.keysToLabels(w,C.key)}}},xor(w,S,E,_,m){const C=[];for(const O of S.peers)O.resolve(E,_,m,null,{shadow:!1})!==void 0&&C.push(O.key);if(C.length===1)return;const T={peers:S.paths,peersWithLabels:b.keysToLabels(w,S.paths)};return C.length===0?{code:"object.missing",context:T}:(T.present=C,T.presentWithLabels=b.keysToLabels(w,C),{code:"object.xor",context:T})}},b.keysToLabels=function(w,S){return Array.isArray(S)?S.map((E=>w.$_mapLabels(E))):w.$_mapLabels(S)},b.rename=function(w,S,E,_,m){const C={};for(const T of w.$_terms.renames){const O=[],R=typeof T.from!="string";if(R)for(const j in S){if(S[j]===void 0&&T.options.ignoreUndefined||j===T.to)continue;const D=T.from.exec(j);D&&O.push({from:j,to:T.to,match:D})}else!Object.prototype.hasOwnProperty.call(S,T.from)||S[T.from]===void 0&&T.options.ignoreUndefined||O.push(T);for(const j of O){const D=j.from;let L=j.to;if(L instanceof y&&(L=L.render(S,E,_,j.match)),D!==L){if(!T.options.multiple&&C[L]&&(m.push(w.$_createError("object.rename.multiple",S,{from:D,to:L,pattern:R},E,_)),_.abortEarly)||Object.prototype.hasOwnProperty.call(S,L)&&!T.options.override&&!C[L]&&(m.push(w.$_createError("object.rename.override",S,{from:D,to:L,pattern:R},E,_)),_.abortEarly))return!1;S[D]===void 0?delete S[L]:S[L]=S[D],C[L]=!0,T.options.alias||delete S[D]}}}return!0},b.unknown=function(w,S,E,_,m,C){if(w.$_terms.patterns){let T=!1;const O=w.$_terms.patterns.map((j=>{if(j.matches)return T=!0,[]})),R=[S,...m.ancestors];for(const j of E){const D=S[j],L=[...m.path,j];for(let V=0;V<w.$_terms.patterns.length;++V){const z=w.$_terms.patterns[V];if(z.regex){const J=z.regex.test(j);if(m.mainstay.tracer.debug(m,"rule","pattern.".concat(V),J?"pass":"error"),!J)continue}else if(!z.schema.$_match(j,m.nest(z.schema,"pattern.".concat(V)),C))continue;E.delete(j);const B=m.localize(L,R,{schema:z.rule,key:j}),H=z.rule.$_validate(D,B,C);if(H.errors){if(C.abortEarly)return{value:S,errors:H.errors};_.push(...H.errors)}if(z.matches&&O[V].push(j),S[j]=H.value,!z.fallthrough)break}}if(T)for(let j=0;j<O.length;++j){const D=O[j];if(!D)continue;const L=w.$_terms.patterns[j].matches,V=m.localize(m.path,R,L),z=L.$_validate(D,V,C);if(z.errors){const B=g.details(z.errors,{override:!1});B.matches=D;const H=w.$_createError("object.pattern.match",S,B,m,C);if(C.abortEarly)return{value:S,errors:H};_.push(H)}}}if(E.size&&(w.$_terms.keys||w.$_terms.patterns)){if(C.stripUnknown&&!w._flags.unknown||C.skipFunctions){const T=!(!C.stripUnknown||C.stripUnknown!==!0&&!C.stripUnknown.objects);for(const O of E)T?(delete S[O],E.delete(O)):typeof S[O]=="function"&&E.delete(O)}if(!f.default(w._flags.unknown,C.allowUnknown))for(const T of E){const O=m.localize([...m.path,T],[]),R=w.$_createError("object.unknown",S[T],{child:T},O,C,{flags:!1});if(C.abortEarly)return{value:S,errors:R};_.push(R)}}},b.Dependency=class{constructor(w,S,E,_){this.rel=w,this.key=S,this.peers=E,this.paths=_}describe(){const w={rel:this.rel,peers:this.paths};return this.key!==null&&(w.key=this.key.key),this.peers[0].separator!=="."&&(w.options={separator:this.peers[0].separator}),w}},b.Keys=class extends Array{concat(w){const S=this.slice(),E=new Map;for(let _=0;_<S.length;++_)E.set(S[_].key,_);for(const _ of w){const m=_.key,C=E.get(m);C!==void 0?S[C]={key:m,schema:S[C].schema.concat(_.schema)}:S.push(_)}return S}}},8785:(i,o,a)=>{const s=a(375),l=a(8068),c=a(8160),u=a(3292),d=a(6354),f={};i.exports=l.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(p,g)=>p.ref(g),validate(p,{schema:g,state:h,prefs:y}){s(g.$_terms.link,"Uninitialized link schema");const b=f.generate(g,p,h,y),w=g.$_terms.link[0].ref;return b.$_validate(p,h.nest(b,"link:".concat(w.display,":").concat(b.type)),y)},generate:(p,g,h,y)=>f.generate(p,g,h,y),rules:{ref:{method(p){s(!this.$_terms.link,"Cannot reinitialize schema"),p=u.ref(p),s(p.type==="value"||p.type==="local","Invalid reference type:",p.type),s(p.type==="local"||p.ancestor==="root"||p.ancestor>0,"Link cannot reference itself");const g=this.clone();return g.$_terms.link=[{ref:p}],g}},relative:{method(p=!0){return this.$_setFlag("relative",p)}}},overrides:{concat(p){s(this.$_terms.link,"Uninitialized link schema"),s(c.isSchema(p),"Invalid schema object"),s(p.type!=="link","Cannot merge type link with another link");const g=this.clone();return g.$_terms.whens||(g.$_terms.whens=[]),g.$_terms.whens.push({concat:p}),g.$_mutateRebuild()}},manifest:{build:(p,g)=>(s(g.link,"Invalid link description missing link"),p.ref(g.link))}}),f.generate=function(p,g,h,y){let b=h.mainstay.links.get(p);if(b)return b._generate(g,h,y).schema;const w=p.$_terms.link[0].ref,{perspective:S,path:E}=f.perspective(w,h);f.assert(S,"which is outside of schema boundaries",w,p,h,y);try{b=E.length?S.$_reach(E):S}catch{f.assert(!1,"to non-existing schema",w,p,h,y)}return f.assert(b.type!=="link","which is another link",w,p,h,y),p._flags.relative||h.mainstay.links.set(p,b),b._generate(g,h,y).schema},f.perspective=function(p,g){if(p.type==="local"){for(const{schema:h,key:y}of g.schemas){if((h._flags.id||y)===p.path[0])return{perspective:h,path:p.path.slice(1)};if(h.$_terms.shared){for(const b of h.$_terms.shared)if(b._flags.id===p.path[0])return{perspective:b,path:p.path.slice(1)}}}return{perspective:null,path:null}}return p.ancestor==="root"?{perspective:g.schemas[g.schemas.length-1].schema,path:p.path}:{perspective:g.schemas[p.ancestor]&&g.schemas[p.ancestor].schema,path:p.path}},f.assert=function(p,g,h,y,b,w){p||s(!1,'"'.concat(d.label(y._flags,b,w),'" contains link reference "').concat(h.display,'" ').concat(g))}},3832:(i,o,a)=>{const s=a(375),l=a(8068),c=a(8160),u={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/};i.exports=l.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(d,{schema:f,error:p}){const g=d.match(u.numberRx);if(!g)return;d=d.trim();const h={value:parseFloat(d)};if(h.value===0&&(h.value=0),!f._flags.unsafe)if(d.match(/e/i)){if(u.normalizeExponent("".concat(h.value/Math.pow(10,g[1]),"e").concat(g[1]))!==u.normalizeExponent(d))return h.errors=p("number.unsafe"),h}else{const y=h.value.toString();if(y.match(/e/i))return h;if(y!==u.normalizeDecimal(d))return h.errors=p("number.unsafe"),h}return h}},validate(d,{schema:f,error:p,prefs:g}){if(d===1/0||d===-1/0)return{value:d,errors:p("number.infinity")};if(!c.isNumber(d))return{value:d,errors:p("number.base")};const h={value:d};if(g.convert){const y=f.$_getRule("precision");if(y){const b=Math.pow(10,y.args.limit);h.value=Math.round(h.value*b)/b}}return h.value===0&&(h.value=0),!f._flags.unsafe&&(d>Number.MAX_SAFE_INTEGER||d<Number.MIN_SAFE_INTEGER)&&(h.errors=p("number.unsafe")),h},rules:{compare:{method:!1,validate:(d,f,{limit:p},{name:g,operator:h,args:y})=>c.compare(d,p,h)?d:f.error("number."+g,{limit:y.limit,value:d}),args:[{name:"limit",ref:!0,assert:c.isNumber,message:"must be a number"}]},greater:{method(d){return this.$_addRule({name:"greater",method:"compare",args:{limit:d},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(d,f)=>Math.trunc(d)-d==0?d:f.error("number.integer")},less:{method(d){return this.$_addRule({name:"less",method:"compare",args:{limit:d},operator:"<"})}},max:{method(d){return this.$_addRule({name:"max",method:"compare",args:{limit:d},operator:"<="})}},min:{method(d){return this.$_addRule({name:"min",method:"compare",args:{limit:d},operator:">="})}},multiple:{method(d){return this.$_addRule({name:"multiple",args:{base:d}})},validate:(d,f,{base:p},g)=>d*(1/p)%1==0?d:f.error("number.multiple",{multiple:g.args.base,value:d}),args:[{name:"base",ref:!0,assert:d=>typeof d=="number"&&isFinite(d)&&d>0,message:"must be a positive number"}],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(d,f)=>Number.isSafeInteger(d)&&d>=0&&d<=65535?d:f.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(d){return s(Number.isSafeInteger(d),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:d}})},validate(d,f,{limit:p}){const g=d.toString().match(u.precisionRx);return Math.max((g[1]?g[1].length:0)-(g[2]?parseInt(g[2],10):0),0)<=p?d:f.error("number.precision",{limit:p,value:d})},convert:!0},sign:{method(d){return s(["negative","positive"].includes(d),"Invalid sign",d),this.$_addRule({name:"sign",args:{sign:d}})},validate:(d,f,{sign:p})=>p==="negative"&&d<0||p==="positive"&&d>0?d:f.error("number.".concat(p))},unsafe:{method(d=!0){return s(typeof d=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",d)}}},cast:{string:{from:d=>typeof d=="number",to:(d,f)=>d.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),u.normalizeExponent=function(d){return d.replace(/E/,"e").replace(/\.(\d*[1-9])?0+e/,".$1e").replace(/\.e/,"e").replace(/e\+/,"e").replace(/^\+/,"").replace(/^(-?)0+([1-9])/,"$1$2")},u.normalizeDecimal=function(d){return(d=d.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&d.endsWith("0")&&(d=d.replace(/0+$/,"")),d==="-0"?"0":d}},8966:(i,o,a)=>{const s=a(7824);i.exports=s.extend({type:"object",cast:{map:{from:l=>l&&typeof l=="object",to:(l,c)=>new Map(Object.entries(l))}}})},7417:(i,o,a)=>{function s(E,_){var m=Object.keys(E);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(E);_&&(C=C.filter((function(T){return Object.getOwnPropertyDescriptor(E,T).enumerable}))),m.push.apply(m,C)}return m}function l(E){for(var _=1;_<arguments.length;_++){var m=arguments[_]!=null?arguments[_]:{};_%2?s(Object(m),!0).forEach((function(C){c(E,C,m[C])})):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(m)):s(Object(m)).forEach((function(C){Object.defineProperty(E,C,Object.getOwnPropertyDescriptor(m,C))}))}return E}function c(E,_,m){return _ in E?Object.defineProperty(E,_,{value:m,enumerable:!0,configurable:!0,writable:!0}):E[_]=m,E}const u=a(375),d=a(5380),f=a(1745),p=a(9959),g=a(6064),h=a(9926),y=a(5752),b=a(8068),w=a(8160),S={tlds:h instanceof Set&&{tlds:{allow:h,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:/^[a-f0-9]+$/i,ipRegex:p.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};i.exports=b.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(E,{schema:_,state:m,prefs:C}){const T=_.$_getRule("normalize");T&&(E=E.normalize(T.args.form));const O=_.$_getRule("case");O&&(E=O.args.direction==="upper"?E.toLocaleUpperCase():E.toLocaleLowerCase());const R=_.$_getRule("trim");if(R&&R.args.enabled&&(E=E.trim()),_.$_terms.replacements)for(const D of _.$_terms.replacements)E=E.replace(D.pattern,D.replacement);const j=_.$_getRule("hex");if(j&&j.args.options.byteAligned&&E.length%2!=0&&(E="0".concat(E)),_.$_getRule("isoDate")){const D=S.isoDate(E);D&&(E=D)}if(_._flags.truncate){const D=_.$_getRule("max");if(D){let L=D.args.limit;if(w.isResolvable(L)&&(L=L.resolve(E,m,C),!w.limit(L)))return{value:E,errors:_.$_createError("any.ref",L,{ref:D.args.limit,arg:"limit",reason:"must be a positive integer"},m,C)};E=E.slice(0,L)}}return{value:E}}},validate(E,{schema:_,error:m}){if(typeof E!="string")return{value:E,errors:m("string.base")};if(E===""){const C=_.$_getRule("min");return C&&C.args.limit===0?void 0:{value:E,errors:m("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(E,_)=>/^[a-zA-Z0-9]+$/.test(E)?E:_.error("string.alphanum")},base64:{method(E={}){return w.assertOptions(E,["paddingRequired","urlSafe"]),E=l({urlSafe:!1,paddingRequired:!0},E),u(typeof E.paddingRequired=="boolean","paddingRequired must be boolean"),u(typeof E.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:E}})},validate:(E,_,{options:m})=>S.base64Regex[m.paddingRequired][m.urlSafe].test(E)?E:_.error("string.base64")},case:{method(E){return u(["lower","upper"].includes(E),"Invalid case:",E),this.$_addRule({name:"case",args:{direction:E}})},validate:(E,_,{direction:m})=>m==="lower"&&E===E.toLocaleLowerCase()||m==="upper"&&E===E.toLocaleUpperCase()?E:_.error("string.".concat(m,"case")),convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(E,_){let m=E.length,C=0,T=1;for(;m--;){const O=E.charAt(m)*T;C+=O-9*(O>9),T^=3}return C>0&&C%10==0?E:_.error("string.creditCard")}},dataUri:{method(E={}){return w.assertOptions(E,["paddingRequired"]),E=l({paddingRequired:!0},E),u(typeof E.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:E}})},validate(E,_,{options:m}){const C=E.match(S.dataUriRegex);return C&&(!C[2]||C[2]!=="base64"||S.base64Regex[m.paddingRequired].false.test(C[3]))?E:_.error("string.dataUri")}},domain:{method(E){E&&w.assertOptions(E,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const _=S.addressOptions(E);return this.$_addRule({name:"domain",args:{options:E},address:_})},validate:(E,_,m,{address:C})=>d.isValid(E,C)?E:_.error("string.domain")},email:{method(E={}){w.assertOptions(E,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),u(E.multiple===void 0||typeof E.multiple=="boolean","multiple option must be an boolean");const _=S.addressOptions(E),m=new RegExp("\\s*[".concat(E.separator?g(E.separator):",","]\\s*"));return this.$_addRule({name:"email",args:{options:E},regex:m,address:_})},validate(E,_,{options:m},{regex:C,address:T}){const O=m.multiple?E.split(C):[E],R=[];for(const j of O)f.isValid(j,T)||R.push(j);return R.length?_.error("string.email",{value:E,invalids:R}):E}},guid:{alias:"uuid",method(E={}){w.assertOptions(E,["version","separator"]);let _="";if(E.version){const T=[].concat(E.version);u(T.length>=1,"version must have at least 1 valid version specified");const O=new Set;for(let R=0;R<T.length;++R){const j=T[R];u(typeof j=="string","version at position "+R+" must be a string");const D=S.guidVersions[j.toLowerCase()];u(D,"version at position "+R+" must be one of "+Object.keys(S.guidVersions).join(", ")),u(!O.has(D),"version at position "+R+" must not be a duplicate"),_+=D,O.add(D)}}u(S.guidSeparators.has(E.separator),'separator must be one of true, false, "-", or ":"');const m=E.separator===void 0?"[:-]?":E.separator===!0?"[:-]":E.separator===!1?"[]?":"\\".concat(E.separator),C=new RegExp("^([\\[{\\(]?)[0-9A-F]{8}(".concat(m,")[0-9A-F]{4}\\2?[").concat(_||"0-9A-F","][0-9A-F]{3}\\2?[").concat(_?"89AB":"0-9A-F","][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$"),"i");return this.$_addRule({name:"guid",args:{options:E},regex:C})},validate(E,_,m,{regex:C}){const T=C.exec(E);return T?S.guidBrackets[T[1]]!==T[T.length-1]?_.error("string.guid"):E:_.error("string.guid")}},hex:{method(E={}){return w.assertOptions(E,["byteAligned"]),E=l({byteAligned:!1},E),u(typeof E.byteAligned=="boolean","byteAligned must be boolean"),this.$_addRule({name:"hex",args:{options:E}})},validate:(E,_,{options:m})=>S.hexRegex.test(E)?m.byteAligned&&E.length%2!=0?_.error("string.hexAlign"):E:_.error("string.hex")},hostname:{method(){return this.$_addRule("hostname")},validate:(E,_)=>d.isValid(E,{minDomainSegments:1})||S.ipRegex.test(E)?E:_.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(E={}){w.assertOptions(E,["cidr","version"]);const{cidr:_,versions:m,regex:C}=p.regex(E),T=E.version?m:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:_,version:T}},regex:C})},validate:(E,_,{options:m},{regex:C})=>C.test(E)?E:m.version?_.error("string.ipVersion",{value:E,cidr:m.cidr,version:m.version}):_.error("string.ip",{value:E,cidr:m.cidr})},isoDate:{method(){return this.$_addRule("isoDate")},validate:(E,{error:_})=>S.isoDate(E)?E:_("string.isoDate")},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(E,_)=>S.isoDurationRegex.test(E)?E:_.error("string.isoDuration")},length:{method(E,_){return S.length(this,"length",E,"=",_)},validate(E,_,{limit:m,encoding:C},{name:T,operator:O,args:R}){const j=!C&&E.length;return w.compare(j,m,O)?E:_.error("string."+T,{limit:R.limit,value:E,encoding:C})},args:[{name:"limit",ref:!0,assert:w.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(E,_){return S.length(this,"max",E,"<=",_)},args:["limit","encoding"]},min:{method(E,_){return S.length(this,"min",E,">=",_)},args:["limit","encoding"]},normalize:{method(E="NFC"){return u(S.normalizationForms.includes(E),"normalization form must be one of "+S.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:E}})},validate:(E,{error:_},{form:m})=>E===E.normalize(m)?E:_("string.normalize",{value:E,form:m}),convert:!0},pattern:{alias:"regex",method(E,_={}){u(E instanceof RegExp,"regex must be a RegExp"),u(!E.flags.includes("g")&&!E.flags.includes("y"),"regex should not use global or sticky mode"),typeof _=="string"&&(_={name:_}),w.assertOptions(_,["invert","name"]);const m=["string.pattern",_.invert?".invert":"",_.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:E,options:_},errorCode:m})},validate:(E,_,{regex:m,options:C},{errorCode:T})=>m.test(E)^C.invert?E:_.error(T,{name:C.name,regex:m,value:E}),args:["regex","options"],multi:!0},replace:{method(E,_){typeof E=="string"&&(E=new RegExp(g(E),"g")),u(E instanceof RegExp,"pattern must be a RegExp"),u(typeof _=="string","replacement must be a String");const m=this.clone();return m.$_terms.replacements||(m.$_terms.replacements=[]),m.$_terms.replacements.push({pattern:E,replacement:_}),m}},token:{method(){return this.$_addRule("token")},validate:(E,_)=>/^\w+$/.test(E)?E:_.error("string.token")},trim:{method(E=!0){return u(typeof E=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:E}})},validate:(E,_,{enabled:m})=>m&&E!==E.trim()?_.error("string.trim"):E,convert:!0},truncate:{method(E=!0){return u(typeof E=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",E)}},uppercase:{method(){return this.case("upper")}},uri:{method(E={}){w.assertOptions(E,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme"]),E.domain&&w.assertOptions(E.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const{regex:_,scheme:m}=y.regex(E),C=E.domain?S.addressOptions(E.domain):null;return this.$_addRule({name:"uri",args:{options:E},regex:_,domain:C,scheme:m})},validate(E,_,{options:m},{regex:C,domain:T,scheme:O}){if(["http:/","https:/"].includes(E))return _.error("string.uri");const R=C.exec(E);if(R){const j=R[1]||R[2];return!T||m.allowRelative&&!j||d.isValid(j,T)?E:_.error("string.domain",{value:j})}return m.relativeOnly?_.error("string.uriRelativeOnly"):m.scheme?_.error("string.uriCustomScheme",{scheme:O,value:E}):_.error("string.uri")}}},manifest:{build(E,_){if(_.replacements)for(const{pattern:m,replacement:C}of _.replacements)E=E.replace(m,C);return E}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),S.addressOptions=function(E){if(!E||(u(E.minDomainSegments===void 0||Number.isSafeInteger(E.minDomainSegments)&&E.minDomainSegments>0,"minDomainSegments must be a positive integer"),u(E.maxDomainSegments===void 0||Number.isSafeInteger(E.maxDomainSegments)&&E.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),E.tlds===!1))return E;if(E.tlds===!0||E.tlds===void 0)return u(S.tlds,"Built-in TLD list disabled"),Object.assign({},E,S.tlds);u(typeof E.tlds=="object","tlds must be true, false, or an object");const _=E.tlds.deny;if(_)return Array.isArray(_)&&(E=Object.assign({},E,{tlds:{deny:new Set(_)}})),u(E.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),u(!E.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),S.validateTlds(E.tlds.deny,"tlds.deny"),E;const m=E.tlds.allow;return m?m===!0?(u(S.tlds,"Built-in TLD list disabled"),Object.assign({},E,S.tlds)):(Array.isArray(m)&&(E=Object.assign({},E,{tlds:{allow:new Set(m)}})),u(E.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),S.validateTlds(E.tlds.allow,"tlds.allow"),E):E},S.validateTlds=function(E,_){for(const m of E)u(d.isValid(m,{minDomainSegments:1,maxDomainSegments:1}),"".concat(_," must contain valid top level domain names"))},S.isoDate=function(E){if(!w.isIsoDate(E))return null;/.*T.*[+-]\d\d$/.test(E)&&(E+="00");const _=new Date(E);return isNaN(_.getTime())?null:_.toISOString()},S.length=function(E,_,m,C,T){return u(!T||!1,"Invalid encoding:",T),E.$_addRule({name:_,method:"length",args:{limit:m,encoding:T},operator:C})}},8826:(i,o,a)=>{const s=a(375),l=a(8068),c={};c.Map=class extends Map{slice(){return new c.Map(this)}},i.exports=l.extend({type:"symbol",terms:{map:{init:new c.Map}},coerce:{method(u,{schema:d,error:f}){const p=d.$_terms.map.get(u);return p&&(u=p),d._flags.only&&typeof u!="symbol"?{value:u,errors:f("symbol.map",{map:d.$_terms.map})}:{value:u}}},validate(u,{error:d}){if(typeof u!="symbol")return{value:u,errors:d("symbol.base")}},rules:{map:{method(u){u&&!u[Symbol.iterator]&&typeof u=="object"&&(u=Object.entries(u)),s(u&&u[Symbol.iterator],"Iterable must be an iterable or object");const d=this.clone(),f=[];for(const p of u){s(p&&p[Symbol.iterator],"Entry must be an iterable");const[g,h]=p;s(typeof g!="object"&&typeof g!="function"&&typeof g!="symbol","Key must not be of type object, function, or Symbol"),s(typeof h=="symbol","Value must be a Symbol"),d.$_terms.map.set(g,h),f.push(h)}return d.valid(...f)}}},manifest:{build:(u,d)=>(d.map&&(u=u.map(d.map)),u)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:(i,o,a)=>{const s=a(375),l=a(8571),c=a(738),u=a(9621),d=a(8160),f=a(6354),p=a(493),g={result:Symbol("result")};o.entry=function(h,y,b){let w=d.defaults;b&&(s(b.warnings===void 0,"Cannot override warnings preference in synchronous validation"),s(b.artifacts===void 0,"Cannot override artifacts preference in synchronous validation"),w=d.preferences(d.defaults,b));const S=g.entry(h,y,w);s(!S.mainstay.externals.length,"Schema with external rules must use validateAsync()");const E={value:S.value};return S.error&&(E.error=S.error),S.mainstay.warnings.length&&(E.warning=f.details(S.mainstay.warnings)),S.mainstay.debug&&(E.debug=S.mainstay.debug),S.mainstay.artifacts&&(E.artifacts=S.mainstay.artifacts),E},o.entryAsync=async function(h,y,b){let w=d.defaults;b&&(w=d.preferences(d.defaults,b));const S=g.entry(h,y,w),E=S.mainstay;if(S.error)throw E.debug&&(S.error.debug=E.debug),S.error;if(E.externals.length){let m=S.value;for(const{method:C,path:T,label:O}of E.externals){let R,j,D=m;T.length&&(R=T[T.length-1],j=u(m,T.slice(0,-1)),D=j[R]);try{const L=await C(D,{prefs:b});if(L===void 0||L===D)continue;j?j[R]=L:m=L}catch(L){throw w.errors.label&&(L.message+=" (".concat(O,")")),L}}S.value=m}if(!w.warnings&&!w.debug&&!w.artifacts)return S.value;const _={value:S.value};return E.warnings.length&&(_.warning=f.details(E.warnings)),E.debug&&(_.debug=E.debug),E.artifacts&&(_.artifacts=E.artifacts),_},g.entry=function(h,y,b){const{tracer:w,cleanup:S}=g.tracer(y,b),E={externals:[],warnings:[],tracer:w,debug:b.debug?[]:null,links:y._ids._schemaChain?new Map:null},_=y._ids._schemaChain?[{schema:y}]:null,m=new p([],[],{mainstay:E,schemas:_}),C=o.validate(h,y,m,b);S&&y.$_root.untrace();const T=f.process(C.errors,h,b);return{value:C.value,error:T,mainstay:E}},g.tracer=function(h,y){return h.$_root._tracer?{tracer:h.$_root._tracer._register(h)}:y.debug?(s(h.$_root.trace,"Debug mode not supported"),{tracer:h.$_root.trace()._register(h),cleanup:!0}):{tracer:g.ignore}},o.validate=function(h,y,b,w,S={}){if(y.$_terms.whens&&(y=y._generate(h,b,w).schema),y._preferences&&(w=g.prefs(y,w)),y._cache&&w.cache){const R=y._cache.get(h);if(b.mainstay.tracer.debug(b,"validate","cached",!!R),R)return R}const E=(R,j,D)=>y.$_createError(R,h,j,D||b,w),_={original:h,prefs:w,schema:y,state:b,error:E,errorsArray:g.errorsArray,warn:(R,j,D)=>b.mainstay.warnings.push(E(R,j,D)),message:(R,j)=>y.$_createError("custom",h,j,b,w,{messages:R})};b.mainstay.tracer.entry(y,b);const m=y._definition;if(m.prepare&&h!==void 0&&w.convert){const R=m.prepare(h,_);if(R){if(b.mainstay.tracer.value(b,"prepare",h,R.value),R.errors)return g.finalize(R.value,[].concat(R.errors),_);h=R.value}}if(m.coerce&&h!==void 0&&w.convert&&(!m.coerce.from||m.coerce.from.includes(typeof h))){const R=m.coerce.method(h,_);if(R){if(b.mainstay.tracer.value(b,"coerced",h,R.value),R.errors)return g.finalize(R.value,[].concat(R.errors),_);h=R.value}}const C=y._flags.empty;C&&C.$_match(g.trim(h,y),b.nest(C),d.defaults)&&(b.mainstay.tracer.value(b,"empty",h,void 0),h=void 0);const T=S.presence||y._flags.presence||(y._flags._endedSwitch?null:w.presence);if(h===void 0){if(T==="forbidden")return g.finalize(h,null,_);if(T==="required")return g.finalize(h,[y.$_createError("any.required",h,null,b,w)],_);if(T==="optional"){if(y._flags.default!==d.symbols.deepDefault)return g.finalize(h,null,_);b.mainstay.tracer.value(b,"default",h,{}),h={}}}else if(T==="forbidden")return g.finalize(h,[y.$_createError("any.unknown",h,null,b,w)],_);const O=[];if(y._valids){const R=y._valids.get(h,b,w,y._flags.insensitive);if(R)return w.convert&&(b.mainstay.tracer.value(b,"valids",h,R.value),h=R.value),b.mainstay.tracer.filter(y,b,"valid",R),g.finalize(h,null,_);if(y._flags.only){const j=y.$_createError("any.only",h,{valids:y._valids.values({display:!0})},b,w);if(w.abortEarly)return g.finalize(h,[j],_);O.push(j)}}if(y._invalids){const R=y._invalids.get(h,b,w,y._flags.insensitive);if(R){b.mainstay.tracer.filter(y,b,"invalid",R);const j=y.$_createError("any.invalid",h,{invalids:y._invalids.values({display:!0})},b,w);if(w.abortEarly)return g.finalize(h,[j],_);O.push(j)}}if(m.validate){const R=m.validate(h,_);if(R&&(b.mainstay.tracer.value(b,"base",h,R.value),h=R.value,R.errors)){if(!Array.isArray(R.errors))return O.push(R.errors),g.finalize(h,O,_);if(R.errors.length)return O.push(...R.errors),g.finalize(h,O,_)}}return y._rules.length?g.rules(h,O,_):g.finalize(h,O,_)},g.rules=function(h,y,b){const{schema:w,state:S,prefs:E}=b;for(const _ of w._rules){const m=w._definition.rules[_.method];if(m.convert&&E.convert){S.mainstay.tracer.log(w,S,"rule",_.name,"full");continue}let C,T=_.args;if(_._resolve.length){T=Object.assign({},T);for(const R of _._resolve){const j=m.argsByName.get(R),D=T[R].resolve(h,S,E),L=j.normalize?j.normalize(D):D,V=d.validateArg(L,null,j);if(V){C=w.$_createError("any.ref",D,{arg:R,ref:T[R],reason:V},S,E);break}T[R]=L}}C=C||m.validate(h,b,T,_);const O=g.rule(C,_);if(O.errors){if(S.mainstay.tracer.log(w,S,"rule",_.name,"error"),_.warn){S.mainstay.warnings.push(...O.errors);continue}if(E.abortEarly)return g.finalize(h,O.errors,b);y.push(...O.errors)}else S.mainstay.tracer.log(w,S,"rule",_.name,"pass"),S.mainstay.tracer.value(S,"rule",h,O.value,_.name),h=O.value}return g.finalize(h,y,b)},g.rule=function(h,y){return h instanceof f.Report?(g.error(h,y),{errors:[h],value:null}):Array.isArray(h)&&h[d.symbols.errors]?(h.forEach((b=>g.error(b,y))),{errors:h,value:null}):{errors:null,value:h}},g.error=function(h,y){return y.message&&h._setTemplate(y.message),h},g.finalize=function(h,y,b){y=y||[];const{schema:w,state:S,prefs:E}=b;if(y.length){const m=g.default("failover",void 0,y,b);m!==void 0&&(S.mainstay.tracer.value(S,"failover",h,m),h=m,y=[])}if(y.length&&w._flags.error)if(typeof w._flags.error=="function"){y=w._flags.error(y),Array.isArray(y)||(y=[y]);for(const m of y)s(m instanceof Error||m instanceof f.Report,"error() must return an Error object")}else y=[w._flags.error];if(h===void 0){const m=g.default("default",h,y,b);S.mainstay.tracer.value(S,"default",h,m),h=m}if(w._flags.cast&&h!==void 0){const m=w._definition.cast[w._flags.cast];if(m.from(h)){const C=m.to(h,b);S.mainstay.tracer.value(S,"cast",h,C,w._flags.cast),h=C}}if(w.$_terms.externals&&E.externals&&E._externals!==!1)for(const{method:m}of w.$_terms.externals)S.mainstay.externals.push({method:m,path:S.path,label:f.label(w._flags,S,E)});const _={value:h,errors:y.length?y:null};return w._flags.result&&(_.value=w._flags.result==="strip"?void 0:b.original,S.mainstay.tracer.value(S,w._flags.result,h,_.value),S.shadow(h,w._flags.result)),w._cache&&E.cache!==!1&&!w._refs.length&&w._cache.set(b.original,_),h===void 0||_.errors||w._flags.artifact===void 0||(S.mainstay.artifacts=S.mainstay.artifacts||new Map,S.mainstay.artifacts.has(w._flags.artifact)||S.mainstay.artifacts.set(w._flags.artifact,[]),S.mainstay.artifacts.get(w._flags.artifact).push(S.path)),_},g.prefs=function(h,y){const b=y===d.defaults;return b&&h._preferences[d.symbols.prefs]?h._preferences[d.symbols.prefs]:(y=d.preferences(y,h._preferences),b&&(h._preferences[d.symbols.prefs]=y),y)},g.default=function(h,y,b,w){const{schema:S,state:E,prefs:_}=w,m=S._flags[h];if(_.noDefaults||m===void 0)return y;if(E.mainstay.tracer.log(S,E,"rule",h,"full"),!m)return m;if(typeof m=="function"){const C=m.length?[l(E.ancestors[0]),w]:[];try{return m(...C)}catch(T){return void b.push(S.$_createError("any.".concat(h),null,{error:T},E,_))}}return typeof m!="object"?m:m[d.symbols.literal]?m.literal:d.isResolvable(m)?m.resolve(y,E,_):l(m)},g.trim=function(h,y){if(typeof h!="string")return h;const b=y.$_getRule("trim");return b&&b.args.enabled?h.trim():h},g.ignore={active:!1,debug:c,entry:c,filter:c,log:c,resolve:c,value:c},g.errorsArray=function(){const h=[];return h[d.symbols.errors]=!0,h}},2036:(i,o,a)=>{const s=a(375),l=a(9474),c=a(8160),u={};i.exports=u.Values=class{constructor(d,f){this._values=new Set(d),this._refs=new Set(f),this._lowercase=u.lowercases(d),this._override=!1}get length(){return this._values.size+this._refs.size}add(d,f){c.isResolvable(d)?this._refs.has(d)||(this._refs.add(d),f&&f.register(d)):this.has(d,null,null,!1)||(this._values.add(d),typeof d=="string"&&this._lowercase.set(d.toLowerCase(),d))}static merge(d,f,p){if(d=d||new u.Values,f){if(f._override)return f.clone();for(const g of[...f._values,...f._refs])d.add(g)}if(p)for(const g of[...p._values,...p._refs])d.remove(g);return d.length?d:null}remove(d){c.isResolvable(d)?this._refs.delete(d):(this._values.delete(d),typeof d=="string"&&this._lowercase.delete(d.toLowerCase()))}has(d,f,p,g){return!!this.get(d,f,p,g)}get(d,f,p,g){if(!this.length)return!1;if(this._values.has(d))return{value:d};if(typeof d=="string"&&d&&g){const h=this._lowercase.get(d.toLowerCase());if(h)return{value:h}}if(!this._refs.size&&typeof d!="object")return!1;if(typeof d=="object"){for(const h of this._values)if(l(h,d))return{value:h}}if(f)for(const h of this._refs){const y=h.resolve(d,f,p,null,{in:!0});if(y===void 0)continue;const b=h.in&&typeof y=="object"?Array.isArray(y)?y:Object.keys(y):[y];for(const w of b)if(typeof w==typeof d){if(g&&d&&typeof d=="string"){if(w.toLowerCase()===d.toLowerCase())return{value:w,ref:h}}else if(l(w,d))return{value:w,ref:h}}}return!1}override(){this._override=!0}values(d){if(d&&d.display){const f=[];for(const p of[...this._values,...this._refs])p!==void 0&&f.push(p);return f}return Array.from([...this._values,...this._refs])}clone(){const d=new u.Values(this._values,this._refs);return d._override=this._override,d}concat(d){s(!d._override,"Cannot concat override set of values");const f=new u.Values([...this._values,...d._values],[...this._refs,...d._refs]);return f._override=this._override,f}describe(){const d=[];this._override&&d.push({override:!0});for(const f of this._values.values())d.push(f&&typeof f=="object"?{value:f}:f);for(const f of this._refs.values())d.push(f.describe());return d}},u.Values.prototype[c.symbols.values]=!0,u.Values.prototype.slice=u.Values.prototype.clone,u.lowercases=function(d){const f=new Map;if(d)for(const p of d)typeof p=="string"&&f.set(p.toLowerCase(),p);return f}},978:(i,o,a)=>{const s=a(375),l=a(8571),c=a(1687),u=a(9621),d={};i.exports=function(f,p,g={}){if(s(f&&typeof f=="object","Invalid defaults value: must be an object"),s(!p||p===!0||typeof p=="object","Invalid source value: must be true, falsy or an object"),s(typeof g=="object","Invalid options: must be an object"),!p)return null;if(g.shallow)return d.applyToDefaultsWithShallow(f,p,g);const h=l(f);if(p===!0)return h;const y=g.nullOverride!==void 0&&g.nullOverride;return c(h,p,{nullOverride:y,mergeArrays:!1})},d.applyToDefaultsWithShallow=function(f,p,g){const h=g.shallow;s(Array.isArray(h),"Invalid keys");const y=new Map,b=p===!0?null:new Set;for(let E of h){E=Array.isArray(E)?E:E.split(".");const _=u(f,E);_&&typeof _=="object"?y.set(_,b&&u(p,E)||_):b&&b.add(E)}const w=l(f,{},y);if(!b)return w;for(const E of b)d.reachCopy(w,p,E);const S=g.nullOverride!==void 0&&g.nullOverride;return c(w,p,{nullOverride:S,mergeArrays:!1})},d.reachCopy=function(f,p,g){for(const b of g){if(!(b in p))return;const w=p[b];if(typeof w!="object"||w===null)return;p=w}const h=p;let y=f;for(let b=0;b<g.length-1;++b){const w=g[b];typeof y[w]!="object"&&(y[w]={}),y=y[w]}y[g[g.length-1]]=h}},375:(i,o,a)=>{const s=a(7916);i.exports=function(l,...c){if(!l)throw c.length===1&&c[0]instanceof Error?c[0]:new s(c)}},8571:(i,o,a)=>{const s=a(9621),l=a(4277),c=a(7043),u={needsProtoHack:new Set([l.set,l.map,l.weakSet,l.weakMap])};i.exports=u.clone=function(d,f={},p=null){if(typeof d!="object"||d===null)return d;let g=u.clone,h=p;if(f.shallow){if(f.shallow!==!0)return u.cloneWithShallow(d,f);g=S=>S}else if(h){const S=h.get(d);if(S)return S}else h=new Map;const y=l.getInternalProto(d);if(y===l.buffer)return!1;if(y===l.date)return new Date(d.getTime());if(y===l.regex)return new RegExp(d);const b=u.base(d,y,f);if(b===d)return d;if(h&&h.set(d,b),y===l.set)for(const S of d)b.add(g(S,f,h));else if(y===l.map)for(const[S,E]of d)b.set(S,g(E,f,h));const w=c.keys(d,f);for(const S of w){if(S==="__proto__")continue;if(y===l.array&&S==="length"){b.length=d.length;continue}const E=Object.getOwnPropertyDescriptor(d,S);E?E.get||E.set?Object.defineProperty(b,S,E):E.enumerable?b[S]=g(d[S],f,h):Object.defineProperty(b,S,{enumerable:!1,writable:!0,configurable:!0,value:g(d[S],f,h)}):Object.defineProperty(b,S,{enumerable:!0,writable:!0,configurable:!0,value:g(d[S],f,h)})}return b},u.cloneWithShallow=function(d,f){const p=f.shallow;(f=Object.assign({},f)).shallow=!1;const g=new Map;for(const h of p){const y=s(d,h);typeof y!="object"&&typeof y!="function"||g.set(y,y)}return u.clone(d,f,g)},u.base=function(d,f,p){if(p.prototype===!1)return u.needsProtoHack.has(f)?new f.constructor:f===l.array?[]:{};const g=Object.getPrototypeOf(d);if(g&&g.isImmutable)return d;if(f===l.array){const h=[];return g!==f&&Object.setPrototypeOf(h,g),h}if(u.needsProtoHack.has(f)){const h=new g.constructor;return g!==f&&Object.setPrototypeOf(h,g),h}return Object.create(g)}},9474:(i,o,a)=>{const s=a(4277),l={mismatched:null};i.exports=function(c,u,d){return d=Object.assign({prototype:!0},d),!!l.isDeepEqual(c,u,d,[])},l.isDeepEqual=function(c,u,d,f){if(c===u)return c!==0||1/c==1/u;const p=typeof c;if(p!==typeof u||c===null||u===null)return!1;if(p==="function"){if(!d.deepFunction||c.toString()!==u.toString())return!1}else if(p!=="object")return c!=c&&u!=u;const g=l.getSharedType(c,u,!!d.prototype);switch(g){case s.buffer:return!1;case s.promise:return c===u;case s.regex:return c.toString()===u.toString();case l.mismatched:return!1}for(let h=f.length-1;h>=0;--h)if(f[h].isSame(c,u))return!0;f.push(new l.SeenEntry(c,u));try{return!!l.isDeepEqualObj(g,c,u,d,f)}finally{f.pop()}},l.getSharedType=function(c,u,d){if(d)return Object.getPrototypeOf(c)!==Object.getPrototypeOf(u)?l.mismatched:s.getInternalProto(c);const f=s.getInternalProto(c);return f!==s.getInternalProto(u)?l.mismatched:f},l.valueOf=function(c){const u=c.valueOf;if(u===void 0)return c;try{return u.call(c)}catch(d){return d}},l.hasOwnEnumerableProperty=function(c,u){return Object.prototype.propertyIsEnumerable.call(c,u)},l.isSetSimpleEqual=function(c,u){for(const d of Set.prototype.values.call(c))if(!Set.prototype.has.call(u,d))return!1;return!0},l.isDeepEqualObj=function(c,u,d,f,p){const{isDeepEqual:g,valueOf:h,hasOwnEnumerableProperty:y}=l,{keys:b,getOwnPropertySymbols:w}=Object;if(c===s.array){if(!f.part){if(u.length!==d.length)return!1;for(let C=0;C<u.length;++C)if(!g(u[C],d[C],f,p))return!1;return!0}for(const C of u)for(const T of d)if(g(C,T,f,p))return!0}else if(c===s.set){if(u.size!==d.size)return!1;if(!l.isSetSimpleEqual(u,d)){const C=new Set(Set.prototype.values.call(d));for(const T of Set.prototype.values.call(u)){if(C.delete(T))continue;let O=!1;for(const R of C)if(g(T,R,f,p)){C.delete(R),O=!0;break}if(!O)return!1}}}else if(c===s.map){if(u.size!==d.size)return!1;for(const[C,T]of Map.prototype.entries.call(u))if(T===void 0&&!Map.prototype.has.call(d,C)||!g(T,Map.prototype.get.call(d,C),f,p))return!1}else if(c===s.error&&(u.name!==d.name||u.message!==d.message))return!1;const S=h(u),E=h(d);if((u!==S||d!==E)&&!g(S,E,f,p))return!1;const _=b(u);if(!f.part&&_.length!==b(d).length&&!f.skip)return!1;let m=0;for(const C of _)if(f.skip&&f.skip.includes(C))d[C]===void 0&&++m;else if(!y(d,C)||!g(u[C],d[C],f,p))return!1;if(!f.part&&_.length-m!==b(d).length)return!1;if(f.symbols!==!1){const C=w(u),T=new Set(w(d));for(const O of C){if(!f.skip||!f.skip.includes(O)){if(y(u,O)){if(!y(d,O)||!g(u[O],d[O],f,p))return!1}else if(y(d,O))return!1}T.delete(O)}for(const O of T)if(y(d,O))return!1}return!0},l.SeenEntry=class{constructor(c,u){this.obj=c,this.ref=u}isSame(c,u){return this.obj===c&&this.ref===u}}},7916:(i,o,a)=>{const s=a(8761);i.exports=class extends Error{constructor(l){super(l.filter((c=>c!=="")).map((c=>typeof c=="string"?c:c instanceof Error?c.message:s(c))).join(" ")||"Unknown error"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,o.assert)}}},5277:i=>{const o={};i.exports=function(a){if(!a)return"";let s="";for(let l=0;l<a.length;++l){const c=a.charCodeAt(l);o.isSafe(c)?s+=a[l]:s+=o.escapeHtmlChar(c)}return s},o.escapeHtmlChar=function(a){const s=o.namedHtml[a];if(s!==void 0)return s;if(a>=256)return"&#"+a+";";const l=a.toString(16).padStart(2,"0");return"&#x".concat(l,";")},o.isSafe=function(a){return o.safeCharCodes[a]!==void 0},o.namedHtml={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",160:"&nbsp;",162:"&cent;",163:"&pound;",164:"&curren;",169:"&copy;",174:"&reg;"},o.safeCharCodes=(function(){const a={};for(let s=32;s<123;++s)(s>=97||s>=65&&s<=90||s>=48&&s<=57||s===32||s===46||s===44||s===45||s===58||s===95)&&(a[s]=null);return a})()},6064:i=>{i.exports=function(o){return o.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:i=>{i.exports=function(){}},1687:(i,o,a)=>{const s=a(375),l=a(8571),c=a(7043),u={};i.exports=u.merge=function(d,f,p){if(s(d&&typeof d=="object","Invalid target value: must be an object"),s(f==null||typeof f=="object","Invalid source value: must be null, undefined, or an object"),!f)return d;if(p=Object.assign({nullOverride:!0,mergeArrays:!0},p),Array.isArray(f)){s(Array.isArray(d),"Cannot merge array onto an object"),p.mergeArrays||(d.length=0);for(let h=0;h<f.length;++h)d.push(l(f[h],{symbols:p.symbols}));return d}const g=c.keys(f,p);for(let h=0;h<g.length;++h){const y=g[h];if(y==="__proto__"||!Object.prototype.propertyIsEnumerable.call(f,y))continue;const b=f[y];if(b&&typeof b=="object"){if(d[y]===b)continue;!d[y]||typeof d[y]!="object"||Array.isArray(d[y])!==Array.isArray(b)||b instanceof Date||b instanceof RegExp?d[y]=l(b,{symbols:p.symbols}):u.merge(d[y],b,p)}else(b!=null||p.nullOverride)&&(d[y]=b)}return d}},9621:(i,o,a)=>{const s=a(375),l={};i.exports=function(c,u,d){if(u===!1||u==null)return c;typeof(d=d||{})=="string"&&(d={separator:d});const f=Array.isArray(u);s(!f||!d.separator,"Separator option no valid for array-based chain");const p=f?u:u.split(d.separator||".");let g=c;for(let h=0;h<p.length;++h){let y=p[h];const b=d.iterables&&l.iterables(g);if(Array.isArray(g)||b==="set"){const w=Number(y);Number.isInteger(w)&&(y=w<0?g.length+w:w)}if(!g||typeof g=="function"&&d.functions===!1||!b&&g[y]===void 0){s(!d.strict||h+1===p.length,"Missing segment",y,"in reach path ",u),s(typeof g=="object"||d.functions===!0||typeof g!="function","Invalid segment",y,"in reach path ",u),g=d.default;break}g=b?b==="set"?[...g][y]:g.get(y):g[y]}return g},l.iterables=function(c){return c instanceof Set?"set":c instanceof Map?"map":void 0}},8761:i=>{i.exports=function(...o){try{return JSON.stringify.apply(null,o)}catch(a){return"[Cannot display object: "+a.message+"]"}}},4277:(i,o)=>{const a={};o=i.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},a.typeMap=new Map([["[object Error]",o.error],["[object Map]",o.map],["[object Promise]",o.promise],["[object Set]",o.set],["[object WeakMap]",o.weakMap],["[object WeakSet]",o.weakSet]]),o.getInternalProto=function(s){if(Array.isArray(s))return o.array;if(s instanceof Date)return o.date;if(s instanceof RegExp)return o.regex;if(s instanceof Error)return o.error;const l=Object.prototype.toString.call(s);return a.typeMap.get(l)||o.generic}},7043:(i,o)=>{o.keys=function(a,s={}){return s.symbols!==!1?Reflect.ownKeys(a):Object.getOwnPropertyNames(a)}},3652:(i,o,a)=>{const s=a(375),l={};o.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(c,u){const d=[].concat((u=u||{}).before||[]),f=[].concat(u.after||[]),p=u.group||"?",g=u.sort||0;s(!d.includes(p),"Item cannot come before itself: ".concat(p)),s(!d.includes("?"),"Item cannot come before unassociated items"),s(!f.includes(p),"Item cannot come after itself: ".concat(p)),s(!f.includes("?"),"Item cannot come after unassociated items"),Array.isArray(c)||(c=[c]);for(const h of c){const y={seq:this._items.length,sort:g,before:d,after:f,group:p,node:h};this._items.push(y)}if(!u.manual){const h=this._sort();s(h,"item",p!=="?"?"added into group ".concat(p):"","created a dependencies error")}return this.nodes}merge(c){Array.isArray(c)||(c=[c]);for(const d of c)if(d)for(const f of d._items)this._items.push(Object.assign({},f));this._items.sort(l.mergeSort);for(let d=0;d<this._items.length;++d)this._items[d].seq=d;const u=this._sort();return s(u,"merge created a dependencies error"),this.nodes}sort(){const c=this._sort();return s(c,"sort created a dependencies error"),this.nodes}_sort(){const c={},u=Object.create(null),d=Object.create(null);for(const y of this._items){const b=y.seq,w=y.group;d[w]=d[w]||[],d[w].push(b),c[b]=y.before;for(const S of y.after)u[S]=u[S]||[],u[S].push(b)}for(const y in c){const b=[];for(const w in c[y]){const S=c[y][w];d[S]=d[S]||[],b.push(...d[S])}c[y]=b}for(const y in u)if(d[y])for(const b of d[y])c[b].push(...u[y]);const f={};for(const y in c){const b=c[y];for(const w of b)f[w]=f[w]||[],f[w].push(y)}const p={},g=[];for(let y=0;y<this._items.length;++y){let b=y;if(f[y]){b=null;for(let w=0;w<this._items.length;++w){if(p[w]===!0)continue;f[w]||(f[w]=[]);const S=f[w].length;let E=0;for(let _=0;_<S;++_)p[f[w][_]]&&++E;if(E===S){b=w;break}}}b!==null&&(p[b]=!0,g.push(b))}if(g.length!==this._items.length)return!1;const h={};for(const y of this._items)h[y.seq]=y;this._items=[],this.nodes=[];for(const y of g){const b=h[y];this.nodes.push(b.node),this._items.push(b)}return!0}},l.mergeSort=(c,u)=>c.sort===u.sort?0:c.sort<u.sort?-1:1},5380:(i,o,a)=>{const s=a(443),l=a(2178),c={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:s.URL||URL};o.analyze=function(u,d={}){if(!u)return l.code("DOMAIN_NON_EMPTY_STRING");if(typeof u!="string")throw new Error("Invalid input: domain must be a string");if(u.length>256)return l.code("DOMAIN_TOO_LONG");if(c.nonAsciiRx.test(u)){if(d.allowUnicode===!1)return l.code("DOMAIN_INVALID_UNICODE_CHARS");u=u.normalize("NFC")}if(c.domainControlRx.test(u))return l.code("DOMAIN_INVALID_CHARS");u=c.punycode(u),d.allowFullyQualified&&u[u.length-1]==="."&&(u=u.slice(0,-1));const f=d.minDomainSegments||c.minDomainSegments,p=u.split(".");if(p.length<f)return l.code("DOMAIN_SEGMENTS_COUNT");if(d.maxDomainSegments&&p.length>d.maxDomainSegments)return l.code("DOMAIN_SEGMENTS_COUNT_MAX");const g=d.tlds;if(g){const h=p[p.length-1].toLowerCase();if(g.deny&&g.deny.has(h)||g.allow&&!g.allow.has(h))return l.code("DOMAIN_FORBIDDEN_TLDS")}for(let h=0;h<p.length;++h){const y=p[h];if(!y.length)return l.code("DOMAIN_EMPTY_SEGMENT");if(y.length>63)return l.code("DOMAIN_LONG_SEGMENT");if(h<p.length-1){if(!c.domainSegmentRx.test(y))return l.code("DOMAIN_INVALID_CHARS")}else if(!c.tldSegmentRx.test(y))return l.code("DOMAIN_INVALID_TLDS_CHARS")}return null},o.isValid=function(u,d){return!o.analyze(u,d)},c.punycode=function(u){u.includes("%")&&(u=u.replace(/%/g,"%25"));try{return new c.URL("http://".concat(u)).host}catch{return u}}},1745:(i,o,a)=>{const s=a(9848),l=a(5380),c=a(2178),u={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(s.TextEncoder||TextEncoder)};o.analyze=function(d,f){return u.email(d,f)},o.isValid=function(d,f){return!u.email(d,f)},u.email=function(d,f={}){if(typeof d!="string")throw new Error("Invalid input: email must be a string");if(!d)return c.code("EMPTY_STRING");const p=!u.nonAsciiRx.test(d);if(!p){if(f.allowUnicode===!1)return c.code("FORBIDDEN_UNICODE");d=d.normalize("NFC")}const g=d.split("@");if(g.length!==2)return g.length>2?c.code("MULTIPLE_AT_CHAR"):c.code("MISSING_AT_CHAR");const[h,y]=g;if(!h)return c.code("EMPTY_LOCAL");if(!f.ignoreLength){if(d.length>254)return c.code("ADDRESS_TOO_LONG");if(u.encoder.encode(h).length>64)return c.code("LOCAL_TOO_LONG")}return u.local(h,p)||l.analyze(y,f)},u.local=function(d,f){const p=d.split(".");for(const g of p){if(!g.length)return c.code("EMPTY_LOCAL_SEGMENT");if(f){if(!u.atextRx.test(g))return c.code("INVALID_LOCAL_CHARS")}else for(const h of g){if(u.atextRx.test(h))continue;const y=u.binary(h);if(!u.atomRx.test(y))return c.code("INVALID_LOCAL_CHARS")}}},u.binary=function(d){return Array.from(u.encoder.encode(d)).map((f=>String.fromCharCode(f))).join("")},u.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,u.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:(i,o)=>{o.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},o.code=function(a){return{code:a,error:o.codes[a]}}},9959:(i,o,a)=>{const s=a(375),l=a(5752);o.regex=function(c={}){s(c.cidr===void 0||typeof c.cidr=="string","options.cidr must be a string");const u=c.cidr?c.cidr.toLowerCase():"optional";s(["required","optional","forbidden"].includes(u),"options.cidr must be one of required, optional, forbidden"),s(c.version===void 0||typeof c.version=="string"||Array.isArray(c.version),"options.version must be a string or an array of string");let d=c.version||["ipv4","ipv6","ipvfuture"];Array.isArray(d)||(d=[d]),s(d.length>=1,"options.version must have at least 1 version specified");for(let h=0;h<d.length;++h)s(typeof d[h]=="string","options.version must only contain strings"),d[h]=d[h].toLowerCase(),s(["ipv4","ipv6","ipvfuture"].includes(d[h]),"options.version contains unknown version "+d[h]+" - must be one of ipv4, ipv6, ipvfuture");d=Array.from(new Set(d));const f=d.map((h=>{if(u==="forbidden")return l.ip[h];const y="\\/".concat(h==="ipv4"?l.ip.v4Cidr:l.ip.v6Cidr);return u==="required"?"".concat(l.ip[h]).concat(y):"".concat(l.ip[h],"(?:").concat(y,")?")})),p="(?:".concat(f.join("|"),")"),g=new RegExp("^".concat(p,"$"));return{cidr:u,versions:d,regex:g,raw:p}}},5752:(i,o,a)=>{const s=a(375),l=a(6064),c={generate:function(){const u={},d="!\\$&'\\(\\)\\*\\+,;=",f="\\w-\\.~%\\dA-Fa-f"+d+":@",p="["+f+"]",g="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";u.ipv4address="(?:"+g+"\\.){3}"+g;const h="[\\dA-Fa-f]{1,4}",y="(?:"+h+":"+h+"|"+u.ipv4address+")",b="(?:"+h+":){6}"+y,w="::(?:"+h+":){5}"+y,S="(?:"+h+")?::(?:"+h+":){4}"+y,E="(?:(?:"+h+":){0,1}"+h+")?::(?:"+h+":){3}"+y,_="(?:(?:"+h+":){0,2}"+h+")?::(?:"+h+":){2}"+y,m="(?:(?:"+h+":){0,3}"+h+")?::"+h+":"+y,C="(?:(?:"+h+":){0,4}"+h+")?::"+y;u.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",u.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",u.ipv6address="(?:"+b+"|"+w+"|"+S+"|"+E+"|"+_+"|"+m+"|"+C+"|(?:(?:[\\dA-Fa-f]{1,4}:){0,5}[\\dA-Fa-f]{1,4})?::[\\dA-Fa-f]{1,4}|(?:(?:[\\dA-Fa-f]{1,4}:){0,6}[\\dA-Fa-f]{1,4})?::)",u.ipvFuture="v[\\dA-Fa-f]+\\.[\\w-\\.~"+d+":]+",u.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",u.schemeRegex=new RegExp(u.scheme);const T="[\\w-\\.~%\\dA-Fa-f"+d+":]*",O="(?:\\[(?:"+u.ipv6address+"|"+u.ipvFuture+")\\]|"+u.ipv4address+"|[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=]{1,255})",R="(?:"+T+"@)?"+O+"(?::\\d*)?",j="(?:"+T+"@)?("+O+")(?::\\d*)?",D=p+"+",L="(?:\\/[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*",V="\\/(?:"+D+L+")?",z=D+L,B="[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=@]+"+L;return u.hierPart="(?:(?:\\/\\/"+R+L+")|"+V+"|"+z+"|(?:\\/\\/\\/[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*(?:\\/[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*))",u.hierPartCapture="(?:(?:\\/\\/"+j+L+")|"+V+"|"+z+")",u.relativeRef="(?:(?:\\/\\/"+R+L+")|"+V+"|"+B+"|)",u.relativeRefCapture="(?:(?:\\/\\/"+j+L+")|"+V+"|"+B+"|)",u.query="["+f+"\\/\\?]*(?=#|$)",u.queryWithSquareBrackets="["+f+"\\[\\]\\/\\?]*(?=#|$)",u.fragment="["+f+"\\/\\?]*",u}};c.rfc3986=c.generate(),o.ip={v4Cidr:c.rfc3986.ipv4Cidr,v6Cidr:c.rfc3986.ipv6Cidr,ipv4:c.rfc3986.ipv4address,ipv6:c.rfc3986.ipv6address,ipvfuture:c.rfc3986.ipvFuture},c.createRegex=function(u){const d=c.rfc3986,f="(?:\\?"+(u.allowQuerySquareBrackets?d.queryWithSquareBrackets:d.query)+")?(?:#"+d.fragment+")?",p=u.domain?d.relativeRefCapture:d.relativeRef;if(u.relativeOnly)return c.wrap(p+f);let g="";if(u.scheme){s(u.scheme instanceof RegExp||typeof u.scheme=="string"||Array.isArray(u.scheme),"scheme must be a RegExp, String, or Array");const b=[].concat(u.scheme);s(b.length>=1,"scheme must have at least 1 scheme specified");const w=[];for(let S=0;S<b.length;++S){const E=b[S];s(E instanceof RegExp||typeof E=="string","scheme at position "+S+" must be a RegExp or String"),E instanceof RegExp?w.push(E.source.toString()):(s(d.schemeRegex.test(E),"scheme at position "+S+" must be a valid scheme"),w.push(l(E)))}g=w.join("|")}const h="(?:"+(g?"(?:"+g+")":d.scheme)+":"+(u.domain?d.hierPartCapture:d.hierPart)+")",y=u.allowRelative?"(?:"+h+"|"+p+")":h;return c.wrap(y+f,g)},c.wrap=function(u,d){return{raw:u="(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])".concat(u),regex:new RegExp("^".concat(u,"$")),scheme:d}},c.uriRegex=c.createRegex({}),o.regex=function(u={}){return u.scheme||u.allowRelative||u.relativeOnly||u.allowQuerySquareBrackets||u.domain?c.createRegex(u):c.uriRegex}},1447:(i,o)=>{const a={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*\.?[0-9]*){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};o.Parser=class{constructor(s,l={}){if(!l[a.settings]&&l.constants)for(const c in l.constants){const u=l.constants[c];if(u!==null&&!["boolean","number","string"].includes(typeof u))throw new Error("Formula constant ".concat(c," contains invalid ").concat(typeof u," value type"))}this.settings=l[a.settings]?l:Object.assign({[a.settings]:!0,constants:{},functions:{}},l),this.single=null,this._parts=null,this._parse(s)}_parse(s){let l=[],c="",u=0,d=!1;const f=g=>{if(u)throw new Error("Formula missing closing parenthesis");const h=l.length?l[l.length-1]:null;if(d||c||g){if(h&&h.type==="reference"&&g===")")return h.type="function",h.value=this._subFormula(c,h.value),void(c="");if(g===")"){const y=new o.Parser(c,this.settings);l.push({type:"segment",value:y})}else if(d){if(d==="]")return l.push({type:"reference",value:c}),void(c="");l.push({type:"literal",value:c})}else if(a.operatorCharacters.includes(c))h&&h.type==="operator"&&a.operators.includes(h.value+c)?h.value+=c:l.push({type:"operator",value:c});else if(c.match(a.numberRx))l.push({type:"constant",value:parseFloat(c)});else if(this.settings.constants[c]!==void 0)l.push({type:"constant",value:this.settings.constants[c]});else{if(!c.match(a.tokenRx))throw new Error("Formula contains invalid token: ".concat(c));l.push({type:"reference",value:c})}c=""}};for(const g of s)d?g===d?(f(),d=!1):c+=g:u?g==="("?(c+=g,++u):g===")"?(--u,u?c+=g:f(g)):c+=g:g in a.literals?d=a.literals[g]:g==="("?(f(),++u):a.operatorCharacters.includes(g)?(f(),c=g,f()):g!==" "?c+=g:f();f(),l=l.map(((g,h)=>g.type!=="operator"||g.value!=="-"||h&&l[h-1].type!=="operator"?g:{type:"operator",value:"n"}));let p=!1;for(const g of l){if(g.type==="operator"){if(a.operatorsPrefix.includes(g.value))continue;if(!p)throw new Error("Formula contains an operator in invalid position");if(!a.operators.includes(g.value))throw new Error("Formula contains an unknown operator ".concat(g.value))}else if(p)throw new Error("Formula missing expected operator");p=!p}if(!p)throw new Error("Formula contains invalid trailing operator");l.length===1&&["reference","literal","constant"].includes(l[0].type)&&(this.single={type:l[0].type==="reference"?"reference":"value",value:l[0].value}),this._parts=l.map((g=>{if(g.type==="operator")return a.operatorsPrefix.includes(g.value)?g:g.value;if(g.type!=="reference")return g.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(g.value))throw new Error("Formula contains invalid reference ".concat(g.value));return this.settings.reference?this.settings.reference(g.value):a.reference(g.value)}))}_subFormula(s,l){const c=this.settings.functions[l];if(typeof c!="function")throw new Error("Formula contains unknown function ".concat(l));let u=[];if(s){let d="",f=0,p=!1;const g=()=>{if(!d)throw new Error("Formula contains function ".concat(l," with invalid arguments ").concat(s));u.push(d),d=""};for(let h=0;h<s.length;++h){const y=s[h];p?(d+=y,y===p&&(p=!1)):y in a.literals&&!f?(d+=y,p=a.literals[y]):y!==","||f?(d+=y,y==="("?++f:y===")"&&--f):g()}g()}return u=u.map((d=>new o.Parser(d,this.settings))),function(d){const f=[];for(const p of u)f.push(p.evaluate(d));return c.call(d,...f)}}evaluate(s){const l=this._parts.slice();for(let c=l.length-2;c>=0;--c){const u=l[c];if(u&&u.type==="operator"){const d=l[c+1];l.splice(c+1,1);const f=a.evaluate(d,s);l[c]=a.single(u.value,f)}}return a.operatorsOrder.forEach((c=>{for(let u=1;u<l.length-1;)if(c.includes(l[u])){const d=l[u],f=a.evaluate(l[u-1],s),p=a.evaluate(l[u+1],s);l.splice(u,2);const g=a.calculate(d,f,p);l[u-1]=g===0?0:g}else u+=2})),a.evaluate(l[0],s)}},o.Parser.prototype[a.symbol]=!0,a.reference=function(s){return function(l){return l&&l[s]!==void 0?l[s]:null}},a.evaluate=function(s,l){return s===null?null:typeof s=="function"?s(l):s[a.symbol]?s.evaluate(l):s},a.single=function(s,l){if(s==="!")return!l;const c=-l;return c===0?0:c},a.calculate=function(s,l,c){if(s==="??")return a.exists(l)?l:c;if(typeof l=="string"||typeof c=="string"){if(s==="+")return(l=a.exists(l)?l:"")+(a.exists(c)?c:"")}else switch(s){case"^":return Math.pow(l,c);case"*":return l*c;case"/":return l/c;case"%":return l%c;case"+":return l+c;case"-":return l-c}switch(s){case"<":return l<c;case"<=":return l<=c;case">":return l>c;case">=":return l>=c;case"==":return l===c;case"!=":return l!==c;case"&&":return l&&c;case"||":return l||c}return null},a.exists=function(s){return s!=null}},9926:()=>{},5688:()=>{},9708:()=>{},1152:()=>{},443:()=>{},9848:()=>{}},r={},(function i(o){var a=r[o];if(a!==void 0)return a.exports;var s=r[o]={exports:{}};return n[o](s,s.exports,i),s.exports})(5107);var n,r}))})(pz)),pz.exports}var cye=lye();const Mo=Ga(cye),uye=U(d4).withConfig({displayName:"LoadingSpinner__StyledLoader"})([`
  width: `,`;
  height: `,`;
  color: `,`;
  `,`;
`],({$size:e})=>e,({$size:e})=>e,({$color:e,theme:t})=>e?t.color[e]:t.color.pink,Um),wv=({size:e="18px",color:t="pink"})=>{const n=x_();return v.jsx(uye,{"data-hook":"loading-spinner",$size:e,$color:t,theme:n})},dye=b_([`
  @font-face {
    font-family: 'PPFormula';
    src: url('/fonts/PPFormula-SemiExtendedBold.woff2') format('woff2'),
         url('/fonts/PPFormula-SemiExtendedBold.woff') format('woff'),
         url('/fonts/PPFormula-SemiExtendedBold.ttf') format('truetype');
    font-weight: 700;
    font-style: normal;
    font-display: swap;
  }
`]),fye=U.div.withConfig({displayName:"login__LoginContainer"})([`
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  background: `,`;
  overflow-y: auto;
`],({theme:e})=>e.color.loginBackground),hye=U.img.withConfig({displayName:"login__LoginBackground"})([`
  position: absolute;
  top: 1%;
  left: 0;
  width: 100%;
  max-height: 100vh;
  object-fit: cover;
  z-index: 0;
  pointer-events: none;
  user-select: none;
`]),pye=U.div.withConfig({displayName:"login__LogoContainer"})([`
  padding: 2.4rem 4.8rem;
  display: flex;
  justify-content: center;
  align-items: center;
  border-bottom: 1px solid `,`;
`],({theme:e})=>e.color.selection),mye=U.img.withConfig({displayName:"login__QuestDBLogo"})([`
  display: block;
  width: 48px;
  height: 48px;
`]),gye=U.div.withConfig({displayName:"login__PlugsContainer"})([`
  width: 4.8rem;
  height: 4.8rem;
  padding: 1.2rem;
  border-radius: 0.4rem;
  background: rgba(220, 40, 40, 0.64);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;

  img {
    width: 24px;
    height: 24px;
    flex-shrink: 0;
  }
`]),yye=U.div.withConfig({displayName:"login__CloseContainer"})([`
  border: 1px solid #6b7280;
  border-radius: 4px;
  padding: 1.2rem;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  &:hover {
    background: #6b7280;
  }
`]),vye=U.div.withConfig({displayName:"login__Container"})([`
  position: relative;
  z-index: 1;
  margin: `,`;
  background: `,`;
  width: 560px;
  border-radius: 8px;
  border: 1px solid `,`;
  font-size: 16px;
`],({$hasRedirectError:e})=>e?"0 auto":"auto",({theme:e})=>e.color.backgroundDarker,({theme:e})=>e.color.selection),bye=U.h2.withConfig({displayName:"login__Title"})([`
  width: 100%;
  color: white;
  font-family: "PPFormula", "Open Sans", sans-serif;
  font-weight: 700;
  font-size: 33.75px;
  text-align: center;
  margin: 0;
  margin-top: 3.2rem;
`]),wye=U.div.withConfig({displayName:"login__FormBody"})([`
  padding: 3.2rem 4.8rem;
  display: flex;
  flex-direction: column;
  gap: 2rem;
`]),xye=U.div.withConfig({displayName:"login__Separator"})([`
  height: 1px;
  background: `,`;
  width: 100%;
`],({theme:e})=>e.color.selection),_ye=U.div.withConfig({displayName:"login__FormFooter"})([`
  padding: 2.4rem 4.8rem;
  display: flex;
  justify-content: center;
`]),Eye=U.div.withConfig({displayName:"login__SSOCard"})([`
  display: flex;
  flex-direction: column;
  align-items: center;
  button {
    padding-top: 2rem;
    padding-bottom: 2rem;
    width: 100%;
    margin-bottom: 10px;
  }
  margin: 3.2rem 4.8rem 0 4.8rem;
  gap: 2rem;
`]),Sye=U.div.withConfig({displayName:"login__Card"})([`
  border-radius: `,`;
  transition: height 0.5s ease;

  button[type="submit"] {
    background: `,`;
    border-color: `,`;
    padding-top: 2rem;
    padding-bottom: 2rem;
    border-radius: 5px;
    width: 100%;

    &:hover {
      background: `,`;
      border-color: `,`;
    }
  }

  button {
    padding-top: 2rem;
    padding-bottom: 2rem;
    border-radius: 5px;
  }

  input {
    display: flex;
    padding: 12px;
    height: 4.5rem;
    align-items: center;
    align-self: stretch;
    border-radius: 8px;
    border: 1px solid #6b7280;
    background: `,`;
    font-size: 1.4rem;
    line-height: 1.5;

    &:focus,
    &:active,
    &:focus-visible {
      background: `,` !important;
      border-color: `,` !important;
    }
  }

  label {
    font-size: 1.6rem;
    font-family: monospace;
    text-transform: uppercase;
  }
`],({theme:e})=>e.borderRadius,({theme:e})=>e.color.pinkDarker,({theme:e})=>e.color.pinkDarker,({theme:e})=>e.color.pinkPrimary,({theme:e})=>e.color.pinkPrimary,({theme:e})=>e.color.background,({theme:e})=>e.color.background,({theme:e})=>e.color.pinkPrimary),gz=U.div.withConfig({displayName:"login__ErrorContainer"})([`
  display: flex;
  align-items: center;
  gap: 1.5rem;
  padding: 1.2rem 2.4rem 1.2rem 1.8rem;
  border-radius: 0.8rem;
  border: 1.5px solid rgba(220, 40, 40, 0.72);
  border-left: 6px solid rgba(220, 40, 40, 0.72);
`]),Cye=U(gz).withConfig({displayName:"login__RedirectErrorContainer"})([`
  margin-top: auto;
  margin-bottom: 3.2rem;
  position: relative;
  z-index: 1;
  border-color: rgba(220, 40, 40);
  width: 560px;
  background: `,`;
`],({theme:e})=>e.color.backgroundDarker),yz=U(vn).withConfig({displayName:"login__StyledButton"})([`
  margin: 0 !important;
  `,`

  `,`
`],({skin:e})=>e==="primary"&&Vn([`
      background: `,` !important;
      border-color: `,` !important;

      &:hover {
        background: `,` !important;
        border-color: `,` !important;
      }
    `],({theme:t})=>t.color.pinkDarker,({theme:t})=>t.color.pinkDarker,({theme:t})=>t.color.pinkPrimary,({theme:t})=>t.color.pinkPrimary),({skin:e})=>e==="secondary"&&Vn([`
      border-radius: 4px !important;
      border: 1px solid #6b7280 !important;
      background: transparent !important;

      &:hover {
        background: #6b7280 !important;
        border-color: #6b7280 !important;
      }
    `])),Tye=U.div.withConfig({displayName:"login__Line"})([`
  position: relative;
  text-align: center;
  margin-top: 1.2rem;
  width: 100%;

  &:before {
    content: "";
    position: absolute;
    top: 50%;
    left: 0;
    width: 100%;
    height: 1px;
    background: `,`;
    background: linear-gradient(
      90deg,
      rgba(55, 65, 81, 0) 0%,
      #374151 50%,
      rgba(55, 65, 81, 0) 100%
    );
  }
`],({theme:e})=>e.color.selection),Aye=U(st).withConfig({displayName:"login__LineText"})([`
  position: relative;
  z-index: 1;
  background: `,`;
  padding: 0 2.4rem;
  font-family: monospace;
  text-transform: uppercase;
`],({theme:e})=>e.color.backgroundDarker),Iye=U.div.withConfig({displayName:"login__Footer"})([`
  text-align: center;
  margin-right: auto;
  margin-left: auto;
  align-items: center;
  display: flex;
  gap: 2rem;
  margin: 2rem 0;
`]),Oye=U.div.withConfig({displayName:"login__VersionBadge"})([`
  display: flex;
  padding: 0.6rem 1.1rem;
  justify-content: center;
  align-items: center;
  border-radius: 0.4rem;
  border: 0.075rem solid #521427;
  background: #290a13;
`]),kye=Mo.object({username:Mo.string().required().messages({"string.empty":"Username is required"}),password:Mo.string().required().messages({"string.empty":"Password is required"})}),Nye=({onOAuthLogin:e,onBasicAuthSuccess:t,errorTitle:n,errorMessage:r,isDisconnection:i,resetErrors:o})=>{const{settings:a}=Rl(),s=x_(),l=a["release.type"]==="EE",[c,u]=ie.useState(),d=a["acl.oidc.enabled"]&&a["acl.oidc.client.id"]?lU(a["acl.oidc.client.id"]):"",f=a["release.version"],[p,g]=x.useState(!1),h=l?{query:b=>`alter user '${b}' create token type rest with ttl '1d' refresh transient`,store:async(b,w,S)=>{const E=(await b.json()).dataset[0][1];Is(Mn.REST_TOKEN,E)}}:{query:()=>"select * from long_sequence(1)",store:(b,w,S)=>{Is(Mn.BASIC_AUTH_HEADER,`Basic ${btoa(`${w}:${S}`)}`)}},y=async b=>{o(),g(!0);const{username:w,password:S}=b;try{const E=await fetch(`exec?query=${h.query(w)}&session=true`,{headers:{Authorization:`Basic ${btoa(`${w}:${S}`)}`}});if(E.status===200)return await h.store(E,w,S),t();E.status===401?u("Invalid username or password"):E.status===403?u("You are not authorized to use the Web Console. Contact your account administrator."):u("Error occurred while trying to login")}catch{u("Error occurred while trying to login")}finally{g(!1)}};return a["acl.basic.auth.realm.enabled"]?null:v.jsxs(v.Fragment,{children:[v.jsx(dye,{}),v.jsxs(fye,{"data-hook":"auth-login",children:[v.jsx(hye,{src:"assets/login-background.svg","aria-hidden":"true",alt:""}),(n||r)&&v.jsxs(Cye,{children:[v.jsx(gye,{children:i?v.jsx("img",{src:"assets/plugs.svg",width:"24",height:"24",alt:"Plug",style:{flexShrink:"0"}}):v.jsx(g4,{size:"24px",color:s.color.foreground,style:{flexShrink:"0"}})}),v.jsxs(tt,{flexDirection:"column",gap:"0",align:"flex-start",children:[v.jsx(st,{size:"lg",weight:600,color:"red",children:n??"Something went wrong."}),v.jsx(st,{size:"lg",color:"red",children:r??"Error logging in. Please try again."})]}),v.jsx(yye,{role:"presentation",onClick:o,children:v.jsx(Xc,{size:"24px",color:s.color.foreground,style:{flexShrink:"0"}})})]}),v.jsxs(vye,{$hasRedirectError:!!n||!!r,children:[v.jsx(pye,{children:v.jsx(mye,{src:"assets/questdb.svg",alt:"QuestDB logotype",width:"48",height:"48"})}),v.jsx(bye,{children:"Sign in to QuestDB"}),v.jsxs(Sye,{children:[a["acl.oidc.enabled"]&&v.jsxs(Eye,{children:[!!d&&v.jsxs(yz,{"data-hook":"button-sso-continue",skin:"primary",prefixIcon:v.jsx(m4,{size:"18px"}),onClick:()=>e(!1),children:["Continue as ",d]}),v.jsx(yz,{"data-hook":"button-sso-login",skin:d?"secondary":"primary",prefixIcon:d?void 0:v.jsx(DU,{size:"18px"}),onClick:()=>e(!0),children:d?"Choose a different account":"Single Sign-On (SSO)"}),v.jsx(Tye,{children:v.jsx(Aye,{color:"gray2",children:"or"})})]}),v.jsxs(wr,{name:"login",onSubmit:y,defaultValues:{},validationSchema:kye,children:[v.jsxs(wye,{children:[v.jsx(wr.Item,{name:"username",label:"Username",children:v.jsx(wr.Input,{name:"username",placeholder:"Enter username"})}),v.jsx(wr.Item,{name:"password",label:"Password",children:v.jsx(wr.Input,{name:"password",type:"password",placeholder:"Enter password"})}),c&&v.jsxs(gz,{children:[v.jsx(fz,{size:"15px",color:s.color.red,style:{flexShrink:"0"}}),v.jsxs(tt,{flexDirection:"column",gap:"0",align:"flex-start",children:[v.jsx(st,{size:"lg",weight:600,color:"red",children:"Sign in failed."}),v.jsx(st,{size:"lg",color:"red",children:c})]})]})]}),v.jsx(xye,{}),v.jsx(_ye,{children:v.jsx(wr.Submit,{variant:"primary",children:p?v.jsx(wv,{color:"foreground",size:"18px"}):"Sign In"})})]})]})]}),v.jsxs(Iye,{children:[v.jsxs(st,{size:"sm",color:"gray2",children:["Copyright \xA9 ",new Date().getFullYear()," QuestDB. All rights reserved."]}),v.jsx(Oye,{children:v.jsxs(st,{size:"sm",color:"gray2",children:["QuestDB ",l?"Enterprise":""," ",f]})})]})]})]})};var xv={exports:{}};xv.exports;var vz;function Rye(){return vz||(vz=1,(function(e,t){var n=200,r="__lodash_hash_undefined__",i=1,o=2,a=9007199254740991,s="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Function]",g="[object GeneratorFunction]",h="[object Map]",y="[object Number]",b="[object Null]",w="[object Object]",S="[object Promise]",E="[object Proxy]",_="[object RegExp]",m="[object Set]",C="[object String]",T="[object Symbol]",O="[object Undefined]",R="[object WeakMap]",j="[object ArrayBuffer]",D="[object DataView]",L="[object Float32Array]",V="[object Float64Array]",z="[object Int8Array]",B="[object Int16Array]",H="[object Int32Array]",J="[object Uint8Array]",ne="[object Uint8ClampedArray]",q="[object Uint16Array]",ee="[object Uint32Array]",te=/[\\^$.*+?()[\]{}|]/g,$=/^\[object .+?Constructor\]$/,ae=/^(?:0|[1-9]\d*)$/,ue={};ue[L]=ue[V]=ue[z]=ue[B]=ue[H]=ue[J]=ue[ne]=ue[q]=ue[ee]=!0,ue[s]=ue[l]=ue[j]=ue[u]=ue[D]=ue[d]=ue[f]=ue[p]=ue[h]=ue[y]=ue[w]=ue[_]=ue[m]=ue[C]=ue[R]=!1;var me=typeof _l=="object"&&_l&&_l.Object===Object&&_l,Fe=typeof self=="object"&&self&&self.Object===Object&&self,Ie=me||Fe||Function("return this")(),Ee=t&&!t.nodeType&&t,He=Ee&&!0&&e&&!e.nodeType&&e,it=He&&He.exports===Ee,St=it&&me.process,xt=(function(){try{return St&&St.binding&&St.binding("util")}catch{}})(),Ct=xt&&xt.isTypedArray;function We(ge,Y){for(var ve=-1,Re=ge==null?0:ge.length,Lt=0,$t=[];++ve<Re;){var on=ge[ve];Y(on,ve,ge)&&($t[Lt++]=on)}return $t}function Oe(ge,Y){for(var ve=-1,Re=Y.length,Lt=ge.length;++ve<Re;)ge[Lt+ve]=Y[ve];return ge}function ye(ge,Y){for(var ve=-1,Re=ge==null?0:ge.length;++ve<Re;)if(Y(ge[ve],ve,ge))return!0;return!1}function Ve(ge,Y){for(var ve=-1,Re=Array(ge);++ve<ge;)Re[ve]=Y(ve);return Re}function Xe(ge){return function(Y){return ge(Y)}}function se(ge,Y){return ge.has(Y)}function we(ge,Y){return ge==null?void 0:ge[Y]}function Le(ge){var Y=-1,ve=Array(ge.size);return ge.forEach(function(Re,Lt){ve[++Y]=[Lt,Re]}),ve}function ot(ge,Y){return function(ve){return ge(Y(ve))}}function _e(ge){var Y=-1,ve=Array(ge.size);return ge.forEach(function(Re){ve[++Y]=Re}),ve}var Ce=Array.prototype,dt=Function.prototype,Ne=Object.prototype,Ye=Ie["__core-js_shared__"],jt=dt.toString,qt=Ne.hasOwnProperty,Jt=(function(){var ge=/[^.]+$/.exec(Ye&&Ye.keys&&Ye.keys.IE_PROTO||"");return ge?"Symbol(src)_1."+ge:""})(),Ht=Ne.toString,en=RegExp("^"+jt.call(qt).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),hn=it?Ie.Buffer:void 0,Zt=Ie.Symbol,Tt=Ie.Uint8Array,xn=Ne.propertyIsEnumerable,Jn=Ce.splice,ir=Zt?Zt.toStringTag:void 0,Bt=Object.getOwnPropertySymbols,Sr=hn?hn.isBuffer:void 0,_r=ot(Object.keys,Object),mr=bi(Ie,"DataView"),ri=bi(Ie,"Map"),Hn=bi(Ie,"Promise"),fi=bi(Ie,"Set"),Ji=bi(Ie,"WeakMap"),Lr=bi(Object,"create"),or=wi(mr),Cr=wi(ri),Or=wi(Hn),er=wi(fi),Zn=wi(Ji),yr=Zt?Zt.prototype:void 0,Hr=yr?yr.valueOf:void 0;function Gr(ge){var Y=-1,ve=ge==null?0:ge.length;for(this.clear();++Y<ve;){var Re=ge[Y];this.set(Re[0],Re[1])}}function Kr(){this.__data__=Lr?Lr(null):{},this.size=0}function $i(ge){var Y=this.has(ge)&&delete this.__data__[ge];return this.size-=Y?1:0,Y}function Ni(ge){var Y=this.__data__;if(Lr){var ve=Y[ge];return ve===r?void 0:ve}return qt.call(Y,ge)?Y[ge]:void 0}function Pi(ge){var Y=this.__data__;return Lr?Y[ge]!==void 0:qt.call(Y,ge)}function ln(ge,Y){var ve=this.__data__;return this.size+=this.has(ge)?0:1,ve[ge]=Lr&&Y===void 0?r:Y,this}Gr.prototype.clear=Kr,Gr.prototype.delete=$i,Gr.prototype.get=Ni,Gr.prototype.has=Pi,Gr.prototype.set=ln;function Wn(ge){var Y=-1,ve=ge==null?0:ge.length;for(this.clear();++Y<ve;){var Re=ge[Y];this.set(Re[0],Re[1])}}function Tr(){this.__data__=[],this.size=0}function Me(ge){var Y=this.__data__,ve=vi(Y,ge);if(ve<0)return!1;var Re=Y.length-1;return ve==Re?Y.pop():Jn.call(Y,ve,1),--this.size,!0}function ut(ge){var Y=this.__data__,ve=vi(Y,ge);return ve<0?void 0:Y[ve][1]}function It(ge){return vi(this.__data__,ge)>-1}function Ue(ge,Y){var ve=this.__data__,Re=vi(ve,ge);return Re<0?(++this.size,ve.push([ge,Y])):ve[Re][1]=Y,this}Wn.prototype.clear=Tr,Wn.prototype.delete=Me,Wn.prototype.get=ut,Wn.prototype.has=It,Wn.prototype.set=Ue;function lt(ge){var Y=-1,ve=ge==null?0:ge.length;for(this.clear();++Y<ve;){var Re=ge[Y];this.set(Re[0],Re[1])}}function pt(){this.size=0,this.__data__={hash:new Gr,map:new(ri||Wn),string:new Gr}}function Ut(ge){var Y=Ri(this,ge).delete(ge);return this.size-=Y?1:0,Y}function Pt(ge){return Ri(this,ge).get(ge)}function In(ge){return Ri(this,ge).has(ge)}function mn(ge,Y){var ve=Ri(this,ge),Re=ve.size;return ve.set(ge,Y),this.size+=ve.size==Re?0:1,this}lt.prototype.clear=pt,lt.prototype.delete=Ut,lt.prototype.get=Pt,lt.prototype.has=In,lt.prototype.set=mn;function Xt(ge){var Y=-1,ve=ge==null?0:ge.length;for(this.__data__=new lt;++Y<ve;)this.add(ge[Y])}function un(ge){return this.__data__.set(ge,r),this}function Ln(ge){return this.__data__.has(ge)}Xt.prototype.add=Xt.prototype.push=un,Xt.prototype.has=Ln;function Yt(ge){var Y=this.__data__=new Wn(ge);this.size=Y.size}function tn(){this.__data__=new Wn,this.size=0}function Fn(ge){var Y=this.__data__,ve=Y.delete(ge);return this.size=Y.size,ve}function hr(ge){return this.__data__.get(ge)}function dn(ge){return this.__data__.has(ge)}function Dr(ge,Y){var ve=this.__data__;if(ve instanceof Wn){var Re=ve.__data__;if(!ri||Re.length<n-1)return Re.push([ge,Y]),this.size=++ve.size,this;ve=this.__data__=new lt(Re)}return ve.set(ge,Y),this.size=ve.size,this}Yt.prototype.clear=tn,Yt.prototype.delete=Fn,Yt.prototype.get=hr,Yt.prototype.has=dn,Yt.prototype.set=Dr;function Ir(ge,Y){var ve=ii(ge),Re=!ve&&xl(ge),Lt=!ve&&!Re&&Wi(ge),$t=!ve&&!Re&&!Lt&&Zi(ge),on=ve||Re||Lt||$t,$n=on?Ve(ge.length,String):[],Dn=$n.length;for(var A in ge)qt.call(ge,A)&&!(on&&(A=="length"||Lt&&(A=="offset"||A=="parent")||$t&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||pa(A,Dn)))&&$n.push(A);return $n}function vi(ge,Y){for(var ve=ge.length;ve--;)if(Oo(ge[ve][0],Y))return ve;return-1}function Rn(ge,Y,ve){var Re=Y(ge);return ii(ge)?Re:Oe(Re,ve(ge))}function Sn(ge){return ge==null?ge===void 0?O:b:ir&&ir in Object(ge)?Eo(ge):qi(ge)}function On(ge){return Ai(ge)&&Sn(ge)==s}function kr(ge,Y,ve,Re,Lt){return ge===Y?!0:ge==null||Y==null||!Ai(ge)&&!Ai(Y)?ge!==ge&&Y!==Y:Cn(ge,Y,ve,Re,kr,Lt)}function Cn(ge,Y,ve,Re,Lt,$t){var on=ii(ge),$n=ii(Y),Dn=on?l:Hi(ge),A=$n?l:Hi(Y);Dn=Dn==s?w:Dn,A=A==s?w:A;var N=Dn==w,M=A==w,F=Dn==A;if(F&&Wi(ge)){if(!Wi(Y))return!1;on=!0,N=!1}if(F&&!N)return $t||($t=new Yt),on||Zi(ge)?Xr(ge,Y,ve,Re,Lt,$t):Vr(ge,Y,Dn,ve,Re,Lt,$t);if(!(ve&i)){var Q=N&&qt.call(ge,"__wrapped__"),Z=M&&qt.call(Y,"__wrapped__");if(Q||Z){var le=Q?ge.value():ge,Se=Z?Y.value():Y;return $t||($t=new Yt),Lt(le,Se,ve,Re,$t)}}return F?($t||($t=new Yt),ti(ge,Y,ve,Re,Lt,$t)):!1}function Ti(ge){if(!Fo(ge)||qn(ge))return!1;var Y=yo(ge)?en:$;return Y.test(wi(ge))}function gr(ge){return Ai(ge)&&Di(ge.length)&&!!ue[Sn(ge)]}function Ar(ge){if(!Vi(ge))return _r(ge);var Y=[];for(var ve in Object(ge))qt.call(ge,ve)&&ve!="constructor"&&Y.push(ve);return Y}function Xr(ge,Y,ve,Re,Lt,$t){var on=ve&i,$n=ge.length,Dn=Y.length;if($n!=Dn&&!(on&&Dn>$n))return!1;var A=$t.get(ge);if(A&&$t.get(Y))return A==Y;var N=-1,M=!0,F=ve&o?new Xt:void 0;for($t.set(ge,Y),$t.set(Y,ge);++N<$n;){var Q=ge[N],Z=Y[N];if(Re)var le=on?Re(Z,Q,N,Y,ge,$t):Re(Q,Z,N,ge,Y,$t);if(le!==void 0){if(le)continue;M=!1;break}if(F){if(!ye(Y,function(Se,Te){if(!se(F,Te)&&(Q===Se||Lt(Q,Se,ve,Re,$t)))return F.push(Te)})){M=!1;break}}else if(!(Q===Z||Lt(Q,Z,ve,Re,$t))){M=!1;break}}return $t.delete(ge),$t.delete(Y),M}function Vr(ge,Y,ve,Re,Lt,$t,on){switch(ve){case D:if(ge.byteLength!=Y.byteLength||ge.byteOffset!=Y.byteOffset)return!1;ge=ge.buffer,Y=Y.buffer;case j:return!(ge.byteLength!=Y.byteLength||!$t(new Tt(ge),new Tt(Y)));case u:case d:case y:return Oo(+ge,+Y);case f:return ge.name==Y.name&&ge.message==Y.message;case _:case C:return ge==Y+"";case h:var $n=Le;case m:var Dn=Re&i;if($n||($n=_e),ge.size!=Y.size&&!Dn)return!1;var A=on.get(ge);if(A)return A==Y;Re|=o,on.set(ge,Y);var N=Xr($n(ge),$n(Y),Re,Lt,$t,on);return on.delete(ge),N;case T:if(Hr)return Hr.call(ge)==Hr.call(Y)}return!1}function ti(ge,Y,ve,Re,Lt,$t){var on=ve&i,$n=co(ge),Dn=$n.length,A=co(Y),N=A.length;if(Dn!=N&&!on)return!1;for(var M=Dn;M--;){var F=$n[M];if(!(on?F in Y:qt.call(Y,F)))return!1}var Q=$t.get(ge);if(Q&&$t.get(Y))return Q==Y;var Z=!0;$t.set(ge,Y),$t.set(Y,ge);for(var le=on;++M<Dn;){F=$n[M];var Se=ge[F],Te=Y[F];if(Re)var Je=on?Re(Te,Se,F,Y,ge,$t):Re(Se,Te,F,ge,Y,$t);if(!(Je===void 0?Se===Te||Lt(Se,Te,ve,Re,$t):Je)){Z=!1;break}le||(le=F=="constructor")}if(Z&&!le){var yt=ge.constructor,Rt=Y.constructor;yt!=Rt&&"constructor"in ge&&"constructor"in Y&&!(typeof yt=="function"&&yt instanceof yt&&typeof Rt=="function"&&Rt instanceof Rt)&&(Z=!1)}return $t.delete(ge),$t.delete(Y),Z}function co(ge){return Rn(ge,oa,En)}function Ri(ge,Y){var ve=ge.__data__;return hi(Y)?ve[typeof Y=="string"?"string":"hash"]:ve.map}function bi(ge,Y){var ve=we(ge,Y);return Ti(ve)?ve:void 0}function Eo(ge){var Y=qt.call(ge,ir),ve=ge[ir];try{ge[ir]=void 0;var Re=!0}catch{}var Lt=Ht.call(ge);return Re&&(Y?ge[ir]=ve:delete ge[ir]),Lt}var En=Bt?function(ge){return ge==null?[]:(ge=Object(ge),We(Bt(ge),function(Y){return xn.call(ge,Y)}))}:ma,Hi=Sn;(mr&&Hi(new mr(new ArrayBuffer(1)))!=D||ri&&Hi(new ri)!=h||Hn&&Hi(Hn.resolve())!=S||fi&&Hi(new fi)!=m||Ji&&Hi(new Ji)!=R)&&(Hi=function(ge){var Y=Sn(ge),ve=Y==w?ge.constructor:void 0,Re=ve?wi(ve):"";if(Re)switch(Re){case or:return D;case Cr:return h;case Or:return S;case er:return m;case Zn:return R}return Y});function pa(ge,Y){return Y=Y??a,!!Y&&(typeof ge=="number"||ae.test(ge))&&ge>-1&&ge%1==0&&ge<Y}function hi(ge){var Y=typeof ge;return Y=="string"||Y=="number"||Y=="symbol"||Y=="boolean"?ge!=="__proto__":ge===null}function qn(ge){return!!Jt&&Jt in ge}function Vi(ge){var Y=ge&&ge.constructor,ve=typeof Y=="function"&&Y.prototype||Ne;return ge===ve}function qi(ge){return Ht.call(ge)}function wi(ge){if(ge!=null){try{return jt.call(ge)}catch{}try{return ge+""}catch{}}return""}function Oo(ge,Y){return ge===Y||ge!==ge&&Y!==Y}var xl=On((function(){return arguments})())?On:function(ge){return Ai(ge)&&qt.call(ge,"callee")&&!xn.call(ge,"callee")},ii=Array.isArray;function go(ge){return ge!=null&&Di(ge.length)&&!yo(ge)}var Wi=Sr||ko;function Fr(ge,Y){return kr(ge,Y)}function yo(ge){if(!Fo(ge))return!1;var Y=Sn(ge);return Y==p||Y==g||Y==c||Y==E}function Di(ge){return typeof ge=="number"&&ge>-1&&ge%1==0&&ge<=a}function Fo(ge){var Y=typeof ge;return ge!=null&&(Y=="object"||Y=="function")}function Ai(ge){return ge!=null&&typeof ge=="object"}var Zi=Ct?Xe(Ct):gr;function oa(ge){return go(ge)?Ir(ge):Ar(ge)}function ma(){return[]}function ko(){return!1}e.exports=Fr})(xv,xv.exports)),xv.exports}var jye=Rye();const _v=Ga(jye);Z1=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("g",{"data-name":"Layer 2"},x.createElement("path",{d:"M9.86 18a1 1 0 0 1-.73-.32l-4.86-5.17a1 1 0 1 1 1.46-1.37l4.12 4.39 8.41-9.2a1 1 0 1 1 1.48 1.34l-9.14 10a1 1 0 0 1-.73.33z","data-name":"checkmark"})))}),Z1.displayName="CheckmarkOutline",J1=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("g",{"data-name":"Layer 2"},x.createElement("path",{d:"m13.41 12 4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29-4.3 4.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4.29-4.3 4.29 4.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z","data-name":"close"})))}),J1.displayName="CloseOutline";var bz=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("g",{"data-name":"Layer 2"},x.createElement("g",{"data-name":"info"},x.createElement("path",{d:"M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"}),x.createElement("circle",{cx:12,cy:8,r:1}),x.createElement("path",{d:"M12 10a1 1 0 0 0-1 1v5a1 1 0 0 0 2 0v-5a1 1 0 0 0-1-1z"}))))});bz.displayName="InfoOutline";const Lye={view:0},Mye=(e,t)=>({...e,...t}),wz=x.createContext({settings:{},preferences:{},consoleConfig:{},warnings:[],refreshSettingsAndPreferences:()=>Promise.resolve({settings:{},preferences:{}})}),Pye=U.div.withConfig({displayName:"SettingsProvider__TextContainer"})([`
  display: flex;
  flex-direction: column;
  padding: 2.4rem;
  gap: 2.8rem;
`]),Dye=U(vn).withConfig({displayName:"SettingsProvider__RefreshButton"})([`
  padding: 1.2rem;
  height: unset !important;
`]),Fye=U.img.withConfig({displayName:"SettingsProvider__Whoops"})([`
  width: auto;
  height: auto;

  @media (max-width: 1000px) {
    width: 600px;
    height: auto;
  }
`]),Uye=U(st).attrs({color:"red",size:"md"}).withConfig({displayName:"SettingsProvider__ErrorMessage"})([`
  height: 3rem;
  align-self: center;
  display: flex;
  align-items: center;
  gap: 0.2rem;
`]),zye=U(J1).withConfig({displayName:"SettingsProvider__CloseOutlineIcon"})([`
  color: `,`;
  flex-shrink: 0;
`],({theme:e})=>e.color.red),y4=v.jsxs(tt,{flexDirection:"column",gap:"0",children:[v.jsx(st,{align:"center",size:"lg",color:"offWhite",weight:600,children:"It appears we can't connect to the database."}),v.jsx(st,{align:"center",size:"lg",color:"offWhite",children:"Please, check if the server is running correctly."})]}),Bye=v.jsxs(tt,{flexDirection:"column",gap:"0",children:[v.jsx(st,{align:"center",size:"lg",color:"offWhite",weight:600,children:"It appears we can't connect to the database."}),v.jsx(st,{align:"center",size:"lg",color:"offWhite",children:"Error loading the console configuration file."})]}),$ye=({children:e})=>{const[t,n]=x.useReducer(Mye,Lye),[r,i]=x.useState({}),[o,a]=x.useState({}),[s,l]=x.useState([]),[c,u]=x.useState({}),[d,f]=x.useState({}),[p,g]=x.useState(null),h=ie.useRef(null);x.useEffect(()=>{(async()=>{const _=["assets/questdb-logo-3d.png","assets/whoops.svg","assets/grid-bg.webp"],m={};for(const C of _)try{const T=await(await fetch(C)).blob();m[C]=await new Promise((O,R)=>{const j=new FileReader;j.onload=()=>O(j.result),j.onerror=()=>R(`Failed to read image blob for ${C}`),j.readAsDataURL(T)})}catch{m[C]=C}f(m)})()},[]);const y={0:()=>null,1:()=>v.jsx(wz.Provider,{value:{settings:r,consoleConfig:c,warnings:s,preferences:o,refreshSettingsAndPreferences:S},children:e}),2:()=>v.jsx(A2e,{preloadedImages:d,children:v.jsxs(tt,{flexDirection:"column",gap:"6.4rem",children:[v.jsx("a",{href:"https://questdb.com",children:v.jsx("img",{src:d["assets/questdb-logo-3d.png"]||"assets/questdb-logo-3d.png",alt:"QuestDB logo",width:"163",height:"144"})}),v.jsx(Fye,{src:d["assets/whoops.svg"]||"assets/whoops.svg",alt:"Whoops"}),v.jsxs(Pye,{children:[t.errorMessage??v.jsxs(tt,{flexDirection:"column",gap:"0",children:[v.jsx(st,{align:"center",size:"lg",color:"offWhite",weight:600,children:"It appears we can't connect to the database."}),v.jsx(st,{align:"center",size:"lg",color:"offWhite",children:"Please, check if the server is running correctly."})]}),v.jsx(Dye,{skin:"primary",prefixIcon:v.jsx(gv,{size:"18px"}),onClick:()=>{E(!1).then(()=>n({view:1})).catch(()=>{h.current&&clearTimeout(h.current),g("Retry failed"),h.current=setTimeout(()=>g(null),3e3)})},children:"Retry"}),v.jsx(Uye,{children:p&&v.jsxs(v.Fragment,{children:[v.jsx(zye,{size:"18px"}),p]})})]})]})})},b=async(_,m)=>{try{const C=await fetch(_);if(C.status===200)return await C.json();n({view:2,errorMessage:m})}catch{n({view:2,errorMessage:m})}},w=_=>{if(_!=null&&_.instance_name){const m=_!=null&&_.instance_type?`${_.instance_type.charAt(0).toUpperCase()}${_.instance_type.slice(1)}`:"QuestDB",C=`${_.instance_name} | ${m}`;document.title!==C&&(document.title=C)}a(_)},S=async()=>{const _=await b("settings",y4);if(_){const m=_==null?void 0:_.config,C={version:_["preferences.version"],..._==null?void 0:_.preferences};return _v(m,r)||i(m),_v(C,o)||w(C),{settings:m,preferences:C}}return{settings:{},preferences:{}}},E=x.useCallback(async(_=!0)=>{const m=await b("settings",_?y4:void 0),C=await b("warnings",_?y4:void 0),T=await b("assets/console-configuration.json",_?Bye:void 0);if(m&&(i(m.config),w({version:m["preferences.version"],...m.preferences}),m.config["release.type"]&&Is(Mn.RELEASE_TYPE,m.config["release.type"])),C&&l(C),T&&u(T),!m||!T)throw new Error("Failed to fetch settings from the server")},[]);return x.useEffect(()=>{E().then(()=>n({view:1})).catch(_=>{})},[]),v.jsx(v.Fragment,{children:y[t.view]()})},Rl=()=>x.useContext(wz),Hye={view:1},Vye={sessionData:void 0,logout:()=>{},refreshAuthToken:()=>Promise.resolve({}),redirectToAuthorizationUrl:()=>{}};class qye{constructor(t,n){this.error=t,this.error_description=n}}const xz=x.createContext(Vye),Wye=(e,t)=>({...e,...t}),Gye=({children:e})=>{const{settings:t}=Rl(),[n,r]=x.useState(void 0),[i,o]=x.useReducer(Wye,Hye),a=(y,b)=>{y.access_token?(y.groups_encoded_in_token=b["acl.oidc.groups.encoded.in.token"],y.expires_at=N1e(y.expires_in).toString(),dh.setAuthPayload(y),r(y),history.replaceState&&history.replaceState(null,"",location.pathname+location.search.replace(/[?&]code=[^&]+/,"").replace(/^&/,"?"))):g({errorTitle:"Something went wrong.",errorMessage:y.error_description??"Error logging in. Please try again."})},s=async(y,b)=>{const w=await(await aU(y,{grant_type:"refresh_token",refresh_token:b,client_id:y["acl.oidc.client.id"]})).json();return a(w,y),w},l=async y=>{if(!y["acl.enabled"]){o({view:0});return}if(y["acl.oidc.enabled"]){Bn.subscribe(zn.MSG_CONNECTION_UNAUTHORIZED,()=>{const _=Ki(Mn.OAUTH_REDIRECT_COUNT);if(_){const m=parseInt(_);!isNaN(m)&&m>=5?(Vd(Mn.OAUTH_REDIRECT_COUNT),g({promptForLogin:!0})):(Is(Mn.OAUTH_REDIRECT_COUNT,JSON.stringify(_?parseInt(_)+1:1)),g())}else Is(Mn.OAUTH_REDIRECT_COUNT,JSON.stringify(1)),g()}),Bn.subscribe(zn.MSG_CONNECTION_OK,()=>{Vd(Mn.OAUTH_REDIRECT_COUNT)});const b=y["acl.oidc.client.id"]?lU(y["acl.oidc.client.id"]):"",w=new URLSearchParams(window.location.search),S=w.get("code"),E=new qye(w.get("error"),w.get("error_description"));if(S!==null){const _=Ki(Mn.OAUTH_STATE);if(_){Vd(Mn.OAUTH_STATE);const T=w.get("state");if(!T||_!==T){g({promptForLogin:!0});return}}const m=Ki(Mn.PKCE_CODE_VERIFIER),C=await(await aU(y,{grant_type:"authorization_code",code:S,code_verifier:m,client_id:y["acl.oidc.client.id"],redirect_uri:y["acl.oidc.redirect.uri"]||window.location.origin+window.location.pathname})).json();a(C,y),await u(C)}else if(E.error){const _=Ki(Mn.OAUTH_PROMPT);Vd(Mn.OAUTH_PROMPT),_==="none"?p():g({errorTitle:"Something went wrong.",errorMessage:E.error+": "+E.error_description})}else b&&!Ki(Mn.REST_TOKEN)?p("none"):f()}else y["acl.basic.auth.realm.enabled"]?await c():(Bn.subscribe(zn.MSG_CONNECTION_UNAUTHORIZED,()=>{g()}),f())},c=async()=>{(await fetch("exec?query=select 42")).status===200?o({view:0}):await c()},u=async y=>{await fetch("exec?query=select 2&session=true",{headers:{Authorization:`Bearer ${y.groups_encoded_in_token?y.id_token:y.access_token}`}})},d=()=>{fetch("exec?query=select 2&session=false").catch(()=>{})},f=()=>{const y=Ki(Mn.REST_TOKEN),b=Ki(Mn.BASIC_AUTH_HEADER);o(y||b?{view:0}:{view:2})},p=y=>{const b=Y1e(t),w=Q1e(t),S=J1e(w);Is(Mn.OAUTH_PROMPT,y??""),window.location.href=k1e({settings:t,code_challenge:S,state:b,prompt:y,redirect_uri:t["acl.oidc.redirect.uri"]||window.location.href})},g=({promptForLogin:y,errorTitle:b,errorMessage:w,isDisconnection:S}={})=>{dh.clearAuthPayload(),r(void 0),Vd(Mn.OAUTH_PROMPT),Vd(Mn.REST_TOKEN),Vd(Mn.BASIC_AUTH_HEADER),y&&t["acl.oidc.client.id"]&&j1e(t["acl.oidc.client.id"]),d(),o({view:2,errorTitle:b,errorMessage:w,isDisconnection:S})};x.useEffect(()=>{n&&o({view:0})},[n]),x.useEffect(()=>{Bn.subscribe(zn.MSG_CONNECTION_FORBIDDEN,y=>{y&&y.error.match(/Access denied.* \[HTTP]/gm)&&g({errorTitle:"Oops. You've been disconnected.",errorMessage:"You are not authorized to use the Web Console. You may try login again or contact your account administrator.",isDisconnection:!0})}),l(t)},[]);const h={1:()=>null,0:()=>v.jsx(xz.Provider,{value:{sessionData:n,logout:g,refreshAuthToken:s,redirectToAuthorizationUrl:p},children:e}),2:()=>v.jsx(Nye,{onOAuthLogin:y=>{p(y?"login":void 0)},onBasicAuthSuccess:()=>{o({view:0})},resetErrors:()=>o({errorTitle:void 0,errorMessage:void 0,isDisconnection:void 0}),errorTitle:i.errorTitle,errorMessage:i.errorMessage,isDisconnection:i.isDisconnection??!1})};return v.jsx(v.Fragment,{children:h[i.view]()})},_z=()=>x.useContext(xz),Kye=/Build Information: QuestDB ([\w- ]+ )?([0-9A-Za-z.-]*),/,Xye=e=>{const t=Kye.exec(e.toString());return t?{type:t[1]?t[1].trim().toLowerCase():"oss",version:t[2]}:{type:"dev"}},Yye=/Commit Hash ([0-9A-Za-z]*)/,Qye=e=>{const t=Yye.exec(e.toString());return t?t[1]:""};var Yc=(e=>(e.TOGGLE_SIDE_MENU="CONSOLE/TOGGLE_SIDE_MENU",e.SET_ACTIVE_SIDEBAR="CONSOLE/SET_ACTIVE_SIDEBAR",e.SET_ACTIVE_BOTTOM_PANEL="CONSOLE/SET_ACTIVE_BOTTOM_PANEL",e.SET_IMAGE_TO_ZOOM="CONSOLE/SET_IMAGE_TO_ZOOM",e))(Yc||{});const Jye=e=>({payload:e,type:Yc.SET_ACTIVE_SIDEBAR}),Zye=e=>({payload:e,type:Yc.SET_ACTIVE_BOTTOM_PANEL}),eve=e=>({payload:e,type:Yc.SET_IMAGE_TO_ZOOM}),tve=()=>({type:Yc.TOGGLE_SIDE_MENU}),nve={toggleSideMenu:tve,setActiveSidebar:Jye,setActiveBottomPanel:Zye,setImageToZoom:eve};let Li,pc;ca=(e=>(e.ERROR="error",e.INFO="info",e.SUCCESS="success",e.NOTICE="notice",e.LOADING="loading",e))(ca||{}),dr=(e=>(e.SCRIPT="script",e.EXPLAIN="explain",e.REFRESH="refresh",e.QUERY="query",e.AI_SUGGESTION="ai_suggestion",e.NONE="none",e))(dr||{}),Li=(e=>(e.ADD_NOTIFICATION="QUERY/ADD_NOTIFICATION",e.CLEANUP_NOTIFICATIONS="QUERY/CLEANUP_NOTIFICATIONS",e.CLEANUP_BUFFER_NOTIFICATIONS="QUERY/CLEANUP_BUFFER_NOTIFICATIONS",e.REMOVE_NOTIFICATION="QUERY/REMOVE_NOTIFICATION",e.UPDATE_NOTIFICATION_KEY="QUERY/UPDATE_NOTIFICATION_KEY",e.SET_RESULT="QUERY/SET_RESULT",e.STOP_RUNNING="QUERY/STOP_RUNNING",e.TOGGLE_RUNNING="QUERY/TOGGLE_RUNNING",e.SET_TABLES="QUERY/SET_TABLES",e.SET_COLUMNS="QUERY/SET_COLUMNS",e.SET_ACTIVE_NOTIFICATION="QUERY/SET_ACTIVE_NOTIFICATION",e.SET_QUERIES_TO_RUN="QUERY/SET_QUERIES_TO_RUN",e.SET_AI_SUGGESTION_REQUEST="QUERY/SET_AI_SUGGESTION_REQUEST",e))(Li||{}),pc=(e=>(e.START="TELEMETRY/START",e.SET_CONFIG="TELEMETRY/SET_CONFIG",e.SET_REMOTE_CONFIG="TELEMETRY/SET_REMOTE_CONFIG",e))(pc||{});let Ez,Sz,Cz,Tz,Az,Iz,Oz,kz,Nz,Rz,jz,Lz,Mz,Pz,Dz,Fz,Uz,zz,v4,Bz,b4,$z,Hz,Vz,qz,Ev,kh,Wz,Gz,Kz,Xz,Yz,Qz,Jz,Zz,eB,tB,nB,rB,iB,oB,aB,sB,lB,cB,uB,dB,fB,hB,pB,mB,gB,yB,vB,bB,wB,xB,_B,EB,Qc,w4,SB;Ez=e=>({payload:{tables:e},type:Li.SET_TABLES}),Sz=e=>({payload:{columns:e},type:Li.SET_COLUMNS}),Cz=(e,t)=>({payload:{createdAt:new Date,type:ca.SUCCESS,...e,bufferId:t},type:Li.ADD_NOTIFICATION}),Tz=()=>({type:Li.CLEANUP_NOTIFICATIONS}),Az=e=>({type:Li.CLEANUP_BUFFER_NOTIFICATIONS,payload:{bufferId:e}}),Iz=(e,t)=>({payload:e,bufferId:t,type:Li.REMOVE_NOTIFICATION}),Oz=e=>({payload:e,type:Li.SET_RESULT}),kz=()=>({type:Li.STOP_RUNNING}),Nz=e=>({type:Li.TOGGLE_RUNNING,payload:e}),Rz=e=>({type:Li.SET_ACTIVE_NOTIFICATION,payload:e}),jz=(e,t,n)=>({type:Li.UPDATE_NOTIFICATION_KEY,payload:{oldKey:e,newKey:t,bufferId:n}}),Lz=e=>({type:Li.SET_QUERIES_TO_RUN,payload:e}),Mz=e=>({type:Li.SET_AI_SUGGESTION_REQUEST,payload:e}),Pz={addNotification:Cz,cleanupNotifications:Tz,cleanupBufferNotifications:Az,removeNotification:Iz,updateNotificationKey:jz,setResult:Oz,stopRunning:kz,toggleRunning:Nz,setTables:Ez,setColumns:Sz,setActiveNotification:Rz,setQueriesToRun:Lz,setAISuggestionRequest:Mz},Dz=()=>({type:pc.START}),Fz=e=>({payload:e,type:pc.SET_CONFIG}),Uz=e=>({payload:e,type:pc.SET_REMOTE_CONFIG}),zz={start:Dz,setConfig:Fz,setRemoteConfig:Uz},An={console:nve,query:Pz,telemetry:zz},v4=3,Bz=1e3,b4=async e=>{const t=Ki(Mn.RELEASE_TYPE);if(t==="EE"||e!=null&&e.enabled)for(let n=0;n<=v4;n++){try{if((await fetch(`${ES}/add-ent`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,releaseType:t})})).ok)return}catch{}n<v4&&await new Promise(r=>setTimeout(r,Bz*Math.pow(2,n)))}},$z=e=>e!=null&&e.enabled?EL(`${ES}/config`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},!1):gue,Hz=5,Vz=1e3,qz=3e4,Ev=36e5,kh=new Nm,Wz=e=>e.pipe(iN(pc.START),cm(()=>{const t=dh.getAuthPayload()??{};if(t.access_token)kh.setCommonHeaders({Authorization:`Bearer ${t.groups_encoded_in_token?t.id_token:t.access_token}`});else{const n=Ki(Mn.REST_TOKEN);if(n)kh.setCommonHeaders({Authorization:`Bearer ${n}`});else{const r=Ki(Mn.BASIC_AUTH_HEADER);r&&kh.setCommonHeaders({Authorization:r})}}return yue(kh.query(`${Zs.CONFIG} limit -1`))}),cm(t=>t.type===Xn.DQL?Jf(An.telemetry.setConfig(t.data[0])):gue)),Gz=(e,t)=>e.pipe(iN(pc.SET_CONFIG),oN(t),cm(([n,r])=>{const i=Mr.telemetry.getConfig(r);return i&&b4(i),$z(i)}),Zf(n=>An.telemetry.setRemoteConfig(n.error?{}:n.data))),Kz=(e,t)=>e.pipe(iN(pc.SET_REMOTE_CONFIG),oN(t),cm(([n,r])=>{const i=Mr.telemetry.getRemoteConfig(r);if(!(i!=null&&i.lastUpdated))return Jf({type:"skip",remoteConfig:i});const o=new Date(i.lastUpdated).toISOString();return yue(kh.queryRaw(`with tel as (
            SELECT cast(created as long), event, origin
            FROM ${Zs.MAIN}
            WHERE created > '${o}'
            LIMIT -10000
          )
          SELECT cast(created as long), cast(1000 as short), cast(case when sm >= 0 then sm else 32767 end as short) FROM (
            SELECT created, cast(ceil(sum(rowCount) / 1000.0) as short) sm
            FROM ${Zs.WAL}
            WHERE created > '${o}' and rowCount > 0
            SAMPLE BY 1h align to calendar
          )
          UNION ALL
          SELECT cast(created as long), cast(2000 as short), cast(case when sm >= 0 then sm else 32767 end as short) FROM (
            SELECT created, cast(count() as short) sm
            FROM ${Zs.WAL}
            WHERE created > '${o}' and rowCount > 0
            SAMPLE BY 1h align to calendar
          )
          UNION ALL
          SELECT cast(created as long), cast(3000 as short), cast(case when sm >= 0 then sm else 32767 end as short) FROM (
            SELECT created, cast(max(latency) / 1000.0 as short) sm
            FROM ${Zs.WAL}
            WHERE created > '${o}' and rowCount > 0
            SAMPLE BY 1h align to calendar
           )
           UNION ALL
           SELECT * FROM tel
           `.replace(/\s+/g," ").trim())).pipe(Zf(a=>({type:"data",result:a,remoteConfig:i})))}),oN(t),cm(([n,r])=>{const i=Mr.telemetry.getConfig(r);if(n.type==="skip")return Jf(null).pipe(aN(Ev),Zf(()=>An.telemetry.setRemoteConfig(n.remoteConfig??{})));const{result:o,remoteConfig:a}=n;return(i==null?void 0:i.id)!=null&&o.type===Xn.DQL&&o.count>0?o7e(()=>EL(`${ES}/add`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({columns:o.columns,dataset:o.dataset,id:i.id,version:i.version,os:i.os,package:i.package})},!1)).pipe(a7e(s=>{if(s.error)throw new Error("Telemetry request failed")}),s7e(s=>s.pipe(l7e(l=>l+1,0),c7e(l=>{if(l>Hz)return u7e(()=>new Error("Max retries exceeded"));const c=Math.min(Vz*Math.pow(2,l-1),qz);return d7e(c)}))),Zf(()=>{const s=o.dataset[o.count-1][0];return{...a,lastUpdated:s}}),hue(()=>Jf(a)),aN(Ev),Zf(s=>An.telemetry.setRemoteConfig(s??{}))):Jf(null).pipe(aN(Ev),Zf(()=>An.telemetry.setRemoteConfig(a??{})))})),Xz=[Wz,Gz,Kz],Yz=f7e(...Xz),Qz={sideMenuOpened:!1,activeSidebar:void 0,activeBottomPanel:"zeroState",imageToZoom:void 0},Jz=(e=Qz,t)=>{switch(t.type){case Yc.TOGGLE_SIDE_MENU:return{...e,sideMenuOpened:!e.sideMenuOpened};case Yc.SET_ACTIVE_SIDEBAR:return{...e,activeSidebar:t.payload};case Yc.SET_ACTIVE_BOTTOM_PANEL:return{...e,activeBottomPanel:t.payload};case Yc.SET_IMAGE_TO_ZOOM:return{...e,imageToZoom:t.payload};default:return e}},Zz={notifications:[],tables:[],columns:{},running:dr.NONE,queryNotifications:{},activeNotification:null,queriesToRun:[],aiSuggestionRequest:null},eB=(e=Zz,t)=>{var n,r;switch(t.type){case Li.ADD_NOTIFICATION:{const{query:i,isExplain:o=!1,updateActiveNotification:a=!0,bufferId:s}=t.payload,l={...t.payload,createdAt:t.payload.createdAt||new Date},{bufferId:c,...u}=l;if(s!==void 0){const d=e.queryNotifications[s]||{},f={...d[i]||{},latest:u,[o?"explain":"regular"]:u};return{...e,notifications:[...e.notifications,u],queryNotifications:{...e.queryNotifications,[s]:{...d,[i]:f}},...a?{activeNotification:u}:{}}}return{...e,notifications:[...e.notifications,u],...a?{activeNotification:u}:{}}}case Li.CLEANUP_NOTIFICATIONS:return{...e,notifications:[],queryNotifications:{},activeNotification:null};case Li.CLEANUP_BUFFER_NOTIFICATIONS:{const{bufferId:i}=t.payload,o=e.queryNotifications[i]||{},a=e.notifications.filter(c=>!o[c.query]),s={...e.queryNotifications};delete s[i];const l=e.activeNotification&&o[e.activeNotification.query]?null:e.activeNotification;return{...e,notifications:a,queryNotifications:s,activeNotification:l}}case Li.SET_ACTIVE_NOTIFICATION:return{...e,activeNotification:t.payload};case Li.REMOVE_NOTIFICATION:{const{bufferId:i}=t,o=e.notifications.filter(a=>a.query!==t.payload);if(i!==void 0){const a={...e.queryNotifications[i]||{}};return delete a[t.payload],{...e,notifications:o,queryNotifications:{...e.queryNotifications,[i]:a}}}return{...e,notifications:o}}case Li.UPDATE_NOTIFICATION_KEY:{const{oldKey:i,newKey:o,bufferId:a}=t.payload;if(o===i)return{...e};if(a!==void 0){const c={...e.queryNotifications[a]||{}};c[i]&&(c[o]=c[i],delete c[i]);const u=e.notifications.map(f=>f.query===i?{...f,query:o}:f),d=((n=e.activeNotification)==null?void 0:n.query)===i?{...e.activeNotification,query:o}:e.activeNotification;return{...e,notifications:u,queryNotifications:{...e.queryNotifications,[a]:c},activeNotification:d}}const s=e.notifications.map(c=>c.query===i?{...c,query:o}:c),l=((r=e.activeNotification)==null?void 0:r.query)===i?{...e.activeNotification,query:o}:e.activeNotification;return{...e,notifications:s,activeNotification:l}}case Li.SET_RESULT:return{...e,result:t.payload};case Li.STOP_RUNNING:return{...e,running:dr.NONE};case Li.TOGGLE_RUNNING:return e.running!==dr.NONE?{...e,running:dr.NONE}:{...e,running:t.payload??dr.QUERY};case Li.SET_TABLES:return{...e,tables:t.payload.tables};case Li.SET_COLUMNS:{const{columns:i}=t.payload,o=i.reduce((a,s)=>(a[s.table_name]=[...a[s.table_name]||[],s],a),{});return{...e,columns:o}}case Li.SET_QUERIES_TO_RUN:return{...e,queriesToRun:t.payload};case Li.SET_AI_SUGGESTION_REQUEST:return{...e,aiSuggestionRequest:t.payload};default:return e}},tB=1440*60*1e3*31*12,nB={},rB=(e=nB,t)=>{switch(t.type){case pc.SET_CONFIG:return{...e,config:t.payload};case pc.SET_REMOTE_CONFIG:return{...e,remoteConfig:{cta:!1,lastUpdated:new Date(new Date().getTime()-tB).toISOString(),...t.payload}};default:return e}},iB=h7e({console:Jz,query:eB,telemetry:rB}),oB=e=>e.console.sideMenuOpened,aB=e=>e.console.activeSidebar,sB=e=>e.console.activeBottomPanel,lB=e=>e.console.imageToZoom,cB={getSideMenuOpened:oB,getActiveSidebar:aB,getActiveBottomPanel:sB,getImageToZoom:lB},uB=e=>e.query.notifications,dB=e=>e.query.queryNotifications,fB=e=>t=>t.query.queryNotifications[e],hB=e=>e.query.activeNotification,pB=e=>e.query.queriesToRun,mB=e=>e.query.result,gB=e=>e.query.running,yB=e=>e.query.tables,vB=e=>e.query.columns,bB=e=>e.query.aiSuggestionRequest,wB={getNotifications:uB,getQueryNotifications:dB,getQueryNotificationsForBuffer:fB,getActiveNotification:hB,getQueriesToRun:pB,getResult:mB,getRunning:gB,getTables:yB,getColumns:vB,getAISuggestionRequest:bB},xB=e=>e.telemetry.config,_B=e=>e.telemetry.remoteConfig,EB={getConfig:xB,getRemoteConfig:_B},Mr={console:cB,query:wB,telemetry:EB},Qc=new Nm,w4={quest:Qc,buildVersion:{type:"oss",version:""},commitHash:""},Xa=x.createContext(w4),SB=({children:e})=>{const t=ls(),{settings:n}=Rl(),{sessionData:r,refreshAuthToken:i}=_z(),[o,a]=x.useState(!sU(n)),[s,l]=x.useState(w4.buildVersion),[c,u]=x.useState(""),d=async()=>{await Qc.queryRaw("SELECT 1"),a(!0)},f=p=>{Qc.setCommonHeaders({Authorization:`Bearer ${p.groups_encoded_in_token?p.id_token:p.access_token}`}),Qc.refreshTokenMethod=()=>i(n,p.refresh_token),d()};return x.useEffect(()=>{r&&f(r)},[r]),x.useEffect(()=>{const p=Ki(Mn.REST_TOKEN);if(p)Qc.setCommonHeaders({Authorization:`Bearer ${p}`}),d();else{const g=Ki(Mn.BASIC_AUTH_HEADER);g&&(Qc.setCommonHeaders({Authorization:g}),d())}Qc.queryRaw("select build",{limit:"0,1000"}).then(g=>{g.type===Xn.DQL&&g.count===1&&(l(Xye(g.dataset[0][0])),u(Qye(g.dataset[0][0])))})},[]),x.useEffect(()=>{o&&t(An.telemetry.start())},[o]),o?v.jsx(Xa.Provider,{value:{quest:Qc,buildVersion:s,commitHash:c},children:e}):null};function kn(e,t,n,r,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}function _t(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}let CB=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return CB=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};function eg(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const x4=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};class br extends Error{}let Os=class vN extends br{constructor(t,n,r,i){super(`${vN.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.requestID=i==null?void 0:i.get("request-id"),this.error=n}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new Sv({message:r,cause:x4(n)});const o=n;return t===400?new AB(t,o,r,i):t===401?new IB(t,o,r,i):t===403?new OB(t,o,r,i):t===404?new kB(t,o,r,i):t===409?new NB(t,o,r,i):t===422?new RB(t,o,r,i):t===429?new jB(t,o,r,i):t>=500?new LB(t,o,r,i):new vN(t,o,r,i)}},jl=class extends Os{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},Sv=class extends Os{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}},TB=class extends Sv{constructor({message:e}={}){super({message:e??"Request timed out."})}},AB=class extends Os{},IB=class extends Os{},OB=class extends Os{},kB=class extends Os{},NB=class extends Os{},RB=class extends Os{},jB=class extends Os{},LB=class extends Os{};const rve=/^[a-z][a-z0-9+.-]*:/i,ive=e=>rve.test(e);let _4=e=>(_4=Array.isArray,_4(e)),MB=_4;function E4(e){return typeof e!="object"?{}:e??{}}function ove(e){if(!e)return!0;for(const t in e)return!1;return!0}function ave(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const sve=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new br(`${e} must be an integer`);if(t<0)throw new br(`${e} must be a positive integer`);return t},PB=e=>{try{return JSON.parse(e)}catch{return}},lve=e=>new Promise(t=>setTimeout(t,e)),Nh="0.71.2",cve=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function uve(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const dve=()=>{var n;const e=uve();if(e==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Nh,"X-Stainless-OS":FB(Deno.build.os),"X-Stainless-Arch":DB(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((n=Deno.version)==null?void 0:n.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Nh,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(e==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Nh,"X-Stainless-OS":FB(globalThis.process.platform??"unknown"),"X-Stainless-Arch":DB(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=fve();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Nh,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Nh,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function fve(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,a=r[3]||0;return{browser:t,version:`${i}.${o}.${a}`}}}return null}const DB=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",FB=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let UB;const hve=()=>UB??(UB=dve());function pve(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new Anthropic({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function zB(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function BB(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return zB({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)==null?void 0:n.call(t))}})}function S4(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function mve(e){var r,i;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((i=(r=e[Symbol.asyncIterator]()).return)==null?void 0:i.call(r));return}const t=e.getReader(),n=t.cancel();t.releaseLock(),await n}const gve=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});function yve(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let $B;function C4(e){let t;return($B??(t=new globalThis.TextEncoder,$B=t.encode.bind(t)))(e)}let HB;function VB(e){let t;return(HB??(t=new globalThis.TextDecoder,HB=t.decode.bind(t)))(e)}var ks,Ns;let tg=class{constructor(){ks.set(this,void 0),Ns.set(this,void 0),kn(this,ks,new Uint8Array),kn(this,Ns,null)}decode(e){if(e==null)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?C4(e):e;kn(this,ks,yve([_t(this,ks,"f"),t]));const n=[];let r;for(;(r=vve(_t(this,ks,"f"),_t(this,Ns,"f")))!=null;){if(r.carriage&&_t(this,Ns,"f")==null){kn(this,Ns,r.index);continue}if(_t(this,Ns,"f")!=null&&(r.index!==_t(this,Ns,"f")+1||r.carriage)){n.push(VB(_t(this,ks,"f").subarray(0,_t(this,Ns,"f")-1))),kn(this,ks,_t(this,ks,"f").subarray(_t(this,Ns,"f"))),kn(this,Ns,null);continue}const i=_t(this,Ns,"f")!==null?r.preceding-1:r.preceding,o=VB(_t(this,ks,"f").subarray(0,i));n.push(o),kn(this,ks,_t(this,ks,"f").subarray(r.index)),kn(this,Ns,null)}return n}flush(){return _t(this,ks,"f").length?this.decode(`
`):[]}};ks=new WeakMap,Ns=new WeakMap,tg.NEWLINE_CHARS=new Set([`
`,"\r"]),tg.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function vve(e,t){for(let n=t??0;n<e.length;n++){if(e[n]===10)return{preceding:n,index:n+1,carriage:!1};if(e[n]===13)return{preceding:n,index:n+1,carriage:!0}}return null}function bve(e){for(let t=0;t<e.length-1;t++){if(e[t]===10&&e[t+1]===10||e[t]===13&&e[t+1]===13)return t+2;if(e[t]===13&&e[t+1]===10&&t+3<e.length&&e[t+2]===13&&e[t+3]===10)return t+4}return-1}const Cv={off:0,error:200,warn:300,info:400,debug:500},qB=(e,t,n)=>{if(e){if(ave(Cv,e))return e;Ja(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Cv))}`)}};function ng(){}function Tv(e,t,n){return!t||Cv[e]>Cv[n]?ng:t[e].bind(t)}const wve={error:ng,warn:ng,info:ng,debug:ng};let WB=new WeakMap;function Ja(e){const t=e.logger,n=e.logLevel??"off";if(!t)return wve;const r=WB.get(t);if(r&&r[0]===n)return r[1];const i={error:Tv("error",t,n),warn:Tv("warn",t,n),info:Tv("info",t,n),debug:Tv("debug",t,n)};return WB.set(t,[n,i]),i}const Jd=e=>(e.options&&(e.options={...e.options},delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);var rg;let ig=class ry{constructor(t,n,r){this.iterator=t,rg.set(this,void 0),this.controller=n,kn(this,rg,r)}static fromSSEResponse(t,n,r){let i=!1;const o=r?Ja(r):console;async function*a(){if(i)throw new br("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let s=!1;try{for await(const l of xve(t,n)){if(l.event==="completion")try{yield JSON.parse(l.data)}catch(c){throw o.error("Could not parse message into JSON:",l.data),o.error("From chunk:",l.raw),c}if(l.event==="message_start"||l.event==="message_delta"||l.event==="message_stop"||l.event==="content_block_start"||l.event==="content_block_delta"||l.event==="content_block_stop")try{yield JSON.parse(l.data)}catch(c){throw o.error("Could not parse message into JSON:",l.data),o.error("From chunk:",l.raw),c}if(l.event!=="ping"&&l.event==="error")throw new Os(void 0,PB(l.data)??l.data,void 0,t.headers)}s=!0}catch(l){if(eg(l))return;throw l}finally{s||n.abort()}}return new ry(a,n,r)}static fromReadableStream(t,n,r){let i=!1;async function*o(){const s=new tg,l=S4(t);for await(const c of l)for(const u of s.decode(c))yield u;for(const c of s.flush())yield c}async function*a(){if(i)throw new br("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let s=!1;try{for await(const l of o())s||l&&(yield JSON.parse(l));s=!0}catch(l){if(eg(l))return;throw l}finally{s||n.abort()}}return new ry(a,n,r)}[(rg=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const a=r.next();t.push(a),n.push(a)}return o.shift()}});return[new ry(()=>i(t),this.controller,_t(this,rg,"f")),new ry(()=>i(n),this.controller,_t(this,rg,"f"))]}toReadableStream(){const t=this;let n;return zB({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=C4(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)==null?void 0:r.call(n))}})}};async function*xve(e,t){if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new br("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new br("Attempted to iterate over a response with no body");const n=new Eve,r=new tg,i=S4(e.body);for await(const o of _ve(i))for(const a of r.decode(o)){const s=n.decode(a);s&&(yield s)}for(const o of r.flush()){const a=n.decode(o);a&&(yield a)}}async function*_ve(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?C4(n):n;let i=new Uint8Array(t.length+r.length);i.set(t),i.set(r,t.length),t=i;let o;for(;(o=bve(t))!==-1;)yield t.slice(0,o),t=t.slice(o)}t.length>0&&(yield t)}let Eve=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=Sve(e,":");return r.startsWith(" ")&&(r=r.substring(1)),t==="event"?this.event=r:t==="data"&&this.data.push(r),null}};function Sve(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}async function GB(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=t,a=await(async()=>{var l,c;if(t.options.stream)return Ja(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller):ig.fromSSEResponse(n,t.controller);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const s=(c=(l=n.headers.get("content-type"))==null?void 0:l.split(";")[0])==null?void 0:c.trim();if(s!=null&&s.includes("application/json")||s!=null&&s.endsWith("+json")){const u=await n.json();return KB(u,n)}return await n.text()})();return Ja(e).debug(`[${r}] response parsed`,Jd({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}function KB(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("request-id"),enumerable:!1})}var og;let XB=class Iue extends Promise{constructor(t,n,r=GB){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,og.set(this,void 0),kn(this,og,t)}_thenUnwrap(t){return new Iue(_t(this,og,"f"),this.responsePromise,async(n,r)=>KB(t(await this.parseResponse(n,r),r),r.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(_t(this,og,"f"),t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}};og=new WeakMap;var Av;let YB=class{constructor(e,t,n,r){Av.set(this,void 0),kn(this,Av,e),this.options=r,this.response=t,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new br("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await _t(this,Av,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Av=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}},Cve=class extends XB{constructor(e,t,n){super(e,t,async(r,i)=>new n(r,i.response,await GB(r,i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const t of e)yield t}},ag=class extends YB{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.has_more=n.has_more||!1,this.first_id=n.first_id||null,this.last_id=n.last_id||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var t;if((t=this.options.query)!=null&&t.before_id){const n=this.first_id;return n?{...this.options,query:{...E4(this.options.query),before_id:n}}:null}const e=this.last_id;return e?{...this.options,query:{...E4(this.options.query),after_id:e}}:null}};class QB extends YB{constructor(t,n,r,i){super(t,n,r,i),this.data=r.data||[],this.has_more=r.has_more||!1,this.next_page=r.next_page||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const t=this.next_page;return t?{...this.options,query:{...E4(this.options.query),page:t}}:null}}const JB=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)==null?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Rh(e,t,n){return JB(),new File(e,t??"unknown_file",n)}function Iv(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const ZB=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",T4=async(e,t)=>({...e,body:await Ave(e.body,t)}),e$=new WeakMap;function Tve(e){const t=typeof e=="function"?e:e.fetch,n=e$.get(t);if(n)return n;const r=(async()=>{try{const i="Response"in t?t.Response:(await t("data:,")).constructor,o=new FormData;return o.toString()!==await new i(o).text()}catch{return!0}})();return e$.set(t,r),r}const Ave=async(e,t)=>{if(!await Tve(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(e||{}).map(([r,i])=>A4(n,r,i))),n},Ive=e=>e instanceof Blob&&"name"in e,A4=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(n instanceof Response){let r={};const i=n.headers.get("Content-Type");i&&(r={type:i}),e.append(t,Rh([await n.blob()],Iv(n),r))}else if(ZB(n))e.append(t,Rh([await new Response(BB(n)).blob()],Iv(n)));else if(Ive(n))e.append(t,Rh([n],Iv(n),{type:n.type}));else if(Array.isArray(n))await Promise.all(n.map(r=>A4(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>A4(e,`${t}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},t$=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",Ove=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&t$(e),kve=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function Nve(e,t,n){if(JB(),e=await e,t||(t=Iv(e)),Ove(e))return e instanceof File&&t==null&&n==null?e:Rh([await e.arrayBuffer()],t??e.name,{type:e.type,lastModified:e.lastModified,...n});if(kve(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Rh(await I4(i),t,n)}const r=await I4(e);if(!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n={...n,type:i})}return Rh(r,t,n)}async function I4(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(t$(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else if(ZB(e))for await(const r of e)t.push(...await I4(r));else{const r=(n=e==null?void 0:e.constructor)==null?void 0:n.name;throw new Error(`Unexpected data type: ${typeof e}${r?`; constructor: ${r}`:""}${Rve(e)}`)}return t}function Rve(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(t=>`"${t}"`).join(", ")}]`}let Ll=class{constructor(e){this._client=e}};const n$=Symbol.for("brand.privateNullableHeaders");function*jve(e){if(!e)return;if(n$ in e){const{values:r,nulls:i}=e;yield*r.entries();for(const o of i)yield[o,null];return}let t=!1,n;e instanceof Headers?n=e.entries():MB(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=MB(r[1])?r[1]:[r[1]];let a=!1;for(const s of o)s!==void 0&&(t&&!a&&(a=!0,yield[i,null]),yield[i,s])}}const ni=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[o,a]of jve(r)){const s=o.toLowerCase();i.has(s)||(t.delete(o),i.add(s)),a===null?(t.delete(o),n.add(s)):(t.append(o,a),n.delete(s))}}return{[n$]:!0,values:t,nulls:n}};function r$(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const i$=Object.freeze(Object.create(null)),Lve=(e=r$)=>function(t,...n){if(t.length===1)return t[0];let r=!1;const i=[],o=t.reduce((c,u,d)=>{var g;/[?#]/.test(u)&&(r=!0);const f=n[d];let p=(r?encodeURIComponent:e)(""+f);return d!==n.length&&(f==null||typeof f=="object"&&f.toString===((g=Object.getPrototypeOf(Object.getPrototypeOf(f.hasOwnProperty??i$)??i$))==null?void 0:g.toString))&&(p=f+"",i.push({start:c.length+u.length,length:p.length,error:`Value of type ${Object.prototype.toString.call(f).slice(8,-1)} is not a valid path parameter`})),c+u+(d===n.length?"":p)},""),a=o.split(/[?#]/,1)[0],s=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let l;for(;(l=s.exec(a))!==null;)i.push({start:l.index,length:l[0].length,error:`Value "${l[0]}" can't be safely passed as a path parameter`});if(i.sort((c,u)=>c.start-u.start),i.length>0){let c=0;const u=i.reduce((d,f)=>{const p=" ".repeat(f.start-c),g="^".repeat(f.length);return c=f.start+f.length,d+p+g},"");throw new br(`Path parameters result in path with invalid segments:
${i.map(d=>d.error).join(`
`)}
${o}
${u}`)}return o},ba=Lve(r$);let o$=class extends Ll{list(e={},t){const{betas:n,...r}=e??{};return this._client.getAPIList("/v1/files",ag,{query:r,...t,headers:ni([{"anthropic-beta":[...n??[],"files-api-2025-04-14"].toString()},t==null?void 0:t.headers])})}delete(e,t={},n){const{betas:r}=t??{};return this._client.delete(ba`/v1/files/${e}`,{...n,headers:ni([{"anthropic-beta":[...r??[],"files-api-2025-04-14"].toString()},n==null?void 0:n.headers])})}download(e,t={},n){const{betas:r}=t??{};return this._client.get(ba`/v1/files/${e}/content`,{...n,headers:ni([{"anthropic-beta":[...r??[],"files-api-2025-04-14"].toString(),Accept:"application/binary"},n==null?void 0:n.headers]),__binaryResponse:!0})}retrieveMetadata(e,t={},n){const{betas:r}=t??{};return this._client.get(ba`/v1/files/${e}`,{...n,headers:ni([{"anthropic-beta":[...r??[],"files-api-2025-04-14"].toString()},n==null?void 0:n.headers])})}upload(e,t){const{betas:n,...r}=e;return this._client.post("/v1/files",T4({body:r,...t,headers:ni([{"anthropic-beta":[...n??[],"files-api-2025-04-14"].toString()},t==null?void 0:t.headers])},this._client))}},a$=class extends Ll{retrieve(e,t={},n){const{betas:r}=t??{};return this._client.get(ba`/v1/models/${e}?beta=true`,{...n,headers:ni([{...(r==null?void 0:r.toString())!=null?{"anthropic-beta":r==null?void 0:r.toString()}:void 0},n==null?void 0:n.headers])})}list(e={},t){const{betas:n,...r}=e??{};return this._client.getAPIList("/v1/models?beta=true",ag,{query:r,...t,headers:ni([{...(n==null?void 0:n.toString())!=null?{"anthropic-beta":n==null?void 0:n.toString()}:void 0},t==null?void 0:t.headers])})}};const s$={"claude-opus-4-20250514":8192,"claude-opus-4-0":8192,"claude-4-opus-20250514":8192,"anthropic.claude-opus-4-20250514-v1:0":8192,"claude-opus-4@20250514":8192,"claude-opus-4-1-20250805":8192,"anthropic.claude-opus-4-1-20250805-v1:0":8192,"claude-opus-4-1@20250805":8192};function l$(e,t,n){return!t||!("parse"in(t.output_format??{}))?{...e,content:e.content.map(r=>{if(r.type==="text"){const i=Object.defineProperty({...r},"parsed_output",{value:null,enumerable:!1});return Object.defineProperty(i,"parsed",{get(){return n.logger.warn("The `parsed` property on `text` blocks is deprecated, please use `parsed_output` instead."),null},enumerable:!1})}return r}),parsed_output:null}:c$(e,t,n)}function c$(e,t,n){let r=null;const i=e.content.map(o=>{if(o.type==="text"){const a=Mve(t,o.text);r===null&&(r=a);const s=Object.defineProperty({...o},"parsed_output",{value:a,enumerable:!1});return Object.defineProperty(s,"parsed",{get(){return n.logger.warn("The `parsed` property on `text` blocks is deprecated, please use `parsed_output` instead."),a},enumerable:!1})}return o});return{...e,content:i,parsed_output:r}}function Mve(e,t){var n;if(((n=e.output_format)==null?void 0:n.type)!=="json_schema")return null;try{return"parse"in e.output_format?e.output_format.parse(t):JSON.parse(t)}catch(r){throw new br(`Failed to parse structured output: ${r}`)}}const Pve=e=>{let t=0,n=[];for(;t<e.length;){let r=e[t];if(r==="\\"){t++;continue}if(r==="{"){n.push({type:"brace",value:"{"}),t++;continue}if(r==="}"){n.push({type:"brace",value:"}"}),t++;continue}if(r==="["){n.push({type:"paren",value:"["}),t++;continue}if(r==="]"){n.push({type:"paren",value:"]"}),t++;continue}if(r===":"){n.push({type:"separator",value:":"}),t++;continue}if(r===","){n.push({type:"delimiter",value:","}),t++;continue}if(r==='"'){let a="",s=!1;for(r=e[++t];r!=='"';){if(t===e.length){s=!0;break}if(r==="\\"){if(t++,t===e.length){s=!0;break}a+=r+e[t],r=e[++t]}else a+=r,r=e[++t]}r=e[++t],s||n.push({type:"string",value:a});continue}if(r&&/\s/.test(r)){t++;continue}let i=/[0-9]/;if(r&&i.test(r)||r==="-"||r==="."){let a="";for(r==="-"&&(a+=r,r=e[++t]);r&&i.test(r)||r===".";)a+=r,r=e[++t];n.push({type:"number",value:a});continue}let o=/[a-z]/i;if(r&&o.test(r)){let a="";for(;r&&o.test(r)&&t!==e.length;)a+=r,r=e[++t];if(a=="true"||a=="false"||a==="null")n.push({type:"name",value:a});else{t++;continue}continue}t++}return n},jh=e=>{if(e.length===0)return e;let t=e[e.length-1];switch(t.type){case"separator":return e=e.slice(0,e.length-1),jh(e);case"number":let n=t.value[t.value.length-1];if(n==="."||n==="-")return e=e.slice(0,e.length-1),jh(e);case"string":let r=e[e.length-2];if((r==null?void 0:r.type)==="delimiter"||(r==null?void 0:r.type)==="brace"&&r.value==="{")return e=e.slice(0,e.length-1),jh(e);break;case"delimiter":return e=e.slice(0,e.length-1),jh(e)}return e},Dve=e=>{let t=[];return e.map(n=>{n.type==="brace"&&(n.value==="{"?t.push("}"):t.splice(t.lastIndexOf("}"),1)),n.type==="paren"&&(n.value==="["?t.push("]"):t.splice(t.lastIndexOf("]"),1))}),t.length>0&&t.reverse().map(n=>{n==="}"?e.push({type:"brace",value:"}"}):n==="]"&&e.push({type:"paren",value:"]"})}),e},Fve=e=>{let t="";return e.map(n=>{switch(n.type){case"string":t+='"'+n.value+'"';break;default:t+=n.value;break}}),t},u$=e=>JSON.parse(Fve(Dve(jh(Pve(e)))));var el,Bu,Lh,sg,Ov,lg,cg,kv,ug,Jc,dg,Nv,Rv,Zd,jv,Lv,fg,O4,d$,Mv,k4,N4,R4,f$;const h$="__json_buf";function p$(e){return e.type==="tool_use"||e.type==="server_tool_use"||e.type==="mcp_tool_use"}class Pv{constructor(t,n){el.add(this),this.messages=[],this.receivedMessages=[],Bu.set(this,void 0),Lh.set(this,null),this.controller=new AbortController,sg.set(this,void 0),Ov.set(this,()=>{}),lg.set(this,()=>{}),cg.set(this,void 0),kv.set(this,()=>{}),ug.set(this,()=>{}),Jc.set(this,{}),dg.set(this,!1),Nv.set(this,!1),Rv.set(this,!1),Zd.set(this,!1),jv.set(this,void 0),Lv.set(this,void 0),fg.set(this,void 0),Mv.set(this,r=>{if(kn(this,Nv,!0),eg(r)&&(r=new jl),r instanceof jl)return kn(this,Rv,!0),this._emit("abort",r);if(r instanceof br)return this._emit("error",r);if(r instanceof Error){const i=new br(r.message);return i.cause=r,this._emit("error",i)}return this._emit("error",new br(String(r)))}),kn(this,sg,new Promise((r,i)=>{kn(this,Ov,r,"f"),kn(this,lg,i,"f")})),kn(this,cg,new Promise((r,i)=>{kn(this,kv,r,"f"),kn(this,ug,i,"f")})),_t(this,sg,"f").catch(()=>{}),_t(this,cg,"f").catch(()=>{}),kn(this,Lh,t),kn(this,fg,(n==null?void 0:n.logger)??console)}get response(){return _t(this,jv,"f")}get request_id(){return _t(this,Lv,"f")}async withResponse(){kn(this,Zd,!0);const t=await _t(this,sg,"f");if(!t)throw new Error("Could not resolve a `Response` object");return{data:this,response:t,request_id:t.headers.get("request-id")}}static fromReadableStream(t){const n=new Pv(null);return n._run(()=>n._fromReadableStream(t)),n}static createMessage(t,n,r,{logger:i}={}){const o=new Pv(n,{logger:i});for(const a of n.messages)o._addMessageParam(a);return kn(o,Lh,{...n,stream:!0}),o._run(()=>o._createMessage(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),o}_run(t){t().then(()=>{this._emitFinal(),this._emit("end")},_t(this,Mv,"f"))}_addMessageParam(t){this.messages.push(t)}_addMessage(t,n=!0){this.receivedMessages.push(t),n&&this._emit("message",t)}async _createMessage(t,n,r){var a;const i=r==null?void 0:r.signal;let o;i&&(i.aborted&&this.controller.abort(),o=this.controller.abort.bind(this.controller),i.addEventListener("abort",o));try{_t(this,el,"m",k4).call(this);const{response:s,data:l}=await t.create({...n,stream:!0},{...r,signal:this.controller.signal}).withResponse();this._connected(s);for await(const c of l)_t(this,el,"m",N4).call(this,c);if((a=l.controller.signal)!=null&&a.aborted)throw new jl;_t(this,el,"m",R4).call(this)}finally{i&&o&&i.removeEventListener("abort",o)}}_connected(t){this.ended||(kn(this,jv,t),kn(this,Lv,t==null?void 0:t.headers.get("request-id")),_t(this,Ov,"f").call(this,t),this._emit("connect"))}get ended(){return _t(this,dg,"f")}get errored(){return _t(this,Nv,"f")}get aborted(){return _t(this,Rv,"f")}abort(){this.controller.abort()}on(t,n){return(_t(this,Jc,"f")[t]||(_t(this,Jc,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=_t(this,Jc,"f")[t];if(!r)return this;const i=r.findIndex(o=>o.listener===n);return i>=0&&r.splice(i,1),this}once(t,n){return(_t(this,Jc,"f")[t]||(_t(this,Jc,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{kn(this,Zd,!0),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){kn(this,Zd,!0),await _t(this,cg,"f")}get currentMessage(){return _t(this,Bu,"f")}async finalMessage(){return await this.done(),_t(this,el,"m",O4).call(this)}async finalText(){return await this.done(),_t(this,el,"m",d$).call(this)}_emit(t,...n){if(_t(this,dg,"f"))return;t==="end"&&(kn(this,dg,!0),_t(this,kv,"f").call(this));const r=_t(this,Jc,"f")[t];if(r&&(_t(this,Jc,"f")[t]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),t==="abort"){const i=n[0];!_t(this,Zd,"f")&&!(r!=null&&r.length)&&Promise.reject(i),_t(this,lg,"f").call(this,i),_t(this,ug,"f").call(this,i),this._emit("end");return}if(t==="error"){const i=n[0];!_t(this,Zd,"f")&&!(r!=null&&r.length)&&Promise.reject(i),_t(this,lg,"f").call(this,i),_t(this,ug,"f").call(this,i),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",_t(this,el,"m",O4).call(this))}async _fromReadableStream(t,n){var o;const r=n==null?void 0:n.signal;let i;r&&(r.aborted&&this.controller.abort(),i=this.controller.abort.bind(this.controller),r.addEventListener("abort",i));try{_t(this,el,"m",k4).call(this),this._connected(null);const a=ig.fromReadableStream(t,this.controller);for await(const s of a)_t(this,el,"m",N4).call(this,s);if((o=a.controller.signal)!=null&&o.aborted)throw new jl;_t(this,el,"m",R4).call(this)}finally{r&&i&&r.removeEventListener("abort",i)}}[(Bu=new WeakMap,Lh=new WeakMap,sg=new WeakMap,Ov=new WeakMap,lg=new WeakMap,cg=new WeakMap,kv=new WeakMap,ug=new WeakMap,Jc=new WeakMap,dg=new WeakMap,Nv=new WeakMap,Rv=new WeakMap,Zd=new WeakMap,jv=new WeakMap,Lv=new WeakMap,fg=new WeakMap,Mv=new WeakMap,el=new WeakSet,O4=function(){if(this.receivedMessages.length===0)throw new br("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},d$=function(){if(this.receivedMessages.length===0)throw new br("stream ended without producing a Message with role=assistant");const t=this.receivedMessages.at(-1).content.filter(n=>n.type==="text").map(n=>n.text);if(t.length===0)throw new br("stream ended without producing a content block with type=text");return t.join(" ")},k4=function(){this.ended||kn(this,Bu,void 0)},N4=function(t){if(this.ended)return;const n=_t(this,el,"m",f$).call(this,t);switch(this._emit("streamEvent",t,n),t.type){case"content_block_delta":{const r=n.content.at(-1);switch(t.delta.type){case"text_delta":{r.type==="text"&&this._emit("text",t.delta.text,r.text||"");break}case"citations_delta":{r.type==="text"&&this._emit("citation",t.delta.citation,r.citations??[]);break}case"input_json_delta":{p$(r)&&r.input&&this._emit("inputJson",t.delta.partial_json,r.input);break}case"thinking_delta":{r.type==="thinking"&&this._emit("thinking",t.delta.thinking,r.thinking);break}case"signature_delta":{r.type==="thinking"&&this._emit("signature",r.signature);break}default:t.delta}break}case"message_stop":{this._addMessageParam(n),this._addMessage(l$(n,_t(this,Lh,"f"),{logger:_t(this,fg,"f")}),!0);break}case"content_block_stop":{this._emit("contentBlock",n.content.at(-1));break}case"message_start":{kn(this,Bu,n);break}}},R4=function(){if(this.ended)throw new br("stream has ended, this shouldn't happen");const t=_t(this,Bu,"f");if(!t)throw new br("request ended without sending any chunks");return kn(this,Bu,void 0),l$(t,_t(this,Lh,"f"),{logger:_t(this,fg,"f")})},f$=function(t){let n=_t(this,Bu,"f");if(t.type==="message_start"){if(n)throw new br(`Unexpected event order, got ${t.type} before receiving "message_stop"`);return t.message}if(!n)throw new br(`Unexpected event order, got ${t.type} before "message_start"`);switch(t.type){case"message_stop":return n;case"message_delta":return n.container=t.delta.container,n.stop_reason=t.delta.stop_reason,n.stop_sequence=t.delta.stop_sequence,n.usage.output_tokens=t.usage.output_tokens,n.context_management=t.context_management,t.usage.input_tokens!=null&&(n.usage.input_tokens=t.usage.input_tokens),t.usage.cache_creation_input_tokens!=null&&(n.usage.cache_creation_input_tokens=t.usage.cache_creation_input_tokens),t.usage.cache_read_input_tokens!=null&&(n.usage.cache_read_input_tokens=t.usage.cache_read_input_tokens),t.usage.server_tool_use!=null&&(n.usage.server_tool_use=t.usage.server_tool_use),n;case"content_block_start":return n.content.push(t.content_block),n;case"content_block_delta":{const r=n.content.at(t.index);switch(t.delta.type){case"text_delta":{(r==null?void 0:r.type)==="text"&&(n.content[t.index]={...r,text:(r.text||"")+t.delta.text});break}case"citations_delta":{(r==null?void 0:r.type)==="text"&&(n.content[t.index]={...r,citations:[...r.citations??[],t.delta.citation]});break}case"input_json_delta":{if(r&&p$(r)){let i=r[h$]||"";i+=t.delta.partial_json;const o={...r};if(Object.defineProperty(o,h$,{value:i,enumerable:!1,writable:!0}),i)try{o.input=u$(i)}catch(a){const s=new br(`Unable to parse tool parameter JSON from model. Please retry your request or adjust your prompt. Error: ${a}. JSON: ${i}`);_t(this,Mv,"f").call(this,s)}n.content[t.index]=o}break}case"thinking_delta":{(r==null?void 0:r.type)==="thinking"&&(n.content[t.index]={...r,thinking:r.thinking+t.delta.thinking});break}case"signature_delta":{(r==null?void 0:r.type)==="thinking"&&(n.content[t.index]={...r,signature:t.delta.signature});break}default:t.delta}return n}case"content_block_stop":return n}},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("streamEvent",i=>{const o=n.shift();o?o.resolve(i):t.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const o of n)o.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const o of n)o.reject(i);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new ig(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}const Uve=1e5,zve=`You have been working on the task described above but have not yet completed it. Write a continuation summary that will allow you (or another instance of yourself) to resume work efficiently in a future context window where the conversation history will be replaced with this summary. Your summary should be structured, concise, and actionable. Include:
1. Task Overview
The user's core request and success criteria
Any clarifications or constraints they specified
2. Current State
What has been completed so far
Files created, modified, or analyzed (with paths if relevant)
Key outputs or artifacts produced
3. Important Discoveries
Technical constraints or requirements uncovered
Decisions made and their rationale
Errors encountered and how they were resolved
What approaches were tried that didn't work (and why)
4. Next Steps
Specific actions needed to complete the task
Any blockers or open questions to resolve
Priority order if multiple steps remain
5. Context to Preserve
User preferences or style requirements
Domain-specific details that aren't obvious
Any promises made to the user
Be concise but complete\u2014err on the side of including information that would prevent duplicate work or repeated mistakes. Write in a way that enables immediate resumption of the task.
Wrap your summary in <summary></summary> tags.`;var hg,Mh,ef,Ko,pg,Rs,Zc,$u,mg,m$,j4;function g$(){let e,t;return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}}class y${constructor(t,n,r){hg.add(this),this.client=t,Mh.set(this,!1),ef.set(this,!1),Ko.set(this,void 0),pg.set(this,void 0),Rs.set(this,void 0),Zc.set(this,void 0),$u.set(this,void 0),mg.set(this,0),kn(this,Ko,{params:{...n,messages:structuredClone(n.messages)}}),kn(this,pg,{...r,headers:ni([{"x-stainless-helper":"BetaToolRunner"},r==null?void 0:r.headers])}),kn(this,$u,g$())}async*[(Mh=new WeakMap,ef=new WeakMap,Ko=new WeakMap,pg=new WeakMap,Rs=new WeakMap,Zc=new WeakMap,$u=new WeakMap,mg=new WeakMap,hg=new WeakSet,m$=async function(){var l;const t=_t(this,Ko,"f").params.compactionControl;if(!t||!t.enabled)return!1;let n=0;if(_t(this,Rs,"f")!==void 0)try{const c=await _t(this,Rs,"f");n=c.usage.input_tokens+(c.usage.cache_creation_input_tokens??0)+(c.usage.cache_read_input_tokens??0)+c.usage.output_tokens}catch{return!1}const r=t.contextTokenThreshold??Uve;if(n<r)return!1;const i=t.model??_t(this,Ko,"f").params.model,o=t.summaryPrompt??zve,a=_t(this,Ko,"f").params.messages;if(a[a.length-1].role==="assistant"){const c=a[a.length-1];if(Array.isArray(c.content)){const u=c.content.filter(d=>d.type!=="tool_use");u.length===0?a.pop():c.content=u}}const s=await this.client.beta.messages.create({model:i,messages:[...a,{role:"user",content:[{type:"text",text:o}]}],max_tokens:_t(this,Ko,"f").params.max_tokens},{headers:{"x-stainless-helper":"compaction"}});if(((l=s.content[0])==null?void 0:l.type)!=="text")throw new br("Expected text response for compaction");return _t(this,Ko,"f").params.messages=[{role:"user",content:s.content}],!0},Symbol.asyncIterator)](){var t;if(_t(this,Mh,"f"))throw new br("Cannot iterate over a consumed stream");kn(this,Mh,!0),kn(this,ef,!0),kn(this,Zc,void 0);try{for(;;){let n;try{if(_t(this,Ko,"f").params.max_iterations&&_t(this,mg,"f")>=_t(this,Ko,"f").params.max_iterations)break;kn(this,ef,!1,"f"),kn(this,Zc,void 0,"f"),kn(this,mg,(t=_t(this,mg,"f"),t++,t),"f"),kn(this,Rs,void 0,"f");const{max_iterations:r,compactionControl:i,...o}=_t(this,Ko,"f").params;if(o.stream?(n=this.client.beta.messages.stream({...o},_t(this,pg,"f")),kn(this,Rs,n.finalMessage(),"f"),_t(this,Rs,"f").catch(()=>{}),yield n):(kn(this,Rs,this.client.beta.messages.create({...o,stream:!1},_t(this,pg,"f")),"f"),yield _t(this,Rs,"f")),!await _t(this,hg,"m",m$).call(this)){if(!_t(this,ef,"f")){const{role:s,content:l}=await _t(this,Rs,"f");_t(this,Ko,"f").params.messages.push({role:s,content:l})}const a=await _t(this,hg,"m",j4).call(this,_t(this,Ko,"f").params.messages.at(-1));if(a)_t(this,Ko,"f").params.messages.push(a);else if(!_t(this,ef,"f"))break}}finally{n&&n.abort()}}if(!_t(this,Rs,"f"))throw new br("ToolRunner concluded without a message from the server");_t(this,$u,"f").resolve(await _t(this,Rs,"f"))}catch(n){throw kn(this,Mh,!1),_t(this,$u,"f").promise.catch(()=>{}),_t(this,$u,"f").reject(n),kn(this,$u,g$()),n}}setMessagesParams(t){typeof t=="function"?_t(this,Ko,"f").params=t(_t(this,Ko,"f").params):_t(this,Ko,"f").params=t,kn(this,ef,!0),kn(this,Zc,void 0)}async generateToolResponse(){const t=await _t(this,Rs,"f")??this.params.messages.at(-1);return t?_t(this,hg,"m",j4).call(this,t):null}done(){return _t(this,$u,"f").promise}async runUntilDone(){if(!_t(this,Mh,"f"))for await(const t of this);return this.done()}get params(){return _t(this,Ko,"f").params}pushMessages(...t){this.setMessagesParams(n=>({...n,messages:[...n.messages,...t]}))}then(t,n){return this.runUntilDone().then(t,n)}}j4=async function(e){return _t(this,Zc,"f")!==void 0?_t(this,Zc,"f"):(kn(this,Zc,Bve(_t(this,Ko,"f").params,e)),_t(this,Zc,"f"))};async function Bve(e,t=e.messages.at(-1)){if(!t||t.role!=="assistant"||!t.content||typeof t.content=="string")return null;const n=t.content.filter(r=>r.type==="tool_use");return n.length===0?null:{role:"user",content:await Promise.all(n.map(async r=>{const i=e.tools.find(o=>("name"in o?o.name:o.mcp_server_name)===r.name);if(!i||!("run"in i))return{type:"tool_result",tool_use_id:r.id,content:`Error: Tool '${r.name}' not found`,is_error:!0};try{let o=r.input;"parse"in i&&i.parse&&(o=i.parse(o));const a=await i.run(o);return{type:"tool_result",tool_use_id:r.id,content:a}}catch(o){return{type:"tool_result",tool_use_id:r.id,content:`Error: ${o instanceof Error?o.message:String(o)}`,is_error:!0}}}))}}class Dv{constructor(t,n){this.iterator=t,this.controller=n}async*decoder(){const t=new tg;for await(const n of this.iterator)for(const r of t.decode(n))yield JSON.parse(r);for(const n of t.flush())yield JSON.parse(n)}[Symbol.asyncIterator](){return this.decoder()}static fromResponse(t,n){if(!t.body)throw n.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new br("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new br("Attempted to iterate over a response with no body");return new Dv(S4(t.body),n)}}let v$=class extends Ll{create(e,t){const{betas:n,...r}=e;return this._client.post("/v1/messages/batches?beta=true",{body:r,...t,headers:ni([{"anthropic-beta":[...n??[],"message-batches-2024-09-24"].toString()},t==null?void 0:t.headers])})}retrieve(e,t={},n){const{betas:r}=t??{};return this._client.get(ba`/v1/messages/batches/${e}?beta=true`,{...n,headers:ni([{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString()},n==null?void 0:n.headers])})}list(e={},t){const{betas:n,...r}=e??{};return this._client.getAPIList("/v1/messages/batches?beta=true",ag,{query:r,...t,headers:ni([{"anthropic-beta":[...n??[],"message-batches-2024-09-24"].toString()},t==null?void 0:t.headers])})}delete(e,t={},n){const{betas:r}=t??{};return this._client.delete(ba`/v1/messages/batches/${e}?beta=true`,{...n,headers:ni([{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString()},n==null?void 0:n.headers])})}cancel(e,t={},n){const{betas:r}=t??{};return this._client.post(ba`/v1/messages/batches/${e}/cancel?beta=true`,{...n,headers:ni([{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString()},n==null?void 0:n.headers])})}async results(e,t={},n){const r=await this.retrieve(e);if(!r.results_url)throw new br(`No batch \`results_url\`; Has it finished processing? ${r.processing_status} - ${r.id}`);const{betas:i}=t??{};return this._client.get(r.results_url,{...n,headers:ni([{"anthropic-beta":[...i??[],"message-batches-2024-09-24"].toString(),Accept:"application/binary"},n==null?void 0:n.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((o,a)=>Dv.fromResponse(a.response,a.controller))}};const b$={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-7-sonnet-latest":"February 19th, 2026","claude-3-7-sonnet-20250219":"February 19th, 2026"};let Fv=class extends Ll{constructor(){super(...arguments),this.batches=new v$(this._client)}create(e,t){const{betas:n,...r}=e;r.model in b$&&console.warn(`The model '${r.model}' is deprecated and will reach end-of-life on ${b$[r.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let i=this._client._options.timeout;if(!r.stream&&i==null){const o=s$[r.model]??void 0;i=this._client.calculateNonstreamingTimeout(r.max_tokens,o)}return this._client.post("/v1/messages?beta=true",{body:r,timeout:i??6e5,...t,headers:ni([{...(n==null?void 0:n.toString())!=null?{"anthropic-beta":n==null?void 0:n.toString()}:void 0},t==null?void 0:t.headers]),stream:e.stream??!1})}parse(e,t){return t={...t,headers:ni([{"anthropic-beta":[...e.betas??[],"structured-outputs-2025-11-13"].toString()},t==null?void 0:t.headers])},this.create(e,t).then(n=>c$(n,e,{logger:this._client.logger??console}))}stream(e,t){return Pv.createMessage(this,e,t)}countTokens(e,t){const{betas:n,...r}=e;return this._client.post("/v1/messages/count_tokens?beta=true",{body:r,...t,headers:ni([{"anthropic-beta":[...n??[],"token-counting-2024-11-01"].toString()},t==null?void 0:t.headers])})}toolRunner(e,t){return new y$(this._client,e,t)}};Fv.Batches=v$,Fv.BetaToolRunner=y$;class w$ extends Ll{create(t,n={},r){const{betas:i,...o}=n??{};return this._client.post(ba`/v1/skills/${t}/versions?beta=true`,T4({body:o,...r,headers:ni([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},r==null?void 0:r.headers])},this._client))}retrieve(t,n,r){const{skill_id:i,betas:o}=n;return this._client.get(ba`/v1/skills/${i}/versions/${t}?beta=true`,{...r,headers:ni([{"anthropic-beta":[...o??[],"skills-2025-10-02"].toString()},r==null?void 0:r.headers])})}list(t,n={},r){const{betas:i,...o}=n??{};return this._client.getAPIList(ba`/v1/skills/${t}/versions?beta=true`,QB,{query:o,...r,headers:ni([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},r==null?void 0:r.headers])})}delete(t,n,r){const{skill_id:i,betas:o}=n;return this._client.delete(ba`/v1/skills/${i}/versions/${t}?beta=true`,{...r,headers:ni([{"anthropic-beta":[...o??[],"skills-2025-10-02"].toString()},r==null?void 0:r.headers])})}}class L4 extends Ll{constructor(){super(...arguments),this.versions=new w$(this._client)}create(t={},n){const{betas:r,...i}=t??{};return this._client.post("/v1/skills?beta=true",T4({body:i,...n,headers:ni([{"anthropic-beta":[...r??[],"skills-2025-10-02"].toString()},n==null?void 0:n.headers])},this._client))}retrieve(t,n={},r){const{betas:i}=n??{};return this._client.get(ba`/v1/skills/${t}?beta=true`,{...r,headers:ni([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},r==null?void 0:r.headers])})}list(t={},n){const{betas:r,...i}=t??{};return this._client.getAPIList("/v1/skills?beta=true",QB,{query:i,...n,headers:ni([{"anthropic-beta":[...r??[],"skills-2025-10-02"].toString()},n==null?void 0:n.headers])})}delete(t,n={},r){const{betas:i}=n??{};return this._client.delete(ba`/v1/skills/${t}?beta=true`,{...r,headers:ni([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},r==null?void 0:r.headers])})}}L4.Versions=w$;let Ph=class extends Ll{constructor(){super(...arguments),this.models=new a$(this._client),this.messages=new Fv(this._client),this.files=new o$(this._client),this.skills=new L4(this._client)}};Ph.Models=a$,Ph.Messages=Fv,Ph.Files=o$,Ph.Skills=L4;let x$=class extends Ll{create(e,t){const{betas:n,...r}=e;return this._client.post("/v1/complete",{body:r,timeout:this._client._options.timeout??6e5,...t,headers:ni([{...(n==null?void 0:n.toString())!=null?{"anthropic-beta":n==null?void 0:n.toString()}:void 0},t==null?void 0:t.headers]),stream:e.stream??!1})}};var tl,Hu,gg,Uv,yg,vg,zv,bg,eu,wg,Bv,$v,tf,Hv,Vv,M4,_$,P4,D4,F4,U4,E$;const S$="__json_buf";function C$(e){return e.type==="tool_use"||e.type==="server_tool_use"}class qv{constructor(){tl.add(this),this.messages=[],this.receivedMessages=[],Hu.set(this,void 0),this.controller=new AbortController,gg.set(this,void 0),Uv.set(this,()=>{}),yg.set(this,()=>{}),vg.set(this,void 0),zv.set(this,()=>{}),bg.set(this,()=>{}),eu.set(this,{}),wg.set(this,!1),Bv.set(this,!1),$v.set(this,!1),tf.set(this,!1),Hv.set(this,void 0),Vv.set(this,void 0),P4.set(this,t=>{if(kn(this,Bv,!0),eg(t)&&(t=new jl),t instanceof jl)return kn(this,$v,!0),this._emit("abort",t);if(t instanceof br)return this._emit("error",t);if(t instanceof Error){const n=new br(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new br(String(t)))}),kn(this,gg,new Promise((t,n)=>{kn(this,Uv,t,"f"),kn(this,yg,n,"f")})),kn(this,vg,new Promise((t,n)=>{kn(this,zv,t,"f"),kn(this,bg,n,"f")})),_t(this,gg,"f").catch(()=>{}),_t(this,vg,"f").catch(()=>{})}get response(){return _t(this,Hv,"f")}get request_id(){return _t(this,Vv,"f")}async withResponse(){kn(this,tf,!0);const t=await _t(this,gg,"f");if(!t)throw new Error("Could not resolve a `Response` object");return{data:this,response:t,request_id:t.headers.get("request-id")}}static fromReadableStream(t){const n=new qv;return n._run(()=>n._fromReadableStream(t)),n}static createMessage(t,n,r){const i=new qv;for(const o of n.messages)i._addMessageParam(o);return i._run(()=>i._createMessage(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}_run(t){t().then(()=>{this._emitFinal(),this._emit("end")},_t(this,P4,"f"))}_addMessageParam(t){this.messages.push(t)}_addMessage(t,n=!0){this.receivedMessages.push(t),n&&this._emit("message",t)}async _createMessage(t,n,r){var a;const i=r==null?void 0:r.signal;let o;i&&(i.aborted&&this.controller.abort(),o=this.controller.abort.bind(this.controller),i.addEventListener("abort",o));try{_t(this,tl,"m",D4).call(this);const{response:s,data:l}=await t.create({...n,stream:!0},{...r,signal:this.controller.signal}).withResponse();this._connected(s);for await(const c of l)_t(this,tl,"m",F4).call(this,c);if((a=l.controller.signal)!=null&&a.aborted)throw new jl;_t(this,tl,"m",U4).call(this)}finally{i&&o&&i.removeEventListener("abort",o)}}_connected(t){this.ended||(kn(this,Hv,t),kn(this,Vv,t==null?void 0:t.headers.get("request-id")),_t(this,Uv,"f").call(this,t),this._emit("connect"))}get ended(){return _t(this,wg,"f")}get errored(){return _t(this,Bv,"f")}get aborted(){return _t(this,$v,"f")}abort(){this.controller.abort()}on(t,n){return(_t(this,eu,"f")[t]||(_t(this,eu,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=_t(this,eu,"f")[t];if(!r)return this;const i=r.findIndex(o=>o.listener===n);return i>=0&&r.splice(i,1),this}once(t,n){return(_t(this,eu,"f")[t]||(_t(this,eu,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{kn(this,tf,!0),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){kn(this,tf,!0),await _t(this,vg,"f")}get currentMessage(){return _t(this,Hu,"f")}async finalMessage(){return await this.done(),_t(this,tl,"m",M4).call(this)}async finalText(){return await this.done(),_t(this,tl,"m",_$).call(this)}_emit(t,...n){if(_t(this,wg,"f"))return;t==="end"&&(kn(this,wg,!0),_t(this,zv,"f").call(this));const r=_t(this,eu,"f")[t];if(r&&(_t(this,eu,"f")[t]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),t==="abort"){const i=n[0];!_t(this,tf,"f")&&!(r!=null&&r.length)&&Promise.reject(i),_t(this,yg,"f").call(this,i),_t(this,bg,"f").call(this,i),this._emit("end");return}if(t==="error"){const i=n[0];!_t(this,tf,"f")&&!(r!=null&&r.length)&&Promise.reject(i),_t(this,yg,"f").call(this,i),_t(this,bg,"f").call(this,i),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",_t(this,tl,"m",M4).call(this))}async _fromReadableStream(t,n){var o;const r=n==null?void 0:n.signal;let i;r&&(r.aborted&&this.controller.abort(),i=this.controller.abort.bind(this.controller),r.addEventListener("abort",i));try{_t(this,tl,"m",D4).call(this),this._connected(null);const a=ig.fromReadableStream(t,this.controller);for await(const s of a)_t(this,tl,"m",F4).call(this,s);if((o=a.controller.signal)!=null&&o.aborted)throw new jl;_t(this,tl,"m",U4).call(this)}finally{r&&i&&r.removeEventListener("abort",i)}}[(Hu=new WeakMap,gg=new WeakMap,Uv=new WeakMap,yg=new WeakMap,vg=new WeakMap,zv=new WeakMap,bg=new WeakMap,eu=new WeakMap,wg=new WeakMap,Bv=new WeakMap,$v=new WeakMap,tf=new WeakMap,Hv=new WeakMap,Vv=new WeakMap,P4=new WeakMap,tl=new WeakSet,M4=function(){if(this.receivedMessages.length===0)throw new br("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},_$=function(){if(this.receivedMessages.length===0)throw new br("stream ended without producing a Message with role=assistant");const t=this.receivedMessages.at(-1).content.filter(n=>n.type==="text").map(n=>n.text);if(t.length===0)throw new br("stream ended without producing a content block with type=text");return t.join(" ")},D4=function(){this.ended||kn(this,Hu,void 0)},F4=function(t){if(this.ended)return;const n=_t(this,tl,"m",E$).call(this,t);switch(this._emit("streamEvent",t,n),t.type){case"content_block_delta":{const r=n.content.at(-1);switch(t.delta.type){case"text_delta":{r.type==="text"&&this._emit("text",t.delta.text,r.text||"");break}case"citations_delta":{r.type==="text"&&this._emit("citation",t.delta.citation,r.citations??[]);break}case"input_json_delta":{C$(r)&&r.input&&this._emit("inputJson",t.delta.partial_json,r.input);break}case"thinking_delta":{r.type==="thinking"&&this._emit("thinking",t.delta.thinking,r.thinking);break}case"signature_delta":{r.type==="thinking"&&this._emit("signature",r.signature);break}default:t.delta}break}case"message_stop":{this._addMessageParam(n),this._addMessage(n,!0);break}case"content_block_stop":{this._emit("contentBlock",n.content.at(-1));break}case"message_start":{kn(this,Hu,n);break}}},U4=function(){if(this.ended)throw new br("stream has ended, this shouldn't happen");const t=_t(this,Hu,"f");if(!t)throw new br("request ended without sending any chunks");return kn(this,Hu,void 0),t},E$=function(t){let n=_t(this,Hu,"f");if(t.type==="message_start"){if(n)throw new br(`Unexpected event order, got ${t.type} before receiving "message_stop"`);return t.message}if(!n)throw new br(`Unexpected event order, got ${t.type} before "message_start"`);switch(t.type){case"message_stop":return n;case"message_delta":return n.stop_reason=t.delta.stop_reason,n.stop_sequence=t.delta.stop_sequence,n.usage.output_tokens=t.usage.output_tokens,t.usage.input_tokens!=null&&(n.usage.input_tokens=t.usage.input_tokens),t.usage.cache_creation_input_tokens!=null&&(n.usage.cache_creation_input_tokens=t.usage.cache_creation_input_tokens),t.usage.cache_read_input_tokens!=null&&(n.usage.cache_read_input_tokens=t.usage.cache_read_input_tokens),t.usage.server_tool_use!=null&&(n.usage.server_tool_use=t.usage.server_tool_use),n;case"content_block_start":return n.content.push({...t.content_block}),n;case"content_block_delta":{const r=n.content.at(t.index);switch(t.delta.type){case"text_delta":{(r==null?void 0:r.type)==="text"&&(n.content[t.index]={...r,text:(r.text||"")+t.delta.text});break}case"citations_delta":{(r==null?void 0:r.type)==="text"&&(n.content[t.index]={...r,citations:[...r.citations??[],t.delta.citation]});break}case"input_json_delta":{if(r&&C$(r)){let i=r[S$]||"";i+=t.delta.partial_json;const o={...r};Object.defineProperty(o,S$,{value:i,enumerable:!1,writable:!0}),i&&(o.input=u$(i)),n.content[t.index]=o}break}case"thinking_delta":{(r==null?void 0:r.type)==="thinking"&&(n.content[t.index]={...r,thinking:r.thinking+t.delta.thinking});break}case"signature_delta":{(r==null?void 0:r.type)==="thinking"&&(n.content[t.index]={...r,signature:t.delta.signature});break}default:t.delta}return n}case"content_block_stop":return n}},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("streamEvent",i=>{const o=n.shift();o?o.resolve(i):t.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const o of n)o.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const o of n)o.reject(i);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new ig(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}let T$=class extends Ll{create(e,t){return this._client.post("/v1/messages/batches",{body:e,...t})}retrieve(e,t){return this._client.get(ba`/v1/messages/batches/${e}`,t)}list(e={},t){return this._client.getAPIList("/v1/messages/batches",ag,{query:e,...t})}delete(e,t){return this._client.delete(ba`/v1/messages/batches/${e}`,t)}cancel(e,t){return this._client.post(ba`/v1/messages/batches/${e}/cancel`,t)}async results(e,t){const n=await this.retrieve(e);if(!n.results_url)throw new br(`No batch \`results_url\`; Has it finished processing? ${n.processing_status} - ${n.id}`);return this._client.get(n.results_url,{...t,headers:ni([{Accept:"application/binary"},t==null?void 0:t.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((r,i)=>Dv.fromResponse(i.response,i.controller))}},z4=class extends Ll{constructor(){super(...arguments),this.batches=new T$(this._client)}create(e,t){e.model in A$&&console.warn(`The model '${e.model}' is deprecated and will reach end-of-life on ${A$[e.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let n=this._client._options.timeout;if(!e.stream&&n==null){const r=s$[e.model]??void 0;n=this._client.calculateNonstreamingTimeout(e.max_tokens,r)}return this._client.post("/v1/messages",{body:e,timeout:n??6e5,...t,stream:e.stream??!1})}stream(e,t){return qv.createMessage(this,e,t)}countTokens(e,t){return this._client.post("/v1/messages/count_tokens",{body:e,...t})}};const A$={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-7-sonnet-latest":"February 19th, 2026","claude-3-7-sonnet-20250219":"February 19th, 2026"};z4.Batches=T$;let I$=class extends Ll{retrieve(e,t={},n){const{betas:r}=t??{};return this._client.get(ba`/v1/models/${e}`,{...n,headers:ni([{...(r==null?void 0:r.toString())!=null?{"anthropic-beta":r==null?void 0:r.toString()}:void 0},n==null?void 0:n.headers])})}list(e={},t){const{betas:n,...r}=e??{};return this._client.getAPIList("/v1/models",ag,{query:r,...t,headers:ni([{...(n==null?void 0:n.toString())!=null?{"anthropic-beta":n==null?void 0:n.toString()}:void 0},t==null?void 0:t.headers])})}};var B4={};const Wv=e=>{var t,n,r,i;if(typeof globalThis.process<"u")return((t=B4==null?void 0:B4[e])==null?void 0:t.trim())??void 0;if(typeof globalThis.Deno<"u")return(i=(r=(n=globalThis.Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:i.trim()};var $4,H4,Gv,O$;const $ve="\\n\\nHuman:",Hve="\\n\\nAssistant:";class zo{constructor({baseURL:t=Wv("ANTHROPIC_BASE_URL"),apiKey:n=Wv("ANTHROPIC_API_KEY")??null,authToken:r=Wv("ANTHROPIC_AUTH_TOKEN")??null,...i}={}){$4.add(this),Gv.set(this,void 0);const o={apiKey:n,authToken:r,...i,baseURL:t||"https://api.anthropic.com"};if(!o.dangerouslyAllowBrowser&&cve())throw new br(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Anthropic({ apiKey, dangerouslyAllowBrowser: true });
`);this.baseURL=o.baseURL,this.timeout=o.timeout??H4.DEFAULT_TIMEOUT,this.logger=o.logger??console;const a="warn";this.logLevel=a,this.logLevel=qB(o.logLevel,"ClientOptions.logLevel",this)??qB(Wv("ANTHROPIC_LOG"),"process.env['ANTHROPIC_LOG']",this)??a,this.fetchOptions=o.fetchOptions,this.maxRetries=o.maxRetries??2,this.fetch=o.fetch??pve(),kn(this,Gv,gve),this._options=o,this.apiKey=typeof n=="string"?n:null,this.authToken=r}withOptions(t){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,authToken:this.authToken,...t})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.get("x-api-key")||t.get("authorization"))&&!(this.apiKey&&t.get("x-api-key"))&&!n.has("x-api-key")&&!(this.authToken&&t.get("authorization"))&&!n.has("authorization"))throw new Error('Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted')}async authHeaders(t){return ni([await this.apiKeyAuth(t),await this.bearerAuth(t)])}async apiKeyAuth(t){if(this.apiKey!=null)return ni([{"X-Api-Key":this.apiKey}])}async bearerAuth(t){if(this.authToken!=null)return ni([{Authorization:`Bearer ${this.authToken}`}])}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new br(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Nh}`}defaultIdempotencyKey(){return`stainless-node-retry-${CB()}`}makeStatusError(t,n,r,i){return Os.generate(t,n,r,i)}buildURL(t,n,r){const i=!_t(this,$4,"m",O$).call(this)&&r||this.baseURL,o=ive(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),a=this.defaultQuery();return ove(a)||(n={...a,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}_calculateNonstreamingTimeout(t){if(3600*t/128e3>600)throw new br("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#streaming-responses for more details");return 600*1e3}async prepareOptions(t){}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>({method:t,path:n,...i})))}request(t,n=null){return new XB(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var b,w;const i=await t,o=i.maxRetries??this.maxRetries;n==null&&(n=o),await this.prepareOptions(i);const{req:a,url:s,timeout:l}=await this.buildRequest(i,{retryCount:o-n});await this.prepareRequest(a,{url:s,options:i});const c="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),u=r===void 0?"":`, retryOf: ${r}`,d=Date.now();if(Ja(this).debug(`[${c}] sending request`,Jd({retryOfRequestLogID:r,method:i.method,url:s,options:i,headers:a.headers})),(b=i.signal)==null?void 0:b.aborted)throw new jl;const f=new AbortController,p=await this.fetchWithTimeout(s,a,l,f).catch(x4),g=Date.now();if(p instanceof globalThis.Error){const S=`retrying, ${n} attempts remaining`;if((w=i.signal)!=null&&w.aborted)throw new jl;const E=eg(p)||/timed? ?out/i.test(String(p)+("cause"in p?String(p.cause):""));if(n)return Ja(this).info(`[${c}] connection ${E?"timed out":"failed"} - ${S}`),Ja(this).debug(`[${c}] connection ${E?"timed out":"failed"} (${S})`,Jd({retryOfRequestLogID:r,url:s,durationMs:g-d,message:p.message})),this.retryRequest(i,n,r??c);throw Ja(this).info(`[${c}] connection ${E?"timed out":"failed"} - error; no more retries left`),Ja(this).debug(`[${c}] connection ${E?"timed out":"failed"} (error; no more retries left)`,Jd({retryOfRequestLogID:r,url:s,durationMs:g-d,message:p.message})),E?new TB:new Sv({cause:p})}const h=[...p.headers.entries()].filter(([S])=>S==="request-id").map(([S,E])=>", "+S+": "+JSON.stringify(E)).join(""),y=`[${c}${u}${h}] ${a.method} ${s} ${p.ok?"succeeded":"failed"} with status ${p.status} in ${g-d}ms`;if(!p.ok){const S=await this.shouldRetry(p);if(n&&S){const T=`retrying, ${n} attempts remaining`;return await mve(p.body),Ja(this).info(`${y} - ${T}`),Ja(this).debug(`[${c}] response error (${T})`,Jd({retryOfRequestLogID:r,url:p.url,status:p.status,headers:p.headers,durationMs:g-d})),this.retryRequest(i,n,r??c,p.headers)}const E=S?"error; no more retries left":"error; not retryable";Ja(this).info(`${y} - ${E}`);const _=await p.text().catch(T=>x4(T).message),m=PB(_),C=m?void 0:_;throw Ja(this).debug(`[${c}] response error (${E})`,Jd({retryOfRequestLogID:r,url:p.url,status:p.status,headers:p.headers,message:C,durationMs:Date.now()-d})),this.makeStatusError(p.status,m,C,p.headers)}return Ja(this).info(y),Ja(this).debug(`[${c}] response start`,Jd({retryOfRequestLogID:r,url:p.url,status:p.status,headers:p.headers,durationMs:g-d})),{response:p,options:i,controller:f,requestLogID:c,retryOfRequestLogID:r,startTime:d}}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}requestAPIList(t,n){const r=this.makeRequest(n,null,void 0);return new Cve(this,r,t)}async fetchWithTimeout(t,n,r,i){const{signal:o,method:a,...s}=n||{};o&&o.addEventListener("abort",()=>i.abort());const l=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&s.body instanceof globalThis.ReadableStream||typeof s.body=="object"&&s.body!==null&&Symbol.asyncIterator in s.body,u={signal:i.signal,...c?{duplex:"half"}:{},method:"GET",...s};a&&(u.method=a.toUpperCase());try{return await this.fetch.call(void 0,t,u)}finally{clearTimeout(l)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){let o;const a=i==null?void 0:i.get("retry-after-ms");if(a){const l=parseFloat(a);Number.isNaN(l)||(o=l)}const s=i==null?void 0:i.get("retry-after");if(s&&!o){const l=parseFloat(s);Number.isNaN(l)?o=Date.parse(s)-Date.now():o=l*1e3}if(!(o&&0<=o&&o<60*1e3)){const l=t.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,l)}return await lve(o),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const r=n-t,i=Math.min(.5*Math.pow(2,r),8),o=1-Math.random()*.25;return i*o*1e3}calculateNonstreamingTimeout(t,n){if(36e5*t/128e3>6e5||n!=null&&t>n)throw new br("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#long-requests for more details");return 6e5}async buildRequest(t,{retryCount:n=0}={}){const r={...t},{method:i,path:o,query:a,defaultBaseURL:s}=r,l=this.buildURL(o,a,s);"timeout"in r&&sve("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:c,body:u}=this.buildBody({options:r}),d=await this.buildHeaders({options:t,method:i,bodyHeaders:c,retryCount:n});return{req:{method:i,headers:d,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&u instanceof globalThis.ReadableStream&&{duplex:"half"},...u&&{body:u},...this.fetchOptions??{},...r.fetchOptions??{}},url:l,timeout:r.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const a=ni([o,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i),...t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{},...hve(),...this._options.dangerouslyAllowBrowser?{"anthropic-dangerous-direct-browser-access":"true"}:void 0,"anthropic-version":"2023-06-01"},await this.authHeaders(t),this._options.defaultHeaders,r,t.headers]);return this.validateHeaders(a),a.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=ni([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:BB(t)}:_t(this,Gv,"f").call(this,{body:t,headers:r})}}H4=zo,Gv=new WeakMap,$4=new WeakSet,O$=function(){return this.baseURL!=="https://api.anthropic.com"},zo.Anthropic=H4,zo.HUMAN_PROMPT=$ve,zo.AI_PROMPT=Hve,zo.DEFAULT_TIMEOUT=6e5,zo.AnthropicError=br,zo.APIError=Os,zo.APIConnectionError=Sv,zo.APIConnectionTimeoutError=TB,zo.APIUserAbortError=jl,zo.NotFoundError=kB,zo.ConflictError=NB,zo.RateLimitError=jB,zo.BadRequestError=AB,zo.AuthenticationError=IB,zo.InternalServerError=LB,zo.PermissionDeniedError=OB,zo.UnprocessableEntityError=RB,zo.toFile=Nve;class Ma extends zo{constructor(){super(...arguments),this.completions=new x$(this),this.messages=new z4(this),this.models=new I$(this),this.beta=new Ph(this)}}Ma.Completions=x$,Ma.Messages=z4,Ma.Models=I$,Ma.Beta=Ph;function sr(e,t,n,r,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}function wt(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}let k$=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return k$=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};function V4(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const q4=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};class Gn extends Error{}class wa extends Gn{constructor(t,n,r,i){super(`${wa.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.requestID=i==null?void 0:i.get("x-request-id"),this.error=n;const o=n;this.code=o==null?void 0:o.code,this.param=o==null?void 0:o.param,this.type=o==null?void 0:o.type}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new Kv({message:r,cause:q4(n)});const o=n==null?void 0:n.error;return t===400?new N$(t,o,r,i):t===401?new R$(t,o,r,i):t===403?new j$(t,o,r,i):t===404?new L$(t,o,r,i):t===409?new M$(t,o,r,i):t===422?new P$(t,o,r,i):t===429?new D$(t,o,r,i):t>=500?new F$(t,o,r,i):new wa(t,o,r,i)}}class nl extends wa{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Kv extends wa{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class W4 extends Kv{constructor({message:t}={}){super({message:t??"Request timed out."})}}class N$ extends wa{}class R$ extends wa{}class j$ extends wa{}class L$ extends wa{}class M$ extends wa{}class P$ extends wa{}class D$ extends wa{}class F$ extends wa{}class U$ extends Gn{constructor(){super("Could not parse response content as the length limit was reached")}}class z$ extends Gn{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class xg extends Error{constructor(t){super(t)}}const Vve=/^[a-z][a-z0-9+.-]*:/i,qve=e=>Vve.test(e);let ms=e=>(ms=Array.isArray,ms(e)),B$=ms;function $$(e){return typeof e!="object"?{}:e??{}}function Wve(e){if(!e)return!0;for(const t in e)return!1;return!0}function Gve(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function G4(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}const Kve=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Gn(`${e} must be an integer`);if(t<0)throw new Gn(`${e} must be a positive integer`);return t},Xve=e=>{try{return JSON.parse(e)}catch{return}},_g=e=>new Promise(t=>setTimeout(t,e)),Dh="5.23.2",Yve=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function Qve(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Jve=()=>{var n;const e=Qve();if(e==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Dh,"X-Stainless-OS":V$(Deno.build.os),"X-Stainless-Arch":H$(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((n=Deno.version)==null?void 0:n.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Dh,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(e==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Dh,"X-Stainless-OS":V$(globalThis.process.platform??"unknown"),"X-Stainless-Arch":H$(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=Zve();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Dh,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Dh,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Zve(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,a=r[3]||0;return{browser:t,version:`${i}.${o}.${a}`}}}return null}const H$=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",V$=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let q$;const ebe=()=>q$??(q$=Jve());function tbe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function W$(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function G$(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return W$({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)==null?void 0:n.call(t))}})}function K$(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function nbe(e){var r,i;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((i=(r=e[Symbol.asyncIterator]()).return)==null?void 0:i.call(r));return}const t=e.getReader(),n=t.cancel();t.releaseLock(),await n}const rbe=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),X$="RFC3986",Y$=e=>String(e),Q$={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:Y$},ibe="RFC1738";let K4=(e,t)=>(K4=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),K4(e,t));const mc=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),X4=1024,obe=(e,t,n,r,i)=>{if(e.length===0)return e;let o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(s){return"%26%23"+parseInt(s.slice(2),16)+"%3B"});let a="";for(let s=0;s<o.length;s+=X4){const l=o.length>=X4?o.slice(s,s+X4):o,c=[];for(let u=0;u<l.length;++u){let d=l.charCodeAt(u);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||i===ibe&&(d===40||d===41)){c[c.length]=l.charAt(u);continue}if(d<128){c[c.length]=mc[d];continue}if(d<2048){c[c.length]=mc[192|d>>6]+mc[128|d&63];continue}if(d<55296||d>=57344){c[c.length]=mc[224|d>>12]+mc[128|d>>6&63]+mc[128|d&63];continue}u+=1,d=65536+((d&1023)<<10|l.charCodeAt(u)&1023),c[c.length]=mc[240|d>>18]+mc[128|d>>12&63]+mc[128|d>>6&63]+mc[128|d&63]}a+=c.join("")}return a};function abe(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function J$(e,t){if(ms(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const Z$={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},eH=function(e,t){Array.prototype.push.apply(e,ms(t)?t:[t])};let tH;const Xo={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:obe,encodeValuesOnly:!1,format:X$,formatter:Y$,indices:!1,serializeDate(e){return(tH??(tH=Function.prototype.call.bind(Date.prototype.toISOString)))(e)},skipNulls:!1,strictNullHandling:!1};function sbe(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const Y4={};function nH(e,t,n,r,i,o,a,s,l,c,u,d,f,p,g,h,y,b){let w=e,S=b,E=0,_=!1;for(;(S=S.get(Y4))!==void 0&&!_;){const R=S.get(e);if(E+=1,typeof R<"u"){if(R===E)throw new RangeError("Cyclic object value");_=!0}typeof S.get(Y4)>"u"&&(E=0)}if(typeof c=="function"?w=c(t,w):w instanceof Date?w=f==null?void 0:f(w):n==="comma"&&ms(w)&&(w=J$(w,function(R){return R instanceof Date?f==null?void 0:f(R):R})),w===null){if(o)return l&&!h?l(t,Xo.encoder,y,"key",p):t;w=""}if(sbe(w)||abe(w)){if(l){const R=h?t:l(t,Xo.encoder,y,"key",p);return[(g==null?void 0:g(R))+"="+(g==null?void 0:g(l(w,Xo.encoder,y,"value",p)))]}return[(g==null?void 0:g(t))+"="+(g==null?void 0:g(String(w)))]}const m=[];if(typeof w>"u")return m;let C;if(n==="comma"&&ms(w))h&&l&&(w=J$(w,l)),C=[{value:w.length>0?w.join(",")||null:void 0}];else if(ms(c))C=c;else{const R=Object.keys(w);C=u?R.sort(u):R}const T=s?String(t).replace(/\./g,"%2E"):String(t),O=r&&ms(w)&&w.length===1?T+"[]":T;if(i&&ms(w)&&w.length===0)return O+"[]";for(let R=0;R<C.length;++R){const j=C[R],D=typeof j=="object"&&typeof j.value<"u"?j.value:w[j];if(a&&D===null)continue;const L=d&&s?j.replace(/\./g,"%2E"):j,V=ms(w)?typeof n=="function"?n(O,L):O:O+(d?"."+L:"["+L+"]");b.set(e,E);const z=new WeakMap;z.set(Y4,b),eH(m,nH(D,V,n,r,i,o,a,s,n==="comma"&&h&&ms(w)?null:l,c,u,d,f,p,g,h,y,z))}return m}function lbe(e=Xo){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||Xo.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=X$;if(typeof e.format<"u"){if(!K4(Q$,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=Q$[n];let i=Xo.filter;(typeof e.filter=="function"||ms(e.filter))&&(i=e.filter);let o;if(e.arrayFormat&&e.arrayFormat in Z$?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=Xo.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:Xo.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Xo.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Xo.allowEmptyArrays,arrayFormat:o,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Xo.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Xo.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Xo.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Xo.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Xo.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Xo.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Xo.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Xo.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Xo.strictNullHandling}}function cbe(e,t={}){let n=e;const r=lbe(t);let i,o;typeof r.filter=="function"?(o=r.filter,n=o("",n)):ms(r.filter)&&(o=r.filter,i=o);const a=[];if(typeof n!="object"||n===null)return"";const s=Z$[r.arrayFormat],l=s==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);const c=new WeakMap;for(let f=0;f<i.length;++f){const p=i[f];r.skipNulls&&n[p]===null||eH(a,nH(n[p],p,s,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}const u=a.join(r.delimiter);let d=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),u.length>0?d+u:""}function ube(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let rH;function Q4(e){let t;return(rH??(t=new globalThis.TextEncoder,rH=t.encode.bind(t)))(e)}let iH;function oH(e){let t;return(iH??(t=new globalThis.TextDecoder,iH=t.decode.bind(t)))(e)}var js,Ls;class Xv{constructor(){js.set(this,void 0),Ls.set(this,void 0),sr(this,js,new Uint8Array),sr(this,Ls,null)}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Q4(t):t;sr(this,js,ube([wt(this,js,"f"),n]));const r=[];let i;for(;(i=dbe(wt(this,js,"f"),wt(this,Ls,"f")))!=null;){if(i.carriage&&wt(this,Ls,"f")==null){sr(this,Ls,i.index);continue}if(wt(this,Ls,"f")!=null&&(i.index!==wt(this,Ls,"f")+1||i.carriage)){r.push(oH(wt(this,js,"f").subarray(0,wt(this,Ls,"f")-1))),sr(this,js,wt(this,js,"f").subarray(wt(this,Ls,"f"))),sr(this,Ls,null);continue}const o=wt(this,Ls,"f")!==null?i.preceding-1:i.preceding,a=oH(wt(this,js,"f").subarray(0,o));r.push(a),sr(this,js,wt(this,js,"f").subarray(i.index)),sr(this,Ls,null)}return r}flush(){return wt(this,js,"f").length?this.decode(`
`):[]}}js=new WeakMap,Ls=new WeakMap,Xv.NEWLINE_CHARS=new Set([`
`,"\r"]),Xv.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function dbe(e,t){for(let n=t??0;n<e.length;n++){if(e[n]===10)return{preceding:n,index:n+1,carriage:!1};if(e[n]===13)return{preceding:n,index:n+1,carriage:!0}}return null}function fbe(e){for(let t=0;t<e.length-1;t++){if(e[t]===10&&e[t+1]===10||e[t]===13&&e[t+1]===13)return t+2;if(e[t]===13&&e[t+1]===10&&t+3<e.length&&e[t+2]===13&&e[t+3]===10)return t+4}return-1}const Yv={off:0,error:200,warn:300,info:400,debug:500},aH=(e,t,n)=>{if(e){if(Gve(Yv,e))return e;xa(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Yv))}`)}};function Eg(){}function Qv(e,t,n){return!t||Yv[e]>Yv[n]?Eg:t[e].bind(t)}const hbe={error:Eg,warn:Eg,info:Eg,debug:Eg};let sH=new WeakMap;function xa(e){const t=e.logger,n=e.logLevel??"off";if(!t)return hbe;const r=sH.get(t);if(r&&r[0]===n)return r[1];const i={error:Qv("error",t,n),warn:Qv("warn",t,n),info:Qv("info",t,n),debug:Qv("debug",t,n)};return sH.set(t,[n,i]),i}const nf=e=>(e.options&&(e.options={...e.options},delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);var Sg;class gc{constructor(t,n,r){this.iterator=t,Sg.set(this,void 0),this.controller=n,sr(this,Sg,r)}static fromSSEResponse(t,n,r){let i=!1;const o=r?xa(r):console;async function*a(){if(i)throw new Gn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let s=!1;try{for await(const l of pbe(t,n))if(!s){if(l.data.startsWith("[DONE]")){s=!0;continue}if(l.event===null||!l.event.startsWith("thread.")){let c;try{c=JSON.parse(l.data)}catch(u){throw o.error("Could not parse message into JSON:",l.data),o.error("From chunk:",l.raw),u}if(c&&c.error)throw new wa(void 0,c.error,void 0,t.headers);yield c}else{let c;try{c=JSON.parse(l.data)}catch(u){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),u}if(l.event=="error")throw new wa(void 0,c.error,c.message,void 0);yield{event:l.event,data:c}}}s=!0}catch(l){if(V4(l))return;throw l}finally{s||n.abort()}}return new gc(a,n,r)}static fromReadableStream(t,n,r){let i=!1;async function*o(){const s=new Xv,l=K$(t);for await(const c of l)for(const u of s.decode(c))yield u;for(const c of s.flush())yield c}async function*a(){if(i)throw new Gn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let s=!1;try{for await(const l of o())s||l&&(yield JSON.parse(l));s=!0}catch(l){if(V4(l))return;throw l}finally{s||n.abort()}}return new gc(a,n,r)}[(Sg=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const a=r.next();t.push(a),n.push(a)}return o.shift()}});return[new gc(()=>i(t),this.controller,wt(this,Sg,"f")),new gc(()=>i(n),this.controller,wt(this,Sg,"f"))]}toReadableStream(){const t=this;let n;return W$({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=Q4(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)==null?void 0:r.call(n))}})}}async function*pbe(e,t){if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Gn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Gn("Attempted to iterate over a response with no body");const n=new gbe,r=new Xv,i=K$(e.body);for await(const o of mbe(i))for(const a of r.decode(o)){const s=n.decode(a);s&&(yield s)}for(const o of r.flush()){const a=n.decode(o);a&&(yield a)}}async function*mbe(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?Q4(n):n;let i=new Uint8Array(t.length+r.length);i.set(t),i.set(r,t.length),t=i;let o;for(;(o=fbe(t))!==-1;)yield t.slice(0,o),t=t.slice(o)}t.length>0&&(yield t)}class gbe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=ybe(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function ybe(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}async function lH(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=t,a=await(async()=>{var l,c;if(t.options.stream)return xa(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):gc.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const s=(c=(l=n.headers.get("content-type"))==null?void 0:l.split(";")[0])==null?void 0:c.trim();if(s!=null&&s.includes("application/json")||s!=null&&s.endsWith("+json")){const u=await n.json();return cH(u,n)}return await n.text()})();return xa(e).debug(`[${r}] response parsed`,nf({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}function cH(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}var Cg;class Jv extends Promise{constructor(t,n,r=lH){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,Cg.set(this,void 0),sr(this,Cg,t)}_thenUnwrap(t){return new Jv(wt(this,Cg,"f"),this.responsePromise,async(n,r)=>cH(t(await this.parseResponse(n,r),r),r.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(wt(this,Cg,"f"),t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}Cg=new WeakMap;var Zv;class J4{constructor(t,n,r,i){Zv.set(this,void 0),sr(this,Zv,t),this.options=i,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const t=this.nextPageRequestOptions();if(!t)throw new Gn("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await wt(this,Zv,"f").requestAPIList(this.constructor,t)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(Zv=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}class vbe extends Jv{constructor(t,n,r){super(t,n,async(i,o)=>new r(i,o.response,await lH(i,o),o.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}let eb=class extends J4{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}};class Bo extends J4{constructor(t,n,r,i){super(t,n,r,i),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var r;const t=this.getPaginatedItems(),n=(r=t[t.length-1])==null?void 0:r.id;return n?{...this.options,query:{...$$(this.options.query),after:n}}:null}}class bbe extends J4{constructor(t,n,r,i){super(t,n,r,i),this.data=r.data||[],this.has_more=r.has_more||!1,this.last_id=r.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const t=this.last_id;return t?{...this.options,query:{...$$(this.options.query),after:t}}:null}}const uH=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)==null?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Tg(e,t,n){return uH(),new File(e,t??"unknown_file",n)}function tb(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const dH=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",rf=async(e,t)=>({...e,body:await xbe(e.body,t)}),fH=new WeakMap;function wbe(e){const t=typeof e=="function"?e:e.fetch,n=fH.get(t);if(n)return n;const r=(async()=>{try{const i="Response"in t?t.Response:(await t("data:,")).constructor,o=new FormData;return o.toString()!==await new i(o).text()}catch{return!0}})();return fH.set(t,r),r}const xbe=async(e,t)=>{if(!await wbe(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(e||{}).map(([r,i])=>Z4(n,r,i))),n},_be=e=>e instanceof Blob&&"name"in e,Z4=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(n instanceof Response)e.append(t,Tg([await n.blob()],tb(n)));else if(dH(n))e.append(t,Tg([await new Response(G$(n)).blob()],tb(n)));else if(_be(n))e.append(t,n,tb(n));else if(Array.isArray(n))await Promise.all(n.map(r=>Z4(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>Z4(e,`${t}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},hH=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",Ebe=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&hH(e),Sbe=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function Cbe(e,t,n){if(uH(),e=await e,Ebe(e))return e instanceof File?e:Tg([await e.arrayBuffer()],e.name);if(Sbe(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Tg(await eT(i),t,n)}const r=await eT(e);if(t||(t=tb(e)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n={...n,type:i})}return Tg(r,t,n)}async function eT(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(hH(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else if(dH(e))for await(const r of e)t.push(...await eT(r));else{const r=(n=e==null?void 0:e.constructor)==null?void 0:n.name;throw new Error(`Unexpected data type: ${typeof e}${r?`; constructor: ${r}`:""}${Tbe(e)}`)}return t}function Tbe(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(t=>`"${t}"`).join(", ")}]`}class nr{constructor(t){this._client=t}}function pH(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const mH=Object.freeze(Object.create(null)),Abe=(e=pH)=>function(t,...n){if(t.length===1)return t[0];let r=!1;const i=[],o=t.reduce((c,u,d)=>{var g;/[?#]/.test(u)&&(r=!0);const f=n[d];let p=(r?encodeURIComponent:e)(""+f);return d!==n.length&&(f==null||typeof f=="object"&&f.toString===((g=Object.getPrototypeOf(Object.getPrototypeOf(f.hasOwnProperty??mH)??mH))==null?void 0:g.toString))&&(p=f+"",i.push({start:c.length+u.length,length:p.length,error:`Value of type ${Object.prototype.toString.call(f).slice(8,-1)} is not a valid path parameter`})),c+u+(d===n.length?"":p)},""),a=o.split(/[?#]/,1)[0],s=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let l;for(;(l=s.exec(a))!==null;)i.push({start:l.index,length:l[0].length,error:`Value "${l[0]}" can't be safely passed as a path parameter`});if(i.sort((c,u)=>c.start-u.start),i.length>0){let c=0;const u=i.reduce((d,f)=>{const p=" ".repeat(f.start-c),g="^".repeat(f.length);return c=f.start+f.length,d+p+g},"");throw new Gn(`Path parameters result in path with invalid segments:
${i.map(d=>d.error).join(`
`)}
${o}
${u}`)}return o},nn=Abe(pH);let gH=class extends nr{list(e,t={},n){return this._client.getAPIList(nn`/chat/completions/${e}/messages`,Bo,{query:t,...n})}};function nb(e){return e!==void 0&&"function"in e&&e.function!==void 0}function tT(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function Ag(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function Ibe(e,t){return!t||!yH(t)?{...e,choices:e.choices.map(n=>(vH(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:nT(e,t)}function nT(e,t){const n=e.choices.map(r=>{var i;if(r.finish_reason==="length")throw new U$;if(r.finish_reason==="content_filter")throw new z$;return vH(r.message.tool_calls),{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((i=r.message.tool_calls)==null?void 0:i.map(o=>kbe(t,o)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?Obe(t,r.message.content):null}}});return{...e,choices:n}}function Obe(e,t){var n,r;return((n=e.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=e.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function kbe(e,t){var r;const n=(r=e.tools)==null?void 0:r.find(i=>{var o;return nb(i)&&((o=i.function)==null?void 0:o.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:Ag(n)?n.$parseRaw(t.function.arguments):n!=null&&n.function.strict?JSON.parse(t.function.arguments):null}}}function Nbe(e,t){var r;if(!e||!("tools"in e)||!e.tools)return!1;const n=(r=e.tools)==null?void 0:r.find(i=>{var o;return nb(i)&&((o=i.function)==null?void 0:o.name)===t.function.name});return nb(n)&&(Ag(n)||(n==null?void 0:n.function.strict)||!1)}function yH(e){var t;return tT(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(n=>Ag(n)||n.type==="function"&&n.function.strict===!0))??!1}function vH(e){for(const t of e||[])if(t.type!=="function")throw new Gn(`Currently only \`function\` tool calls are supported; Received \`${t.type}\``)}function Rbe(e){for(const t of e??[]){if(t.type!=="function")throw new Gn(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new Gn(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const rb=e=>(e==null?void 0:e.role)==="assistant",bH=e=>(e==null?void 0:e.role)==="tool";var rT,ib,ob,Ig,Og,ab,kg,tu,Ng,sb,lb,Fh,wH;class iT{constructor(){rT.add(this),this.controller=new AbortController,ib.set(this,void 0),ob.set(this,()=>{}),Ig.set(this,()=>{}),Og.set(this,void 0),ab.set(this,()=>{}),kg.set(this,()=>{}),tu.set(this,{}),Ng.set(this,!1),sb.set(this,!1),lb.set(this,!1),Fh.set(this,!1),sr(this,ib,new Promise((t,n)=>{sr(this,ob,t,"f"),sr(this,Ig,n,"f")})),sr(this,Og,new Promise((t,n)=>{sr(this,ab,t,"f"),sr(this,kg,n,"f")})),wt(this,ib,"f").catch(()=>{}),wt(this,Og,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},wt(this,rT,"m",wH).bind(this))},0)}_connected(){this.ended||(wt(this,ob,"f").call(this),this._emit("connect"))}get ended(){return wt(this,Ng,"f")}get errored(){return wt(this,sb,"f")}get aborted(){return wt(this,lb,"f")}abort(){this.controller.abort()}on(t,n){return(wt(this,tu,"f")[t]||(wt(this,tu,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=wt(this,tu,"f")[t];if(!r)return this;const i=r.findIndex(o=>o.listener===n);return i>=0&&r.splice(i,1),this}once(t,n){return(wt(this,tu,"f")[t]||(wt(this,tu,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{sr(this,Fh,!0),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){sr(this,Fh,!0),await wt(this,Og,"f")}_emit(t,...n){if(wt(this,Ng,"f"))return;t==="end"&&(sr(this,Ng,!0),wt(this,ab,"f").call(this));const r=wt(this,tu,"f")[t];if(r&&(wt(this,tu,"f")[t]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),t==="abort"){const i=n[0];!wt(this,Fh,"f")&&!(r!=null&&r.length)&&Promise.reject(i),wt(this,Ig,"f").call(this,i),wt(this,kg,"f").call(this,i),this._emit("end");return}if(t==="error"){const i=n[0];!wt(this,Fh,"f")&&!(r!=null&&r.length)&&Promise.reject(i),wt(this,Ig,"f").call(this,i),wt(this,kg,"f").call(this,i),this._emit("end")}}_emitFinal(){}}ib=new WeakMap,ob=new WeakMap,Ig=new WeakMap,Og=new WeakMap,ab=new WeakMap,kg=new WeakMap,tu=new WeakMap,Ng=new WeakMap,sb=new WeakMap,lb=new WeakMap,Fh=new WeakMap,rT=new WeakSet,wH=function(e){if(sr(this,sb,!0),e instanceof Error&&e.name==="AbortError"&&(e=new nl),e instanceof nl)return sr(this,lb,!0),this._emit("abort",e);if(e instanceof Gn)return this._emit("error",e);if(e instanceof Error){const t=new Gn(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new Gn(String(e)))};function jbe(e){return typeof e.parse=="function"}var Za,oT,cb,aT,sT,lT,xH,_H;const Lbe=10;class EH extends iT{constructor(){super(...arguments),Za.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var r;this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=(r=t.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),bH(t)&&t.content)this._emit("functionToolCallResult",t.content);else if(rb(t)&&t.tool_calls)for(const r of t.tool_calls)r.type==="function"&&this._emit("functionToolCall",r.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new Gn("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),wt(this,Za,"m",oT).call(this)}async finalMessage(){return await this.done(),wt(this,Za,"m",cb).call(this)}async finalFunctionToolCall(){return await this.done(),wt(this,Za,"m",aT).call(this)}async finalFunctionToolCallResult(){return await this.done(),wt(this,Za,"m",sT).call(this)}async totalUsage(){return await this.done(),wt(this,Za,"m",lT).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=wt(this,Za,"m",cb).call(this);n&&this._emit("finalMessage",n);const r=wt(this,Za,"m",oT).call(this);r&&this._emit("finalContent",r);const i=wt(this,Za,"m",aT).call(this);i&&this._emit("finalFunctionToolCall",i);const o=wt(this,Za,"m",sT).call(this);o!=null&&this._emit("finalFunctionToolCallResult",o),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",wt(this,Za,"m",lT).call(this))}async _createChatCompletion(t,n,r){const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),wt(this,Za,"m",xH).call(this,n);const o=await t.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(nT(o,n))}async _runChatCompletion(t,n,r){for(const i of n.messages)this._addMessage(i,!1);return await this._createChatCompletion(t,n,r)}async _runTools(t,n,r){var p,g,h;const i="tool",{tool_choice:o="auto",stream:a,...s}=n,l=typeof o!="string"&&o.type==="function"&&((p=o==null?void 0:o.function)==null?void 0:p.name),{maxChatCompletions:c=Lbe}=r||{},u=n.tools.map(y=>{if(Ag(y)){if(!y.$callback)throw new Gn("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:y.$callback,name:y.function.name,description:y.function.description||"",parameters:y.function.parameters,parse:y.$parseRaw,strict:!0}}}return y}),d={};for(const y of u)y.type==="function"&&(d[y.function.name||y.function.function.name]=y.function);const f="tools"in n?u.map(y=>y.type==="function"?{type:"function",function:{name:y.function.name||y.function.function.name,parameters:y.function.parameters,description:y.function.description,strict:y.function.strict}}:y):void 0;for(const y of n.messages)this._addMessage(y,!1);for(let y=0;y<c;++y){const b=(g=(await this._createChatCompletion(t,{...s,tool_choice:o,tools:f,messages:[...this.messages]},r)).choices[0])==null?void 0:g.message;if(!b)throw new Gn("missing message in ChatCompletion response");if(!((h=b.tool_calls)!=null&&h.length))return;for(const w of b.tool_calls){if(w.type!=="function")continue;const S=w.id,{name:E,arguments:_}=w.function,m=d[E];if(m){if(l&&l!==E){const R=`Invalid tool_call: ${JSON.stringify(E)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,tool_call_id:S,content:R});continue}}else{const R=`Invalid tool_call: ${JSON.stringify(E)}. Available options are: ${Object.keys(d).map(j=>JSON.stringify(j)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:S,content:R});continue}let C;try{C=jbe(m)?await m.parse(_):_}catch(R){const j=R instanceof Error?R.message:String(R);this._addMessage({role:i,tool_call_id:S,content:j});continue}const T=await m.function(C,this),O=wt(this,Za,"m",_H).call(this,T);if(this._addMessage({role:i,tool_call_id:S,content:O}),l)return}}}}Za=new WeakSet,oT=function(){return wt(this,Za,"m",cb).call(this).content??null},cb=function(){let e=this.messages.length;for(;e-- >0;){const t=this.messages[e];if(rb(t))return{...t,content:t.content??null,refusal:t.refusal??null}}throw new Gn("stream ended without producing a ChatCompletionMessage with role=assistant")},aT=function(){var e,t;for(let n=this.messages.length-1;n>=0;n--){const r=this.messages[n];if(rb(r)&&((e=r==null?void 0:r.tool_calls)!=null&&e.length))return(t=r.tool_calls.filter(i=>i.type==="function").at(-1))==null?void 0:t.function}},sT=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(bH(t)&&t.content!=null&&typeof t.content=="string"&&this.messages.some(n=>{var r;return n.role==="assistant"&&((r=n.tool_calls)==null?void 0:r.some(i=>i.type==="function"&&i.id===t.tool_call_id))}))return t.content}},lT=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},xH=function(e){if(e.n!=null&&e.n>1)throw new Gn("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},_H=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class cT extends EH{static runTools(t,n,r){const i=new cT,o={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(t,n,o)),i}_addMessage(t,n=!0){super._addMessage(t,n),rb(t)&&t.content&&this._emit("content",t.content)}}const SH=1,CH=2,TH=4,AH=8,IH=16,OH=32,kH=64,NH=128,RH=256,jH=NH|RH,LH=IH|OH|jH|kH,MH=SH|CH|LH,PH=TH|AH,Mbe=MH|PH,ua={STR:SH,NUM:CH,ARR:TH,OBJ:AH,NULL:IH,BOOL:OH,NAN:kH,INFINITY:NH,MINUS_INFINITY:RH,INF:jH,SPECIAL:LH,ATOM:MH,COLLECTION:PH,ALL:Mbe};class Pbe extends Error{}class Dbe extends Error{}function Fbe(e,t=ua.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return Ube(e.trim(),t)}const Ube=(e,t)=>{const n=e.length;let r=0;const i=f=>{throw new Pbe(`${f} at position ${r}`)},o=f=>{throw new Dbe(`${f} at position ${r}`)},a=()=>(d(),r>=n&&i("Unexpected end of input"),e[r]==='"'?s():e[r]==="{"?l():e[r]==="["?c():e.substring(r,r+4)==="null"||ua.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):e.substring(r,r+4)==="true"||ua.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):e.substring(r,r+5)==="false"||ua.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):e.substring(r,r+8)==="Infinity"||ua.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):e.substring(r,r+9)==="-Infinity"||ua.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):e.substring(r,r+3)==="NaN"||ua.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):u()),s=()=>{const f=r;let p=!1;for(r++;r<n&&(e[r]!=='"'||p&&e[r-1]==="\\");)p=e[r]==="\\"?!p:!1,r++;if(e.charAt(r)=='"')try{return JSON.parse(e.substring(f,++r-Number(p)))}catch(g){o(String(g))}else if(ua.STR&t)try{return JSON.parse(e.substring(f,r-Number(p))+'"')}catch{return JSON.parse(e.substring(f,e.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},l=()=>{r++,d();const f={};try{for(;e[r]!=="}";){if(d(),r>=n&&ua.OBJ&t)return f;const p=s();d(),r++;try{const g=a();Object.defineProperty(f,p,{value:g,writable:!0,enumerable:!0,configurable:!0})}catch(g){if(ua.OBJ&t)return f;throw g}d(),e[r]===","&&r++}}catch{if(ua.OBJ&t)return f;i("Expected '}' at end of object")}return r++,f},c=()=>{r++;const f=[];try{for(;e[r]!=="]";)f.push(a()),d(),e[r]===","&&r++}catch{if(ua.ARR&t)return f;i("Expected ']' at end of array")}return r++,f},u=()=>{if(r===0){e==="-"&&ua.NUM&t&&i("Not sure what '-' is");try{return JSON.parse(e)}catch(p){if(ua.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}o(String(p))}}const f=r;for(e[r]==="-"&&r++;e[r]&&!",]}".includes(e[r]);)r++;r==n&&!(ua.NUM&t)&&i("Unterminated number literal");try{return JSON.parse(e.substring(f,r))}catch{e.substring(f,r)==="-"&&ua.NUM&t&&i("Not sure what '-' is");try{return JSON.parse(e.substring(f,e.lastIndexOf("e")))}catch(p){o(String(p))}}},d=()=>{for(;r<n&&` 
\r	`.includes(e[r]);)r++};return a()},DH=e=>Fbe(e,ua.ALL^ua.NUM);var Yo,nu,Uh,Vu,uT,ub,dT,fT,hT,db,pT,FH;class Rg extends EH{constructor(t){super(),Yo.add(this),nu.set(this,void 0),Uh.set(this,void 0),Vu.set(this,void 0),sr(this,nu,t),sr(this,Uh,[])}get currentChatCompletionSnapshot(){return wt(this,Vu,"f")}static fromReadableStream(t){const n=new Rg(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,r){const i=new Rg(n);return i._run(()=>i._runChatCompletion(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(t,n,r){var a;super._createChatCompletion;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),wt(this,Yo,"m",uT).call(this);const o=await t.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const s of o)wt(this,Yo,"m",dT).call(this,s);if((a=o.controller.signal)!=null&&a.aborted)throw new nl;return this._addChatCompletion(wt(this,Yo,"m",db).call(this))}async _fromReadableStream(t,n){var a;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),wt(this,Yo,"m",uT).call(this),this._connected();const i=gc.fromReadableStream(t,this.controller);let o;for await(const s of i)o&&o!==s.id&&this._addChatCompletion(wt(this,Yo,"m",db).call(this)),wt(this,Yo,"m",dT).call(this,s),o=s.id;if((a=i.controller.signal)!=null&&a.aborted)throw new nl;return this._addChatCompletion(wt(this,Yo,"m",db).call(this))}[(nu=new WeakMap,Uh=new WeakMap,Vu=new WeakMap,Yo=new WeakSet,uT=function(){this.ended||sr(this,Vu,void 0)},ub=function(t){let n=wt(this,Uh,"f")[t.index];return n||(n={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},wt(this,Uh,"f")[t.index]=n,n)},dT=function(t){var r,i,o,a,s,l,c,u,d,f,p,g,h,y,b;if(this.ended)return;const n=wt(this,Yo,"m",FH).call(this,t);this._emit("chunk",t,n);for(const w of t.choices){const S=n.choices[w.index];w.delta.content!=null&&((r=S.message)==null?void 0:r.role)==="assistant"&&((i=S.message)!=null&&i.content)&&(this._emit("content",w.delta.content,S.message.content),this._emit("content.delta",{delta:w.delta.content,snapshot:S.message.content,parsed:S.message.parsed})),w.delta.refusal!=null&&((o=S.message)==null?void 0:o.role)==="assistant"&&((a=S.message)!=null&&a.refusal)&&this._emit("refusal.delta",{delta:w.delta.refusal,snapshot:S.message.refusal}),((s=w.logprobs)==null?void 0:s.content)!=null&&((l=S.message)==null?void 0:l.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(c=w.logprobs)==null?void 0:c.content,snapshot:((u=S.logprobs)==null?void 0:u.content)??[]}),((d=w.logprobs)==null?void 0:d.refusal)!=null&&((f=S.message)==null?void 0:f.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(p=w.logprobs)==null?void 0:p.refusal,snapshot:((g=S.logprobs)==null?void 0:g.refusal)??[]});const E=wt(this,Yo,"m",ub).call(this,S);S.finish_reason&&(wt(this,Yo,"m",hT).call(this,S),E.current_tool_call_index!=null&&wt(this,Yo,"m",fT).call(this,S,E.current_tool_call_index));for(const _ of w.delta.tool_calls??[])E.current_tool_call_index!==_.index&&(wt(this,Yo,"m",hT).call(this,S),E.current_tool_call_index!=null&&wt(this,Yo,"m",fT).call(this,S,E.current_tool_call_index)),E.current_tool_call_index=_.index;for(const _ of w.delta.tool_calls??[]){const m=(h=S.message.tool_calls)==null?void 0:h[_.index];m!=null&&m.type&&((m==null?void 0:m.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(y=m.function)==null?void 0:y.name,index:_.index,arguments:m.function.arguments,parsed_arguments:m.function.parsed_arguments,arguments_delta:((b=_.function)==null?void 0:b.arguments)??""}):m==null||m.type)}}},fT=function(t,n){var i,o,a;if(wt(this,Yo,"m",ub).call(this,t).done_tool_calls.has(n))return;const r=(i=t.message.tool_calls)==null?void 0:i[n];if(!r)throw new Error("no tool call snapshot");if(!r.type)throw new Error("tool call snapshot missing `type`");if(r.type==="function"){const s=(a=(o=wt(this,nu,"f"))==null?void 0:o.tools)==null?void 0:a.find(l=>nb(l)&&l.function.name===r.function.name);this._emit("tool_calls.function.arguments.done",{name:r.function.name,index:n,arguments:r.function.arguments,parsed_arguments:Ag(s)?s.$parseRaw(r.function.arguments):s!=null&&s.function.strict?JSON.parse(r.function.arguments):null})}else r.type},hT=function(t){var r,i;const n=wt(this,Yo,"m",ub).call(this,t);if(t.message.content&&!n.content_done){n.content_done=!0;const o=wt(this,Yo,"m",pT).call(this);this._emit("content.done",{content:t.message.content,parsed:o?o.$parseRaw(t.message.content):null})}t.message.refusal&&!n.refusal_done&&(n.refusal_done=!0,this._emit("refusal.done",{refusal:t.message.refusal})),(r=t.logprobs)!=null&&r.content&&!n.logprobs_content_done&&(n.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:t.logprobs.content})),(i=t.logprobs)!=null&&i.refusal&&!n.logprobs_refusal_done&&(n.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:t.logprobs.refusal}))},db=function(){if(this.ended)throw new Gn("stream has ended, this shouldn't happen");const t=wt(this,Vu,"f");if(!t)throw new Gn("request ended without sending any chunks");return sr(this,Vu,void 0),sr(this,Uh,[]),zbe(t,wt(this,nu,"f"))},pT=function(){var n;const t=(n=wt(this,nu,"f"))==null?void 0:n.response_format;return tT(t)?t:null},FH=function(t){var n,r,i,o;let a=wt(this,Vu,"f");const{choices:s,...l}=t;a?Object.assign(a,l):a=sr(this,Vu,{...l,choices:[]});for(const{delta:c,finish_reason:u,index:d,logprobs:f=null,...p}of t.choices){let g=a.choices[d];if(g||(g=a.choices[d]={finish_reason:u,index:d,message:{},logprobs:f,...p}),f)if(!g.logprobs)g.logprobs=Object.assign({},f);else{const{content:_,refusal:m,...C}=f;Object.assign(g.logprobs,C),_&&((n=g.logprobs).content??(n.content=[]),g.logprobs.content.push(..._)),m&&((r=g.logprobs).refusal??(r.refusal=[]),g.logprobs.refusal.push(...m))}if(u&&(g.finish_reason=u,wt(this,nu,"f")&&yH(wt(this,nu,"f")))){if(u==="length")throw new U$;if(u==="content_filter")throw new z$}if(Object.assign(g,p),!c)continue;const{content:h,refusal:y,function_call:b,role:w,tool_calls:S,...E}=c;if(Object.assign(g.message,E),y&&(g.message.refusal=(g.message.refusal||"")+y),w&&(g.message.role=w),b&&(g.message.function_call?(b.name&&(g.message.function_call.name=b.name),b.arguments&&((i=g.message.function_call).arguments??(i.arguments=""),g.message.function_call.arguments+=b.arguments)):g.message.function_call=b),h&&(g.message.content=(g.message.content||"")+h,!g.message.refusal&&wt(this,Yo,"m",pT).call(this)&&(g.message.parsed=DH(g.message.content))),S){g.message.tool_calls||(g.message.tool_calls=[]);for(const{index:_,id:m,type:C,function:T,...O}of S){const R=(o=g.message.tool_calls)[_]??(o[_]={});Object.assign(R,O),m&&(R.id=m),C&&(R.type=C),T&&(R.function??(R.function={name:T.name??"",arguments:""})),T!=null&&T.name&&(R.function.name=T.name),T!=null&&T.arguments&&(R.function.arguments+=T.arguments,Nbe(wt(this,nu,"f"),R)&&(R.function.parsed_arguments=DH(R.function.arguments)))}}}return a},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("chunk",i=>{const o=n.shift();o?o.resolve(i):t.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const o of n)o.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const o of n)o.reject(i);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new gc(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function zbe(e,t){const{id:n,choices:r,created:i,model:o,system_fingerprint:a,...s}=e,l={...s,id:n,choices:r.map(({message:c,finish_reason:u,index:d,logprobs:f,...p})=>{if(!u)throw new Gn(`missing finish_reason for choice ${d}`);const{content:g=null,function_call:h,tool_calls:y,...b}=c,w=c.role;if(!w)throw new Gn(`missing role for choice ${d}`);if(h){const{arguments:S,name:E}=h;if(S==null)throw new Gn(`missing function_call.arguments for choice ${d}`);if(!E)throw new Gn(`missing function_call.name for choice ${d}`);return{...p,message:{content:g,function_call:{arguments:S,name:E},role:w,refusal:c.refusal??null},finish_reason:u,index:d,logprobs:f}}return y?{...p,index:d,finish_reason:u,logprobs:f,message:{...b,role:w,content:g,refusal:c.refusal??null,tool_calls:y.map((S,E)=>{const{function:_,type:m,id:C,...T}=S,{arguments:O,name:R,...j}=_||{};if(C==null)throw new Gn(`missing choices[${d}].tool_calls[${E}].id
${fb(e)}`);if(m==null)throw new Gn(`missing choices[${d}].tool_calls[${E}].type
${fb(e)}`);if(R==null)throw new Gn(`missing choices[${d}].tool_calls[${E}].function.name
${fb(e)}`);if(O==null)throw new Gn(`missing choices[${d}].tool_calls[${E}].function.arguments
${fb(e)}`);return{...T,id:C,type:m,function:{...j,name:R,arguments:O}}})}}:{...p,message:{...b,content:g,role:w,refusal:c.refusal??null},finish_reason:u,index:d,logprobs:f}}),created:i,model:o,object:"chat.completion",...a?{system_fingerprint:a}:{}};return Ibe(l,t)}function fb(e){return JSON.stringify(e)}class hb extends Rg{static fromReadableStream(t){const n=new hb(null);return n._run(()=>n._fromReadableStream(t)),n}static runTools(t,n,r){const i=new hb(n),o={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(t,n,o)),i}}let mT=class extends nr{constructor(){super(...arguments),this.messages=new gH(this._client)}create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}retrieve(e,t){return this._client.get(nn`/chat/completions/${e}`,t)}update(e,t,n){return this._client.post(nn`/chat/completions/${e}`,{body:t,...n})}list(e={},t){return this._client.getAPIList("/chat/completions",Bo,{query:e,...t})}delete(e,t){return this._client.delete(nn`/chat/completions/${e}`,t)}parse(e,t){return Rbe(e.tools),this._client.chat.completions.create(e,{...t,headers:{...t==null?void 0:t.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(n=>nT(n,e))}runTools(e,t){return e.stream?hb.runTools(this._client,e,t):cT.runTools(this._client,e,t)}stream(e,t){return Rg.createChatCompletion(this._client,e,t)}};mT.Messages=gH;let gT=class extends nr{constructor(){super(...arguments),this.completions=new mT(this._client)}};gT.Completions=mT;const UH=Symbol("brand.privateNullableHeaders");function*Bbe(e){if(!e)return;if(UH in e){const{values:r,nulls:i}=e;yield*r.entries();for(const o of i)yield[o,null];return}let t=!1,n;e instanceof Headers?n=e.entries():B$(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=B$(r[1])?r[1]:[r[1]];let a=!1;for(const s of o)s!==void 0&&(t&&!a&&(a=!0,yield[i,null]),yield[i,s])}}const Yn=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[o,a]of Bbe(r)){const s=o.toLowerCase();i.has(s)||(t.delete(o),i.add(s)),a===null?(t.delete(o),n.add(s)):(t.append(o,a),n.delete(s))}}return{[UH]:!0,values:t,nulls:n}};class zH extends nr{create(t,n){return this._client.post("/audio/speech",{body:t,...n,headers:Yn([{Accept:"application/octet-stream"},n==null?void 0:n.headers]),__binaryResponse:!0})}}class BH extends nr{create(t,n){return this._client.post("/audio/transcriptions",rf({body:t,...n,stream:t.stream??!1,__metadata:{model:t.model}},this._client))}}class $H extends nr{create(t,n){return this._client.post("/audio/translations",rf({body:t,...n,__metadata:{model:t.model}},this._client))}}class jg extends nr{constructor(){super(...arguments),this.transcriptions=new BH(this._client),this.translations=new $H(this._client),this.speech=new zH(this._client)}}jg.Transcriptions=BH,jg.Translations=$H,jg.Speech=zH;class HH extends nr{create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(nn`/batches/${t}`,n)}list(t={},n){return this._client.getAPIList("/batches",Bo,{query:t,...n})}cancel(t,n){return this._client.post(nn`/batches/${t}/cancel`,n)}}class VH extends nr{create(t,n){return this._client.post("/assistants",{body:t,...n,headers:Yn([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,n){return this._client.get(nn`/assistants/${t}`,{...n,headers:Yn([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,n,r){return this._client.post(nn`/assistants/${t}`,{body:n,...r,headers:Yn([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t={},n){return this._client.getAPIList("/assistants",Bo,{query:t,...n,headers:Yn([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(t,n){return this._client.delete(nn`/assistants/${t}`,{...n,headers:Yn([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}class qH extends nr{create(t,n){return this._client.post("/realtime/sessions",{body:t,...n,headers:Yn([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}class WH extends nr{create(t,n){return this._client.post("/realtime/transcription_sessions",{body:t,...n,headers:Yn([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}let pb=class extends nr{constructor(){super(...arguments),this.sessions=new qH(this._client),this.transcriptionSessions=new WH(this._client)}};pb.Sessions=qH,pb.TranscriptionSessions=WH;class GH extends nr{create(t,n,r){return this._client.post(nn`/threads/${t}/messages`,{body:n,...r,headers:Yn([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,n,r){const{thread_id:i}=n;return this._client.get(nn`/threads/${i}/messages/${t}`,{...r,headers:Yn([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,n,r){const{thread_id:i,...o}=n;return this._client.post(nn`/threads/${i}/messages/${t}`,{body:o,...r,headers:Yn([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n={},r){return this._client.getAPIList(nn`/threads/${t}/messages`,Bo,{query:n,...r,headers:Yn([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,n,r){const{thread_id:i}=n;return this._client.delete(nn`/threads/${i}/messages/${t}`,{...r,headers:Yn([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class KH extends nr{retrieve(t,n,r){const{thread_id:i,run_id:o,...a}=n;return this._client.get(nn`/threads/${i}/runs/${o}/steps/${t}`,{query:a,...r,headers:Yn([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n,r){const{thread_id:i,...o}=n;return this._client.getAPIList(nn`/threads/${i}/runs/${t}/steps`,Bo,{query:o,...r,headers:Yn([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}const $be=e=>{if(typeof Buffer<"u"){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(e),n=t.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=t.charCodeAt(i);return Array.from(new Float32Array(r.buffer))}};var yT={};const zh=e=>{var t,n,r,i;if(typeof globalThis.process<"u")return((t=yT==null?void 0:yT[e])==null?void 0:t.trim())??void 0;if(typeof globalThis.Deno<"u")return(i=(r=(n=globalThis.Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:i.trim()};var _a,of,vT,yc,mb,Ml,af,Bh,sf,gb,Ms,yb,vb,Lg,Mg,Pg,XH,YH,QH,JH,ZH,eV,tV;class Dg extends iT{constructor(){super(...arguments),_a.add(this),vT.set(this,[]),yc.set(this,{}),mb.set(this,{}),Ml.set(this,void 0),af.set(this,void 0),Bh.set(this,void 0),sf.set(this,void 0),gb.set(this,void 0),Ms.set(this,void 0),yb.set(this,void 0),vb.set(this,void 0),Lg.set(this,void 0)}[(vT=new WeakMap,yc=new WeakMap,mb=new WeakMap,Ml=new WeakMap,af=new WeakMap,Bh=new WeakMap,sf=new WeakMap,gb=new WeakMap,Ms=new WeakMap,yb=new WeakMap,vb=new WeakMap,Lg=new WeakMap,_a=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",i=>{const o=n.shift();o?o.resolve(i):t.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const o of n)o.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const o of n)o.reject(i);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new of;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=gc.fromReadableStream(t,this.controller);for await(const a of i)wt(this,_a,"m",Mg).call(this,a);if((o=i.controller.signal)!=null&&o.aborted)throw new nl;return this._addRun(wt(this,_a,"m",Pg).call(this))}toReadableStream(){return new gc(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,r,i){const o=new of;return o._run(()=>o._runToolAssistantStream(t,n,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(t,n,r,i){var l;const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},s=await t.submitToolOutputs(n,a,{...i,signal:this.controller.signal});this._connected();for await(const c of s)wt(this,_a,"m",Mg).call(this,c);if((l=s.controller.signal)!=null&&l.aborted)throw new nl;return this._addRun(wt(this,_a,"m",Pg).call(this))}static createThreadAssistantStream(t,n,r){const i=new of;return i._run(()=>i._threadAssistantStream(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(t,n,r,i){const o=new of;return o._run(()=>o._runAssistantStream(t,n,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),o}currentEvent(){return wt(this,yb,"f")}currentRun(){return wt(this,vb,"f")}currentMessageSnapshot(){return wt(this,Ml,"f")}currentRunStepSnapshot(){return wt(this,Lg,"f")}async finalRunSteps(){return await this.done(),Object.values(wt(this,yc,"f"))}async finalMessages(){return await this.done(),Object.values(wt(this,mb,"f"))}async finalRun(){if(await this.done(),!wt(this,af,"f"))throw Error("Final run was not received.");return wt(this,af,"f")}async _createThreadAssistantStream(t,n,r){var s;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...n,stream:!0},a=await t.createAndRun(o,{...r,signal:this.controller.signal});this._connected();for await(const l of a)wt(this,_a,"m",Mg).call(this,l);if((s=a.controller.signal)!=null&&s.aborted)throw new nl;return this._addRun(wt(this,_a,"m",Pg).call(this))}async _createAssistantStream(t,n,r,i){var l;const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},s=await t.create(n,a,{...i,signal:this.controller.signal});this._connected();for await(const c of s)wt(this,_a,"m",Mg).call(this,c);if((l=s.controller.signal)!=null&&l.aborted)throw new nl;return this._addRun(wt(this,_a,"m",Pg).call(this))}static accumulateDelta(t,n){for(const[r,i]of Object.entries(n)){if(!t.hasOwnProperty(r)){t[r]=i;continue}let o=t[r];if(o==null){t[r]=i;continue}if(r==="index"||r==="type"){t[r]=i;continue}if(typeof o=="string"&&typeof i=="string")o+=i;else if(typeof o=="number"&&typeof i=="number")o+=i;else if(G4(o)&&G4(i))o=this.accumulateDelta(o,i);else if(Array.isArray(o)&&Array.isArray(i)){if(o.every(a=>typeof a=="string"||typeof a=="number")){o.push(...i);continue}for(const a of i){if(!G4(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const s=a.index;if(s==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof s!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${s}`);const l=o[s];l==null?o.push(a):o[s]=this.accumulateDelta(l,a)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${i}, accValue: ${o}`);t[r]=o}return t}_addRun(t){return t}async _threadAssistantStream(t,n,r){return await this._createThreadAssistantStream(n,t,r)}async _runAssistantStream(t,n,r,i){return await this._createAssistantStream(n,t,r,i)}async _runToolAssistantStream(t,n,r,i){return await this._createToolAssistantStream(n,t,r,i)}}of=Dg,Mg=function(e){if(!this.ended)switch(sr(this,yb,e),wt(this,_a,"m",QH).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":wt(this,_a,"m",tV).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":wt(this,_a,"m",YH).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":wt(this,_a,"m",XH).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Pg=function(){if(this.ended)throw new Gn("stream has ended, this shouldn't happen");if(!wt(this,af,"f"))throw Error("Final run has not been received");return wt(this,af,"f")},XH=function(e){const[t,n]=wt(this,_a,"m",ZH).call(this,e,wt(this,Ml,"f"));sr(this,Ml,t),wt(this,mb,"f")[t.id]=t;for(const r of n){const i=t.content[r.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const r of e.data.delta.content){if(r.type=="text"&&r.text){let i=r.text,o=t.content[r.index];if(o&&o.type=="text")this._emit("textDelta",i,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(r.index!=wt(this,Bh,"f")){if(wt(this,sf,"f"))switch(wt(this,sf,"f").type){case"text":this._emit("textDone",wt(this,sf,"f").text,wt(this,Ml,"f"));break;case"image_file":this._emit("imageFileDone",wt(this,sf,"f").image_file,wt(this,Ml,"f"));break}sr(this,Bh,r.index)}sr(this,sf,t.content[r.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(wt(this,Bh,"f")!==void 0){const r=e.data.content[wt(this,Bh,"f")];if(r)switch(r.type){case"image_file":this._emit("imageFileDone",r.image_file,wt(this,Ml,"f"));break;case"text":this._emit("textDone",r.text,wt(this,Ml,"f"));break}}wt(this,Ml,"f")&&this._emit("messageDone",e.data),sr(this,Ml,void 0)}},YH=function(e){const t=wt(this,_a,"m",JH).call(this,e);switch(sr(this,Lg,t),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const n=e.data.delta;if(n.step_details&&n.step_details.type=="tool_calls"&&n.step_details.tool_calls&&t.step_details.type=="tool_calls")for(const r of n.step_details.tool_calls)r.index==wt(this,gb,"f")?this._emit("toolCallDelta",r,t.step_details.tool_calls[r.index]):(wt(this,Ms,"f")&&this._emit("toolCallDone",wt(this,Ms,"f")),sr(this,gb,r.index),sr(this,Ms,t.step_details.tool_calls[r.index]),wt(this,Ms,"f")&&this._emit("toolCallCreated",wt(this,Ms,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":sr(this,Lg,void 0),e.data.step_details.type=="tool_calls"&&wt(this,Ms,"f")&&(this._emit("toolCallDone",wt(this,Ms,"f")),sr(this,Ms,void 0)),this._emit("runStepDone",e.data,t);break}},QH=function(e){wt(this,vT,"f").push(e),this._emit("event",e)},JH=function(e){switch(e.event){case"thread.run.step.created":return wt(this,yc,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=wt(this,yc,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){const r=of.accumulateDelta(t,n.delta);wt(this,yc,"f")[e.data.id]=r}return wt(this,yc,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":wt(this,yc,"f")[e.data.id]=e.data;break}if(wt(this,yc,"f")[e.data.id])return wt(this,yc,"f")[e.data.id];throw new Error("No snapshot available")},ZH=function(e,t){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const i of r.delta.content)if(i.index in t.content){let o=t.content[i.index];t.content[i.index]=wt(this,_a,"m",eV).call(this,i,o)}else t.content[i.index]=i,n.push(i);return[t,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},eV=function(e,t){return of.accumulateDelta(t,e)},tV=function(e){switch(sr(this,vb,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":sr(this,af,e.data),wt(this,Ms,"f")&&(this._emit("toolCallDone",wt(this,Ms,"f")),sr(this,Ms,void 0));break}};let bT=class extends nr{constructor(){super(...arguments),this.steps=new KH(this._client)}create(e,t,n){const{include:r,...i}=t;return this._client.post(nn`/threads/${e}/runs`,{query:{include:r},body:i,...n,headers:Yn([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers]),stream:t.stream??!1})}retrieve(e,t,n){const{thread_id:r}=t;return this._client.get(nn`/threads/${r}/runs/${e}`,{...n,headers:Yn([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(e,t,n){const{thread_id:r,...i}=t;return this._client.post(nn`/threads/${r}/runs/${e}`,{body:i,...n,headers:Yn([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}list(e,t={},n){return this._client.getAPIList(nn`/threads/${e}/runs`,Bo,{query:t,...n,headers:Yn([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}cancel(e,t,n){const{thread_id:r}=t;return this._client.post(nn`/threads/${r}/runs/${e}/cancel`,{...n,headers:Yn([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(r.id,{thread_id:e},n)}createAndStream(e,t,n){return Dg.createAssistantStream(e,this._client.beta.threads.runs,t,n)}async poll(e,t,n){var i;const r=Yn([n==null?void 0:n.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((i=n==null?void 0:n.pollIntervalMs)==null?void 0:i.toString())??void 0}]);for(;;){const{data:o,response:a}=await this.retrieve(e,t,{...n,headers:{...n==null?void 0:n.headers,...r}}).withResponse();switch(o.status){case"queued":case"in_progress":case"cancelling":let s=5e3;if(n!=null&&n.pollIntervalMs)s=n.pollIntervalMs;else{const l=a.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(s=c)}}await _g(s);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return o}}}stream(e,t,n){return Dg.createAssistantStream(e,this._client.beta.threads.runs,t,n)}submitToolOutputs(e,t,n){const{thread_id:r,...i}=t;return this._client.post(nn`/threads/${r}/runs/${e}/submit_tool_outputs`,{body:i,...n,headers:Yn([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers]),stream:t.stream??!1})}async submitToolOutputsAndPoll(e,t,n){const r=await this.submitToolOutputs(e,t,n);return await this.poll(r.id,t,n)}submitToolOutputsStream(e,t,n){return Dg.createToolAssistantStream(e,this._client.beta.threads.runs,t,n)}};bT.Steps=KH;class bb extends nr{constructor(){super(...arguments),this.runs=new bT(this._client),this.messages=new GH(this._client)}create(t={},n){return this._client.post("/threads",{body:t,...n,headers:Yn([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,n){return this._client.get(nn`/threads/${t}`,{...n,headers:Yn([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,n,r){return this._client.post(nn`/threads/${t}`,{body:n,...r,headers:Yn([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,n){return this._client.delete(nn`/threads/${t}`,{...n,headers:Yn([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:Yn([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers]),stream:t.stream??!1})}async createAndRunPoll(t,n){const r=await this.createAndRun(t,n);return await this.runs.poll(r.id,{thread_id:r.thread_id},n)}createAndRunStream(t,n){return Dg.createThreadAssistantStream(t,this._client.beta.threads,n)}}bb.Runs=bT,bb.Messages=GH;class Fg extends nr{constructor(){super(...arguments),this.realtime=new pb(this._client),this.assistants=new VH(this._client),this.threads=new bb(this._client)}}Fg.Realtime=pb,Fg.Assistants=VH,Fg.Threads=bb;class nV extends nr{create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}}let rV=class extends nr{retrieve(e,t,n){const{container_id:r}=t;return this._client.get(nn`/containers/${r}/files/${e}/content`,{...n,headers:Yn([{Accept:"application/binary"},n==null?void 0:n.headers]),__binaryResponse:!0})}},wT=class extends nr{constructor(){super(...arguments),this.content=new rV(this._client)}create(e,t,n){return this._client.post(nn`/containers/${e}/files`,rf({body:t,...n},this._client))}retrieve(e,t,n){const{container_id:r}=t;return this._client.get(nn`/containers/${r}/files/${e}`,n)}list(e,t={},n){return this._client.getAPIList(nn`/containers/${e}/files`,Bo,{query:t,...n})}delete(e,t,n){const{container_id:r}=t;return this._client.delete(nn`/containers/${r}/files/${e}`,{...n,headers:Yn([{Accept:"*/*"},n==null?void 0:n.headers])})}};wT.Content=rV;class xT extends nr{constructor(){super(...arguments),this.files=new wT(this._client)}create(t,n){return this._client.post("/containers",{body:t,...n})}retrieve(t,n){return this._client.get(nn`/containers/${t}`,n)}list(t={},n){return this._client.getAPIList("/containers",Bo,{query:t,...n})}delete(t,n){return this._client.delete(nn`/containers/${t}`,{...n,headers:Yn([{Accept:"*/*"},n==null?void 0:n.headers])})}}xT.Files=wT;let iV=class extends nr{create(e,t,n){const{include:r,...i}=t;return this._client.post(nn`/conversations/${e}/items`,{query:{include:r},body:i,...n})}retrieve(e,t,n){const{conversation_id:r,...i}=t;return this._client.get(nn`/conversations/${r}/items/${e}`,{query:i,...n})}list(e,t={},n){return this._client.getAPIList(nn`/conversations/${e}/items`,bbe,{query:t,...n})}delete(e,t,n){const{conversation_id:r}=t;return this._client.delete(nn`/conversations/${r}/items/${e}`,n)}};class _T extends nr{constructor(){super(...arguments),this.items=new iV(this._client)}create(t={},n){return this._client.post("/conversations",{body:t,...n})}retrieve(t,n){return this._client.get(nn`/conversations/${t}`,n)}update(t,n,r){return this._client.post(nn`/conversations/${t}`,{body:n,...r})}delete(t,n){return this._client.delete(nn`/conversations/${t}`,n)}}_T.Items=iV;class oV extends nr{create(t,n){const r=!!t.encoding_format;let i=r?t.encoding_format:"base64";r&&xa(this._client).debug("embeddings/user defined encoding_format:",t.encoding_format);const o=this._client.post("/embeddings",{body:{...t,encoding_format:i},...n});return r?o:(xa(this._client).debug("embeddings/decoding base64 embeddings from base64"),o._thenUnwrap(a=>(a&&a.data&&a.data.forEach(s=>{const l=s.embedding;s.embedding=$be(l)}),a)))}}class aV extends nr{retrieve(t,n,r){const{eval_id:i,run_id:o}=n;return this._client.get(nn`/evals/${i}/runs/${o}/output_items/${t}`,r)}list(t,n,r){const{eval_id:i,...o}=n;return this._client.getAPIList(nn`/evals/${i}/runs/${t}/output_items`,Bo,{query:o,...r})}}class ET extends nr{constructor(){super(...arguments),this.outputItems=new aV(this._client)}create(t,n,r){return this._client.post(nn`/evals/${t}/runs`,{body:n,...r})}retrieve(t,n,r){const{eval_id:i}=n;return this._client.get(nn`/evals/${i}/runs/${t}`,r)}list(t,n={},r){return this._client.getAPIList(nn`/evals/${t}/runs`,Bo,{query:n,...r})}delete(t,n,r){const{eval_id:i}=n;return this._client.delete(nn`/evals/${i}/runs/${t}`,r)}cancel(t,n,r){const{eval_id:i}=n;return this._client.post(nn`/evals/${i}/runs/${t}`,r)}}ET.OutputItems=aV;class ST extends nr{constructor(){super(...arguments),this.runs=new ET(this._client)}create(t,n){return this._client.post("/evals",{body:t,...n})}retrieve(t,n){return this._client.get(nn`/evals/${t}`,n)}update(t,n,r){return this._client.post(nn`/evals/${t}`,{body:n,...r})}list(t={},n){return this._client.getAPIList("/evals",Bo,{query:t,...n})}delete(t,n){return this._client.delete(nn`/evals/${t}`,n)}}ST.Runs=ET;let sV=class extends nr{create(e,t){return this._client.post("/files",rf({body:e,...t},this._client))}retrieve(e,t){return this._client.get(nn`/files/${e}`,t)}list(e={},t){return this._client.getAPIList("/files",Bo,{query:e,...t})}delete(e,t){return this._client.delete(nn`/files/${e}`,t)}content(e,t){return this._client.get(nn`/files/${e}/content`,{...t,headers:Yn([{Accept:"application/binary"},t==null?void 0:t.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:t=5e3,maxWait:n=1800*1e3}={}){const r=new Set(["processed","error","deleted"]),i=Date.now();let o=await this.retrieve(e);for(;!o.status||!r.has(o.status);)if(await _g(t),o=await this.retrieve(e),Date.now()-i>n)throw new W4({message:`Giving up on waiting for file ${e} to finish processing after ${n} milliseconds.`});return o}};class lV extends nr{}let cV=class extends nr{run(e,t){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...t})}validate(e,t){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...t})}};class CT extends nr{constructor(){super(...arguments),this.graders=new cV(this._client)}}CT.Graders=cV;class uV extends nr{create(t,n,r){return this._client.getAPIList(nn`/fine_tuning/checkpoints/${t}/permissions`,eb,{body:n,method:"post",...r})}retrieve(t,n={},r){return this._client.get(nn`/fine_tuning/checkpoints/${t}/permissions`,{query:n,...r})}delete(t,n,r){const{fine_tuned_model_checkpoint:i}=n;return this._client.delete(nn`/fine_tuning/checkpoints/${i}/permissions/${t}`,r)}}let TT=class extends nr{constructor(){super(...arguments),this.permissions=new uV(this._client)}};TT.Permissions=uV;class dV extends nr{list(t,n={},r){return this._client.getAPIList(nn`/fine_tuning/jobs/${t}/checkpoints`,Bo,{query:n,...r})}}class AT extends nr{constructor(){super(...arguments),this.checkpoints=new dV(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(nn`/fine_tuning/jobs/${t}`,n)}list(t={},n){return this._client.getAPIList("/fine_tuning/jobs",Bo,{query:t,...n})}cancel(t,n){return this._client.post(nn`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},r){return this._client.getAPIList(nn`/fine_tuning/jobs/${t}/events`,Bo,{query:n,...r})}pause(t,n){return this._client.post(nn`/fine_tuning/jobs/${t}/pause`,n)}resume(t,n){return this._client.post(nn`/fine_tuning/jobs/${t}/resume`,n)}}AT.Checkpoints=dV;class $h extends nr{constructor(){super(...arguments),this.methods=new lV(this._client),this.jobs=new AT(this._client),this.checkpoints=new TT(this._client),this.alpha=new CT(this._client)}}$h.Methods=lV,$h.Jobs=AT,$h.Checkpoints=TT,$h.Alpha=CT;class fV extends nr{}class IT extends nr{constructor(){super(...arguments),this.graderModels=new fV(this._client)}}IT.GraderModels=fV;class hV extends nr{createVariation(t,n){return this._client.post("/images/variations",rf({body:t,...n},this._client))}edit(t,n){return this._client.post("/images/edits",rf({body:t,...n,stream:t.stream??!1},this._client))}generate(t,n){return this._client.post("/images/generations",{body:t,...n,stream:t.stream??!1})}}class pV extends nr{retrieve(t,n){return this._client.get(nn`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",eb,t)}delete(t,n){return this._client.delete(nn`/models/${t}`,n)}}class mV extends nr{create(t,n){return this._client.post("/moderations",{body:t,...n})}}class gV extends nr{create(t,n){return this._client.post("/realtime/client_secrets",{body:t,...n})}}class OT extends nr{constructor(){super(...arguments),this.clientSecrets=new gV(this._client)}}OT.ClientSecrets=gV;function Hbe(e,t){return!t||!qbe(t)?{...e,output_parsed:null,output:e.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:yV(e,t)}function yV(e,t){const n=e.output.map(i=>{if(i.type==="function_call")return{...i,parsed_arguments:Kbe(t,i)};if(i.type==="message"){const o=i.content.map(a=>a.type==="output_text"?{...a,parsed:Vbe(t,a.text)}:a);return{...i,content:o}}return i}),r=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||kT(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const i of r.output)if(i.type==="message"){for(const o of i.content)if(o.type==="output_text"&&o.parsed!==null)return o.parsed}return null}}),r}function Vbe(e,t){var n,r,i,o;return((r=(n=e.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((i=e.text)==null?void 0:i.format)?((o=e.text)==null?void 0:o.format).$parseRaw(t):JSON.parse(t)}function qbe(e){var t;return!!tT((t=e.text)==null?void 0:t.format)}function Wbe(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function Gbe(e,t){return e.find(n=>n.type==="function"&&n.name===t)}function Kbe(e,t){const n=Gbe(e.tools??[],t.name);return{...t,...t,parsed_arguments:Wbe(n)?n.$parseRaw(t.arguments):n!=null&&n.strict?JSON.parse(t.arguments):null}}function kT(e){const t=[];for(const n of e.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&t.push(r.text);e.output_text=t.join("")}var Hh,wb,qu,xb,vV,bV,wV,xV;class NT extends iT{constructor(t){super(),Hh.add(this),wb.set(this,void 0),qu.set(this,void 0),xb.set(this,void 0),sr(this,wb,t)}static createResponse(t,n,r){const i=new NT(n);return i._run(()=>i._createOrRetrieveResponse(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createOrRetrieveResponse(t,n,r){var s;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),wt(this,Hh,"m",vV).call(this);let o,a=null;"response_id"in n?(o=await t.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),a=n.starting_after??null):o=await t.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const l of o)wt(this,Hh,"m",bV).call(this,l,a);if((s=o.controller.signal)!=null&&s.aborted)throw new nl;return wt(this,Hh,"m",wV).call(this)}[(wb=new WeakMap,qu=new WeakMap,xb=new WeakMap,Hh=new WeakSet,vV=function(){this.ended||sr(this,qu,void 0)},bV=function(t,n){if(this.ended)return;const r=(o,a)=>{(n==null||a.sequence_number>n)&&this._emit(o,a)},i=wt(this,Hh,"m",xV).call(this,t);switch(r("event",t),t.type){case"response.output_text.delta":{const o=i.output[t.output_index];if(!o)throw new Gn(`missing output at index ${t.output_index}`);if(o.type==="message"){const a=o.content[t.content_index];if(!a)throw new Gn(`missing content at index ${t.content_index}`);if(a.type!=="output_text")throw new Gn(`expected content to be 'output_text', got ${a.type}`);r("response.output_text.delta",{...t,snapshot:a.text})}break}case"response.function_call_arguments.delta":{const o=i.output[t.output_index];if(!o)throw new Gn(`missing output at index ${t.output_index}`);o.type==="function_call"&&r("response.function_call_arguments.delta",{...t,snapshot:o.arguments});break}default:r(t.type,t);break}},wV=function(){if(this.ended)throw new Gn("stream has ended, this shouldn't happen");const t=wt(this,qu,"f");if(!t)throw new Gn("request ended without sending any events");sr(this,qu,void 0);const n=Xbe(t,wt(this,wb,"f"));return sr(this,xb,n),n},xV=function(t){var r;let n=wt(this,qu,"f");if(!n){if(t.type!=="response.created")throw new Gn(`When snapshot hasn't been set yet, expected 'response.created' event, got ${t.type}`);return n=sr(this,qu,t.response),n}switch(t.type){case"response.output_item.added":{n.output.push(t.item);break}case"response.content_part.added":{const i=n.output[t.output_index];if(!i)throw new Gn(`missing output at index ${t.output_index}`);const o=i.type,a=t.part;o==="message"&&a.type!=="reasoning_text"?i.content.push(a):o==="reasoning"&&a.type==="reasoning_text"&&(i.content||(i.content=[]),i.content.push(a));break}case"response.output_text.delta":{const i=n.output[t.output_index];if(!i)throw new Gn(`missing output at index ${t.output_index}`);if(i.type==="message"){const o=i.content[t.content_index];if(!o)throw new Gn(`missing content at index ${t.content_index}`);if(o.type!=="output_text")throw new Gn(`expected content to be 'output_text', got ${o.type}`);o.text+=t.delta}break}case"response.function_call_arguments.delta":{const i=n.output[t.output_index];if(!i)throw new Gn(`missing output at index ${t.output_index}`);i.type==="function_call"&&(i.arguments+=t.delta);break}case"response.reasoning_text.delta":{const i=n.output[t.output_index];if(!i)throw new Gn(`missing output at index ${t.output_index}`);if(i.type==="reasoning"){const o=(r=i.content)==null?void 0:r[t.content_index];if(!o)throw new Gn(`missing content at index ${t.content_index}`);if(o.type!=="reasoning_text")throw new Gn(`expected content to be 'reasoning_text', got ${o.type}`);o.text+=t.delta}break}case"response.completed":{sr(this,qu,t.response);break}}return n},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",i=>{const o=n.shift();o?o.resolve(i):t.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const o of n)o.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const o of n)o.reject(i);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=wt(this,xb,"f");if(!t)throw new Gn("stream ended without producing a ChatCompletion");return t}}function Xbe(e,t){return Hbe(e,t)}class _V extends nr{list(t,n={},r){return this._client.getAPIList(nn`/responses/${t}/input_items`,Bo,{query:n,...r})}}class RT extends nr{constructor(){super(...arguments),this.inputItems=new _V(this._client)}create(t,n){return this._client.post("/responses",{body:t,...n,stream:t.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&kT(r),r))}retrieve(t,n={},r){return this._client.get(nn`/responses/${t}`,{query:n,...r,stream:(n==null?void 0:n.stream)??!1})._thenUnwrap(i=>("object"in i&&i.object==="response"&&kT(i),i))}delete(t,n){return this._client.delete(nn`/responses/${t}`,{...n,headers:Yn([{Accept:"*/*"},n==null?void 0:n.headers])})}parse(t,n){return this._client.responses.create(t,n)._thenUnwrap(r=>yV(r,t))}stream(t,n){return NT.createResponse(this._client,t,n)}cancel(t,n){return this._client.post(nn`/responses/${t}/cancel`,n)}}RT.InputItems=_V;class EV extends nr{create(t,n,r){return this._client.post(nn`/uploads/${t}/parts`,rf({body:n,...r},this._client))}}class jT extends nr{constructor(){super(...arguments),this.parts=new EV(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(nn`/uploads/${t}/cancel`,n)}complete(t,n,r){return this._client.post(nn`/uploads/${t}/complete`,{body:n,...r})}}jT.Parts=EV;const Ybe=async e=>{const t=await Promise.allSettled(e),n=t.filter(i=>i.status==="rejected");if(n.length){for(const i of n)console.error(i.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const i of t)i.status==="fulfilled"&&r.push(i.value);return r};class SV extends nr{create(t,n,r){return this._client.post(nn`/vector_stores/${t}/file_batches`,{body:n,...r,headers:Yn([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,n,r){const{vector_store_id:i}=n;return this._client.get(nn`/vector_stores/${i}/file_batches/${t}`,{...r,headers:Yn([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(t,n,r){const{vector_store_id:i}=n;return this._client.post(nn`/vector_stores/${i}/file_batches/${t}/cancel`,{...r,headers:Yn([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(t,n,r){const i=await this.create(t,n);return await this.poll(t,i.id,r)}listFiles(t,n,r){const{vector_store_id:i,...o}=n;return this._client.getAPIList(nn`/vector_stores/${i}/file_batches/${t}/files`,Bo,{query:o,...r,headers:Yn([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async poll(t,n,r){var o;const i=Yn([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((o=r==null?void 0:r.pollIntervalMs)==null?void 0:o.toString())??void 0}]);for(;;){const{data:a,response:s}=await this.retrieve(n,{vector_store_id:t},{...r,headers:i}).withResponse();switch(a.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const c=s.headers.get("openai-poll-after-ms");if(c){const u=parseInt(c);isNaN(u)||(l=u)}}await _g(l);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(t,{files:n,fileIds:r=[]},i){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const o=(i==null?void 0:i.maxConcurrency)??5,a=Math.min(o,n.length),s=this._client,l=n.values(),c=[...r];async function u(f){for(let p of f){const g=await s.files.create({file:p,purpose:"assistants"},i);c.push(g.id)}}const d=Array(a).fill(l).map(u);return await Ybe(d),await this.createAndPoll(t,{file_ids:c})}}class CV extends nr{create(t,n,r){return this._client.post(nn`/vector_stores/${t}/files`,{body:n,...r,headers:Yn([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,n,r){const{vector_store_id:i}=n;return this._client.get(nn`/vector_stores/${i}/files/${t}`,{...r,headers:Yn([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,n,r){const{vector_store_id:i,...o}=n;return this._client.post(nn`/vector_stores/${i}/files/${t}`,{body:o,...r,headers:Yn([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n={},r){return this._client.getAPIList(nn`/vector_stores/${t}/files`,Bo,{query:n,...r,headers:Yn([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,n,r){const{vector_store_id:i}=n;return this._client.delete(nn`/vector_stores/${i}/files/${t}`,{...r,headers:Yn([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(t,n,r){const i=await this.create(t,n,r);return await this.poll(t,i.id,r)}async poll(t,n,r){var o;const i=Yn([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((o=r==null?void 0:r.pollIntervalMs)==null?void 0:o.toString())??void 0}]);for(;;){const a=await this.retrieve(n,{vector_store_id:t},{...r,headers:i}).withResponse(),s=a.data;switch(s.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const c=a.response.headers.get("openai-poll-after-ms");if(c){const u=parseInt(c);isNaN(u)||(l=u)}}await _g(l);break;case"failed":case"completed":return s}}}async upload(t,n,r){const i=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(t,{file_id:i.id},r)}async uploadAndPoll(t,n,r){const i=await this.upload(t,n,r);return await this.poll(t,i.id,r)}content(t,n,r){const{vector_store_id:i}=n;return this._client.getAPIList(nn`/vector_stores/${i}/files/${t}/content`,eb,{...r,headers:Yn([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class _b extends nr{constructor(){super(...arguments),this.files=new CV(this._client),this.fileBatches=new SV(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:Yn([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,n){return this._client.get(nn`/vector_stores/${t}`,{...n,headers:Yn([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,n,r){return this._client.post(nn`/vector_stores/${t}`,{body:n,...r,headers:Yn([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t={},n){return this._client.getAPIList("/vector_stores",Bo,{query:t,...n,headers:Yn([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(t,n){return this._client.delete(nn`/vector_stores/${t}`,{...n,headers:Yn([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}search(t,n,r){return this._client.getAPIList(nn`/vector_stores/${t}/search`,eb,{body:n,method:"post",...r,headers:Yn([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}_b.Files=CV,_b.FileBatches=SV;var Vh,TV,Eb;class AV extends nr{constructor(){super(...arguments),Vh.add(this)}async unwrap(t,n,r=this._client.webhookSecret,i=300){return await this.verifySignature(t,n,r,i),JSON.parse(t)}async verifySignature(t,n,r=this._client.webhookSecret,i=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");wt(this,Vh,"m",TV).call(this,r);const o=Yn([n]).values,a=wt(this,Vh,"m",Eb).call(this,o,"webhook-signature"),s=wt(this,Vh,"m",Eb).call(this,o,"webhook-timestamp"),l=wt(this,Vh,"m",Eb).call(this,o,"webhook-id"),c=parseInt(s,10);if(isNaN(c))throw new xg("Invalid webhook timestamp format");const u=Math.floor(Date.now()/1e3);if(u-c>i)throw new xg("Webhook timestamp is too old");if(c>u+i)throw new xg("Webhook timestamp is too new");const d=a.split(" ").map(h=>h.startsWith("v1,")?h.substring(3):h),f=r.startsWith("whsec_")?Buffer.from(r.replace("whsec_",""),"base64"):Buffer.from(r,"utf-8"),p=l?`${l}.${s}.${t}`:`${s}.${t}`,g=await crypto.subtle.importKey("raw",f,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const h of d)try{const y=Buffer.from(h,"base64");if(await crypto.subtle.verify("HMAC",g,y,new TextEncoder().encode(p)))return}catch{continue}throw new xg("The given webhook signature does not match the expected signature")}}Vh=new WeakSet,TV=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},Eb=function(e,t){if(!e)throw new Error("Headers are required");const n=e.get(t);if(n==null)throw new Error(`Missing required header: ${t}`);return n};var LT,MT,Sb,IV;class fr{constructor({baseURL:t=zh("OPENAI_BASE_URL"),apiKey:n=zh("OPENAI_API_KEY"),organization:r=zh("OPENAI_ORG_ID")??null,project:i=zh("OPENAI_PROJECT_ID")??null,webhookSecret:o=zh("OPENAI_WEBHOOK_SECRET")??null,...a}={}){if(LT.add(this),Sb.set(this,void 0),this.completions=new nV(this),this.chat=new gT(this),this.embeddings=new oV(this),this.files=new sV(this),this.images=new hV(this),this.audio=new jg(this),this.moderations=new mV(this),this.models=new pV(this),this.fineTuning=new $h(this),this.graders=new IT(this),this.vectorStores=new _b(this),this.webhooks=new AV(this),this.beta=new Fg(this),this.batches=new HH(this),this.uploads=new jT(this),this.responses=new RT(this),this.realtime=new OT(this),this.conversations=new _T(this),this.evals=new ST(this),this.containers=new xT(this),n===void 0)throw new Gn("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const s={apiKey:n,organization:r,project:i,webhookSecret:o,...a,baseURL:t||"https://api.openai.com/v1"};if(!s.dangerouslyAllowBrowser&&Yve())throw new Gn(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=s.baseURL,this.timeout=s.timeout??MT.DEFAULT_TIMEOUT,this.logger=s.logger??console;const l="warn";this.logLevel=l,this.logLevel=aH(s.logLevel,"ClientOptions.logLevel",this)??aH(zh("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??l,this.fetchOptions=s.fetchOptions,this.maxRetries=s.maxRetries??2,this.fetch=s.fetch??tbe(),sr(this,Sb,rbe),this._options=s,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=r,this.project=i,this.webhookSecret=o}withOptions(t){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...t})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){}async authHeaders(t){return Yn([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(t){return cbe(t,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${Dh}`}defaultIdempotencyKey(){return`stainless-node-retry-${k$()}`}makeStatusError(t,n,r,i){return wa.generate(t,n,r,i)}async _callApiKey(){const t=this._options.apiKey;if(typeof t!="function")return!1;let n;try{n=await t()}catch(r){throw r instanceof Gn?r:new Gn(`Failed to get token from 'apiKey' function: ${r.message}`,{cause:r})}if(typeof n!="string"||!n)throw new Gn(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(t,n,r){const i=!wt(this,LT,"m",IV).call(this)&&r||this.baseURL,o=qve(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),a=this.defaultQuery();return Wve(a)||(n={...a,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(t){await this._callApiKey()}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>({method:t,path:n,...i})))}request(t,n=null){return new Jv(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var b,w;const i=await t,o=i.maxRetries??this.maxRetries;n==null&&(n=o),await this.prepareOptions(i);const{req:a,url:s,timeout:l}=await this.buildRequest(i,{retryCount:o-n});await this.prepareRequest(a,{url:s,options:i});const c="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),u=r===void 0?"":`, retryOf: ${r}`,d=Date.now();if(xa(this).debug(`[${c}] sending request`,nf({retryOfRequestLogID:r,method:i.method,url:s,options:i,headers:a.headers})),(b=i.signal)==null?void 0:b.aborted)throw new nl;const f=new AbortController,p=await this.fetchWithTimeout(s,a,l,f).catch(q4),g=Date.now();if(p instanceof globalThis.Error){const S=`retrying, ${n} attempts remaining`;if((w=i.signal)!=null&&w.aborted)throw new nl;const E=V4(p)||/timed? ?out/i.test(String(p)+("cause"in p?String(p.cause):""));if(n)return xa(this).info(`[${c}] connection ${E?"timed out":"failed"} - ${S}`),xa(this).debug(`[${c}] connection ${E?"timed out":"failed"} (${S})`,nf({retryOfRequestLogID:r,url:s,durationMs:g-d,message:p.message})),this.retryRequest(i,n,r??c);throw xa(this).info(`[${c}] connection ${E?"timed out":"failed"} - error; no more retries left`),xa(this).debug(`[${c}] connection ${E?"timed out":"failed"} (error; no more retries left)`,nf({retryOfRequestLogID:r,url:s,durationMs:g-d,message:p.message})),E?new W4:new Kv({cause:p})}const h=[...p.headers.entries()].filter(([S])=>S==="x-request-id").map(([S,E])=>", "+S+": "+JSON.stringify(E)).join(""),y=`[${c}${u}${h}] ${a.method} ${s} ${p.ok?"succeeded":"failed"} with status ${p.status} in ${g-d}ms`;if(!p.ok){const S=await this.shouldRetry(p);if(n&&S){const T=`retrying, ${n} attempts remaining`;return await nbe(p.body),xa(this).info(`${y} - ${T}`),xa(this).debug(`[${c}] response error (${T})`,nf({retryOfRequestLogID:r,url:p.url,status:p.status,headers:p.headers,durationMs:g-d})),this.retryRequest(i,n,r??c,p.headers)}const E=S?"error; no more retries left":"error; not retryable";xa(this).info(`${y} - ${E}`);const _=await p.text().catch(T=>q4(T).message),m=Xve(_),C=m?void 0:_;throw xa(this).debug(`[${c}] response error (${E})`,nf({retryOfRequestLogID:r,url:p.url,status:p.status,headers:p.headers,message:C,durationMs:Date.now()-d})),this.makeStatusError(p.status,m,C,p.headers)}return xa(this).info(y),xa(this).debug(`[${c}] response start`,nf({retryOfRequestLogID:r,url:p.url,status:p.status,headers:p.headers,durationMs:g-d})),{response:p,options:i,controller:f,requestLogID:c,retryOfRequestLogID:r,startTime:d}}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}requestAPIList(t,n){const r=this.makeRequest(n,null,void 0);return new vbe(this,r,t)}async fetchWithTimeout(t,n,r,i){const{signal:o,method:a,...s}=n||{};o&&o.addEventListener("abort",()=>i.abort());const l=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&s.body instanceof globalThis.ReadableStream||typeof s.body=="object"&&s.body!==null&&Symbol.asyncIterator in s.body,u={signal:i.signal,...c?{duplex:"half"}:{},method:"GET",...s};a&&(u.method=a.toUpperCase());try{return await this.fetch.call(void 0,t,u)}finally{clearTimeout(l)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){let o;const a=i==null?void 0:i.get("retry-after-ms");if(a){const l=parseFloat(a);Number.isNaN(l)||(o=l)}const s=i==null?void 0:i.get("retry-after");if(s&&!o){const l=parseFloat(s);Number.isNaN(l)?o=Date.parse(s)-Date.now():o=l*1e3}if(!(o&&0<=o&&o<60*1e3)){const l=t.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,l)}return await _g(o),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const r=n-t,i=Math.min(.5*Math.pow(2,r),8),o=1-Math.random()*.25;return i*o*1e3}async buildRequest(t,{retryCount:n=0}={}){const r={...t},{method:i,path:o,query:a,defaultBaseURL:s}=r,l=this.buildURL(o,a,s);"timeout"in r&&Kve("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:c,body:u}=this.buildBody({options:r}),d=await this.buildHeaders({options:t,method:i,bodyHeaders:c,retryCount:n});return{req:{method:i,headers:d,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&u instanceof globalThis.ReadableStream&&{duplex:"half"},...u&&{body:u},...this.fetchOptions??{},...r.fetchOptions??{}},url:l,timeout:r.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const a=Yn([o,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i),...t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{},...ebe(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(t),this._options.defaultHeaders,r,t.headers]);return this.validateHeaders(a),a.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=Yn([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:G$(t)}:wt(this,Sb,"f").call(this,{body:t,headers:r})}}MT=fr,Sb=new WeakMap,LT=new WeakSet,IV=function(){return this.baseURL!=="https://api.openai.com/v1"},fr.OpenAI=MT,fr.DEFAULT_TIMEOUT=6e5,fr.OpenAIError=Gn,fr.APIError=wa,fr.APIConnectionError=Kv,fr.APIConnectionTimeoutError=W4,fr.APIUserAbortError=nl,fr.NotFoundError=L$,fr.ConflictError=M$,fr.RateLimitError=D$,fr.BadRequestError=N$,fr.AuthenticationError=R$,fr.InternalServerError=F$,fr.PermissionDeniedError=j$,fr.UnprocessableEntityError=P$,fr.InvalidWebhookSignatureError=xg,fr.toFile=Cbe,fr.Completions=nV,fr.Chat=gT,fr.Embeddings=oV,fr.Files=sV,fr.Images=hV,fr.Audio=jg,fr.Moderations=mV,fr.Models=pV,fr.FineTuning=$h,fr.Graders=IT,fr.VectorStores=_b,fr.Webhooks=AV,fr.Beta=Fg,fr.Batches=HH,fr.Uploads=jT,fr.Responses=RT,fr.Realtime=OT,fr.Conversations=_T,fr.Evals=ST,fr.Containers=xT;const da=[{label:"Claude Sonnet 4.5",value:"claude-sonnet-4-5",provider:"anthropic",default:!0,defaultEnabled:!0},{label:"Claude Opus 4.5",value:"claude-opus-4-5",provider:"anthropic",isSlow:!0,defaultEnabled:!0},{label:"Claude Sonnet 4",value:"claude-sonnet-4",provider:"anthropic"},{label:"Claude Haiku 4.5",value:"claude-haiku-4-5",provider:"anthropic",isTestModel:!0},{label:"GPT-5.1 (High Reasoning)",value:"gpt-5.1@reasoning=high",provider:"openai",isSlow:!0},{label:"GPT-5.1 (Medium Reasoning)",value:"gpt-5.1@reasoning=medium",provider:"openai",isSlow:!0,defaultEnabled:!0},{label:"GPT-5.1 (No Reasoning)",value:"gpt-5.1",provider:"openai",defaultEnabled:!0,isTestModel:!0},{label:"GPT-5",value:"gpt-5",provider:"openai",defaultEnabled:!0},{label:"GPT-5 mini",value:"gpt-5-mini",provider:"openai",default:!0,defaultEnabled:!0}],Cb=e=>da.find(t=>t.value===e).provider,Wu=e=>{const t=da.find(o=>o.value===e);if(!t)return{model:e};const n=t.value.split("@"),r=n[0],i=n[1];if(i){const o=i.split("="),a=o[0],s=o[1];if(a==="reasoning"&&s)return{model:r,reasoning:{effort:s}}}return{model:r}},lf=()=>{const e=new Set;return da.forEach(t=>{e.add(t.provider)}),Array.from(e)},OV=e=>{var n;const t=e.selectedModel;return t&&typeof t=="string"&&da.find(r=>r.value===t)?t:((n=da.find(r=>r.default))==null?void 0:n.value)??null},Qbe=(e,t)=>{let n=e;const r=e?Cb(e):null;if(r&&t[r].length>0){if(e&&t[r].includes(e))return e;n=t[r].find(i=>{var o;return(o=da.find(a=>a.value===i))==null?void 0:o.default})??t[r][0]}else{const i=lf().find(o=>t[o].length>0);i?n=t[i].find(o=>{var a;return(a=da.find(s=>s.value===o))==null?void 0:a.default})??t[i][0]:n=null}return n??null},kV=e=>lf().some(t=>{var n,r;return!!((r=(n=e.providers)==null?void 0:n[t])!=null&&r.apiKey)}),Jbe=e=>kV(e)&&!!e.selectedModel,Zbe=e=>{var i,o,a,s,l,c,u,d;const t=OV(e);if(!t)return!1;const n=((o=(i=e.providers)==null?void 0:i.anthropic)==null?void 0:o.enabledModels)||[],r=((s=(a=e.providers)==null?void 0:a.openai)==null?void 0:s.enabledModels)||[];return n.includes(t)?((c=(l=e.providers)==null?void 0:l.anthropic)==null?void 0:c.grantSchemaAccess)===!0:r.includes(t)?((d=(u=e.providers)==null?void 0:u.openai)==null?void 0:d.grantSchemaAccess)===!0:!1},ru=(e,t)=>isNaN(parseInt(e))?t:parseInt(e);var Gu=(e=>(e.DATASOURCES="datasources",e.SEARCH="search",e))(Gu||{});const ewe={providers:{}},Ea={editorCol:10,editorLine:10,editorSplitterBasis:350,resultsSplitterBasis:350,autoRefreshTables:!0,aiAssistantSettings:ewe,leftPanelState:{type:Gu.DATASOURCES,width:350},aiChatPanelWidth:500},twe={editorCol:1,editorLine:1,editorSplitterBasis:350,resultsSplitterBasis:350,updateSettings:(e,t)=>{},exampleQueriesVisited:!1,autoRefreshTables:!0,leftPanelState:Ea.leftPanelState,updateLeftPanelState:e=>{},aiAssistantSettings:Ea.aiAssistantSettings,aiChatPanelWidth:Ea.aiChatPanelWidth,updateAiChatPanelWidth:e=>{}},NV=x.createContext(twe),nwe=({children:e})=>{const[t,n]=x.useState(ru(Ki(Mn.EDITOR_COL),Ea.editorCol)),[r,i]=x.useState(ru(Ki(Mn.EDITOR_LINE),Ea.editorLine)),[o,a]=x.useState(ru(Ki(Mn.EDITOR_SPLITTER_BASIS),Ea.editorSplitterBasis)),[s,l]=x.useState(ru(Ki(Mn.RESULTS_SPLITTER_BASIS),Ea.resultsSplitterBasis)),[c,u]=x.useState(Ki(Mn.EXAMPLE_QUERIES_VISITED)==="true"),[d,f]=x.useState(Ki(Mn.AUTO_REFRESH_TABLES)?Ki(Mn.AUTO_REFRESH_TABLES)==="true":Ea.autoRefreshTables),p=()=>{const O=Ki(Mn.LEFT_PANEL_STATE);if(O)try{return JSON.parse(O)}catch{return Ea.leftPanelState}return Ea.leftPanelState},[g,h]=x.useState(p()),y=()=>{const O=Ki(Mn.AI_ASSISTANT_SETTINGS);if(O)try{const R=JSON.parse(O);return{selectedModel:R.selectedModel,providers:R.providers||{}}}catch{return Ea.aiAssistantSettings}return Ea.aiAssistantSettings},[b,w]=x.useState(y()),[S,E]=x.useState(ru(Ki(Mn.AI_CHAT_PANEL_WIDTH),Ea.aiChatPanelWidth)),_=x.useCallback(O=>{Is(Mn.AI_CHAT_PANEL_WIDTH,O.toString()),E(O)},[]),m=(O,R)=>{O===Mn.AI_ASSISTANT_SETTINGS?Is(O,JSON.stringify(R)):Is(O,R),T(O)},C=x.useCallback(O=>{Is(Mn.LEFT_PANEL_STATE,JSON.stringify(O)),h(O)},[]),T=O=>{const R=Ki(O);switch(O){case Mn.EDITOR_COL:n(ru(R,Ea.editorCol));break;case Mn.EDITOR_LINE:i(ru(R,Ea.editorLine));break;case Mn.EXAMPLE_QUERIES_VISITED:u(R==="true");break;case Mn.EDITOR_SPLITTER_BASIS:a(ru(R,Ea.editorSplitterBasis));break;case Mn.RESULTS_SPLITTER_BASIS:l(ru(R,Ea.resultsSplitterBasis));break;case Mn.AUTO_REFRESH_TABLES:f(R==="true");break;case Mn.AI_ASSISTANT_SETTINGS:w(y());break}};return v.jsx(NV.Provider,{value:{editorCol:t,editorLine:r,editorSplitterBasis:o,resultsSplitterBasis:s,updateSettings:m,exampleQueriesVisited:c,autoRefreshTables:d,leftPanelState:g,updateLeftPanelState:C,aiAssistantSettings:b,aiChatPanelWidth:S,updateAiChatPanelWidth:_},children:e})},vc=()=>x.useContext(NV);function rwe(e,t,n){var r,i;typeof e=="function"?(r=t||[],i=n):(r=[],i=t);var o=ie.useRef({hasResult:!1,result:i,error:null}),a=ie.useReducer(function(c){return c+1},0);a[0];var s=a[1],l=ie.useMemo(function(){var c=typeof e=="function"?e():e;if(!c||typeof c.subscribe!="function")throw e===c?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!o.current.hasResult&&typeof window<"u"&&(typeof c.hasValue!="function"||c.hasValue()))if(typeof c.getValue=="function")o.current.result=c.getValue(),o.current.hasResult=!0;else{var u=c.subscribe(function(d){o.current.result=d,o.current.hasResult=!0});typeof u=="function"?u():u.unsubscribe()}return c},r);if(ie.useDebugValue(o.current.result),ie.useEffect(function(){var c=l.subscribe(function(u){var d=o.current;(d.error!==null||d.result!==u)&&(d.error=null,d.result=u,d.hasResult=!0,s())},function(u){var d=o.current;d.error!==u&&(d.error=u,s())});return typeof c=="function"?c:c.unsubscribe.bind(c)},r),o.current.error)throw o.current.error;return o.current.result}function Tb(e,t,n){return rwe(function(){return hh.liveQuery(e)},t||[],n)}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(e){var t=hh.DexieYProvider;t&&t.release(e)});var Qo=Uint8Array,Ps=Uint16Array,PT=Int32Array,Ab=new Qo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ib=new Qo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),DT=new Qo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),RV=function(e,t){for(var n=new Ps(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new PT(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return{b:n,r:i}},jV=RV(Ab,2),LV=jV.b,FT=jV.r;LV[28]=258,FT[258]=28;for(var MV=RV(Ib,0),iwe=MV.b,PV=MV.r,UT=new Ps(32768),ro=0;ro<32768;++ro){var Ku=(ro&43690)>>1|(ro&21845)<<1;Ku=(Ku&52428)>>2|(Ku&13107)<<2,Ku=(Ku&61680)>>4|(Ku&3855)<<4,UT[ro]=((Ku&65280)>>8|(Ku&255)<<8)>>1}for(var bc=(function(e,t,n){for(var r=e.length,i=0,o=new Ps(t);i<r;++i)e[i]&&++o[e[i]-1];var a=new Ps(t);for(i=1;i<t;++i)a[i]=a[i-1]+o[i-1]<<1;var s;if(n){s=new Ps(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],d=a[e[i]-1]++<<u,f=d|(1<<u)-1;d<=f;++d)s[UT[d]>>l]=c}else for(s=new Ps(r),i=0;i<r;++i)e[i]&&(s[i]=UT[a[e[i]-1]++]>>15-e[i]);return s}),Xu=new Qo(288),ro=0;ro<144;++ro)Xu[ro]=8;for(var ro=144;ro<256;++ro)Xu[ro]=9;for(var ro=256;ro<280;++ro)Xu[ro]=7;for(var ro=280;ro<288;++ro)Xu[ro]=8;for(var Ug=new Qo(32),ro=0;ro<32;++ro)Ug[ro]=5;var owe=bc(Xu,9,0),awe=bc(Xu,9,1),swe=bc(Ug,5,0),lwe=bc(Ug,5,1),zT=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Pl=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},BT=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},$T=function(e){return(e+7)/8|0},Ob=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new Qo(e.subarray(t,n))},cwe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],gs=function(e,t,n){var r=new Error(t||cwe[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,gs),!n)throw r;return r},HT=function(e,t,n,r){var i=e.length,o=0;if(!i||t.f&&!t.l)return n||new Qo(0);var a=!n,s=a||t.i!=2,l=t.i;a&&(n=new Qo(i*3));var c=function(it){var St=n.length;if(it>St){var xt=new Qo(Math.max(St*2,it));xt.set(n),n=xt}},u=t.f||0,d=t.p||0,f=t.b||0,p=t.l,g=t.d,h=t.m,y=t.n,b=i*8;do{if(!p){u=Pl(e,d,1);var w=Pl(e,d+1,3);if(d+=3,w)if(w==1)p=awe,g=lwe,h=9,y=5;else if(w==2){var S=Pl(e,d,31)+257,E=Pl(e,d+10,15)+4,_=S+Pl(e,d+5,31)+1;d+=14;for(var m=new Qo(_),C=new Qo(19),T=0;T<E;++T)C[DT[T]]=Pl(e,d+T*3,7);d+=E*3;for(var O=zT(C),R=(1<<O)-1,j=bc(C,O,1),T=0;T<_;){var D=j[Pl(e,d,R)];d+=D&15;var L=D>>4;if(L<16)m[T++]=L;else{var V=0,z=0;for(L==16?(z=3+Pl(e,d,3),d+=2,V=m[T-1]):L==17?(z=3+Pl(e,d,7),d+=3):L==18&&(z=11+Pl(e,d,127),d+=7);z--;)m[T++]=V}}var B=m.subarray(0,S),H=m.subarray(S);h=zT(B),y=zT(H),p=bc(B,h,1),g=bc(H,y,1)}else gs(1);else{var L=$T(d)+4,J=e[L-4]|e[L-3]<<8,ne=L+J;if(ne>i){l&&gs(0);break}s&&c(f+J),n.set(e.subarray(L,ne),f),t.b=f+=J,t.p=d=ne*8,t.f=u;continue}if(d>b){l&&gs(0);break}}s&&c(f+131072);for(var q=(1<<h)-1,ee=(1<<y)-1,te=d;;te=d){var V=p[BT(e,d)&q],$=V>>4;if(d+=V&15,d>b){l&&gs(0);break}if(V||gs(2),$<256)n[f++]=$;else if($==256){te=d,p=null;break}else{var ae=$-254;if($>264){var T=$-257,ue=Ab[T];ae=Pl(e,d,(1<<ue)-1)+LV[T],d+=ue}var me=g[BT(e,d)&ee],Fe=me>>4;me||gs(3),d+=me&15;var H=iwe[Fe];if(Fe>3){var ue=Ib[Fe];H+=BT(e,d)&(1<<ue)-1,d+=ue}if(d>b){l&&gs(0);break}s&&c(f+131072);var Ie=f+ae;if(f<H){var Ee=o-H,He=Math.min(H,Ie);for(Ee+f<0&&gs(3);f<He;++f)n[f]=r[Ee+f]}for(;f<Ie;++f)n[f]=n[f-H]}}t.l=p,t.p=te,t.b=f,t.f=u,p&&(u=1,t.m=h,t.d=g,t.n=y)}while(!u);return f!=n.length&&a?Ob(n,0,f):n.subarray(0,f)},iu=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},zg=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},VT=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,o=n.slice();if(!i)return{t:zV,l:0};if(i==1){var a=new Qo(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(_,m){return _.f-m.f}),n.push({s:-1,f:25001});var s=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};u!=i-1;)s=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:s.f+l.f,l:s,r:l};for(var f=o[0].s,r=1;r<i;++r)o[r].s>f&&(f=o[r].s);var p=new Ps(f+1),g=qT(n[u-1],p,0);if(g>t){var r=0,h=0,y=g-t,b=1<<y;for(o.sort(function(m,C){return p[C.s]-p[m.s]||m.f-C.f});r<i;++r){var w=o[r].s;if(p[w]>t)h+=b-(1<<g-p[w]),p[w]=t;else break}for(h>>=y;h>0;){var S=o[r].s;p[S]<t?h-=1<<t-p[S]++-1:++r}for(;r>=0&&h;--r){var E=o[r].s;p[E]==t&&(--p[E],++h)}g=t}return{t:new Qo(p),l:g}},qT=function(e,t,n){return e.s==-1?Math.max(qT(e.l,t,n+1),qT(e.r,t,n+1)):t[e.s]=n},DV=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Ps(++t),r=0,i=e[0],o=1,a=function(l){n[r++]=l},s=1;s<=t;++s)if(e[s]==i&&s!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)a(32754);o>2&&(a(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(a(i),--o;o>6;o-=6)a(8304);o>2&&(a(o-3<<5|8208),o=0)}for(;o--;)a(i);o=1,i=e[s]}return{c:n.subarray(0,r),n:t}},Bg=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},FV=function(e,t,n){var r=n.length,i=$T(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var o=0;o<r;++o)e[i+o+4]=n[o];return(i+4+r)*8},UV=function(e,t,n,r,i,o,a,s,l,c,u){iu(t,u++,n),++i[256];for(var d=VT(i,15),f=d.t,p=d.l,g=VT(o,15),h=g.t,y=g.l,b=DV(f),w=b.c,S=b.n,E=DV(h),_=E.c,m=E.n,C=new Ps(19),T=0;T<w.length;++T)++C[w[T]&31];for(var T=0;T<_.length;++T)++C[_[T]&31];for(var O=VT(C,7),R=O.t,j=O.l,D=19;D>4&&!R[DT[D-1]];--D);var L=c+5<<3,V=Bg(i,Xu)+Bg(o,Ug)+a,z=Bg(i,f)+Bg(o,h)+a+14+3*D+Bg(C,R)+2*C[16]+3*C[17]+7*C[18];if(l>=0&&L<=V&&L<=z)return FV(t,u,e.subarray(l,l+c));var B,H,J,ne;if(iu(t,u,1+(z<V)),u+=2,z<V){B=bc(f,p,0),H=f,J=bc(h,y,0),ne=h;var q=bc(R,j,0);iu(t,u,S-257),iu(t,u+5,m-1),iu(t,u+10,D-4),u+=14;for(var T=0;T<D;++T)iu(t,u+3*T,R[DT[T]]);u+=3*D;for(var ee=[w,_],te=0;te<2;++te)for(var $=ee[te],T=0;T<$.length;++T){var ae=$[T]&31;iu(t,u,q[ae]),u+=R[ae],ae>15&&(iu(t,u,$[T]>>5&127),u+=$[T]>>12)}}else B=owe,H=Xu,J=swe,ne=Ug;for(var T=0;T<s;++T){var ue=r[T];if(ue>255){var ae=ue>>18&31;zg(t,u,B[ae+257]),u+=H[ae+257],ae>7&&(iu(t,u,ue>>23&31),u+=Ab[ae]);var me=ue&31;zg(t,u,J[me]),u+=ne[me],me>3&&(zg(t,u,ue>>5&8191),u+=Ib[me])}else zg(t,u,B[ue]),u+=H[ue]}return zg(t,u,B[256]),u+H[256]},uwe=new PT([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),zV=new Qo(0),dwe=function(e,t,n,r,i,o){var a=o.z||e.length,s=new Qo(r+a+5*(1+Math.ceil(a/7e3))+i),l=s.subarray(r,s.length-i),c=o.l,u=(o.r||0)&7;if(t){u&&(l[0]=o.r>>3);for(var d=uwe[t-1],f=d>>13,p=d&8191,g=(1<<n)-1,h=o.p||new Ps(32768),y=o.h||new Ps(g+1),b=Math.ceil(n/3),w=2*b,S=function(Ct){return(e[Ct]^e[Ct+1]<<b^e[Ct+2]<<w)&g},E=new PT(25e3),_=new Ps(288),m=new Ps(32),C=0,T=0,O=o.i||0,R=0,j=o.w||0,D=0;O+2<a;++O){var L=S(O),V=O&32767,z=y[L];if(h[V]=z,y[L]=V,j<=O){var B=a-O;if((C>7e3||R>24576)&&(B>423||!c)){u=UV(e,l,0,E,_,m,T,R,D,O-D,u),R=C=T=0,D=O;for(var H=0;H<286;++H)_[H]=0;for(var H=0;H<30;++H)m[H]=0}var J=2,ne=0,q=p,ee=V-z&32767;if(B>2&&L==S(O-ee))for(var te=Math.min(f,B)-1,$=Math.min(32767,O),ae=Math.min(258,B);ee<=$&&--q&&V!=z;){if(e[O+J]==e[O+J-ee]){for(var ue=0;ue<ae&&e[O+ue]==e[O+ue-ee];++ue);if(ue>J){if(J=ue,ne=ee,ue>te)break;for(var me=Math.min(ee,ue-2),Fe=0,H=0;H<me;++H){var Ie=O-ee+H&32767,Ee=h[Ie],He=Ie-Ee&32767;He>Fe&&(Fe=He,z=Ie)}}}V=z,z=h[V],ee+=V-z&32767}if(ne){E[R++]=268435456|FT[J]<<18|PV[ne];var it=FT[J]&31,St=PV[ne]&31;T+=Ab[it]+Ib[St],++_[257+it],++m[St],j=O+J,++C}else E[R++]=e[O],++_[e[O]]}}for(O=Math.max(O,j);O<a;++O)E[R++]=e[O],++_[e[O]];u=UV(e,l,c,E,_,m,T,R,D,O-D,u),c||(o.r=u&7|l[u/8|0]<<3,u-=7,o.h=y,o.p=h,o.i=O,o.w=j)}else{for(var O=o.w||0;O<a+c;O+=65535){var xt=O+65535;xt>=a&&(l[u/8|0]=c,xt=a),u=FV(l,u+1,e.subarray(O,xt))}o.i=a}return Ob(s,0,r+$T(u)+i)},fwe=(function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(n&1&&-306674912)^n>>>1;e[t]=n}return e})(),hwe=function(){var e=-1;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=fwe[n&255^t[r]]^n>>>8;e=n},d:function(){return~e}}},pwe=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),a=new Qo(o.length+e.length);a.set(o),a.set(e,o.length),e=a,i.w=o.length}return dwe(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},WT=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},mwe=function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:t.level==9?2:0,e[9]=3,t.mtime!=0&&WT(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}},gwe=function(e){(e[0]!=31||e[1]!=139||e[2]!=8)&&gs(6,"invalid gzip data");var t=e[3],n=10;t&4&&(n+=(e[10]|e[11]<<8)+2);for(var r=(t>>3&1)+(t>>4&1);r>0;r-=!e[n++]);return n+(t&2)},ywe=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},vwe=function(e){return 10+(e.filename?e.filename.length+1:0)},bwe=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&gs(6,"invalid zlib data"),(e[1]>>5&1)==1&&gs(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function wwe(e,t){return HT(e,{i:2},t,t)}function xwe(e,t){t||(t={});var n=hwe(),r=e.length;n.p(e);var i=pwe(e,t,vwe(t),8),o=i.length;return mwe(i,t),WT(i,o-8,n.d()),WT(i,o-4,r),i}function _we(e,t){var n=gwe(e);return n+8>e.length&&gs(6,"invalid gzip data"),HT(e.subarray(n,-8),{i:2},new Qo(ywe(e)),t)}function Ewe(e,t){return HT(e.subarray(bwe(e),-4),{i:2},t,t)}function Swe(e,t){return e[0]==31&&e[1]==139&&e[2]==8?_we(e,t):(e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31?wwe(e,t):Ewe(e,t)}var BV=typeof TextEncoder<"u"&&new TextEncoder,GT=typeof TextDecoder<"u"&&new TextDecoder,Cwe=0;try{GT.decode(zV,{stream:!0}),Cwe=1}catch{}var Twe=function(e){for(var t="",n=0;;){var r=e[n++],i=(r>127)+(r>223)+(r>239);if(n+i>e.length)return{s:t,r:Ob(e,n-1)};i?i==3?(r=((r&15)<<18|(e[n++]&63)<<12|(e[n++]&63)<<6|e[n++]&63)-65536,t+=String.fromCharCode(55296|r>>10,56320|r&1023)):i&1?t+=String.fromCharCode((r&31)<<6|e[n++]&63):t+=String.fromCharCode((r&15)<<12|(e[n++]&63)<<6|e[n++]&63):t+=String.fromCharCode(r)}};function Awe(e,t){var n;if(BV)return BV.encode(e);for(var r=e.length,i=new Qo(e.length+(e.length>>1)),o=0,a=function(u){i[o++]=u},n=0;n<r;++n){if(o+5>i.length){var s=new Qo(o+8+(r-n<<1));s.set(i),i=s}var l=e.charCodeAt(n);l<128||t?a(l):l<2048?(a(192|l>>6),a(128|l&63)):l>55295&&l<57344?(l=65536+(l&1047552)|e.charCodeAt(++n)&1023,a(240|l>>18),a(128|l>>12&63),a(128|l>>6&63),a(128|l&63)):(a(224|l>>12),a(128|l>>6&63),a(128|l&63))}return Ob(i,0,o)}function Iwe(e,t){var i;if(GT)return GT.decode(e);var n=Twe(e),r=n.s,i=n.r;return i.length&&gs(8),r}function Owe(e){return xwe(Awe(JSON.stringify(e)))}function kwe(e){try{return JSON.parse(Iwe(Swe(e)))}catch(t){return console.error("Failed to decompress messages:",t),[]}}let es,KT,$V,XT;es={getAllMetas:()=>ai.ai_conversations.toArray(),async getMessages(e){const t=await ai.ai_conversation_messages.get(e);return t?kwe(t.data):[]},saveMeta:e=>ai.ai_conversations.put(e),saveMessages:(e,t)=>ai.ai_conversation_messages.put({conversationId:e,data:Owe(t)}),async saveConversation(e){const{messages:t,...n}=e;await Promise.all([this.saveMeta(n),this.saveMessages(e.id,t)])},deleteConversation:e=>Promise.all([ai.ai_conversations.delete(e),ai.ai_conversation_messages.delete(e)]),updateMeta:(e,t)=>ai.ai_conversations.update(e,t)},KT=x.createContext(void 0),Ad=()=>{const e=x.useContext(KT);if(!e)throw new Error("useAIConversation must be used within AIConversationProvider");return e},$V=({children:e})=>{const t=ls(),n=oi(Mr.console.getActiveSidebar),r=Tb(async()=>{const We=await ai.ai_conversations.toArray(),Oe=[];for(const ye of We){const Ve=await ai.ai_conversation_messages.where("conversationId").equals(ye.id).count();Oe.push({...ye,hasMessages:Ve>0})}return Oe},[],null),i=x.useMemo(()=>new Map((r==null?void 0:r.map(We=>[We.id,We]))??[]),[r]),[o,a]=x.useState([]),s=x.useRef([]);x.useEffect(()=>{s.current=o},[o]);const l=x.useRef(new Set),[c,u]=x.useState(!1),[d,f]=x.useState(!1),[p,g]=x.useState({activeConversationId:null,isHistoryOpen:!1,previousConversationId:null}),h=p.activeConversationId,y=x.useRef(h);x.useEffect(()=>{y.current=h},[h]);const b=x.useRef(!1),w=x.useCallback(async(We,Oe=!0)=>{We===y.current&&(await es.saveMessages(We,s.current),Oe&&await es.updateMeta(We,{updatedAt:Date.now()}))},[]),S=x.useCallback(We=>i.get(We),[i]),E=x.useCallback((We,Oe)=>{for(const ye of i.values())if(ye.bufferId===We&&ye.queryKey===Oe)return ye},[i]),_=x.useCallback(We=>{for(const Oe of i.values())if(Oe.tableId===We)return Oe},[i]),m=x.useCallback(We=>{const Oe=i.get(We);return!Oe||!Oe.queryKey||!Oe.bufferId?null:{queryKey:Oe.queryKey,bufferId:Oe.bufferId}},[i]),C=x.useCallback((We,Oe)=>{const ye=E(We,Oe);return ye?ye.hasMessages||p.activeConversationId===ye.id&&s.current.length>0:!1},[E,h]),T=x.useCallback(async We=>{const Oe=crypto.randomUUID(),{queryText:ye}=hm(We.queryKey),Ve={id:Oe,queryKey:We.queryKey,bufferId:We.bufferId,tableId:We.tableId,currentSQL:ye,conversationName:"AI Assistant",updatedAt:Date.now()};return await es.saveMeta(Ve),{...Ve,messages:[]}},[]),O=x.useCallback(async(We,Oe,ye)=>{await es.updateMeta(We,{...ye,updatedAt:Date.now()}),a(Ve=>Ve.map(Xe=>Xe.id===Oe?{...Xe,isAccepted:!0}:Xe))},[]),R=x.useCallback(async(We,Oe,ye)=>{let Ve=!1;const Xe={};for(const[se,we]of i)if(we.bufferId===We&&we.queryKey){const{startOffset:Le}=hm(we.queryKey);if(Le>=Oe){const ot=CD(we.queryKey,Oe,ye);Xe[se]=ot,Ve=!0}}return Ve&&await ai.transaction("rw",ai.ai_conversations,async()=>{for(const[se,we]of Object.entries(Xe))await ai.ai_conversations.update(se,{queryKey:we})}),Ve},[i]),j=x.useCallback((We,Oe)=>{const ye={...We,id:We.id||crypto.randomUUID()};a(Ve=>{let Xe=[...Ve];return Oe&&(Xe=Xe.filter(se=>!Oe.includes(se.id))),Xe.push(ye),Xe})},[]),D=x.useCallback((We,Oe,ye)=>{const Ve=i.get(We);a(Xe=>{let se=!1;const we=Xe.map(Le=>{if(Le.id!==Oe)return Le;let ot=ye;const _e=ye.sql;if(Le.role==="assistant"&&(ye.content||ye.error)&&!Le.content&&!Le.error&&!Le.responseStart&&(ot={...ot,responseStart:Date.now()}),_e!==void 0&&Le.previousSQL===void 0&&ye.previousSQL===void 0&&Ve){const{queryText:Ce}=hm(Ve.queryKey),dt=Ui(_e||""),Ne=Ui(Ce),Ye=dt!==Ne;Ye&&(se=!0),ot={...ot,previousSQL:Ye?Ce:void 0}}return{...Le,...ot}});return se&&ye.sql&&es.updateMeta(We,{currentSQL:ye.sql,updatedAt:Date.now()}),we})},[i]),L=x.useCallback((We,Oe)=>{a(ye=>{const Ve=[...ye];let Xe=-1;for(const se of Oe){const we=Ve.findIndex(Le=>Le.id===se.id);we!==-1&&(Xe=Math.max(Xe,we),Ve[we]=se)}return Ve.splice(Xe+1,0,Oe[Oe.length-1]),Ve})},[]),V=x.useCallback(async(We,Oe,ye)=>{ye&&l.current.has(We)||(l.current.add(We),await es.updateMeta(We,{conversationName:Oe}))},[]),z=x.useCallback(async(We,Oe)=>{if(h!==We)return;const ye=i.get(We);if(!ye)return;const Ve=o.find(Le=>Le.id===Oe);if(!Ve||!Ve.sql)return;const{queryText:Xe}=hm(ye.queryKey),se=typeof Ve.previousSQL=="string"?Ve.previousSQL:Xe;await es.updateMeta(We,{currentSQL:se,updatedAt:Date.now()});const we={id:crypto.randomUUID(),role:"user",content:"User rejected your latest change. Please use the previous version as the base for future modifications.",timestamp:Date.now(),hideFromUI:!0};a(Le=>[...Le.map(ot=>ot.id===Oe?{...ot,isRejected:!0}:ot),we])},[h,i,o]),B=x.useCallback(async(We,Oe=!0)=>{if(!b.current){b.current=!0;try{const ye=p.activeConversationId;if(ye&&ye!==We)i.get(ye)&&o.length===0?await es.deleteConversation(ye):await w(ye,!1);else if(ye===We&&!p.isHistoryOpen&&n==="aiChat")return;if(h||a([]),Oe&&We!==ye){u(!0);const Ve=await es.getMessages(We);a(Ve),u(!1)}else Oe||a([]);g(Ve=>({...Ve,isHistoryOpen:!1,previousConversationId:null,activeConversationId:We})),t(An.console.setActiveSidebar("aiChat"))}finally{b.current=!1}}},[n,p,i,o,w]),H=x.useCallback(()=>{t(An.console.setActiveSidebar(void 0)),p.activeConversationId&&o.length===0&&es.deleteConversation(p.activeConversationId)},[p.activeConversationId,o]),J=x.useCallback(async We=>{const Oe=E(We.bufferId,We.queryKey);if(Oe){if(h===Oe.id&&n==="aiChat"){H();return}await B(Oe.id);return}const ye=await T({bufferId:We.bufferId,queryKey:We.queryKey});await B(ye.id)},[H,E,T,h,n]),ne=x.useCallback(async()=>{if(p.activeConversationId&&i.get(p.activeConversationId)){await B(p.activeConversationId);return}if(i.size>0){const Oe=Array.from(i.values()).reduce((ye,Ve)=>Ve.updatedAt>ye.updatedAt?Ve:ye);await B(Oe.id);return}const We=await T({});await B(We.id)},[p.activeConversationId,i,B,T]),q=x.useCallback(async()=>{const We=await T({});await B(We.id,!1)},[T,B]),ee=x.useCallback(()=>{g(We=>({...We,isHistoryOpen:!0,previousConversationId:We.activeConversationId}))},[]),te=x.useCallback(()=>{g(We=>({...We,isHistoryOpen:!1,activeConversationId:We.previousConversationId??We.activeConversationId}))},[]),$=x.useCallback(async We=>{await es.deleteConversation(We);let Oe=null,ye=0;for(const[Ve,Xe]of i)Ve!==We&&Xe.updatedAt>ye&&(ye=Xe.updatedAt,Oe=Ve);if(h===We)if(Oe){const Ve=await es.getMessages(Oe);a(Ve)}else a([]);g(Ve=>{const Xe={};return Ve.activeConversationId===We&&(Xe.activeConversationId=Oe),Ve.previousConversationId===We&&(Xe.previousConversationId=Oe),Object.keys(Xe).length>0?{...Ve,...Xe}:Ve})},[h,i]),{editorRef:ae,buffers:ue,activeBuffer:me,setActiveBuffer:Fe,addBuffer:Ie,closePreviewBuffer:Ee,applyAISQLChange:He}=Ys(),it=x.useCallback(async(We,Oe,ye)=>{const Ve=i.get(We);if(!Ve)return;const Xe=He({newSQL:Oe,queryKey:Ve.queryKey??void 0});!Xe.success||!Xe.finalQueryKey||(await O(We,ye,{queryKey:Xe.finalQueryKey,currentSQL:Oe}),Ve.tableId!=null&&await es.updateMeta(We,{tableId:void 0,updatedAt:Date.now()}))},[i,O]),St=x.useCallback(async(We,Oe,ye)=>{const Ve=i.get(We);if(!Ve)return;const Xe=Id(Oe),se=await Ie({value:Xe});if(await new Promise(qt=>setTimeout(qt,200)),!ae.current)return;const we=ae.current.getModel();if(!we)return;const Le=0,ot=Ui(Oe),_e=ot.length,Ce=we.getPositionAt(Le),dt=we.getPositionAt(_e),Ne={startLineNumber:Ce.lineNumber,startColumn:Ce.column,endLineNumber:dt.lineNumber,endColumn:dt.column},Ye=we.deltaDecorations([],[{range:Ne,options:{isWholeLine:!1,className:"aiQueryHighlight"}}]);ae.current.revealPositionNearTop(Ce),setTimeout(()=>{we.isDisposed()||we.deltaDecorations(Ye,[])},2e3);const jt=Ql(ot,Le);await O(We,ye,{bufferId:se.id,queryKey:jt,currentSQL:Oe}),Ve.tableId!=null&&await es.updateMeta(We,{tableId:void 0,updatedAt:Date.now()})},[i,Ie,O]),xt=x.useCallback(async We=>{const{conversationId:Oe,messageId:ye,skipDefaultMessage:Ve}=We;if(h!==Oe)return;const Xe=i.get(Oe);if(!Xe)return;const se=o.find(Ce=>Ce.id===ye);if(!se||!se.sql)return;const we=Id(se.sql,!1);await Ee();const Le=Xe.bufferId,ot=ue.find(Ce=>Ce.id===Le),_e=Le==null?"none":ot?ot.archived?"archived":ot.id===me.id?"active":"inactive":"deleted";try{_e==="active"?await it(Oe,we,ye):_e==="deleted"||_e==="archived"||_e==="none"?await St(Oe,we,ye):_e==="inactive"&&ot&&(await Fe(ot),await new Promise(Ce=>setTimeout(Ce,100)),await it(Oe,we,ye)),Ve||j({id:crypto.randomUUID(),role:"user",content:`User accepted your SQL change. Now the query is:

\`\`\`sql
${we.replaceAll(/\s+/g," ").trim()}
\`\`\``,timestamp:Date.now(),hideFromUI:!0}),await w(Oe)}catch(Ce){console.error("Error applying changes:",Ce)}},[h,i,o,ue,me.id,Fe,Ee,it,St,j,w]),Ct=x.useCallback(async(We,Oe)=>{if(h!==We)return;const ye=i.get(We);if(ye){if(await z(We,Oe),await Ee(),me.isPreviewBuffer){const Ve=ue.find(Xe=>Xe.id===ye.bufferId&&!Xe.archived);Ve&&await Fe(Ve)}await w(We)}},[h,i,z,Ee,me,ue,Fe,w]);return v.jsx(KT.Provider,{value:{conversationMetas:i,activeConversationMessages:o,chatWindowState:p,isLoadingMessages:c,isStreaming:d,setIsStreaming:f,getConversationMeta:S,findConversationByQuery:E,findConversationByTableId:_,hasConversationForQuery:C,findQueryByConversationId:m,createConversation:T,handleGlyphClick:J,shiftQueryKeysForBuffer:R,openChatWindow:B,openOrCreateBlankChatWindow:ne,openBlankChatWindow:q,closeChatWindow:H,openHistoryView:ee,closeHistoryView:te,deleteConversation:$,addMessage:j,updateMessage:D,replaceConversationMessages:L,updateConversationName:V,acceptSuggestion:xt,rejectSuggestion:Ct,persistMessages:w},children:e})},kd=()=>{const e=x.useContext(XT);if(!e)throw new Error("useAIStatus must be used within AIStatusProvider");return e},dm=e=>e!=null&&e!=="Operation has been cancelled",XT=x.createContext(void 0),bo=(e=>(e.Processing="Processing request",e.RetrievingTables="Reviewing tables",e.InvestigatingTable="Investigating table",e.RetrievingDocumentation="Reviewing docs",e.InvestigatingDocs="Investigating docs",e.ValidatingQuery="Validating query",e.GeneratingResponse="Generating response",e.Aborted="Operation has been cancelled",e.Compacting="Compacting conversation",e))(bo||{});const Nwe=({children:e})=>{const{isStreaming:t}=Ad(),{aiAssistantSettings:n}=vc(),[r,i]=x.useState(null),[o,a]=x.useState([]),[s,l]=x.useState(new AbortController),c=x.useRef(t),u=x.useRef(null),d=x.useRef(null),f=x.useRef([]),p=x.useRef(null),g=x.useMemo(()=>kV(n),[n]),h=x.useMemo(()=>Jbe(n),[n]),y=x.useMemo(()=>OV(n),[n]),b=x.useMemo(()=>Zbe(n),[n]),w=x.useMemo(()=>{var O,R;if(!y)return null;const T=Cb(y);return((R=(O=n.providers)==null?void 0:O[T])==null?void 0:R.apiKey)||null},[y,n]),S=x.useMemo(()=>{var j,D,L,V;const T=[],O=((D=(j=n.providers)==null?void 0:j.anthropic)==null?void 0:D.enabledModels)||[],R=((V=(L=n.providers)==null?void 0:L.openai)==null?void 0:V.enabledModels)||[];return T.push(...O,...R),T},[n]),E=x.useCallback((T,O,R)=>{if(T!==null){const j={type:T,args:O||void 0,timestamp:Date.now()};d.current===null||d.current==="Operation has been cancelled"&&T!=="Operation has been cancelled"?f.current=[j]:f.current.push(j),R&&R([...f.current])}a([...f.current]),d.current=T,i(T)},[]),_=x.useCallback(()=>{f.current=[],a([])},[]),m=x.useCallback(()=>{var T;u.current&&d.current!==null&&d.current!=="Operation has been cancelled"&&((T=u.current)==null||T.abort(),l(new AbortController),E("Operation has been cancelled"))},[E]);x.useEffect(()=>{r==="Operation has been cancelled"&&p.current===null?p.current=setTimeout(()=>{f.current=[],a([]),E(null)},2e3):r!=="Operation has been cancelled"&&p.current!==null&&(clearTimeout(p.current),p.current=null)},[r]),x.useEffect(()=>{u.current=s},[s]),x.useEffect(()=>{!c.current&&t?E("Generating response"):c.current&&!t&&d.current!=="Operation has been cancelled"&&E(null),c.current=t},[t]),x.useEffect(()=>()=>{u.current&&u.current.abort()},[]);const C=g?{status:r,setStatus:E,abortController:s,abortOperation:m,clearOperation:_,isConfigured:!0,canUse:h,hasSchemaAccess:b,currentModel:y,apiKey:w,models:S,currentOperation:o}:{status:r,setStatus:E,abortController:s,abortOperation:m,clearOperation:_,isConfigured:!1,canUse:!1,hasSchemaAccess:b,currentModel:y,apiKey:w,models:S,currentOperation:o};return v.jsx(XT.Provider,{value:C,children:e})};function HV(e){if(!e||!e.trim())return null;const t=e.split(" :: ")[0].trim(),n=t.split(/\s+-\s+/);return n.length>=2?{name:n[0].trim(),section:n.slice(1).join(" - ").trim()}:{name:t}}function Rwe(e){return e.map(HV).filter(t=>t!==null)}const VV=" https://questdb.com/docs";async function qV(e){const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch ${e}: ${t.statusText}`);return t.json()}async function WV(e){const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch ${e}: ${t.statusText}`);return t.text()}async function jwe(){const e=`${VV}/web-console/toc-list.json`,t=await qV(e);let n=`# QuestDB Documentation Table of Contents

`;return n+=`## Functions
`,n+=t.functions.join(", ")+`

`,n+=`## Operators
`,n+=t.operators.join(", ")+`

`,n+=`## SQL Syntax & Keywords
`,n+=t.sql.join(", ")+`

`,t.concepts&&(n+=`## Concepts
`,n+=t.concepts.join(", ")+`

`),t.schema&&(n+=`## Schema
`,n+=t.schema.join(", ")+`

`),t.cookbook&&(n+=`## Cookbook SQL Recipes (Complete Working Examples)
`,n+=`These pages provide tested, production-ready SQL. When user's request matches a recipe, use it as the foundation and adapt column/table names and use case to their schema.

`,n+=t.cookbook.join(`
`)+`
`),n}async function Lwe(e,t){var a;const n=`${VV}/web-console/${e}-docs.json`,r=await qV(n);if(!r)return`Unknown category: ${e}`;const i=[],o=new Set;for(const s of t){const l=s.toLowerCase().replace(/[^a-z0-9_]/g,"_"),c=HV(s);if(!c)continue;const u=c.name,d=c.section,f=!!d;for(const p of r){if(f&&u&&d&&p.title.toLowerCase()===u.toLowerCase()){const b=p.headers.find(w=>w.toLowerCase()===d.toLowerCase()||w.toLowerCase().replace(/[^a-z0-9_]/g,"_")===d.toLowerCase().replace(/[^a-z0-9_]/g,"_"));if(b&&!o.has(`${p.path}::${b}`)){o.add(`${p.path}::${b}`);const w=await WV(p.url),S=GV(w,b);if(S){i.push(`### ${p.path} - ${b}

${S}`);continue}}}const g=((a=p.path.split("/").pop())==null?void 0:a.replace(".md","").replace(/-/g,"_"))===l,h=p.title.toLowerCase().replace(/[^a-z0-9_]/g,"_")===l||p.title.toLowerCase()===s.toLowerCase(),y=p.headers.some(b=>b.toLowerCase().replace(/[^a-z0-9_]/g,"_")===l||b.toLowerCase()===s.toLowerCase());if((g||h||y)&&!o.has(p.path)){o.add(p.path);const b=await WV(p.url),w=p.headers.find(S=>S.toLowerCase()===s.toLowerCase()||S.toLowerCase().replace(/[^a-z0-9_]/g,"_")===l);if(w){const S=GV(b,w);if(S){i.push(`### ${p.path} - ${w}

${S}`);continue}}i.push(`### ${p.path}

${b}`)}}}return i.length===0?`No documentation found for: ${t.join(", ")}`:i.join(`

---

`)}function GV(e,t){const n=e.split(`
`);let r=!1;const i=[];for(let o=0;o<n.length;o++){const a=n[o];if(a===`## ${t}`)r=!0,i.push(a);else if(r){if(a.match(/^##?\s/))break;i.push(a)}}return i.length>0?i.join(`
`):null}const Mwe="modulepreload",Pwe=function(e,t){return new URL(e,t).href},KV={},YT=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let o=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};const a=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));r=o(t.map(c=>{if(c=Pwe(c,n),c in KV)return;KV[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(n)for(let p=a.length-1;p>=0;p--){const g=a[p];if(g.href===c&&(!u||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Mwe,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},kb={anthropic:15e4,openai:35e4};async function Dwe(e,t,n,r){const i=t.map(o=>({role:o.role,content:o.content}));return(await e.messages.countTokens({model:r,system:n,messages:i})).input_tokens}let Nb=null;async function Fwe(e,t){if(!Nb){const{Tiktoken:r}=await YT(async()=>{const{Tiktoken:o}=await import("./tiktoken-CTBgcTlC.js").then(a=>a.l);return{Tiktoken:o}},__vite__mapDeps([0,1]),import.meta.url),i=await YT(()=>import("./tiktoken-CTBgcTlC.js").then(o=>o.o),__vite__mapDeps([0,1]),import.meta.url).then(o=>o.default);Nb=new r(i)}let n=0;n+=Nb.encode(t).length,n+=4;for(const r of e)n+=4,n+=Nb.encode(r.content).length;return n+=2,n}async function Uwe(e,t,n,r={}){try{return e==="anthropic"?!r.anthropicClient||!r.model?-1:await Dwe(r.anthropicClient,t,n,r.model):Fwe(t,n)}catch(i){return console.warn("Failed to estimate tokens for conversation, using full messages list.",i),-1}}const XV=`Summarize this SQL assistant conversation in a structured format.
Be extremely concise - use bullet points, not paragraphs.

Required sections:
1. INITIAL REQUEST OF THE USER: What the user initially asked for (1-2 lines max)
2. CURRENT SQL: The final SQL query/queries produced (include actual SQL code) if any
3. KEY DECISIONS: Important choices made during the conversation (bullet points)
4. CURRENT STATE: Where we left off - what was the last thing discussed

Format your response as:
---
## INITIAL REQUEST OF THE USER: [brief description]


## CURRENT SQL:
\`\`\`sql
[final SQL here, or "None yet" if no SQL was generated]
\`\`\`


## KEY DECISIONS:
- [decision 1]
- [decision 2]


## CURRENT STATE:
[what user was working on last]
---

Keep total summary under 1000 words. Focus on SQL code (if any generated) and outcomes, not process details.`;function zwe(e){return`## PREVIOUS CONVERSATION SUMMARY:

${e}


**Continue helping the user from where we left off.**`}function Bwe(e){return e.filter(t=>t.content&&t.content.trim()!=="").map(t=>({role:t.role,content:t.content}))}async function $we(e,t,n,r){const i=da.find(a=>a.provider===t&&a.isTestModel);if(!i)throw new Error("No test model found for provider");const o=`Please summarize the following conversation:

${e.map(a=>`${a.role.toUpperCase()}: ${a.content}`).join(`

`)}`;if(t==="anthropic"&&n){const a=(await n.messages.create({...Wu(i.value),max_tokens:8192,messages:[{role:"user",content:o}],system:XV})).content.find(s=>s.type==="text");return(a==null?void 0:a.type)==="text"?a.text:""}else if(t==="openai"&&r)return(await r.responses.create({...Wu(i.value),instructions:XV,input:o})).output_text||"";throw new Error("No valid client provided for summarization")}async function Hwe(e,t,n,r,i,o={}){const a=[...e,{role:"user",content:r,timestamp:Date.now()}];if(n.length+a.reduce((u,d)=>u+d.content.length,0)<kb[t])return{wasCompacted:!1};const s=Bwe(a),l=await Uwe(t,s,n,{anthropicClient:o.anthropicClient,model:o.model});if(l===-1)return console.error("Failed to estimate tokens for conversation, using full messages list."),{wasCompacted:!1};if(l<=kb[t])return{wasCompacted:!1};if(a.length<3)return{wasCompacted:!1,error:"Messages in this conversation are too long to fit the context limit. Please try using shorter messages in a new chat."};const c=await Vwe(e,t,i,o);return c.wasCompacted?c:{...c,error:"Messages in this conversation are too long to fit the context limit. Please try using shorter messages in a new chat."}}async function Vwe(e,t,n,r={}){if(e.length===0)return{wasCompacted:!1};n();try{const i=await $we(e,t,r.anthropicClient,r.openaiClient);return{compactedMessage:zwe(i),wasCompacted:!0}}catch(i){return console.error("Failed to compact conversation:",i),{wasCompacted:!1,error:"Failed to generate summary for compaction."}}}let YV,QV,JV,QT,ZV,eq,Rb,tq,$g,jb,nq;YV=e=>{let t="";if(t+=`${e.explanation}

`,e.columns.length>0){t+=`## Columns

`,t+=`| Column | Type | Description |
`,t+=`|--------|------|-------------|
`;for(const n of e.columns)t+=`| ${n.name} | \`${n.data_type}\` | ${n.description} |
`;t+=`
`}if(e.storage_details.length>0){t+=`## Storage Details

`;for(const n of e.storage_details)t+=`- ${n}
`}return t},QV={format:{type:"json_schema",name:"explain_format",schema:{type:"object",properties:{explanation:{type:"string"}},required:["explanation"],additionalProperties:!1},strict:!0}},JV={format:{type:"json_schema",name:"fix_sql_format",schema:{type:"object",properties:{sql:{type:["string","null"]},explanation:{type:"string"}},required:["explanation","sql"],additionalProperties:!1},strict:!0}},QT={format:{type:"json_schema",name:"explain_table_schema_format",schema:{type:"object",properties:{explanation:{type:"string"},columns:{type:"array",items:{type:"object",properties:{name:{type:"string"},description:{type:"string"},data_type:{type:"string"}},required:["name","description","data_type"],additionalProperties:!1}},storage_details:{type:["array","null"],items:{type:"string"}}},required:["explanation","columns","storage_details"],additionalProperties:!1},strict:!0}},ZV={format:{type:"json_schema",name:"conversation_response_format",schema:{type:"object",properties:{sql:{type:["string","null"]},explanation:{type:"string"}},required:["sql","explanation"],additionalProperties:!1},strict:!0}},eq=e=>{const t=da.find(n=>n.value===e);return t?t.provider:e.startsWith("claude")?"anthropic":"openai"},Rb=e=>{if(!e.apiKey)throw new Error(`No API key found for ${e.provider}`);return e.provider==="openai"?{provider:e.provider,openai:new fr({apiKey:e.apiKey,dangerouslyAllowBrowser:!0})}:{provider:e.provider,anthropic:new Ma({apiKey:e.apiKey,dangerouslyAllowBrowser:!0})}},tq=[{name:"get_tables",description:"Get a list of all tables and materialized views in the QuestDB database",input_schema:{type:"object",properties:{}}},{name:"get_table_schema",description:"Get the full schema definition (DDL) for a specific table or materialized view",input_schema:{type:"object",properties:{table_name:{type:"string",description:"The name of the table or materialized view to get schema for"}},required:["table_name"]}},{name:"get_table_details",description:"Get the details of a specific table or materialized view",input_schema:{type:"object",properties:{table_name:{type:"string",description:"The name of the table or materialized view to get details for"}},required:["table_name"]}}],$g=[{name:"validate_query",description:"Validate the syntax correctness of a SQL query using QuestDB's SQL syntax validator. All generated SQL queries should be validated using this tool before responding to the user.",input_schema:{type:"object",properties:{query:{type:"string",description:"The SQL query to validate"}},required:["query"]}},{name:"get_questdb_toc",description:"Get a table of contents listing all available QuestDB functions, operators, and SQL keywords. Use this first to see what documentation is available before requesting specific items.",input_schema:{type:"object",properties:{}}},{name:"get_questdb_documentation",description:"Get documentation for specific QuestDB functions, operators, or SQL keywords. This is much more efficient than loading all documentation.",input_schema:{type:"object",properties:{category:{type:"string",enum:["functions","operators","sql","concepts","schema","cookbook"],description:"The category of documentation to retrieve"},items:{type:"array",items:{type:"string"},description:"List of specific docs items in the category. IMPORTANT: Category of these items must match the category parameter. Name of these items should exactly match the entry in the table of contents you get with get_questdb_toc."}},required:["category","items"]}}],jb=[...tq,...$g],nq=e=>e.map(t=>({type:"function",name:t.name,description:t.description,parameters:{...t.input_schema,additionalProperties:!1},strict:!0})),Id=(e,t=!0)=>{if(!e)return"";let n=e.trim();return n.endsWith(";")&&(n=n.slice(0,-1)),Rm(n)+(t?";":"")};function JT(e){return"type"in e&&"message"in e}function qwe(e,t){return{async validateQuery(n){try{const r=await e.validateQuery(n);if("error"in r){const i=r;return{valid:!1,error:String(i.error),position:Number(i.position)}}return{valid:!0}}catch(r){return{valid:!1,error:r instanceof Error?r.message:"Failed to validate query. Something went wrong with the server.",position:-1}}},...t?{getTables(){return Promise.resolve(t.map(n=>({name:n.table_name,type:n.matView?"matview":"table"})))},async getTableSchema(n){var r,i;try{const o=t.find(s=>s.table_name===n);if(!o)return null;const a=o.matView?await e.showMatViewDDL(n):await e.showTableDDL(n);return(a==null?void 0:a.type)===Xn.DQL&&((i=(r=a.data)==null?void 0:r[0])!=null&&i.ddl)?a.data[0].ddl:null}catch(o){return console.error(`Failed to fetch schema for table ${n}:`,o),null}},getTableDetails:async n=>{try{const r=await e.getTableDetails(n);return r.type===Xn.DQL&&r.data.length>0?r.data[0]:null}catch(r){return console.error(`Failed to fetch details for table ${n}:`,r),null}}}:{}}}const Wwe=e=>{const{conversationId:t,assistantMessageId:n,updateMessage:r,setIsStreaming:i}=e;let o=!1,a=null,s=!1,l=null,c=!1;return{onTextChunk:(u,d)=>{c||(o||(o=!0,i(!0)),a=d,s||(s=!0,l=setTimeout(()=>{l=null,s=!1,a!==null&&!c&&r(t,n,{content:a,explanation:a})})))},cleanup:()=>{c=!0,l!==null&&(clearTimeout(l),l=null),a=null}}},Gwe=`
CRITICAL: Always follow this documentation approach:
1. Use get_questdb_toc to see available functions, operators, SQL syntax, AND cookbook recipes
2. If user's request matches a cookbook recipe description, fetch it FIRST - recipes provide complete, tested SQL patterns
3. Use get_questdb_documentation for specific function/syntax details

When a cookbook recipe matches the user's intent, ALWAYS use it as the foundation and adapt column/table names and use case to their schema.`,ZT=e=>`You are a SQL expert coding assistant specializing in QuestDB, a high-performance time-series database. You help users with:
- Generating QuestDB SQL queries from natural language descriptions
- Explaining what QuestDB SQL queries do
- Fixing errors in QuestDB SQL queries
- Refining and modifying existing queries based on user requests

## CRITICAL: Tool and Response Sequencing
Follow this EXACT sequence for every query generation request:

**PHASE 1 - INFORMATION GATHERING (NO TEXT OUTPUT)**
1. Call available tools to gather information if you need, including documentation, schema, and validation tools.
2. Complete ALL information gathering before Phase 2. DO NOT CALL any tool after Phase 2.

**PHASE 2 - FINAL RESPONSE (NO MORE TOOL CALLS)**
3. Return your JSON response with "sql" and "explanation" fields. Always return sql field first, then explanation field.

NEVER interleave phases. NEVER use any tool after starting to return a response.

## When Explaining Queries
- Focus on the business logic and what the query achieves, not the SQL syntax itself
- Pay special attention to QuestDB-specific features:
  - Time-series operations (SAMPLE BY, LATEST ON, designated timestamp columns)
  - Time-based filtering and aggregations
  - Real-time data ingestion patterns
  - Performance optimizations specific to time-series data

## When Generating SQL
- DO NOT return any content before completing your tool calls including documentation and validation tools. You should NOT CALL any tool after starting to return a response.
- Always validate the query in "sql" field using the validate_query tool before returning an explanation or a generated SQL query
- Generate only valid QuestDB SQL syntax referring to the documentation about functions, operators, and SQL keywords
- Use appropriate time-series functions (SAMPLE BY, LATEST ON, etc.) and common table expressions when relevant
- Use \`IN\` with \`today()\`, \`tomorrow()\`, \`yesterday()\` interval functions when relevant
- Follow QuestDB best practices for performance referring to the documentation
- Use proper timestamp handling for time-series data
- Use correct data types and functions specific to QuestDB referring to the documentation. Do not use any word that is not in the documentation.

## When Fixing Queries
- DO NOT return any content before completing your tool calls including documentation and validation tools. You should NOT CALL any tool after starting to return a response.
- Always validate the query in "sql" field using the validate_query tool before returning an explanation or a fixed SQL query
- Analyze the error message carefully to understand what went wrong
- Generate only valid QuestDB SQL syntax by always referring to the documentation about functions, operators, and SQL keywords
- Preserve the original intent of the query while fixing the error
- Follow QuestDB best practices and syntax rules referring to the documentation
- Consider common issues like:
  - Missing or incorrect column names
  - Invalid syntax for time-series operations
  - Data type mismatches
  - Incorrect function usage

## Response Guidelines
- You are working as a coding assistant inside an IDE. Every time you return a query in "sql" field, you provide a suggestion to the user to accept or reject. When the user accepts the suggestion, you are informed and the query in the editor is updated with your suggestion.
- Modify a query by returning "sql" field only if the user asks you to generate, fix, or make changes to the query. If the user does not ask for fixing/changing/generating a query, return null in the "sql" field. Every time you provide a SQL query, the current SQL is updated.
- Provide the "explanation" field if you haven't provided it yet. Explanation should be in GFM (GitHub Flavored Markdown) format. Explanation field is cumulative, every time you provide an explanation, it is added to the previous explanations.

## Tools
- Use the validate_query tool to validate the query in "sql" field before returning a response only if the user asks you to generate, fix, or make changes to the query.
`+(e?`- Use the get_tables tool to retrieve all tables and materialized views in the database instance
- Use the get_table_schema tool to get detailed schema information for a specific table or a materialized view
- Use the get_table_details tool to get detailed information for a specific table or a materialized view. Each property is described in meta functions docs.
`:"")+Gwe,Lb=(e,t,n)=>`You are a SQL expert assistant specializing in QuestDB, a high-performance time-series database.
Briefly explain the following ${n} schema in detail. Include:
- The purpose of the ${n}
- What each column represents and its data type
- Any important properties like WAL enablement, partitioning strategy, designated timestamps
- Any performance or storage considerations

${n} Name: ${e}

Schema:
\`\`\`sql
${t}
\`\`\`

Provide a short explanation that helps developers understand how to use this ${n}.

Return a JSON string with the following structure:
{ "explanation": "The purpose of the table/materialized view/view", "columns": [ { "name": "Column Name", "description": "Column Description", "data_type": "Data Type" } ], "storage_details": ["Storage detail 1", "Storage detail 2"] | "null" for views }`,e5=2,Kwe=1e3;let rq=0;const iq=2e3,oq=async()=>{const e=Date.now()-rq;e<iq&&await new Promise(t=>setTimeout(t,iq-e)),rq=Date.now()},aq=e=>e instanceof fa?e.errorType==="interrupted"||e.errorType==="failed":e instanceof Mb||e instanceof Pb||e instanceof Ma.AuthenticationError||typeof fr<"u"&&e instanceof fr.AuthenticationError||"status"in e&&e.status===429||e instanceof fr.APIUserAbortError||e instanceof Ma.APIUserAbortError,sq=async(e,t,n,r)=>{try{switch(e){case"get_tables":{if(r(bo.RetrievingTables),!n.getTables)return{content:"Error: Schema access is not granted. This tool is not available.",is_error:!0};const i=await n.getTables(),o=1e3;if(i.length>o){const a=i.slice(0,o);return{content:JSON.stringify({tables:a,total_count:i.length,truncated:!0,message:`Showing ${o} of ${i.length} tables. Use get_table_schema with a specific table name to get details if you are interested in a specific table.`},null,2)}}return{content:JSON.stringify(i,null,2)}}case"get_table_schema":{const i=t==null?void 0:t.table_name;return n.getTableSchema?i?(r(bo.InvestigatingTable,{name:i,tableOpType:"schema"}),{content:await n.getTableSchema(i)||`Table '${i}' not found or schema unavailable`}):{content:"Error: table_name parameter is required",is_error:!0}:{content:"Error: Schema access is not granted. This tool is not available.",is_error:!0}}case"get_table_details":{const i=t==null?void 0:t.table_name;if(!n.getTableDetails)return{content:"Error: Schema access is not granted. This tool is not available.",is_error:!0};if(!i)return{content:"Error: table_name parameter is required",is_error:!0};r(bo.InvestigatingTable,{name:i,tableOpType:"details"});const o=await n.getTableDetails(i);return{content:o?JSON.stringify(o,null,2):"Table details not found",is_error:!o}}case"validate_query":{r(bo.ValidatingQuery);const i=t==null?void 0:t.query;if(!i)return{content:"Error: query parameter is required",is_error:!0};const o=await n.validateQuery(i),a={valid:o.valid,error:o.valid?void 0:o.error,position:o.valid?void 0:o.position};return{content:JSON.stringify(a,null,2)}}case"get_questdb_toc":return r(bo.RetrievingDocumentation),{content:await jwe()};case"get_questdb_documentation":{const{category:i,items:o}=t||{};if(!i||!o||!Array.isArray(o))return{content:"Error: category and items parameters are required",is_error:!0};const a=Rwe(o);return a.length>0?r(bo.InvestigatingDocs,{items:a}):r(bo.InvestigatingDocs),{content:await Lwe(i,o)}}default:return{content:`Unknown tool: ${e}`,is_error:!0}}}catch(i){return{content:`Tool execution error: ${i instanceof Error?i.message:"Unknown error"}`,is_error:!0}}};async function lq(e,t,n,r,i,o,a,s,l={inputTokens:0,outputTokens:0},c){var b,w;const u=e.content.filter(S=>S.type==="tool_use"),d=[];if(s!=null&&s.aborted)return{type:"aborted",message:"Operation was cancelled"};for(const S of u)if("name"in S){const E=await sq(S.name,S.input,n,o);d.push({type:"tool_result",tool_use_id:S.id,content:E.content,is_error:E.is_error})}const f=[...r,{role:"assistant",content:e.content},{role:"user",content:d}];e.usage.input_tokens>=kb.anthropic&&d.length>0&&f.push({role:"user",content:"**CRITICAL TOKEN USAGE: The conversation is getting too long to fit the context window. If you are planning to use more tools, summarize your findings to the user first, and wait for user confirmation to continue working on the task.**"});const p={model:i,tools:n.getTables?jb:$g,messages:f,temperature:.3},g=a.format;g.type==="json_schema"&&g.schema&&(p.output_format={type:"json_schema",schema:g.schema});const h=c?await fq(t,p,c,s):await Hg(t,p,s),y={inputTokens:l.inputTokens+(((b=h.usage)==null?void 0:b.input_tokens)||0),outputTokens:l.outputTokens+(((w=h.usage)==null?void 0:w.output_tokens)||0)};return h.stop_reason==="tool_use"?lq(h,t,n,f,i,o,a,s,y,c):{message:h,accumulatedTokens:y}}async function cq(e,t,n,r){var s,l,c;let i="",o="",a=null;try{const u=await e.responses.create({...t,stream:!0});for await(const d of u){if(r!=null&&r.aborted)throw new fa("Operation aborted","interrupted");if(d.type==="error"){const f=d;throw new fa(((s=f.error)==null?void 0:s.message)||"Stream error occurred","failed",d)}if(d.type==="response.failed"){const f=d;throw new fa(((c=(l=f.response)==null?void 0:l.error)==null?void 0:c.message)||"Provider failed to return a response","failed",d)}if(d.type==="response.output_text.delta"){i+=d.delta;const f=uq(i);if(f!==o){const p=f.slice(o.length);o=f,n.onTextChunk(p,f)}}d.type==="response.completed"&&(a=d.response)}}catch(u){throw u instanceof fa?u:r!=null&&r.aborted||u instanceof fr.APIUserAbortError?new fa("Operation aborted","interrupted"):new fa(u instanceof Error?u.message:"Stream interrupted","network",u)}if(!a)throw new fa("Provider failed to return a response","failed");return a}const Xwe=e=>{const t=[];for(const n of e.output)if((n==null?void 0:n.type)==="function_call"){const r=typeof n.arguments=="string"?Qwe(n.arguments):n.arguments||{};t.push({id:n.id,name:n.name,arguments:r,call_id:n.call_id})}return t},Ywe=e=>{const t=e.output||[];if(t.find(n=>n.type==="message"&&n.content.some(r=>r.type==="refusal")))return{type:"refusal",message:"The model refused to generate a response for this request."};for(const n of t)if(n.type==="message"&&n.content){for(const r of n.content)if(r.type==="output_text"&&"text"in r)return{type:"text",message:r.text}}return{type:"text",message:""}},Qwe=e=>{try{return JSON.parse(e)}catch{return{}}};function uq(e){const t=e.match(/"explanation"\s*:\s*"((?:[^"\\]|\\.)*)/);return t?t[1].replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\"/g,'"').replace(/\\\\/g,"\\"):""}const dq=async(e,t,n)=>{let r=0;for(;r<=e5;)try{return n!=null&&n.aborted?{type:"aborted",message:"Operation was cancelled"}:await e()}catch(i){if(console.error("AI Assistant error:",i instanceof Error?i.message:String(i),aq(i)?"Non-retryable error.":"Remaining retries: "+(e5-r)+"."),r++,r>e5||aq(i))return txe(i,t);await new Promise(o=>setTimeout(o,Kwe*r))}return t(null),{type:"unknown",message:`Failed to get response after ${r} retries`}},Jwe=async({openai:e,model:t,config:n,modelToolsClient:r,setStatus:i,abortSignal:o,streaming:a})=>{var y,b,w,S,E;let s=[];if(n.conversationHistory&&n.conversationHistory.length>0){const _=n.conversationHistory.filter(m=>m.content&&m.content.trim()!=="");for(const m of _)s.push({role:m.role,content:m.content})}s.push({role:"user",content:n.initialUserContent});const l=!!r.getTables,c=nq(l?jb:$g);let u=0,d=0;const f={...Wu(t),instructions:n.systemInstructions,input:s,tools:c,text:n.responseFormat};let p=a?await cq(e,f,a,o):await e.responses.create(f);for(s=[...s,...p.output],u+=((y=p.usage)==null?void 0:y.input_tokens)??0,d+=((b=p.usage)==null?void 0:b.output_tokens)??0;;){if(o!=null&&o.aborted)return{type:"aborted",message:"Operation was cancelled"};const _=Xwe(p);if(!_.length)break;const m=[];for(const T of _){const O=await sq(T.name,T.arguments,r,i);m.push({type:"function_call_output",call_id:T.call_id,output:O.content})}s=[...s,...m],(((w=p.usage)==null?void 0:w.input_tokens)??0)>=kb.openai&&m.length>0&&s.push({role:"user",content:"**CRITICAL TOKEN USAGE: The conversation is getting too long to fit the context window. If you are planning to use more tools, summarize your findings to the user first, and wait for user confirmation to continue working on the task.**"});const C={...Wu(t),instructions:n.systemInstructions,input:s,tools:c,text:n.responseFormat};p=a?await cq(e,C,a,o):await e.responses.create(C),s=[...s,...p.output],u+=((S=p.usage)==null?void 0:S.input_tokens)??0,d+=((E=p.usage)==null?void 0:E.output_tokens)??0}if(o!=null&&o.aborted)return{type:"aborted",message:"Operation was cancelled"};const g=Ywe(p);if(g.type==="refusal")return{type:"unknown",message:g.message};const h=g.message;try{const _=JSON.parse(h);i(null);const m={..._,tokenUsage:{inputTokens:u,outputTokens:d}};return n.postProcess?{...n.postProcess(_),tokenUsage:{inputTokens:u,outputTokens:d}}:m}catch{return i(null),{type:"unknown",message:"Failed to parse assistant response."}}},Zwe=async({anthropic:e,model:t,config:n,modelToolsClient:r,setStatus:i,abortSignal:o,streaming:a})=>{var h,y,b;const s=[];if(n.conversationHistory&&n.conversationHistory.length>0){const w=n.conversationHistory.filter(S=>S.content&&S.content.trim()!=="");for(const S of w)s.push({role:S.role,content:S.content})}s.push({role:"user",content:n.initialUserContent});const l=!!r.getTables,c={model:t,system:n.systemInstructions,tools:l?jb:$g,messages:s,temperature:.3};if((h=n.responseFormat)!=null&&h.format){const w=n.responseFormat.format;w.type==="json_schema"&&w.schema&&(c.output_format={type:"json_schema",schema:w.schema})}const u=a?await fq(e,c,a,o):await Hg(e,c,o);let d=((y=u.usage)==null?void 0:y.input_tokens)||0,f=((b=u.usage)==null?void 0:b.output_tokens)||0,p;if(u.stop_reason==="tool_use"){const w=await lq(u,e,r,s,t,i,n.responseFormat,o,{inputTokens:0,outputTokens:0},a);if("type"in w&&"message"in w)return w;const S=w;p=S.message,d+=S.accumulatedTokens.inputTokens,f+=S.accumulatedTokens.outputTokens}else p=u;if(o!=null&&o.aborted)return{type:"aborted",message:"Operation was cancelled"};const g=p.content.find(w=>w.type==="text");if(!g||!("text"in g))return i(null),{type:"unknown",message:"No text response received from assistant."};try{const w=JSON.parse(g.text);i(null);const S={...w,tokenUsage:{inputTokens:d,outputTokens:f}};return n.postProcess?{...n.postProcess(w),tokenUsage:{inputTokens:d,outputTokens:f}}:S}catch{return i(null),{type:"unknown",message:"Failed to parse assistant response."}}},exe=async({tableName:e,schema:t,kindLabel:n,settings:r,setStatus:i,abortSignal:o})=>!r.apiKey||!r.model?{type:"invalid_key",message:"API key is missing"}:!e||!t?{type:"unknown",message:"Cannot find schema for the table"}:(await oq(),i(bo.Processing),dq(async()=>{const a=Rb(r);if(a.provider==="openai"){const f=Lb(e,t,n),p=await a.openai.responses.parse({...Wu(r.model),instructions:Lb(e,t,n),input:[{role:"user",content:f}],text:QT},{signal:o}),g=p.output_parsed;if(i(null),!g)return{type:"unknown",message:"Failed to parse assistant response."};const h=p.usage;return{explanation:g.explanation||"",columns:g.columns||[],storage_details:g.storage_details||[],tokenUsage:h?{inputTokens:h.input_tokens,outputTokens:h.output_tokens}:void 0}}const s=a.anthropic,l={model:Wu(r.model).model,messages:[{role:"user",content:Lb(e,t,n)}],temperature:.3},c=QT.format;l.output_format={type:"json_schema",schema:c.schema};const u=await Hg(s,l,o),d=u.content.find(f=>f.type==="text");if(!d||!("text"in d))return i(null),{type:"unknown",message:"No text response received from assistant."};try{const f=JSON.parse(d.text);i(null);const p=u.usage;return{explanation:f.explanation||"",columns:f.columns||[],storage_details:f.storage_details||[],tokenUsage:p?{inputTokens:p.input_tokens,outputTokens:p.output_tokens}:void 0}}catch{return i(null),{type:"unknown",message:"Failed to parse assistant response."}}},i,o));class Mb extends Error{constructor(t){super(t),this.name="RefusalError"}}class Pb extends Error{constructor(t){super(t),this.name="MaxTokensError"}}class fa extends Error{constructor(t,n,r){super(t),this.errorType=n,this.originalError=r,this.name="StreamingError"}}async function Hg(e,t,n){const r=await e.messages.create({...t,stream:!1,max_tokens:t.max_tokens??8192},{headers:{"anthropic-beta":"structured-outputs-2025-11-13"},signal:n});if(r.stop_reason==="refusal")throw new Mb("The model refused to generate a response for this request.");if(r.stop_reason==="max_tokens")throw new Pb("The response exceeded the maximum token limit. Please try again with a different prompt or model.");return r}async function fq(e,t,n,r){var l,c;let i="",o="";const a=e.messages.stream({...t,max_tokens:t.max_tokens??8192},{headers:{"anthropic-beta":"structured-outputs-2025-11-13"},signal:r});try{for await(const u of a){if(r!=null&&r.aborted)throw new fa("Operation aborted","interrupted");if(u.type==="error"){const d=u,f=(l=d.error)==null?void 0:l.type,p=((c=d.error)==null?void 0:c.message)||"Stream error";throw f==="overloaded_error"?new fa("Service is temporarily overloaded. Please try again.","failed",u):new fa(p,"failed",u)}if(u.type==="content_block_delta"&&u.delta.type==="text_delta"){i+=u.delta.text;const d=uq(i);if(d!==o){const f=d.slice(o.length);o=d,n.onTextChunk(f,d)}}}}catch(u){throw u instanceof fa?u:r!=null&&r.aborted?new fa("Operation aborted","interrupted"):new fa(u instanceof Error?u.message:"Stream interrupted","network",u)}let s;try{s=await a.finalMessage()}catch(u){throw r!=null&&r.aborted||u instanceof Ma.APIUserAbortError?new fa("Operation aborted","interrupted"):new fa("Failed to get final message from the provider","network",u)}if(s.stop_reason==="refusal")throw new Mb("The model refused to generate a response for this request.");if(s.stop_reason==="max_tokens")throw new Pb("The response exceeded the maximum token limit. Please try again with a different prompt or model.");return s}function txe(e,t){if(e instanceof fr.APIUserAbortError||e instanceof Ma.APIUserAbortError||e instanceof fa&&e.errorType==="interrupted")return t(bo.Aborted),{type:"aborted",message:"Operation was cancelled"};if(t(null),e instanceof Mb)return{type:"unknown",message:"The model refused to generate a response for this request.",details:e.message};if(e instanceof Pb)return{type:"unknown",message:"The response exceeded the maximum token limit for the selected model. Please try again with a different prompt or model.",details:e.message};if(e instanceof fa)switch(e.errorType){case"network":return{type:"network",message:"Network error during streaming. Please check your connection.",details:e.message};case"failed":default:return{type:"unknown",message:e.message||"Stream failed unexpectedly.",details:e.originalError instanceof Error?e.originalError.message:void 0}}return e instanceof Ma.AuthenticationError?{type:"invalid_key",message:"Invalid API key. Please check your Anthropic API key.",details:e.message}:e instanceof Ma.RateLimitError?{type:"rate_limit",message:"Rate limit exceeded. Please try again later.",details:e.message}:e instanceof Ma.APIConnectionError?{type:"network",message:"Network error. Please check your internet connection.",details:e.message}:e instanceof Ma.APIError?{type:"unknown",message:`Anthropic API error: ${e.message}`}:e instanceof fr.APIError?{type:"unknown",message:`OpenAI API error: ${e.message}`}:{type:"unknown",message:"An unexpected error occurred. Please try again.",details:e}}let t5,n5,hq,pq,mq,r5,gq;t5=async(e,t)=>{var n;try{if(eq(t)==="anthropic"){const r=new Ma({apiKey:e,dangerouslyAllowBrowser:!0});await Hg(r,{model:t,messages:[{role:"user",content:"ping"}]})}else await new fr({apiKey:e,dangerouslyAllowBrowser:!0}).responses.create({model:Wu(t).model,input:[{role:"user",content:"ping"}],max_output_tokens:16});return{valid:!0}}catch(r){if(r instanceof Ma.AuthenticationError)return{valid:!1,error:"Invalid API key"};if(r instanceof Ma.RateLimitError)return{valid:!0};const i=(r==null?void 0:r.status)||((n=r==null?void 0:r.error)==null?void 0:n.status);return i===401?{valid:!1,error:"Invalid API key"}:i===429?{valid:!0}:{valid:!1,error:r instanceof Error?r.message:"Failed to validate API key"}}},n5={format:{type:"json_schema",name:"chat_title_format",schema:{type:"object",properties:{title:{type:"string"}},required:["title"],additionalProperties:!1},strict:!0}},hq=async({firstUserMessage:e,settings:t})=>{var n;if(!t.apiKey||!t.model)return null;try{const r=Rb(t),i=`Generate a concise chat title (max 30 characters) for this conversation with QuestDB AI Assistant. The title should capture the main topic or intent.

User's message:
${e}

Return a JSON object with the following structure: { "title": "Your title here" }`;if(r.provider==="openai"){const l=await r.openai.responses.create({...Wu(t.model),input:[{role:"user",content:i}],text:n5,max_output_tokens:100});try{return JSON.parse(l.output_text).title||null}catch{return null}}const o={model:t.model,messages:[{role:"user",content:i}],max_tokens:100,temperature:.3},a=n5.format;o.output_format={type:"json_schema",schema:a.schema};const s=(await Hg(r.anthropic,o)).content.find(l=>l.type==="text");if(s&&"text"in s)try{return((n=JSON.parse(s.text).title)==null?void 0:n.slice(0,40))||null}catch{return null}return null}catch(r){return console.warn("Failed to generate chat title:",r),null}},pq=async({userMessage:e,conversationHistory:t,currentSQL:n,settings:r,modelToolsClient:i,setStatus:o,abortSignal:a,operation:s="followup",streaming:l})=>{if(!r.apiKey||!r.model)return{type:"invalid_key",message:"API key or model is missing"};if(await oq(),a==null?void 0:a.aborted)return{type:"aborted",message:"Operation was cancelled"};const c={explain:QV,fix:JV,followup:ZV}[s];return dq(async()=>{const u=Rb(r),d=!!i.getTables,f=ZT(d);let p=t,g=!1;if(o(bo.Processing),t.length>0){const b=await Hwe(t,r.provider,f,e,()=>o(bo.Compacting),{anthropicClient:u.provider==="anthropic"?u.anthropic:void 0,openaiClient:u.provider==="openai"?u.openai:void 0,model:r.model});if("error"in b)return o(null),console.error("Failed to compact conversation:",b.error),{type:"unknown",message:b.error};b.wasCompacted&&(p=[...t.map(w=>({...w,isCompacted:!0})),{id:crypto.randomUUID(),role:"assistant",content:b.compactedMessage,hideFromUI:!0,timestamp:Date.now()}],g=!0)}o(bo.Processing);const h=b=>({sql:(b==null?void 0:b.sql)===null?null:b!=null&&b.sql?Id(b.sql):n||"",explanation:(b==null?void 0:b.explanation)||"",tokenUsage:b.tokenUsage});if(u.provider==="openai"){const b=await Jwe({openai:u.openai,model:r.model,config:{systemInstructions:ZT(d),initialUserContent:e,conversationHistory:p.filter(w=>!w.isCompacted),responseFormat:c,postProcess:w=>({sql:(w==null?void 0:w.sql)===null?null:w!=null&&w.sql?Id(w.sql):n||"",explanation:(w==null?void 0:w.explanation)||"",tokenUsage:w.tokenUsage})},modelToolsClient:i,setStatus:o,abortSignal:a,streaming:l});return JT(b)?b:{...h(b),compactedConversationHistory:g?p:void 0}}const y=await Zwe({anthropic:u.anthropic,model:r.model,config:{systemInstructions:ZT(d),initialUserContent:e,conversationHistory:p.filter(b=>!b.isCompacted),responseFormat:c,postProcess:b=>({sql:(b==null?void 0:b.sql)===null?null:b!=null&&b.sql?Id(b.sql):n||"",explanation:(b==null?void 0:b.explanation)||"",tokenUsage:b.tokenUsage})},modelToolsClient:i,setStatus:o,abortSignal:a,streaming:l});return JT(y)?y:{...h(y),compactedConversationHistory:g?p:void 0}},o,a)},mq={editorRef:{current:null},monacoRef:{current:null},insertTextAtCursor:()=>{},appendQuery:()=>{},tabsDisabled:!1,setTabsDisabled:()=>{},buffers:[],activeBuffer:qd,setActiveBuffer:()=>Promise.resolve(),addBuffer:()=>Promise.resolve(qd),deleteBuffer:()=>Promise.resolve(),archiveBuffer:()=>Promise.resolve(),updateBuffer:()=>Promise.resolve(),updateBuffersPositions:()=>Promise.resolve(),editorReadyTrigger:()=>{},setTemporaryBuffer:()=>Promise.resolve(),temporaryBufferId:null,queryParamProcessedRef:{current:!1},isNavigatingFromSearchRef:{current:!1},showPreviewBuffer:()=>Promise.resolve(),closePreviewBuffer:()=>Promise.resolve(),applyAISQLChange:()=>({success:!1}),executionRefs:{current:{}},cleanupExecutionRefs:()=>{},highlightQuery:()=>Promise.resolve(!1)},r5=x.createContext(mq),gq=({children:e})=>{var z;const t=x.useRef(null),n=x.useRef(null),r=x.useRef({}),[i,o]=x.useState(null),[a,s]=x.useState(!1),l=Tb(La.getAll,[]),c=x.useMemo(()=>{if(l)return l.map(B=>({...B,isTemporary:B.id===i}))},[l,i]),u=(z=Tb(()=>La.getActiveId(),[]))==null?void 0:z.value,[d,f]=x.useState(qd),p=x.useRef(null),g=x.useRef(!1),h=x.useRef(!1),y=x.useRef(!1),b=x.useCallback(()=>{if(!c)return 0;const B=c.filter(H=>!H.archived||H.isTemporary);return Math.max(...B.map(H=>H.position),-1)+1},[c]),w=x.useCallback(B=>{delete r.current[B.toString()]},[]),S=x.useCallback(async(B,H)=>{var J;try{const ne=(J=await La.getActiveId())==null?void 0:J.value;if(ne&&B.id===ne){f(B);return}if(await La.setActiveId(B.id),f(B),H!=null&&H.fromSearch&&(h.current=!0),t.current&&n.current){const q=t.current.getModel();q&&q.dispose();const ee=n.current.editor.createModel(B.value,ds);t.current.setModel(ee),Ny(n.current,t.current),B.editorViewState&&t.current.restoreViewState(B.editorViewState),(H==null?void 0:H.focus)!==!1&&t.current.focus()}}catch(ne){console.warn("Error setting active buffer:",ne)}},[]),E=x.useCallback(async(B,H)=>{const J=await La.getById(H);if(!J||J.archived)return!1;const{queryText:ne,startOffset:q,endOffset:ee}=Od(B),te=J.value.slice(q,ee);if(Ui(te)!==ne)return!1;const $=c==null?void 0:c.find(Ie=>Ie.id===H);if($&&d.id!==H&&(await S($),await new Promise(Ie=>setTimeout(Ie,100))),!t.current)return!1;const ae=t.current.getModel();if(!ae)return!1;const ue=ae.getPositionAt(q),me=ae.getPositionAt(ee);t.current.revealPositionNearTop(ue),t.current.setPosition(ue);const Fe=ae.deltaDecorations([],[{range:{startLineNumber:ue.lineNumber,startColumn:ue.column,endLineNumber:me.lineNumber,endColumn:me.column},options:{isWholeLine:!1,className:"aiQueryHighlight"}}]);return t.current.focus(),setTimeout(()=>{ae.isDisposed()||ae.deltaDecorations(Fe,[])},1e3),!0},[c,d.id,S]),_=x.useCallback(async(B,{shouldSelectAll:H=!1}={})=>{const J=eme(B!=null&&B.metricsViewState?Ly.METRICS:Ly.SQL),ne=(await ai.buffers.filter(ae=>ae.label.startsWith(J.label)&&(B!=null&&B.metricsViewState)?ae.metricsViewState!==void 0:!0).toArray()).map(ae=>ae.label.slice(J.label.length+1)).filter(Boolean).map(ae=>parseInt(ae,10)).sort(),q=()=>{for(let ae=0;ae<=ne.length;ae++){const ue=ae+1;if(!ne.includes(ue))return ue}},ee=c?c.filter(ae=>!ae.archived&&!ae.isTemporary).length:0,te=Lm({...B,label:(B==null?void 0:B.label)??`${J.label} ${q()}`,position:ee}),$=await ai.buffers.add(te);if(await S(te,{focus:!0}),H&&t.current){const ae=t.current.getModel();ae&&t.current.setSelection(ae.getFullModelRange())}return{id:$,...te}},[c,S]),m=x.useCallback(async B=>{const H=c==null?void 0:c.find(q=>q.isPreviewBuffer&&!q.archived),J=B.type==="diff"?{type:"diff",original:B.original,modified:B.modified,conversationId:B.conversationId}:{type:"code",value:B.value},ne=B.type==="diff"?"AI Suggestion":"Preview";if(H&&H.id){await La.update(H.id,{previewContent:J,label:ne});const q={...H,previewContent:J,label:ne};await S(q)}else{const q=c?c.filter(ee=>!ee.archived&&!ee.isTemporary).length:0;await _({label:ne,value:"",isPreviewBuffer:!0,position:q,previewContent:J})}},[c,S,_]);if(x.useEffect(()=>{if(!y.current&&c&&u){const B=(c==null?void 0:c.find(J=>J.id===u))??c[0],H=c.filter(J=>!J.archived);f(B.archived?H[0]??qd:B),y.current=!0}},[c,u]),!c||!u||d===qd)return null;const C=async(B,H,J=!1)=>{var Fe;const ne=(Fe=t.current)==null?void 0:Fe.saveViewState(),q=await La.getBufferTypeById(B);let ee=null;H&&"isTemporary"in H&&(H.isTemporary?o(B):B===i&&((H==null?void 0:H.archived)===!1?ee=b():ee=-1,o(null)));const{isTemporary:te,...$}=H||{},ae={...$,...ee!==null?{position:ee}:{}};Object.keys(ae).length>0&&await La.update(B,{...ae,...ne&&q===Ly.SQL?{editorViewState:ne}:{}}),J&&await T(B),p.current&&window.clearTimeout(p.current);const ue=["value","label","archived"],me=Object.keys(H||{});ue.some(Ie=>me.includes(Ie))&&(p.current=window.setTimeout(()=>{const Ie=!(me.length===1&&me[0]==="value"),Ee=me.includes("value");Bn.publish(zn.BUFFERS_UPDATED,{type:"update",metaUpdate:Ie,contentUpdate:Ee,bufferId:B}),p.current=null},300))},T=async B=>{var J,ne;const H=(J=await La.getActiveId())==null?void 0:J.value;if(typeof H<"u"&&H===B){const q=await ai.buffers.toCollection().filter(ee=>!ee.archived&&!(ee.id===i||ee.id===B)).last();await S(q??qd)}else(ne=t.current)==null||ne.focus()},O=async B=>{await C(B,{archived:!0,archivedAt:new Date().getTime(),position:-1}),await T(B),Bn.publish(zn.BUFFERS_UPDATED,{type:"archive",bufferId:B})},R=async(B,H=!0)=>{await La.delete(B),w(B),H&&await T(B),Bn.publish(zn.BUFFERS_UPDATED,{type:"delete",bufferId:B})},j=async B=>{i!==null&&i!==B.id&&await C(i,{isTemporary:!1}),await C(B.id,{isTemporary:!0}),await S({...B,isTemporary:!0},{focus:!1,fromSearch:!0})},D=async B=>{await ai.transaction("rw",ai.buffers,async()=>{for(const{id:H,position:J}of B)await ai.buffers.update(H,{position:J})})},L=async()=>{const B=c.find(H=>H.isPreviewBuffer&&!H.archived);B&&B.id&&await R(B.id,!0)},V=B=>{const{newSQL:H,queryKey:J}=B;if(!t.current)return{success:!1};const ne=t.current.getModel();if(!ne)return{success:!1};let q=0,ee=null,te=!1;if(J)try{const{queryText:xt,startOffset:Ct,endOffset:We}=Od(J),Oe=ne.getValue(),ye=Oe.slice(Ct,We),Ve=Ui(ye),Xe=Ui(xt);if(Ve===Xe){const se=ne.getPositionAt(Ct);let we=We;const Le=Oe.slice(We,We+10).match(/^(\s*;)/);Le&&(we=We+Le[0].length);const ot=ne.getPositionAt(we);ee={startLineNumber:se.lineNumber,startColumn:se.column,endLineNumber:ot.lineNumber,endColumn:ot.column},q=Ct,te=!0}}catch{}if(!te||!ee){const xt=ne.getLineCount(),Ct=ne.getLineMaxColumn(xt);q=ne.getOffsetAt({lineNumber:xt,column:Ct}),ee={startLineNumber:xt,startColumn:Ct,endLineNumber:xt,endColumn:Ct}}const $=Id(H),ae=ee.startColumn===ee.endColumn&&ee.startLineNumber===ee.endLineNumber;t.current.executeEdits("accept-ai-change",[{range:ee,text:ae?`
`+$+`
`:$,forceMoveMarkers:!0}]);const ue=t.current.getModel();if(!ue)return{success:!1};const me=ae?q+1:q,Fe=Ui($),Ie=me+Fe.length,Ee=ue.getPositionAt(me),He=ue.getPositionAt(Ie),it={startLineNumber:Ee.lineNumber,startColumn:Ee.column,endLineNumber:He.lineNumber,endColumn:He.column},St=ue.deltaDecorations([],[{range:it,options:{isWholeLine:!1,className:"aiQueryHighlight"}}]);return t.current.setPosition(Ee),t.current.revealPositionNearTop(Ee),t.current.focus(),setTimeout(()=>{ue.isDisposed()||ue.deltaDecorations(St,[])},1e3),{success:!0,finalQueryKey:Ql(Fe,me),queryStartOffset:me}};return v.jsx(r5.Provider,{value:{editorRef:t,monacoRef:n,insertTextAtCursor:B=>{t!=null&&t.current&&wD(t.current,B)},appendQuery:(B,H)=>{t!=null&&t.current&&ky(t.current,B,H)},tabsDisabled:a,setTabsDisabled:s,buffers:c,activeBuffer:d,setActiveBuffer:S,addBuffer:_,deleteBuffer:R,archiveBuffer:O,updateBuffer:C,updateBuffersPositions:D,setTemporaryBuffer:j,temporaryBufferId:i,queryParamProcessedRef:g,isNavigatingFromSearchRef:h,showPreviewBuffer:m,closePreviewBuffer:L,applyAISQLChange:V,executionRefs:r,cleanupExecutionRefs:w,highlightQuery:E,editorReadyTrigger:B=>{!d.isTemporary&&!h.current&&B.focus(),d.editorViewState&&B.restoreViewState(d.editorViewState)}},children:e})},Ys=()=>x.useContext(r5);var ht=typeof window<"u"?window:void 0,Ao=typeof globalThis<"u"?globalThis:ht;typeof self>"u"&&(Ao.self=Ao),typeof File>"u"&&(Ao.File=function(){});var yq=Array.prototype,vq=yq.forEach,bq=yq.indexOf,Pa=Ao==null?void 0:Ao.navigator,sn=Ao==null?void 0:Ao.document,$o=Ao==null?void 0:Ao.location,i5=Ao==null?void 0:Ao.fetch,o5=Ao!=null&&Ao.XMLHttpRequest&&"withCredentials"in new Ao.XMLHttpRequest?Ao.XMLHttpRequest:void 0,wq=Ao==null?void 0:Ao.AbortController,Da=Pa==null?void 0:Pa.userAgent,lr=ht??{},ou={DEBUG:!1,LIB_VERSION:"1.298.1"};function xq(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function _q(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(l){xq(o,r,i,a,s,"next",l)}function s(l){xq(o,r,i,a,s,"throw",l)}a(void 0)}))}}function Nn(){return Nn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nn.apply(null,arguments)}function Eq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var nxe=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],Sq=function(e,t){if(t===void 0&&(t=[]),!e)return!1;var n=e.toLowerCase();return nxe.concat(t).some((r=>{var i=r.toLowerCase();return n.indexOf(i)!==-1}))},rxe=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];function Br(e,t){return e.indexOf(t)!==-1}var Db=function(e){return e.trim()},a5=function(e){return e.replace(/^\$/,"")},ixe=Array.isArray,Cq=Object.prototype,Tq=Cq.hasOwnProperty,Fb=Cq.toString,Xi=ixe||function(e){return Fb.call(e)==="[object Array]"},Yu=e=>typeof e=="function",Sa=e=>e===Object(e)&&!Xi(e),qh=e=>{if(Sa(e)){for(var t in e)if(Tq.call(e,t))return!1;return!0}return!1},gn=e=>e===void 0,Jo=e=>Fb.call(e)=="[object String]",s5=e=>Jo(e)&&e.trim().length===0,au=e=>e===null,io=e=>gn(e)||au(e),wc=e=>Fb.call(e)=="[object Number]",Qu=e=>Fb.call(e)==="[object Boolean]",oxe=e=>e instanceof FormData,axe=e=>Br(rxe,e);function l5(e){return e===null||typeof e!="object"}function Ub(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function Aq(e){return!gn(Event)&&(function(t,n){try{return t instanceof n}catch{return!1}})(e,Event)}var sxe=[!0,"true",1,"1","yes"],c5=e=>Br(sxe,e),lxe=[!1,"false",0,"0","no"];function xc(e,t,n,r,i){return t>n&&(r.warn("min cannot be greater than max."),t=n),wc(e)?e>n?(r.warn(" cannot be  greater than max: "+n+". Using max value instead."),n):e<t?(r.warn(" cannot be less than min: "+t+". Using min value instead."),t):e:(r.warn(" must be a number. using max or fallback. max: "+n+", fallback: "+i),xc(i||n,t,n,r))}let cxe=class{constructor(e){this.t={},this.i=e.i,this.o=xc(e.bucketSize,0,100,e.h),this.m=xc(e.refillRate,0,this.o,e.h),this.$=xc(e.refillInterval,0,864e5,e.h)}S(e,t){var n=t-e.lastAccess,r=Math.floor(n/this.$);if(r>0){var i=r*this.m;e.tokens=Math.min(e.tokens+i,this.o),e.lastAccess=e.lastAccess+r*this.$}}consumeRateLimit(e){var t,n=Date.now(),r=String(e),i=this.t[r];return i?this.S(i,n):(i={tokens:this.o,lastAccess:n},this.t[r]=i),i.tokens===0||(i.tokens--,i.tokens===0&&((t=this.i)==null||t.call(this,e)),i.tokens===0)}stop(){this.t={}}};var zb,Iq,u5,uxe=e=>e instanceof Error;function dxe(e){var t=globalThis._posthogChunkIds;if(t){var n=Object.keys(t);return u5&&n.length===Iq||(Iq=n.length,u5=n.reduce(((r,i)=>{zb||(zb={});var o=zb[i];if(o)r[o[0]]=o[1];else for(var a=e(i),s=a.length-1;s>=0;s--){var l=a[s],c=l==null?void 0:l.filename,u=t[i];if(c&&u){r[c]=u,zb[i]=[c,u];break}}return r}),{})),u5}}let fxe=class{constructor(e,t,n){n===void 0&&(n=[]),this.coercers=e,this.stackParser=t,this.modifiers=n}buildFromUnknown(e,t){t===void 0&&(t={});var n=t&&t.mechanism||{handled:!0,type:"generic"},r=this.buildCoercingContext(n,t,0).apply(e),i=this.buildParsingContext(),o=this.parseStacktrace(r,i);return{$exception_list:this.convertToExceptionList(o,n),$exception_level:"error"}}modifyFrames(e){var t=this;return _q((function*(){for(var n of e)n.stacktrace&&n.stacktrace.frames&&Xi(n.stacktrace.frames)&&(n.stacktrace.frames=yield t.applyModifiers(n.stacktrace.frames));return e}))()}coerceFallback(e){var t;return{type:"Error",value:"Unknown error",stack:(t=e.syntheticException)==null?void 0:t.stack,synthetic:!0}}parseStacktrace(e,t){var n,r;return e.cause!=null&&(n=this.parseStacktrace(e.cause,t)),e.stack!=""&&e.stack!=null&&(r=this.applyChunkIds(this.stackParser(e.stack,e.synthetic?1:0),t.chunkIdMap)),Nn({},e,{cause:n,stack:r})}applyChunkIds(e,t){return e.map((n=>(n.filename&&t&&(n.chunk_id=t[n.filename]),n)))}applyCoercers(e,t){for(var n of this.coercers)if(n.match(e))return n.coerce(e,t);return this.coerceFallback(t)}applyModifiers(e){var t=this;return _q((function*(){var n=e;for(var r of t.modifiers)n=yield r(n);return n}))()}convertToExceptionList(e,t){var n,r,i,o={type:e.type,value:e.value,mechanism:{type:(n=t.type)!==null&&n!==void 0?n:"generic",handled:(r=t.handled)===null||r===void 0||r,synthetic:(i=e.synthetic)!==null&&i!==void 0&&i}};e.stack&&(o.stacktrace={type:"raw",frames:e.stack});var a=[o];return e.cause!=null&&a.push(...this.convertToExceptionList(e.cause,Nn({},t,{handled:!0}))),a}buildParsingContext(){return{chunkIdMap:dxe(this.stackParser)}}buildCoercingContext(e,t,n){n===void 0&&(n=0);var r=(i,o)=>{if(o<=4){var a=this.buildCoercingContext(e,t,o);return this.applyCoercers(i,a)}};return Nn({},t,{syntheticException:n==0?t.syntheticException:void 0,mechanism:e,apply:i=>r(i,n),next:i=>r(i,n+1)})}};var Wh="?";function d5(e,t,n,r,i){var o={platform:e,filename:t,function:n==="<anonymous>"?Wh:n,in_app:!0};return gn(r)||(o.lineno=r),gn(i)||(o.colno=i),o}var Oq=(e,t)=>{var n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Wh,n?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]},hxe=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,pxe=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,mxe=/\((\S*)(?::(\d+))(?::(\d+))\)/,gxe=(e,t)=>{var n=hxe.exec(e);if(n){var[,r,i,o]=n;return d5(t,r,Wh,+i,+o)}var a=pxe.exec(e);if(a){if(a[2]&&a[2].indexOf("eval")===0){var s=mxe.exec(a[2]);s&&(a[2]=s[1],a[3]=s[2],a[4]=s[3])}var[l,c]=Oq(a[1]||Wh,a[2]);return d5(t,c,l,a[3]?+a[3]:void 0,a[4]?+a[4]:void 0)}},yxe=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,vxe=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,bxe=(e,t)=>{var n=yxe.exec(e);if(n){if(n[3]&&n[3].indexOf(" > eval")>-1){var r=vxe.exec(n[3]);r&&(n[1]=n[1]||"eval",n[3]=r[1],n[4]=r[2],n[5]="")}var i=n[3],o=n[1]||Wh;return[o,i]=Oq(o,i),d5(t,i,o,n[4]?+n[4]:void 0,n[5]?+n[5]:void 0)}},kq=/\(error: (.*)\)/,Nq=50;function wxe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(i,o){o===void 0&&(o=0);for(var a=[],s=i.split(`
`),l=o;l<s.length;l++){var c=s[l];if(!(c.length>1024)){var u=kq.test(c)?c.replace(kq,"$1"):c;if(!u.match(/\S*Error: /)){for(var d of n){var f=d(u,e);if(f){a.push(f);break}}if(a.length>=Nq)break}}}return(function(p){if(!p.length)return[];var g=Array.from(p);return g.reverse(),g.slice(0,Nq).map((h=>{return Nn({},h,{filename:h.filename||(y=g,y[y.length-1]||{}).filename,function:h.function||Wh});var y}))})(a)}}let xxe=class{match(e){return this.isDOMException(e)||this.isDOMError(e)}coerce(e,t){var n=Jo(e.stack);return{type:this.getType(e),value:this.getValue(e),stack:n?e.stack:void 0,cause:e.cause?t.next(e.cause):void 0,synthetic:!1}}getType(e){return this.isDOMError(e)?"DOMError":"DOMException"}getValue(e){var t=e.name||(this.isDOMError(e)?"DOMError":"DOMException");return e.message?t+": "+e.message:t}isDOMException(e){return Ub(e,"DOMException")}isDOMError(e){return Ub(e,"DOMError")}},_xe=class{match(e){return(t=>t instanceof Error)(e)}coerce(e,t){return{type:this.getType(e),value:this.getMessage(e,t),stack:this.getStack(e),cause:e.cause?t.next(e.cause):void 0,synthetic:!1}}getType(e){return e.name||e.constructor.name}getMessage(e,t){var n=e.message;return n.error&&typeof n.error.message=="string"?String(n.error.message):String(n)}getStack(e){return e.stacktrace||e.stack||void 0}},Exe=class{constructor(){}match(e){return Ub(e,"ErrorEvent")&&e.error!=null}coerce(e,t){var n,r=t.apply(e.error);return r||{type:"ErrorEvent",value:e.message,stack:(n=t.syntheticException)==null?void 0:n.stack,synthetic:!0}}};var Sxe=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let Cxe=class{match(e){return typeof e=="string"}coerce(e,t){var n,[r,i]=this.getInfos(e);return{type:r??"Error",value:i??e,stack:(n=t.syntheticException)==null?void 0:n.stack,synthetic:!0}}getInfos(e){var t="Error",n=e,r=e.match(Sxe);return r&&(t=r[1],n=r[2]),[t,n]}};var Txe=["fatal","error","warning","log","info","debug"];function Rq(e,t){t===void 0&&(t=40);var n=Object.keys(e);if(n.sort(),!n.length)return"[object has no keys]";for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>t))return r===n.length||i.length<=t?i:i.slice(0,t)+"..."}return""}let Axe=class{match(e){return typeof e=="object"&&e!==null}coerce(e,t){var n,r=this.getErrorPropertyFromObject(e);return r?t.apply(r):{type:this.getType(e),value:this.getValue(e),stack:(n=t.syntheticException)==null?void 0:n.stack,level:this.isSeverityLevel(e.level)?e.level:"error",synthetic:!0}}getType(e){return Aq(e)?e.constructor.name:"Error"}getValue(e){if("name"in e&&typeof e.name=="string"){var t="'"+e.name+"' captured as exception";return"message"in e&&typeof e.message=="string"&&(t+=" with message: '"+e.message+"'"),t}if("message"in e&&typeof e.message=="string")return e.message;var n=this.getObjectClassName(e);return(n&&n!=="Object"?"'"+n+"'":"Object")+" captured as exception with keys: "+Rq(e)}isSeverityLevel(e){return Jo(e)&&!s5(e)&&Txe.indexOf(e)>=0}getErrorPropertyFromObject(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=e[t];if(uxe(n))return n}}getObjectClassName(e){try{var t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{return}}},Ixe=class{match(e){return Aq(e)}coerce(e,t){var n,r=e.constructor.name;return{type:r,value:r+" captured as exception with keys: "+Rq(e),stack:(n=t.syntheticException)==null?void 0:n.stack,synthetic:!0}}},Oxe=class{match(e){return l5(e)}coerce(e,t){var n;return{type:"Error",value:"Primitive value captured as exception: "+String(e),stack:(n=t.syntheticException)==null?void 0:n.stack,synthetic:!0}}},kxe=class{match(e){return Ub(e,"PromiseRejectionEvent")}coerce(e,t){var n,r=this.getUnhandledRejectionReason(e);return l5(r)?{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(r),stack:(n=t.syntheticException)==null?void 0:n.stack,synthetic:!0}:t.apply(r)}getUnhandledRejectionReason(e){if(l5(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}};var jq=function(e,t){var{debugEnabled:n}=t===void 0?{}:t,r={k:function(i){if(ht&&(ou.DEBUG||lr.POSTHOG_DEBUG||n)&&!gn(ht.console)&&ht.console){for(var o=("__rrweb_original__"in ht.console[i])?ht.console[i].__rrweb_original__:ht.console[i],a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];o(e,...s)}},info:function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];r.k("log",...o)},warn:function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];r.k("warn",...o)},error:function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];r.k("error",...o)},critical:function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];console.error(e,...o)},uninitializedWarning:i=>{r.error("You must initialize PostHog before calling "+i)},createLogger:(i,o)=>jq(e+" "+i,o)};return r},bn=jq("[PostHog.js]"),Zo=bn.createLogger,Nxe=Zo("[ExternalScriptsLoader]"),Lq=(e,t,n)=>{if(e.config.disable_external_dependency_loading)return Nxe.warn(t+" was requested but loading of external scripts is disabled."),n("Loading of external scripts is disabled");var r=sn==null?void 0:sn.querySelectorAll("script");if(r){for(var i,o=function(){if(r[a].src===t){var l=r[a];return l.__posthog_loading_callback_fired?{v:n()}:(l.addEventListener("load",(c=>{l.__posthog_loading_callback_fired=!0,n(void 0,c)})),l.onerror=c=>n(c),{v:void 0})}},a=0;a<r.length;a++)if(i=o())return i.v}var s=()=>{if(!sn)return n("document not found");var l=sn.createElement("script");if(l.type="text/javascript",l.crossOrigin="anonymous",l.src=t,l.onload=d=>{l.__posthog_loading_callback_fired=!0,n(void 0,d)},l.onerror=d=>n(d),e.config.prepare_external_dependency_script&&(l=e.config.prepare_external_dependency_script(l)),!l)return n("prepare_external_dependency_script returned null");var c,u=sn.querySelectorAll("body > script");u.length>0?(c=u[0].parentNode)==null||c.insertBefore(l,u[0]):sn.body.appendChild(l)};sn!=null&&sn.body?s():sn==null||sn.addEventListener("DOMContentLoaded",s)};lr.__PosthogExtensions__=lr.__PosthogExtensions__||{},lr.__PosthogExtensions__.loadExternalDependency=(e,t,n)=>{var r="/static/"+t+".js?v="+e.version;if(t==="remote-config"&&(r="/array/"+e.config.token+"/config.js"),t==="toolbar"){var i=3e5;r=r+"&t="+Math.floor(Date.now()/i)*i}var o=e.requestRouter.endpointFor("assets",r);Lq(e,o,n)},lr.__PosthogExtensions__.loadSiteApp=(e,t,n)=>{var r=e.requestRouter.endpointFor("api",t);Lq(e,r,n)};var Bb={};function Ju(e,t,n){if(Xi(e)){if(vq&&e.forEach===vq)e.forEach(t,n);else if("length"in e&&e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===Bb)return}}}function Yi(e,t,n){if(!io(e)){if(Xi(e))return Ju(e,t,n);if(oxe(e)){for(var r of e.entries())if(t.call(n,r[1],r[0])===Bb)return}else for(var i in e)if(Tq.call(e,i)&&t.call(n,e[i],i)===Bb)return}}var Po=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ju(n,(function(i){for(var o in i)i[o]!==void 0&&(e[o]=i[o])})),e},Gh=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ju(n,(function(i){Ju(i,(function(o){e.push(o)}))})),e};function $b(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}var Mq=function(e){try{return e()}catch{return}},Rxe=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(i){bn.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),bn.critical(i)}}},f5=function(e){var t={};return Yi(e,(function(n,r){(Jo(n)&&n.length>0||wc(n))&&(t[r]=n)})),t};function jxe(e,t){return n=e,r=o=>Jo(o)&&!au(t)?o.slice(0,t):o,i=new Set,(function o(a,s){return a!==Object(a)?r?r(a,s):a:i.has(a)?void 0:(i.add(a),Xi(a)?(l=[],Ju(a,(c=>{l.push(o(c))}))):(l={},Yi(a,((c,u)=>{i.has(c)||(l[u]=o(c,u))}))),l);var l})(n);var n,r,i}var Lxe=["herokuapp.com","vercel.app","netlify.app"];function Mxe(e){var t=e==null?void 0:e.hostname;if(!Jo(t))return!1;var n=t.split(".").slice(-2).join(".");for(var r of Lxe)if(n===r)return!1;return!0}function Pq(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}function Ho(e,t,n,r){var{capture:i=!1,passive:o=!0}=r??{};e==null||e.addEventListener(t,n,{capture:i,passive:o})}var Dq="$people_distinct_id",Vg="__alias",qg="__timers",Fq="$autocapture_disabled_server_side",h5="$heatmaps_enabled_server_side",Uq="$exception_capture_enabled_server_side",p5="$error_tracking_suppression_rules",zq="$error_tracking_capture_extension_exceptions",Bq="$web_vitals_enabled_server_side",$q="$dead_clicks_enabled_server_side",Hq="$web_vitals_allowed_metrics",m5="$session_recording_remote_config",Hb="$sesid",Vq="$session_is_sampled",Kh="$enabled_feature_flags",Wg="$early_access_features",g5="$feature_flag_details",Gg="$stored_person_properties",cf="$stored_group_properties",y5="$surveys",Vb="$surveys_activated",qb="$flag_call_reported",su="$user_state",v5="$client_session_props",b5="$capture_rate_limit",w5="$initial_campaign_params",x5="$initial_referrer_info",Wb="$initial_person_info",Gb="$epp",qq="__POSTHOG_TOOLBAR__",Kg="$posthog_cookieless",Pxe=[Dq,Vg,"__cmpns",qg,"$session_recording_enabled_server_side",h5,Hb,Kh,p5,su,Wg,g5,cf,Gg,y5,qb,v5,b5,w5,x5,Gb,Wb];function Wq(e){return e instanceof Element&&(e.id===qq||!(e.closest==null||!e.closest(".toolbar-global-fade-container")))}function Kb(e){return!!e&&e.nodeType===1}function Zu(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function Gq(e){return!!e&&e.nodeType===3}function Kq(e){return!!e&&e.nodeType===11}function _5(e){return e?Db(e).split(/\s+/):[]}function Xq(e){var t=ht==null?void 0:ht.location.href;return!!(t&&e&&e.some((n=>t.match(n))))}function Xb(e){var t="";switch(typeof e.className){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return _5(t)}function Yq(e){return io(e)?null:Db(e).split(/(\s+)/).filter((t=>Yg(t))).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Xg(e){var t="";return C5(e)&&!rW(e)&&e.childNodes&&e.childNodes.length&&Yi(e.childNodes,(function(n){var r;Gq(n)&&n.textContent&&(t+=(r=Yq(n.textContent))!==null&&r!==void 0?r:"")})),Db(t)}function Qq(e){return gn(e.target)?e.srcElement||null:(t=e.target)!=null&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}var E5=["a","button","form","input","select","textarea","label"];function Jq(e,t){if(gn(t))return!0;var n,r=function(o){if(t.some((a=>o.matches(a))))return{v:!0}};for(var i of e)if(n=r(i))return n.v;return!1}function Zq(e){var t=e.parentNode;return!(!t||!Kb(t))&&t}var Dxe=["next","previous","prev",">","<"],eW=10,tW=[".ph-no-rageclick",".ph-no-capture"];function Fxe(e,t){if(!ht||S5(e))return!1;var n,r,i;if(Qu(t)?(n=!!t&&tW,r=void 0):(n=(i=t==null?void 0:t.css_selector_ignorelist)!==null&&i!==void 0?i:tW,r=t==null?void 0:t.content_ignorelist),n===!1)return!1;var{targetElementList:o}=nW(e,!1);return!(function(a,s){if(a===!1||gn(a))return!1;var l;if(a===!0)l=Dxe;else{if(!Xi(a))return!1;if(a.length>eW)return bn.error("[PostHog] content_ignorelist array cannot exceed "+eW+" items. Use css_selector_ignorelist for more complex matching."),!1;l=a.map((c=>c.toLowerCase()))}return s.some((c=>{var{safeText:u,ariaLabel:d}=c;return l.some((f=>u.includes(f)||d.includes(f)))}))})(r,o.map((a=>{var s;return{safeText:Xg(a).toLowerCase(),ariaLabel:((s=a.getAttribute("aria-label"))==null?void 0:s.toLowerCase().trim())||""}})))&&!Jq(o,n)}var S5=e=>!e||Zu(e,"html")||!Kb(e),nW=(e,t)=>{if(!ht||S5(e))return{parentIsUsefulElement:!1,targetElementList:[]};for(var n=!1,r=[e],i=e;i.parentNode&&!Zu(i,"body");)if(Kq(i.parentNode))r.push(i.parentNode.host),i=i.parentNode.host;else{var o=Zq(i);if(!o)break;if(t||E5.indexOf(o.tagName.toLowerCase())>-1)n=!0;else{var a=ht.getComputedStyle(o);a&&a.getPropertyValue("cursor")==="pointer"&&(n=!0)}r.push(o),i=o}return{parentIsUsefulElement:n,targetElementList:r}};function Uxe(e,t,n,r,i){var o,a,s,l;if(n===void 0&&(n=void 0),!ht||S5(e)||(o=n)!=null&&o.url_allowlist&&!Xq(n.url_allowlist)||(a=n)!=null&&a.url_ignorelist&&Xq(n.url_ignorelist))return!1;if((s=n)!=null&&s.dom_event_allowlist){var c=n.dom_event_allowlist;if(c&&!c.some((g=>t.type===g)))return!1}var{parentIsUsefulElement:u,targetElementList:d}=nW(e,r);if(!(function(g,h){var y=h==null?void 0:h.element_allowlist;if(gn(y))return!0;var b,w=function(E){if(y.some((_=>E.tagName.toLowerCase()===_)))return{v:!0}};for(var S of g)if(b=w(S))return b.v;return!1})(d,n)||!Jq(d,(l=n)==null?void 0:l.css_selector_allowlist))return!1;var f=ht.getComputedStyle(e);if(f&&f.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var p=e.tagName.toLowerCase();switch(p){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return u?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(E5.indexOf(p)>-1||e.getAttribute("contenteditable")==="true")}}function C5(e){for(var t=e;t.parentNode&&!Zu(t,"body");t=t.parentNode){var n=Xb(t);if(Br(n,"ph-sensitive")||Br(n,"ph-no-capture"))return!1}if(Br(Xb(e),"ph-include"))return!0;var r=e.type||"";if(Jo(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!(Jo(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function rW(e){return!!(Zu(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||Zu(e,"select")||Zu(e,"textarea")||e.getAttribute("contenteditable")==="true")}var iW="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",zxe=new RegExp("^(?:"+iW+")$"),Bxe=new RegExp(iW),oW="\\d{3}-?\\d{2}-?\\d{4}",$xe=new RegExp("^("+oW+")$"),Hxe=new RegExp("("+oW+")");function Yg(e,t){return t===void 0&&(t=!0),!(io(e)||Jo(e)&&(e=Db(e),(t?zxe:Bxe).test((e||"").replace(/[- ]/g,""))||(t?$xe:Hxe).test(e)))}function aW(e){var t=Xg(e);return Yg(t=(t+" "+sW(e)).trim())?t:""}function sW(e){var t="";return e&&e.childNodes&&e.childNodes.length&&Yi(e.childNodes,(function(n){var r;if(n&&((r=n.tagName)==null?void 0:r.toLowerCase())==="span")try{var i=Xg(n);t=(t+" "+i).trim(),n.childNodes&&n.childNodes.length&&(t=(t+" "+sW(n)).trim())}catch(o){bn.error("[AutoCapture]",o)}})),t}function Vxe(e){return(function(t){var n=t.map((r=>{var i,o,a="";if(r.tag_name&&(a+=r.tag_name),r.attr_class)for(var s of(r.attr_class.sort(),r.attr_class))a+="."+s.replace(/"/g,"");var l=Nn({},r.text?{text:r.text}:{},{"nth-child":(i=r.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(o=r.nth_of_type)!==null&&o!==void 0?o:0},r.href?{href:r.href}:{},r.attr_id?{attr_id:r.attr_id}:{},r.attributes),c={};return $b(l).sort(((u,d)=>{var[f]=u,[p]=d;return f.localeCompare(p)})).forEach((u=>{var[d,f]=u;return c[lW(d.toString())]=lW(f.toString())})),a+=":",a+=$b(c).map((u=>{var[d,f]=u;return d+'="'+f+'"'})).join("")}));return n.join(";")})((function(t){return t.map((n=>{var r,i,o={text:(r=n.$el_text)==null?void 0:r.slice(0,400),tag_name:n.tag_name,href:(i=n.attr__href)==null?void 0:i.slice(0,2048),attr_class:qxe(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return $b(n).filter((a=>{var[s]=a;return s.indexOf("attr__")===0})).forEach((a=>{var[s,l]=a;return o.attributes[s]=l})),o}))})(e))}function lW(e){return e.replace(/"|\\"/g,'\\"')}function qxe(e){var t=e.attr__class;return t?Xi(t)?t:_5(t):void 0}let cW=class{constructor(e){this.disabled=e===!1;var t=Sa(e)?e:{};this.thresholdPx=t.threshold_px||30,this.timeoutMs=t.timeout_ms||1e3,this.clickCount=t.click_count||3,this.clicks=[]}isRageClick(e,t,n){if(this.disabled)return!1;var r=this.clicks[this.clicks.length-1];if(r&&Math.abs(e-r.x)+Math.abs(t-r.y)<this.thresholdPx&&n-r.timestamp<this.timeoutMs){if(this.clicks.push({x:e,y:t,timestamp:n}),this.clicks.length===this.clickCount)return!0}else this.clicks=[{x:e,y:t,timestamp:n}];return!1}};var T5="$copy_autocapture",lu=(function(e){return e.GZipJS="gzip-js",e.Base64="base64",e})({}),Yb=e=>{var t=sn==null?void 0:sn.createElement("a");return gn(t)?null:(t.href=e,t)},Wxe=function(e,t){var n,r;t===void 0&&(t="&");var i=[];return Yi(e,(function(o,a){gn(o)||gn(a)||a==="undefined"||(n=encodeURIComponent((s=>s instanceof File)(o)?o.name:o.toString()),r=encodeURIComponent(a),i[i.length]=r+"="+n)})),i.join(t)},Qb=function(e,t){for(var n,r=((e.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),i=0;i<r.length;i++){var o=r[i].split("=");if(o[0]===t){n=o;break}}if(!Xi(n)||n.length<2)return"";var a=n[1];try{a=decodeURIComponent(a)}catch{bn.error("Skipping decoding for malformed query param: "+a)}return a.replace(/\+/g," ")},Qg=function(e,t,n){if(!e||!t||!t.length)return e;for(var r=e.split("#"),i=r[0]||"",o=r[1],a=i.split("?"),s=a[1],l=a[0],c=(s||"").split("&"),u=[],d=0;d<c.length;d++){var f=c[d].split("=");Xi(f)&&(t.includes(f[0])?u.push(f[0]+"="+n):u.push(c[d]))}var p=l;return s!=null&&(p+="?"+u.join("&")),o!=null&&(p+="#"+o),p},Jb=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},uW=Zo("[AutoCapture]");function A5(e,t){return t.length>e?t.slice(0,e)+"...":t}function Gxe(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do t=t.previousSibling;while(t&&!Kb(t));return t}function Kxe(e,t,n,r){var i=e.tagName.toLowerCase(),o={tag_name:i};E5.indexOf(i)>-1&&!n&&(i.toLowerCase()==="a"||i.toLowerCase()==="button"?o.$el_text=A5(1024,aW(e)):o.$el_text=A5(1024,Xg(e)));var a=Xb(e);a.length>0&&(o.classes=a.filter((function(u){return u!==""}))),Yi(e.attributes,(function(u){var d;if((!rW(e)||["name","id","class","aria-label"].indexOf(u.name)!==-1)&&(r==null||!r.includes(u.name))&&!t&&Yg(u.value)&&(d=u.name,!Jo(d)||d.substring(0,10)!=="_ngcontent"&&d.substring(0,7)!=="_nghost")){var f=u.value;u.name==="class"&&(f=_5(f).join(" ")),o["attr__"+u.name]=A5(1024,f)}}));for(var s=1,l=1,c=e;c=Gxe(c);)s++,c.tagName===e.tagName&&l++;return o.nth_child=s,o.nth_of_type=l,o}function Xxe(e,t){for(var n,r,{e:i,maskAllElementAttributes:o,maskAllText:a,elementAttributeIgnoreList:s,elementsChainAsString:l}=t,c=[e],u=e;u.parentNode&&!Zu(u,"body");)Kq(u.parentNode)?(c.push(u.parentNode.host),u=u.parentNode.host):(c.push(u.parentNode),u=u.parentNode);var d,f=[],p={},g=!1,h=!1;if(Yi(c,(E=>{var _=C5(E);E.tagName.toLowerCase()==="a"&&(g=E.getAttribute("href"),g=_&&g&&Yg(g)&&g),Br(Xb(E),"ph-no-capture")&&(h=!0),f.push(Kxe(E,o,a,s));var m=(function(C){if(!C5(C))return{};var T={};return Yi(C.attributes,(function(O){if(O.name&&O.name.indexOf("data-ph-capture-attribute")===0){var R=O.name.replace("data-ph-capture-attribute-",""),j=O.value;R&&j&&Yg(j)&&(T[R]=j)}})),T})(E);Po(p,m)})),h)return{props:{},explicitNoCapture:h};if(a||(e.tagName.toLowerCase()==="a"||e.tagName.toLowerCase()==="button"?f[0].$el_text=aW(e):f[0].$el_text=Xg(e)),g){var y,b;f[0].attr__href=g;var w=(y=Yb(g))==null?void 0:y.host,S=ht==null||(b=ht.location)==null?void 0:b.host;w&&S&&w!==S&&(d=g)}return{props:Po({$event_type:i.type,$ce_version:1},l?{}:{$elements:f},{$elements_chain:Vxe(f)},(n=f[0])!=null&&n.$el_text?{$el_text:(r=f[0])==null?void 0:r.$el_text}:{},d&&i.type==="click"?{$external_click_url:d}:{},p)}}let Yxe=class{constructor(e){this.P=!1,this.T=null,this.I=!1,this.instance=e,this.rageclicks=new cW(e.config.rageclick),this.R=null}get F(){var e,t,n=Sa(this.instance.config.autocapture)?this.instance.config.autocapture:{};return n.url_allowlist=(e=n.url_allowlist)==null?void 0:e.map((r=>new RegExp(r))),n.url_ignorelist=(t=n.url_ignorelist)==null?void 0:t.map((r=>new RegExp(r))),n}C(){if(this.isBrowserSupported()){if(ht&&sn){var e=n=>{n=n||(ht==null?void 0:ht.event);try{this.O(n)}catch(r){uW.error("Failed to capture event",r)}};if(Ho(sn,"submit",e,{capture:!0}),Ho(sn,"change",e,{capture:!0}),Ho(sn,"click",e,{capture:!0}),this.F.capture_copied_text){var t=n=>{n=n||(ht==null?void 0:ht.event),this.O(n,T5)};Ho(sn,"copy",t,{capture:!0}),Ho(sn,"cut",t,{capture:!0})}}}else uW.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.P&&(this.C(),this.P=!0)}onRemoteConfig(e){e.elementsChainAsString&&(this.I=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[Fq]:!!e.autocapture_opt_out}),this.T=!!e.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(e){this.R=e}getElementSelectors(e){var t,n=[];return(t=this.R)==null||t.forEach((r=>{var i=sn==null?void 0:sn.querySelectorAll(r);i==null||i.forEach((o=>{e===o&&n.push(r)}))})),n}get isEnabled(){var e,t,n=(e=this.instance.persistence)==null?void 0:e.props[Fq],r=this.T;if(au(r)&&!Qu(n)&&!this.instance.M())return!1;var i=(t=this.T)!==null&&t!==void 0?t:!!n;return!!this.instance.config.autocapture&&!i}O(e,t){if(t===void 0&&(t="$autocapture"),this.isEnabled){var n,r=Qq(e);Gq(r)&&(r=r.parentNode||null),t==="$autocapture"&&e.type==="click"&&e instanceof MouseEvent&&this.instance.config.rageclick&&(n=this.rageclicks)!=null&&n.isRageClick(e.clientX,e.clientY,e.timeStamp||new Date().getTime())&&Fxe(r,this.instance.config.rageclick)&&this.O(e,"$rageclick");var i=t===T5;if(r&&Uxe(r,e,this.F,i,i?["copy","cut"]:void 0)){var{props:o,explicitNoCapture:a}=Xxe(r,{e,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.F.element_attribute_ignorelist,elementsChainAsString:this.I});if(a)return!1;var s=this.getElementSelectors(r);if(s&&s.length>0&&(o.$element_selectors=s),t===T5){var l,c=Yq(ht==null||(l=ht.getSelection())==null?void 0:l.toString()),u=e.type||"clipboard";if(!c)return!1;o.$selected_content=c,o.$copy_type=u}return this.instance.capture(t,o),!0}}}isBrowserSupported(){return Yu(sn==null?void 0:sn.querySelectorAll)}};Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return wc(e)&&isFinite(e)&&Math.floor(e)===e});var dW="0123456789abcdef";let Qxe=class bN{constructor(t){if(this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(t,n,r,i){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(i)||t<0||n<0||r<0||i<0||t>0xffffffffffff||n>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");var o=new Uint8Array(16);return o[0]=t/Math.pow(2,40),o[1]=t/Math.pow(2,32),o[2]=t/Math.pow(2,24),o[3]=t/Math.pow(2,16),o[4]=t/Math.pow(2,8),o[5]=t,o[6]=112|n>>>8,o[7]=n,o[8]=128|r>>>24,o[9]=r>>>16,o[10]=r>>>8,o[11]=r,o[12]=i>>>24,o[13]=i>>>16,o[14]=i>>>8,o[15]=i,new bN(o)}toString(){for(var t="",n=0;n<this.bytes.length;n++)t=t+dW.charAt(this.bytes[n]>>>4)+dW.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}clone(){return new bN(this.bytes.slice(0))}equals(t){return this.compareTo(t)===0}compareTo(t){for(var n=0;n<16;n++){var r=this.bytes[n]-t.bytes[n];if(r!==0)return Math.sign(r)}return 0}},Jxe=class{constructor(){this.A=0,this.D=0,this.j=new Zxe}generate(){var e=this.generateOrAbort();if(gn(e)){this.A=0;var t=this.generateOrAbort();if(gn(t))throw new Error("Could not generate UUID after timestamp reset");return t}return e}generateOrAbort(){var e=Date.now();if(e>this.A)this.A=e,this.L();else{if(!(e+1e4>this.A))return;this.D++,this.D>4398046511103&&(this.A++,this.L())}return Qxe.fromFieldsV7(this.A,Math.trunc(this.D/Math.pow(2,30)),this.D&Math.pow(2,30)-1,this.j.nextUint32())}L(){this.D=1024*this.j.nextUint32()+(1023&this.j.nextUint32())}};var fW,hW=e=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};ht&&!gn(ht.crypto)&&crypto.getRandomValues&&(hW=e=>crypto.getRandomValues(e));let Zxe=class{constructor(){this.N=new Uint32Array(8),this.U=1/0}nextUint32(){return this.U>=this.N.length&&(hW(this.N),this.U=0),this.N[this.U++]}};var ed=()=>e_e().toString(),e_e=()=>(fW||(fW=new Jxe)).generate(),Jg="",t_e=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function n_e(e,t){if(t){var n=(function(i,o){if(o===void 0&&(o=sn),Jg)return Jg;if(!o||["localhost","127.0.0.1"].includes(i))return"";for(var a=i.split("."),s=Math.min(a.length,8),l="dmn_chk_"+ed();!Jg&&s--;){var c=a.slice(s).join("."),u=l+"=1;domain=."+c+";path=/";o.cookie=u+";max-age=3",o.cookie.includes(l)&&(o.cookie=u+";max-age=0",Jg=c)}return Jg})(e);if(!n){var r=(i=>{var o=i.match(t_e);return o?o[0]:""})(e);r!==n&&bn.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}var _c={H:()=>!!sn,B:function(e){bn.error("cookieStore error: "+e)},q:function(e){if(sn){try{for(var t=e+"=",n=sn.cookie.split(";").filter((o=>o.length)),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}}catch{}return null}},W:function(e){var t;try{t=JSON.parse(_c.q(e))||{}}catch{}return t},G:function(e,t,n,r,i){if(sn)try{var o="",a="",s=n_e(sn.location.hostname,r);if(n){var l=new Date;l.setTime(l.getTime()+24*n*60*60*1e3),o="; expires="+l.toUTCString()}i&&(a="; secure");var c=e+"="+encodeURIComponent(JSON.stringify(t))+o+"; SameSite=Lax; path=/"+s+a;return c.length>3686.4&&bn.warn("cookieStore warning: large cookie, len="+c.length),sn.cookie=c,c}catch{return}},V:function(e,t){if(sn!=null&&sn.cookie)try{_c.G(e,"",-1,t)}catch{return}}},I5=null,xo={H:function(){if(!au(I5))return I5;var e=!0;if(gn(ht))e=!1;else try{var t="__mplssupport__";xo.G(t,"xyz"),xo.q(t)!=='"xyz"'&&(e=!1),xo.V(t)}catch{e=!1}return e||bn.error("localStorage unsupported; falling back to cookie store"),I5=e,e},B:function(e){bn.error("localStorage error: "+e)},q:function(e){try{return ht==null?void 0:ht.localStorage.getItem(e)}catch(t){xo.B(t)}return null},W:function(e){try{return JSON.parse(xo.q(e))||{}}catch{}return null},G:function(e,t){try{ht==null||ht.localStorage.setItem(e,JSON.stringify(t))}catch(n){xo.B(n)}},V:function(e){try{ht==null||ht.localStorage.removeItem(e)}catch(t){xo.B(t)}}},r_e=["distinct_id",Hb,Vq,Gb,Wb],Zb=Nn({},xo,{W:function(e){try{var t={};try{t=_c.W(e)||{}}catch{}var n=Po(t,JSON.parse(xo.q(e)||"{}"));return xo.G(e,n),n}catch{}return null},G:function(e,t,n,r,i,o){try{xo.G(e,t,void 0,void 0,o);var a={};r_e.forEach((s=>{t[s]&&(a[s]=t[s])})),Object.keys(a).length&&_c.G(e,a,n,r,i,o)}catch(s){xo.B(s)}},V:function(e,t){try{ht==null||ht.localStorage.removeItem(e),_c.V(e,t)}catch(n){xo.B(n)}}}),ew={},i_e={H:function(){return!0},B:function(e){bn.error("memoryStorage error: "+e)},q:function(e){return ew[e]||null},W:function(e){return ew[e]||null},G:function(e,t){ew[e]=t},V:function(e){delete ew[e]}},uf=null,Ca={H:function(){if(!au(uf))return uf;if(uf=!0,gn(ht))uf=!1;else try{var e="__support__";Ca.G(e,"xyz"),Ca.q(e)!=='"xyz"'&&(uf=!1),Ca.V(e)}catch{uf=!1}return uf},B:function(e){bn.error("sessionStorage error: ",e)},q:function(e){try{return ht==null?void 0:ht.sessionStorage.getItem(e)}catch(t){Ca.B(t)}return null},W:function(e){try{return JSON.parse(Ca.q(e))||null}catch{}return null},G:function(e,t){try{ht==null||ht.sessionStorage.setItem(e,JSON.stringify(t))}catch(n){Ca.B(n)}},V:function(e){try{ht==null||ht.sessionStorage.removeItem(e)}catch(t){Ca.B(t)}}},cu=(function(e){return e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED",e})({});let o_e=class{constructor(e){this._instance=e}get F(){return this._instance.config}get consent(){return this.J()?cu.DENIED:this.K}isOptedOut(){return this.F.cookieless_mode==="always"||this.consent===cu.DENIED||this.consent===cu.PENDING&&(this.F.opt_out_capturing_by_default||this.F.cookieless_mode==="on_reject")}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===cu.DENIED}optInOut(e){this.Y.G(this.X,e?1:0,this.F.cookie_expiration,this.F.cross_subdomain_cookie,this.F.secure_cookie)}reset(){this.Y.V(this.X,this.F.cross_subdomain_cookie)}get X(){var{token:e,opt_out_capturing_cookie_prefix:t,consent_persistence_name:n}=this._instance.config;return n||(t?t+e:"__ph_opt_in_out_"+e)}get K(){var e=this.Y.q(this.X);return c5(e)?cu.GRANTED:Br(lxe,e)?cu.DENIED:cu.PENDING}get Y(){if(!this.Z){var e=this.F.opt_out_capturing_persistence_type;this.Z=e==="localStorage"?xo:_c;var t=e==="localStorage"?_c:xo;t.q(this.X)&&(this.Z.q(this.X)||this.optInOut(c5(t.q(this.X))),t.V(this.X,this.F.cross_subdomain_cookie))}return this.Z}J(){return!!this.F.respect_dnt&&!!Pq([Pa==null?void 0:Pa.doNotTrack,Pa==null?void 0:Pa.msDoNotTrack,lr.doNotTrack],(e=>c5(e)))}};var tw=Zo("[Dead Clicks]"),a_e=()=>!0,s_e=e=>{var t,n=!((t=e.instance.persistence)==null||!t.get_property($q)),r=e.instance.config.capture_dead_clicks;return Qu(r)?r:n};let pW=class{get lazyLoadedDeadClicksAutocapture(){return this.tt}constructor(e,t,n){this.instance=e,this.isEnabled=t,this.onCapture=n,this.startIfEnabled()}onRemoteConfig(e){this.instance.persistence&&this.instance.persistence.register({[$q]:e==null?void 0:e.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.it((()=>{this.et()}))}it(e){var t,n;(t=lr.__PosthogExtensions__)!=null&&t.initDeadClicksAutocapture&&e(),(n=lr.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this.instance,"dead-clicks-autocapture",(r=>{r?tw.error("failed to load script",r):e()}))}et(){var e;if(sn){if(!this.tt&&(e=lr.__PosthogExtensions__)!=null&&e.initDeadClicksAutocapture){var t=Sa(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};t.__onCapture=this.onCapture,this.tt=lr.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,t),this.tt.start(sn),tw.info("starting...")}}else tw.error("`document` not found. Cannot start.")}stop(){this.tt&&(this.tt.stop(),this.tt=void 0,tw.info("stopping..."))}};var Zg=Zo("[ExceptionAutocapture]");let l_e=class{constructor(e){var t,n,r;this.rt=()=>{var i;if(ht&&this.isEnabled&&(i=lr.__PosthogExtensions__)!=null&&i.errorWrappingFunctions){var o=lr.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,a=lr.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,s=lr.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.st&&this.F.capture_unhandled_errors&&(this.st=o(this.captureException.bind(this))),!this.nt&&this.F.capture_unhandled_rejections&&(this.nt=a(this.captureException.bind(this))),!this.ot&&this.F.capture_console_errors&&(this.ot=s(this.captureException.bind(this)))}catch(l){Zg.error("failed to start",l),this.lt()}}},this._instance=e,this.ut=!((t=this._instance.persistence)==null||!t.props[Uq]),this.F=this.ht(),this.dt=new cxe({refillRate:(n=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)!==null&&n!==void 0?n:1,bucketSize:(r=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)!==null&&r!==void 0?r:10,refillInterval:1e4,h:Zg}),this.startIfEnabled()}ht(){var e=this._instance.config.capture_exceptions,t={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return Sa(e)?t=Nn({},t,e):(gn(e)?this.ut:e)&&(t=Nn({},t,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),t}get isEnabled(){return this.F.capture_console_errors||this.F.capture_unhandled_errors||this.F.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(Zg.info("enabled"),this.it(this.rt))}it(e){var t,n;(t=lr.__PosthogExtensions__)!=null&&t.errorWrappingFunctions&&e(),(n=lr.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"exception-autocapture",(r=>{if(r)return Zg.error("failed to load script",r);e()}))}lt(){var e,t,n;(e=this.st)==null||e.call(this),this.st=void 0,(t=this.nt)==null||t.call(this),this.nt=void 0,(n=this.ot)==null||n.call(this),this.ot=void 0}onRemoteConfig(e){var t=e.autocaptureExceptions;this.ut=!!t||!1,this.F=this.ht(),this._instance.persistence&&this._instance.persistence.register({[Uq]:this.ut}),this.startIfEnabled()}captureException(e){var t,n,r=(t=e==null||(n=e.$exception_list)==null||(n=n[0])==null?void 0:n.type)!==null&&t!==void 0?t:"Exception";this.dt.consumeRateLimit(r)?Zg.info("Skipping exception capture because of client rate limiting.",{exception:r}):this._instance.exceptions.sendExceptionEvent(e)}};function mW(e,t,n){try{if(!(t in e))return()=>{};var r=e[t],i=n(r);return Yu(i)&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__posthog_wrapped__:{enumerable:!1,value:!0}})),e[t]=i,()=>{e[t]=r}}catch{return()=>{}}}let c_e=class{constructor(e){var t;this._instance=e,this.vt=(ht==null||(t=ht.location)==null?void 0:t.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(bn.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.ct&&this.ct(),this.ct=void 0,bn.info("History API monitoring stopped")}monitorHistoryChanges(){var e,t;if(ht&&ht.history){var n=this;(e=ht.history.pushState)!=null&&e.__posthog_wrapped__||mW(ht.history,"pushState",(r=>function(i,o,a){r.call(this,i,o,a),n.ft("pushState")})),(t=ht.history.replaceState)!=null&&t.__posthog_wrapped__||mW(ht.history,"replaceState",(r=>function(i,o,a){r.call(this,i,o,a),n.ft("replaceState")})),this.gt()}}ft(e){try{var t,n=ht==null||(t=ht.location)==null?void 0:t.pathname;if(!n)return;n!==this.vt&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:e}),this.vt=n}catch(r){bn.error("Error capturing "+e+" pageview",r)}}gt(){if(!this.ct){var e=()=>{this.ft("popstate")};Ho(ht,"popstate",e),this.ct=()=>{ht&&ht.removeEventListener("popstate",e)}}}};var O5=Zo("[SegmentIntegration]");function u_e(e,t){var n=e.config.segment;if(!n)return t();(function(r,i){var o=r.config.segment;if(!o)return i();var a=l=>{var c=()=>l.anonymousId()||ed();r.config.get_device_id=c,l.id()&&(r.register({distinct_id:l.id(),$device_id:c()}),r.persistence.set_property(su,"identified")),i()},s=o.user();"then"in s&&Yu(s.then)?s.then((l=>a(l))):a(s)})(e,(()=>{n.register((r=>{Promise&&Promise.resolve||O5.warn("This browser does not have Promise support, and can not use the segment integration");var i=(o,a)=>{if(!a)return o;o.event.userId||o.event.anonymousId===r.get_distinct_id()||(O5.info("No userId set, resetting PostHog"),r.reset()),o.event.userId&&o.event.userId!==r.get_distinct_id()&&(O5.info("UserId set, identifying with PostHog"),r.identify(o.event.userId));var s=r.calculateEventProperties(a,o.event.properties);return o.event.properties=Object.assign({},s,o.event.properties),o};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:o=>i(o,o.event.event),page:o=>i(o,"$pageview"),identify:o=>i(o,"$identify"),screen:o=>i(o,"$screen")}})(e)).then((()=>{t()}))}))}var gW="posthog-js";function yW(e,t){var{organization:n,projectId:r,prefix:i,severityAllowList:o=["error"],sendExceptionsToPostHog:a=!0}=t===void 0?{}:t;return s=>{var l,c,u,d,f;if(!(o==="*"||o.includes(s.level))||!e.__loaded)return s;s.tags||(s.tags={});var p=e.requestRouter.endpointFor("ui","/project/"+e.config.token+"/person/"+e.get_distinct_id());s.tags["PostHog Person URL"]=p,e.sessionRecordingStarted()&&(s.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var g=((l=s.exception)==null?void 0:l.values)||[],h=g.map((b=>Nn({},b,{stacktrace:b.stacktrace?Nn({},b.stacktrace,{type:"raw",frames:(b.stacktrace.frames||[]).map((w=>Nn({},w,{platform:"web:javascript"})))}):void 0}))),y={$exception_message:((c=g[0])==null?void 0:c.value)||s.message,$exception_type:(u=g[0])==null?void 0:u.type,$exception_level:s.level,$exception_list:h,$sentry_event_id:s.event_id,$sentry_exception:s.exception,$sentry_exception_message:((d=g[0])==null?void 0:d.value)||s.message,$sentry_exception_type:(f=g[0])==null?void 0:f.type,$sentry_tags:s.tags};return n&&r&&(y.$sentry_url=(i||"https://sentry.io/organizations/")+n+"/issues/?project="+r+"&query="+s.event_id),a&&e.exceptions.sendExceptionEvent(y),s}}let d_e=class{constructor(e,t,n,r,i,o){this.name=gW,this.setupOnce=function(a){a(yW(e,{organization:t,projectId:n,prefix:r,severityAllowList:i,sendExceptionsToPostHog:o==null||o}))}}};var f_e=ht!=null&&ht.location?Jb(ht.location.hash,"__posthog")||Jb(location.hash,"state"):null,vW="_postHogToolbarParams",bW=Zo("[Toolbar]"),td=(function(e){return e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e})(td||{});let h_e=class{constructor(e){this.instance=e}_t(e){lr.ph_toolbar_state=e}yt(){var e;return(e=lr.ph_toolbar_state)!==null&&e!==void 0?e:td.UNINITIALIZED}maybeLoadToolbar(e,t,n){if(e===void 0&&(e=void 0),t===void 0&&(t=void 0),n===void 0&&(n=void 0),!ht||!sn)return!1;e=e??ht.location,n=n??ht.history;try{if(!t){try{ht.localStorage.setItem("test","test"),ht.localStorage.removeItem("test")}catch{return!1}t=ht==null?void 0:ht.localStorage}var r,i=f_e||Jb(e.hash,"__posthog")||Jb(e.hash,"state"),o=i?Mq((()=>JSON.parse(atob(decodeURIComponent(i)))))||Mq((()=>JSON.parse(decodeURIComponent(i)))):null;return o&&o.action==="ph_authorize"?((r=o).source="url",r&&Object.keys(r).length>0&&(o.desiredHash?e.hash=o.desiredHash:n?n.replaceState(n.state,"",e.pathname+e.search):e.hash="")):((r=JSON.parse(t.getItem(vW)||"{}")).source="localstorage",delete r.userIntent),!(!r.token||this.instance.config.token!==r.token)&&(this.loadToolbar(r),!0)}catch{return!1}}bt(e){var t=lr.ph_load_toolbar||lr.ph_load_editor;!io(t)&&Yu(t)?t(e,this.instance):bW.warn("No toolbar load function found")}loadToolbar(e){var t=!(sn==null||!sn.getElementById(qq));if(!ht||t)return!1;var n=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,r=Nn({token:this.instance.config.token},e,{apiURL:this.instance.requestRouter.endpointFor("ui")},n?{instrument:!1}:{});if(ht.localStorage.setItem(vW,JSON.stringify(Nn({},r,{source:void 0}))),this.yt()===td.LOADED)this.bt(r);else if(this.yt()===td.UNINITIALIZED){var i;this._t(td.LOADING),(i=lr.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this.instance,"toolbar",(o=>{if(o)return bW.error("[Toolbar] Failed to load",o),void this._t(td.UNINITIALIZED);this._t(td.LOADED),this.bt(r)})),Ho(ht,"turbolinks:load",(()=>{this._t(td.UNINITIALIZED),this.loadToolbar(r)}))}return!0}wt(e){return this.loadToolbar(e)}maybeLoadEditor(e,t,n){return e===void 0&&(e=void 0),t===void 0&&(t=void 0),n===void 0&&(n=void 0),this.maybeLoadToolbar(e,t,n)}};var p_e=Zo("[TracingHeaders]");let m_e=class{constructor(e){this.xt=void 0,this.$t=void 0,this.rt=()=>{var t,n;gn(this.xt)&&((t=lr.__PosthogExtensions__)==null||(t=t.tracingHeadersPatchFns)==null||t._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),gn(this.$t)&&((n=lr.__PosthogExtensions__)==null||(n=n.tracingHeadersPatchFns)==null||n._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=e}it(e){var t,n;(t=lr.__PosthogExtensions__)!=null&&t.tracingHeadersPatchFns&&e(),(n=lr.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"tracing-headers",(r=>{if(r)return p_e.error("failed to load script",r);e()}))}startIfEnabledOrStop(){var e,t;this._instance.config.__add_tracing_headers?this.it(this.rt):((e=this.xt)==null||e.call(this),(t=this.$t)==null||t.call(this),this.xt=void 0,this.$t=void 0)}};var rl="Mobile",nw="iOS",Ec="Android",e0="Tablet",wW=Ec+" "+e0,xW="iPad",_W="Apple",EW=_W+" Watch",t0="Safari",Xh="BlackBerry",SW="Samsung",CW=SW+"Browser",TW=SW+" Internet",df="Chrome",g_e=df+" OS",AW=df+" "+nw,k5="Internet Explorer",IW=k5+" "+rl,N5="Opera",y_e=N5+" Mini",R5="Edge",OW="Microsoft "+R5,Yh="Firefox",kW=Yh+" "+nw,n0="Nintendo",r0="PlayStation",Qh="Xbox",NW=Ec+" "+rl,RW=rl+" "+t0,i0="Windows",j5=i0+" Phone",jW="Nokia",L5="Ouya",LW="Generic",v_e=LW+" "+rl.toLowerCase(),MW=LW+" "+e0.toLowerCase(),M5="Konqueror",ts="(\\d+(\\.\\d+)?)",P5=new RegExp("Version/"+ts),b_e=new RegExp(Qh,"i"),w_e=new RegExp(r0+" \\w+","i"),x_e=new RegExp(n0+" \\w+","i"),D5=new RegExp(Xh+"|PlayBook|BB10","i"),__e={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},E_e=(e,t)=>t&&Br(t,_W)||(function(n){return Br(n,t0)&&!Br(n,df)&&!Br(n,Ec)})(e),PW=function(e,t){return t=t||"",Br(e," OPR/")&&Br(e,"Mini")?y_e:Br(e," OPR/")?N5:D5.test(e)?Xh:Br(e,"IE"+rl)||Br(e,"WPDesktop")?IW:Br(e,CW)?TW:Br(e,R5)||Br(e,"Edg/")?OW:Br(e,"FBIOS")?"Facebook "+rl:Br(e,"UCWEB")||Br(e,"UCBrowser")?"UC Browser":Br(e,"CriOS")?AW:Br(e,"CrMo")||Br(e,df)?df:Br(e,Ec)&&Br(e,t0)?NW:Br(e,"FxiOS")?kW:Br(e.toLowerCase(),M5.toLowerCase())?M5:E_e(e,t)?Br(e,rl)?RW:t0:Br(e,Yh)?Yh:Br(e,"MSIE")||Br(e,"Trident/")?k5:Br(e,"Gecko")?Yh:""},S_e={[IW]:[new RegExp("rv:"+ts)],[OW]:[new RegExp(R5+"?\\/"+ts)],[df]:[new RegExp("("+df+"|CrMo)\\/"+ts)],[AW]:[new RegExp("CriOS\\/"+ts)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+ts)],[t0]:[P5],[RW]:[P5],[N5]:[new RegExp("(Opera|OPR)\\/"+ts)],[Yh]:[new RegExp(Yh+"\\/"+ts)],[kW]:[new RegExp("FxiOS\\/"+ts)],[M5]:[new RegExp("Konqueror[:/]?"+ts,"i")],[Xh]:[new RegExp(Xh+" "+ts),P5],[NW]:[new RegExp("android\\s"+ts,"i")],[TW]:[new RegExp(CW+"\\/"+ts)],[k5]:[new RegExp("(rv:|MSIE )"+ts)],Mozilla:[new RegExp("rv:"+ts)]},C_e=function(e,t){var n=PW(e,t),r=S_e[n];if(gn(r))return null;for(var i=0;i<r.length;i++){var o=r[i],a=e.match(o);if(a)return parseFloat(a[a.length-2])}return null},DW=[[new RegExp(Qh+"; "+Qh+" (.*?)[);]","i"),e=>[Qh,e&&e[1]||""]],[new RegExp(n0,"i"),[n0,""]],[new RegExp(r0,"i"),[r0,""]],[D5,[Xh,""]],[new RegExp(i0,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[j5,""];if(new RegExp(rl).test(t)&&!/IEMobile\b/.test(t))return[i0+" "+rl,""];var n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){var r=n[1],i=__e[r]||"";return/arm/i.test(t)&&(i="RT"),[i0,i]}return[i0,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>{if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[nw,t.join(".")]}return[nw,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{var t="";return e&&e.length>=3&&(t=gn(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+Ec+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+Ec+")","i"),e=>{if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[Ec,t.join(".")]}return[Ec,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{var t=["Mac OS X",""];if(e&&e[1]){var n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[g_e,""]],[/Linux|debian/i,["Linux",""]]],FW=function(e){return x_e.test(e)?n0:w_e.test(e)?r0:b_e.test(e)?Qh:new RegExp(L5,"i").test(e)?L5:new RegExp("("+j5+"|WPDesktop)","i").test(e)?j5:/iPad/.test(e)?xW:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?EW:D5.test(e)?Xh:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(jW,"i").test(e)?jW:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(rl).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?Ec:wW:Ec:new RegExp("(pda|"+rl+")","i").test(e)?v_e:new RegExp(e0,"i").test(e)&&!new RegExp(e0+" pc","i").test(e)?MW:""},rw="https?://(.*)",Jh=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],T_e=Gh(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],Jh),o0="<masked>",A_e=["li_fat_id"];function UW(e,t,n){if(!sn)return{};var r,i=t?Gh([],Jh,n||[]):[],o=zW(Qg(sn.URL,i,o0),e),a=(r={},Yi(A_e,(function(s){var l=_c.q(s);r[s]=l||null})),r);return Po(a,o)}function zW(e,t){var n=T_e.concat(t||[]),r={};return Yi(n,(function(i){var o=Qb(e,i);r[i]=o||null})),r}function BW(e){var t=(function(o){return o?o.search(rw+"google.([^/?]*)")===0?"google":o.search(rw+"bing.com")===0?"bing":o.search(rw+"yahoo.com")===0?"yahoo":o.search(rw+"duckduckgo.com")===0?"duckduckgo":null:null})(e),n=t!="yahoo"?"q":"p",r={};if(!au(t)){r.$search_engine=t;var i=sn?Qb(sn.referrer,n):"";i.length&&(r.ph_keyword=i)}return r}function $W(){return navigator.language||navigator.userLanguage}function HW(){return(sn==null?void 0:sn.referrer)||"$direct"}function VW(e,t){var n=e?Gh([],Jh,t||[]):[],r=$o==null?void 0:$o.href.substring(0,1e3);return{r:HW().substring(0,1e3),u:r?Qg(r,n,o0):void 0}}function qW(e){var t,{r:n,u:r}=e,i={$referrer:n,$referring_domain:n==null?void 0:n=="$direct"?"$direct":(t=Yb(n))==null?void 0:t.host};if(r){i.$current_url=r;var o=Yb(r);i.$host=o==null?void 0:o.host,i.$pathname=o==null?void 0:o.pathname;var a=zW(r);Po(i,a)}if(n){var s=BW(n);Po(i,s)}return i}function WW(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function I_e(){try{return new Date().getTimezoneOffset()}catch{return}}function O_e(e,t){if(!Da)return{};var n,r,i,o=e?Gh([],Jh,t||[]):[],[a,s]=(function(l){for(var c=0;c<DW.length;c++){var[u,d]=DW[c],f=u.exec(l),p=f&&(Yu(d)?d(f,l):d);if(p)return p}return["",""]})(Da);return Po(f5({$os:a,$os_version:s,$browser:PW(Da,navigator.vendor),$device:FW(Da),$device_type:(r=Da,i=FW(r),i===xW||i===wW||i==="Kobo"||i==="Kindle Fire"||i===MW?e0:i===n0||i===Qh||i===r0||i===L5?"Console":i===EW?"Wearable":i?rl:"Desktop"),$timezone:WW(),$timezone_offset:I_e()}),{$current_url:Qg($o==null?void 0:$o.href,o,o0),$host:$o==null?void 0:$o.host,$pathname:$o==null?void 0:$o.pathname,$raw_user_agent:Da.length>1e3?Da.substring(0,997)+"...":Da,$browser_version:C_e(Da,navigator.vendor),$browser_language:$W(),$browser_language_prefix:(n=$W(),typeof n=="string"?n.split("-")[0]:void 0),$screen_height:ht==null?void 0:ht.screen.height,$screen_width:ht==null?void 0:ht.screen.width,$viewport_height:ht==null?void 0:ht.innerHeight,$viewport_width:ht==null?void 0:ht.innerWidth,$lib:"web",$lib_version:ou.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var nd=Zo("[Web Vitals]"),GW=9e5;class k_e{constructor(t){var n;this.Et=!1,this.P=!1,this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.St=()=>{clearTimeout(this.kt),this.N.metrics.length!==0&&(this._instance.capture("$web_vitals",this.N.metrics.reduce(((r,i)=>Nn({},r,{["$web_vitals_"+i.name+"_event"]:Nn({},i),["$web_vitals_"+i.name+"_value"]:i.value})),{})),this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Pt=r=>{var i,o=(i=this._instance.sessionManager)==null?void 0:i.checkAndGetSessionAndWindowId(!0);if(gn(o))nd.error("Could not read session ID. Dropping metrics!");else{this.N=this.N||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var a=this.Tt();gn(a)||(io(r==null?void 0:r.name)||io(r==null?void 0:r.value)?nd.error("Invalid metric received",r):this.It&&r.value>=this.It?nd.error("Ignoring metric with value >= "+this.It,r):(this.N.url!==a&&(this.St(),this.kt=setTimeout(this.St,this.flushToCaptureTimeoutMs)),gn(this.N.url)&&(this.N.url=a),this.N.firstMetricTimestamp=gn(this.N.firstMetricTimestamp)?Date.now():this.N.firstMetricTimestamp,r.attribution&&r.attribution.interactionTargetElement&&(r.attribution.interactionTargetElement=void 0),this.N.metrics.push(Nn({},r,{$current_url:a,$session_id:o.sessionId,$window_id:o.windowId,timestamp:Date.now()})),this.N.metrics.length===this.allowedMetrics.length&&this.St()))}},this.rt=()=>{var r,i,o,a,s=lr.__PosthogExtensions__;gn(s)||gn(s.postHogWebVitalsCallbacks)||({onLCP:r,onCLS:i,onFCP:o,onINP:a}=s.postHogWebVitalsCallbacks),r&&i&&o&&a?(this.allowedMetrics.indexOf("LCP")>-1&&r(this.Pt.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&i(this.Pt.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&o(this.Pt.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&a(this.Pt.bind(this)),this.P=!0):nd.error("web vitals callbacks not loaded - not starting")},this._instance=t,this.Et=!((n=this._instance.persistence)==null||!n.props[Bq]),this.startIfEnabled()}get allowedMetrics(){var t,n,r=Sa(this._instance.config.capture_performance)?(t=this._instance.config.capture_performance)==null?void 0:t.web_vitals_allowed_metrics:void 0;return gn(r)?((n=this._instance.persistence)==null?void 0:n.props[Hq])||["CLS","FCP","INP","LCP"]:r}get flushToCaptureTimeoutMs(){return(Sa(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get It(){var t=Sa(this._instance.config.capture_performance)&&wc(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:GW;return 0<t&&t<=6e4?GW:t}get isEnabled(){var t=$o==null?void 0:$o.protocol;if(t!=="http:"&&t!=="https:")return nd.info("Web Vitals are disabled on non-http/https protocols"),!1;var n=Sa(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:Qu(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return Qu(n)?n:this.Et}startIfEnabled(){this.isEnabled&&!this.P&&(nd.info("enabled, starting..."),this.it(this.rt))}onRemoteConfig(t){var n=Sa(t.capturePerformance)&&!!t.capturePerformance.web_vitals,r=Sa(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[Bq]:n}),this._instance.persistence.register({[Hq]:r})),this.Et=n,this.startIfEnabled()}it(t){var n,r;(n=lr.__PosthogExtensions__)!=null&&n.postHogWebVitalsCallbacks&&t(),(r=lr.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"web-vitals",(i=>{i?nd.error("failed to load script",i):t()}))}Tt(){var t=ht?ht.location.href:void 0;if(t){var n=this._instance.config.mask_personal_data_properties,r=this._instance.config.custom_personal_data_properties,i=n?Gh([],Jh,r||[]):[];return Qg(t,i,o0)}nd.error("Could not determine current URL")}}var N_e=Zo("[Heatmaps]");function KW(e){return Sa(e)&&"clientX"in e&&"clientY"in e&&wc(e.clientX)&&wc(e.clientY)}class R_e{constructor(t){var n;this.Et=!1,this.P=!1,this.Rt=null,this.instance=t,this.Et=!((n=this.instance.persistence)==null||!n.props[h5]),this.rageclicks=new cW(t.config.rageclick)}get flushIntervalMilliseconds(){var t=5e3;return Sa(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return gn(this.instance.config.capture_heatmaps)?gn(this.instance.config.enable_heatmaps)?this.Et:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.P)return;N_e.info("starting..."),this.Ft(),this.Ct()}else{var t;clearInterval((t=this.Rt)!==null&&t!==void 0?t:void 0),this.Ot(),this.getAndClearBuffer()}}onRemoteConfig(t){var n=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[h5]:n}),this.Et=n,this.startIfEnabled()}getAndClearBuffer(){var t=this.N;return this.N=void 0,t}Mt(t){this.At(t.originalEvent,"deadclick")}Ct(){this.Rt&&clearInterval(this.Rt),this.Rt=(function(t){return(t==null?void 0:t.visibilityState)==="visible"})(sn)?setInterval(this.Dt.bind(this),this.flushIntervalMilliseconds):null}Ft(){ht&&sn&&(this.jt=this.Dt.bind(this),Ho(ht,"beforeunload",this.jt),this.Lt=t=>this.At(t||(ht==null?void 0:ht.event)),Ho(sn,"click",this.Lt,{capture:!0}),this.Nt=t=>this.Ut(t||(ht==null?void 0:ht.event)),Ho(sn,"mousemove",this.Nt,{capture:!0}),this.zt=new pW(this.instance,a_e,this.Mt.bind(this)),this.zt.startIfEnabled(),this.Ht=this.Ct.bind(this),Ho(sn,"visibilitychange",this.Ht),this.P=!0)}Ot(){var t;ht&&sn&&(this.jt&&ht.removeEventListener("beforeunload",this.jt),this.Lt&&sn.removeEventListener("click",this.Lt,{capture:!0}),this.Nt&&sn.removeEventListener("mousemove",this.Nt,{capture:!0}),this.Ht&&sn.removeEventListener("visibilitychange",this.Ht),clearTimeout(this.Bt),(t=this.zt)==null||t.stop(),this.P=!1)}qt(t,n){var r=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),o=this.instance.scrollManager.scrollElement(),a=(function(s,l,c){for(var u=s;u&&Kb(u)&&!Zu(u,"body");){if(u===c)return!1;if(Br(l,ht==null?void 0:ht.getComputedStyle(u).position))return!0;u=Zq(u)}return!1})(Qq(t),["fixed","sticky"],o);return{x:t.clientX+(a?0:i),y:t.clientY+(a?0:r),target_fixed:a,type:n}}At(t,n){var r;if(n===void 0&&(n="click"),!Wq(t.target)&&KW(t)){var i=this.qt(t,n);(r=this.rageclicks)!=null&&r.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this.Wt(Nn({},i,{type:"rageclick"})),this.Wt(i)}}Ut(t){!Wq(t.target)&&KW(t)&&(clearTimeout(this.Bt),this.Bt=setTimeout((()=>{this.Wt(this.qt(t,"mousemove"))}),500))}Wt(t){if(ht){var n=ht.location.href,r=this.instance.config.mask_personal_data_properties,i=this.instance.config.custom_personal_data_properties,o=r?Gh([],Jh,i||[]):[],a=Qg(n,o,o0);this.N=this.N||{},this.N[a]||(this.N[a]=[]),this.N[a].push(t)}}Dt(){this.N&&!qh(this.N)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class j_e{constructor(t){this._instance=t}doPageView(t,n){var r,i=this.Gt(t,n);return this.Vt={pathname:(r=ht==null?void 0:ht.location.pathname)!==null&&r!==void 0?r:"",pageViewId:n,timestamp:t},this._instance.scrollManager.resetContext(),i}doPageLeave(t){var n;return this.Gt(t,(n=this.Vt)==null?void 0:n.pageViewId)}doEvent(){var t;return{$pageview_id:(t=this.Vt)==null?void 0:t.pageViewId}}Gt(t,n){var r=this.Vt;if(!r)return{$pageview_id:n};var i={$pageview_id:n,$prev_pageview_id:r.pageViewId},o=this._instance.scrollManager.getContext();if(o&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:a,lastScrollY:s,maxScrollY:l,maxContentHeight:c,lastContentY:u,maxContentY:d}=o;if(!(gn(a)||gn(s)||gn(l)||gn(c)||gn(u)||gn(d))){a=Math.ceil(a),s=Math.ceil(s),l=Math.ceil(l),c=Math.ceil(c),u=Math.ceil(u),d=Math.ceil(d);var f=a<=1?1:xc(s/a,0,1,bn),p=a<=1?1:xc(l/a,0,1,bn),g=c<=1?1:xc(u/c,0,1,bn),h=c<=1?1:xc(d/c,0,1,bn);i=Po(i,{$prev_pageview_last_scroll:s,$prev_pageview_last_scroll_percentage:f,$prev_pageview_max_scroll:l,$prev_pageview_max_scroll_percentage:p,$prev_pageview_last_content:u,$prev_pageview_last_content_percentage:g,$prev_pageview_max_content:d,$prev_pageview_max_content_percentage:h})}}return r.pathname&&(i.$prev_pageview_pathname=r.pathname),r.timestamp&&(i.$prev_pageview_duration=(t.getTime()-r.timestamp.getTime())/1e3),i}}var il=Uint8Array,ys=Uint16Array,Zh=Uint32Array,F5=new il([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),U5=new il([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),XW=new il([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),YW=function(e,t){for(var n=new ys(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new Zh(n[30]);for(r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return[n,i]},QW=YW(F5,2),L_e=QW[0],z5=QW[1];L_e[28]=258,z5[258]=28;for(var JW=YW(U5,0)[1],ZW=new ys(32768),oo=0;oo<32768;++oo){var ff=(43690&oo)>>>1|(21845&oo)<<1;ff=(61680&(ff=(52428&ff)>>>2|(13107&ff)<<2))>>>4|(3855&ff)<<4,ZW[oo]=((65280&ff)>>>8|(255&ff)<<8)>>>1}var a0=function(e,t,n){for(var r=e.length,i=0,o=new ys(t);i<r;++i)++o[e[i]-1];var a,s=new ys(t);for(i=0;i<t;++i)s[i]=s[i-1]+o[i-1]<<1;for(a=new ys(r),i=0;i<r;++i)a[i]=ZW[s[e[i]-1]++]>>>15-e[i];return a},hf=new il(288);for(oo=0;oo<144;++oo)hf[oo]=8;for(oo=144;oo<256;++oo)hf[oo]=9;for(oo=256;oo<280;++oo)hf[oo]=7;for(oo=280;oo<288;++oo)hf[oo]=8;var iw=new il(32);for(oo=0;oo<32;++oo)iw[oo]=5;var M_e=a0(hf,9),P_e=a0(iw,5),eG=function(e){return(e/8>>0)+(7&e&&1)},tG=function(e,t,n){(n==null||n>e.length)&&(n=e.length);var r=new(e instanceof ys?ys:e instanceof Zh?Zh:il)(n-t);return r.set(e.subarray(t,n)),r},uu=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},s0=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},B5=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,o=n.slice();if(!i)return[new il(0),0];if(i==1){var a=new il(n[0].s+1);return a[n[0].s]=1,[a,1]}n.sort((function(_,m){return _.f-m.f})),n.push({s:-1,f:25001});var s=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};u!=i-1;)s=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:s.f+l.f,l:s,r:l};var f=o[0].s;for(r=1;r<i;++r)o[r].s>f&&(f=o[r].s);var p=new ys(f+1),g=$5(n[u-1],p,0);if(g>t){r=0;var h=0,y=g-t,b=1<<y;for(o.sort((function(_,m){return p[m.s]-p[_.s]||_.f-m.f}));r<i;++r){var w=o[r].s;if(!(p[w]>t))break;h+=b-(1<<g-p[w]),p[w]=t}for(h>>>=y;h>0;){var S=o[r].s;p[S]<t?h-=1<<t-p[S]++-1:++r}for(;r>=0&&h;--r){var E=o[r].s;p[E]==t&&(--p[E],++h)}g=t}return[new il(p),g]},$5=function(e,t,n){return e.s==-1?Math.max($5(e.l,t,n+1),$5(e.r,t,n+1)):t[e.s]=n},nG=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new ys(++t),r=0,i=e[0],o=1,a=function(l){n[r++]=l},s=1;s<=t;++s)if(e[s]==i&&s!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)a(32754);o>2&&(a(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(a(i),--o;o>6;o-=6)a(8304);o>2&&(a(o-3<<5|8208),o=0)}for(;o--;)a(i);o=1,i=e[s]}return[n.subarray(0,r),t]},l0=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},H5=function(e,t,n){var r=n.length,i=eG(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var o=0;o<r;++o)e[i+o+4]=n[o];return 8*(i+4+r)},rG=function(e,t,n,r,i,o,a,s,l,c,u){uu(t,u++,n),++i[256];for(var d=B5(i,15),f=d[0],p=d[1],g=B5(o,15),h=g[0],y=g[1],b=nG(f),w=b[0],S=b[1],E=nG(h),_=E[0],m=E[1],C=new ys(19),T=0;T<w.length;++T)C[31&w[T]]++;for(T=0;T<_.length;++T)C[31&_[T]]++;for(var O=B5(C,7),R=O[0],j=O[1],D=19;D>4&&!R[XW[D-1]];--D);var L,V,z,B,H=c+5<<3,J=l0(i,hf)+l0(o,iw)+a,ne=l0(i,f)+l0(o,h)+a+14+3*D+l0(C,R)+(2*C[16]+3*C[17]+7*C[18]);if(H<=J&&H<=ne)return H5(t,u,e.subarray(l,l+c));if(uu(t,u,1+(ne<J)),u+=2,ne<J){L=a0(f,p),V=f,z=a0(h,y),B=h;var q=a0(R,j);for(uu(t,u,S-257),uu(t,u+5,m-1),uu(t,u+10,D-4),u+=14,T=0;T<D;++T)uu(t,u+3*T,R[XW[T]]);u+=3*D;for(var ee=[w,_],te=0;te<2;++te){var $=ee[te];for(T=0;T<$.length;++T){var ae=31&$[T];uu(t,u,q[ae]),u+=R[ae],ae>15&&(uu(t,u,$[T]>>>5&127),u+=$[T]>>>12)}}}else L=M_e,V=hf,z=P_e,B=iw;for(T=0;T<s;++T)if(r[T]>255){ae=r[T]>>>18&31,s0(t,u,L[ae+257]),u+=V[ae+257],ae>7&&(uu(t,u,r[T]>>>23&31),u+=F5[ae]);var ue=31&r[T];s0(t,u,z[ue]),u+=B[ue],ue>3&&(s0(t,u,r[T]>>>5&8191),u+=U5[ue])}else s0(t,u,L[r[T]]),u+=V[r[T]];return s0(t,u,L[256]),u+V[256]},D_e=new Zh([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F_e=(function(){for(var e=new Zh(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e})(),U_e=function(e,t,n,r,i){return(function(o,a,s,l,c,u){var d=o.length,f=new il(l+d+5*(1+Math.floor(d/7e3))+c),p=f.subarray(l,f.length-c),g=0;if(!a||d<8)for(var h=0;h<=d;h+=65535){var y=h+65535;y<d?g=H5(p,g,o.subarray(h,y)):(p[h]=u,g=H5(p,g,o.subarray(h,d)))}else{for(var b=D_e[a-1],w=b>>>13,S=8191&b,E=(1<<s)-1,_=new ys(32768),m=new ys(E+1),C=Math.ceil(s/3),T=2*C,O=function(ye){return(o[ye]^o[ye+1]<<C^o[ye+2]<<T)&E},R=new Zh(25e3),j=new ys(288),D=new ys(32),L=0,V=0,z=(h=0,0),B=0,H=0;h<d;++h){var J=O(h),ne=32767&h,q=m[J];if(_[ne]=q,m[J]=ne,B<=h){var ee=d-h;if((L>7e3||z>24576)&&ee>423){g=rG(o,p,0,R,j,D,V,z,H,h-H,g),z=L=V=0,H=h;for(var te=0;te<286;++te)j[te]=0;for(te=0;te<30;++te)D[te]=0}var $=2,ae=0,ue=S,me=ne-q&32767;if(ee>2&&J==O(h-me))for(var Fe=Math.min(w,ee)-1,Ie=Math.min(32767,h),Ee=Math.min(258,ee);me<=Ie&&--ue&&ne!=q;){if(o[h+$]==o[h+$-me]){for(var He=0;He<Ee&&o[h+He]==o[h+He-me];++He);if(He>$){if($=He,ae=me,He>Fe)break;var it=Math.min(me,He-2),St=0;for(te=0;te<it;++te){var xt=h-me+te+32768&32767,Ct=xt-_[xt]+32768&32767;Ct>St&&(St=Ct,q=xt)}}}me+=(ne=q)-(q=_[ne])+32768&32767}if(ae){R[z++]=268435456|z5[$]<<18|JW[ae];var We=31&z5[$],Oe=31&JW[ae];V+=F5[We]+U5[Oe],++j[257+We],++D[Oe],B=h+$,++L}else R[z++]=o[h],++j[o[h]]}}g=rG(o,p,u,R,j,D,V,z,H,h-H,g)}return tG(f,0,l+eG(g)+c)})(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!0)},V5=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function z_e(e,t){t===void 0&&(t={});var n=(function(){var s=4294967295;return{p:function(l){for(var c=s,u=0;u<l.length;++u)c=F_e[255&c^l[u]]^c>>>8;s=c},d:function(){return 4294967295^s}}})(),r=e.length;n.p(e);var i,o=U_e(e,t,10+((i=t).filename&&i.filename.length+1||0),8),a=o.length;return(function(s,l){var c=l.filename;if(s[0]=31,s[1]=139,s[2]=8,s[8]=l.level<2?4:l.level==9?2:0,s[9]=3,l.mtime!=0&&V5(s,4,Math.floor(new Date(l.mtime||Date.now())/1e3)),c){s[3]=8;for(var u=0;u<=c.length;++u)s[u+10]=c.charCodeAt(u)}})(o,t),V5(o,a-8,n.d()),V5(o,a-4,r),o}var B_e=function(e){var t,n,r,i,o="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,i=0;i<r;i++){var a=e.charCodeAt(i),s=null;a<128?n++:s=a>127&&a<2048?String.fromCharCode(a>>6|192,63&a|128):String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128),au(s)||(n>t&&(o+=e.substring(t,n)),o+=s,t=n=i+1)}return n>t&&(o+=e.substring(t,e.length)),o},$_e=!!o5||!!i5,iG="text/plain",ow=function(e,t,n){var r;n===void 0&&(n=!0);var[i,o]=e.split("?"),a=Nn({},t),s=(r=o==null?void 0:o.split("&").map((c=>{var u,[d,f]=c.split("="),p=n&&(u=a[d])!==null&&u!==void 0?u:f;return delete a[d],d+"="+p})))!==null&&r!==void 0?r:[],l=Wxe(a);return l&&s.push(l),i+"?"+s.join("&")},c0=(e,t)=>JSON.stringify(e,((n,r)=>typeof r=="bigint"?r.toString():r),t),q5=e=>{var{data:t,compression:n}=e;if(t){if(n===lu.GZipJS){var r=z_e((function(l,c){var u=l.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(l);for(var d=new il(l.length+(l.length>>>1)),f=0,p=function(b){d[f++]=b},g=0;g<u;++g){if(f+5>d.length){var h=new il(f+8+(u-g<<1));h.set(d),d=h}var y=l.charCodeAt(g);y<128||c?p(y):y<2048?(p(192|y>>>6),p(128|63&y)):y>55295&&y<57344?(p(240|(y=65536+(1047552&y)|1023&l.charCodeAt(++g))>>>18),p(128|y>>>12&63),p(128|y>>>6&63),p(128|63&y)):(p(224|y>>>12),p(128|y>>>6&63),p(128|63&y))}return tG(d,0,f)})(c0(t)),{mtime:0}),i=new Blob([r],{type:iG});return{contentType:iG,body:i,estimatedSize:i.size}}if(n===lu.Base64){var o=(function(l){var c,u,d,f,p,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=0,y=0,b="",w=[];if(!l)return l;l=B_e(l);do c=(p=l.charCodeAt(h++)<<16|l.charCodeAt(h++)<<8|l.charCodeAt(h++))>>18&63,u=p>>12&63,d=p>>6&63,f=63&p,w[y++]=g.charAt(c)+g.charAt(u)+g.charAt(d)+g.charAt(f);while(h<l.length);switch(b=w.join(""),l.length%3){case 1:b=b.slice(0,-2)+"==";break;case 2:b=b.slice(0,-1)+"="}return b})(c0(t)),a=(l=>"data="+encodeURIComponent(typeof l=="string"?l:c0(l)))(o);return{contentType:"application/x-www-form-urlencoded",body:a,estimatedSize:new Blob([a]).size}}var s=c0(t);return{contentType:"application/json",body:s,estimatedSize:new Blob([s]).size}}},aw=[];i5&&aw.push({transport:"fetch",method:e=>{var t,n,{contentType:r,body:i,estimatedSize:o}=(t=q5(e))!==null&&t!==void 0?t:{},a=new Headers;Yi(e.headers,(function(u,d){a.append(d,u)})),r&&a.append("Content-Type",r);var s=e.url,l=null;if(wq){var c=new wq;l={signal:c.signal,timeout:setTimeout((()=>c.abort()),e.timeout)}}i5(s,Nn({method:(e==null?void 0:e.method)||"GET",headers:a,keepalive:e.method==="POST"&&(o||0)<52428.8,body:i,signal:(n=l)==null?void 0:n.signal},e.fetchOptions)).then((u=>u.text().then((d=>{var f={statusCode:u.status,text:d};if(u.status===200)try{f.json=JSON.parse(d)}catch(p){bn.error(p)}e.callback==null||e.callback(f)})))).catch((u=>{bn.error(u),e.callback==null||e.callback({statusCode:0,text:u})})).finally((()=>l?clearTimeout(l.timeout):null))}}),o5&&aw.push({transport:"XHR",method:e=>{var t,n=new o5;n.open(e.method||"GET",e.url,!0);var{contentType:r,body:i}=(t=q5(e))!==null&&t!==void 0?t:{};Yi(e.headers,(function(o,a){n.setRequestHeader(a,o)})),r&&n.setRequestHeader("Content-Type",r),e.timeout&&(n.timeout=e.timeout),e.disableXHRCredentials||(n.withCredentials=!0),n.onreadystatechange=()=>{if(n.readyState===4){var o={statusCode:n.status,text:n.responseText};if(n.status===200)try{o.json=JSON.parse(n.responseText)}catch{}e.callback==null||e.callback(o)}},n.send(i)}}),Pa!=null&&Pa.sendBeacon&&aw.push({transport:"sendBeacon",method:e=>{var t=ow(e.url,{beacon:"1"});try{var n,{contentType:r,body:i}=(n=q5(e))!==null&&n!==void 0?n:{},o=typeof i=="string"?new Blob([i],{type:r}):i;Pa.sendBeacon(t,o)}catch{}}});var ep=function(e,t){if(!(function(n){try{new RegExp(n)}catch{return!1}return!0})(t))return!1;try{return new RegExp(t).test(e)}catch{return!1}};function oG(e,t,n){return c0({distinct_id:e,userPropertiesToSet:t,userPropertiesToSetOnce:n})}var aG={exact:(e,t)=>t.some((n=>e.some((r=>n===r)))),is_not:(e,t)=>t.every((n=>e.every((r=>n!==r)))),regex:(e,t)=>t.some((n=>e.some((r=>ep(n,r))))),not_regex:(e,t)=>t.every((n=>e.every((r=>!ep(n,r))))),icontains:(e,t)=>t.map(sw).some((n=>e.map(sw).some((r=>n.includes(r))))),not_icontains:(e,t)=>t.map(sw).every((n=>e.map(sw).every((r=>!n.includes(r)))))},sw=e=>e.toLowerCase(),W5=Zo("[Error tracking]");class H_e{constructor(t){var n,r;this.Jt=[],this.Kt=new fxe([new xxe,new kxe,new Exe,new _xe,new Ixe,new Axe,new Cxe,new Oxe],wxe("web:javascript",gxe,bxe)),this._instance=t,this.Jt=(n=(r=this._instance.persistence)==null?void 0:r.get_property(p5))!==null&&n!==void 0?n:[]}onRemoteConfig(t){var n,r,i,o=(n=(r=t.errorTracking)==null?void 0:r.suppressionRules)!==null&&n!==void 0?n:[],a=(i=t.errorTracking)==null?void 0:i.captureExtensionExceptions;this.Jt=o,this._instance.persistence&&this._instance.persistence.register({[p5]:this.Jt,[zq]:a})}get Yt(){var t,n=!!this._instance.get_property(zq),r=this._instance.config.error_tracking.captureExtensionExceptions;return(t=r??n)!==null&&t!==void 0&&t}buildProperties(t,n){return this.Kt.buildFromUnknown(t,{syntheticException:n==null?void 0:n.syntheticException,mechanism:{handled:n==null?void 0:n.handled}})}sendExceptionEvent(t){var n=t.$exception_list;if(this.Xt(n)){if(this.Qt(n))return void W5.info("Skipping exception capture because a suppression rule matched");if(!this.Yt&&this.Zt(n))return void W5.info("Skipping exception capture because it was thrown by an extension");if(!this._instance.config.error_tracking.__capturePostHogExceptions&&this.ti(n))return void W5.info("Skipping exception capture because it was thrown by the PostHog SDK")}return this._instance.capture("$exception",t,{_noTruncate:!0,_batchKey:"exceptionEvent"})}Qt(t){if(t.length===0)return!1;var n=t.reduce(((r,i)=>{var{type:o,value:a}=i;return Jo(o)&&o.length>0&&r.$exception_types.push(o),Jo(a)&&a.length>0&&r.$exception_values.push(a),r}),{$exception_types:[],$exception_values:[]});return this.Jt.some((r=>{var i=r.values.map((o=>{var a,s=aG[o.operator],l=Xi(o.value)?o.value:[o.value],c=(a=n[o.key])!==null&&a!==void 0?a:[];return l.length>0&&s(l,c)}));return r.type==="OR"?i.some(Boolean):i.every(Boolean)}))}Zt(t){return t.flatMap((n=>{var r,i;return(r=(i=n.stacktrace)==null?void 0:i.frames)!==null&&r!==void 0?r:[]})).some((n=>n.filename&&n.filename.startsWith("chrome-extension://")))}ti(t){if(t.length>0){var n,r,i,o,a=(n=(r=t[0].stacktrace)==null?void 0:r.frames)!==null&&n!==void 0?n:[],s=a[a.length-1];return(i=s==null||(o=s.filename)==null?void 0:o.includes("posthog.com/static"))!==null&&i!==void 0&&i}return!1}Xt(t){return!io(t)&&Xi(t)}}var Dl=Zo("[FeatureFlags]"),u0=Zo("[FeatureFlags]",{debugEnabled:!0}),G5="$active_feature_flags",tp="$override_feature_flags",sG="$feature_flag_payloads",d0="$override_feature_flag_payloads",lG="$feature_flag_request_id",cG=e=>{var t={};for(var[n,r]of $b(e||{}))r&&(t[n]=r);return t},V_e=e=>{var t=e.flags;return t?(e.featureFlags=Object.fromEntries(Object.keys(t).map((n=>{var r;return[n,(r=t[n].variant)!==null&&r!==void 0?r:t[n].enabled]}))),e.featureFlagPayloads=Object.fromEntries(Object.keys(t).filter((n=>t[n].enabled)).filter((n=>{var r;return(r=t[n].metadata)==null?void 0:r.payload})).map((n=>{var r;return[n,(r=t[n].metadata)==null?void 0:r.payload]})))):Dl.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),e},q_e=(function(e){return e.FeatureFlags="feature_flags",e.Recordings="recordings",e})({});class W_e{constructor(t){this.ii=!1,this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this._instance=t,this.featureFlagEventHandlers=[]}li(){var t=this._instance.config.evaluation_environments;return t!=null&&t.length?t.filter((n=>{var r=n&&typeof n=="string"&&n.trim().length>0;return r||Dl.error("Invalid evaluation environment found:",n,"Expected non-empty string"),r})):[]}ui(){return this.li().length>0}flags(){if(this._instance.config.__preview_remote_config)this.oi=!0;else{var t=!this.hi&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.di({disableFlags:t})}}get hasLoadedFlags(){return this.ei}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var t=this._instance.get_property(g5),n=this._instance.get_property(tp),r=this._instance.get_property(d0);if(!r&&!n)return t||{};var i=Po({},t||{}),o=[...new Set([...Object.keys(r||{}),...Object.keys(n||{})])];for(var a of o){var s,l,c=i[a],u=n==null?void 0:n[a],d=gn(u)?(s=c==null?void 0:c.enabled)!==null&&s!==void 0&&s:!!u,f=gn(u)?c.variant:typeof u=="string"?u:void 0,p=r==null?void 0:r[a],g=Nn({},c,{enabled:d,variant:d?f??(c==null?void 0:c.variant):void 0});d!==(c==null?void 0:c.enabled)&&(g.original_enabled=c==null?void 0:c.enabled),f!==(c==null?void 0:c.variant)&&(g.original_variant=c==null?void 0:c.variant),p&&(g.metadata=Nn({},c==null?void 0:c.metadata,{payload:p,original_payload:c==null||(l=c.metadata)==null?void 0:l.payload})),i[a]=g}return this.ii||(Dl.warn(" Overriding feature flag details!",{flagDetails:t,overriddenPayloads:r,finalDetails:i}),this.ii=!0),i}getFlagVariants(){var t=this._instance.get_property(Kh),n=this._instance.get_property(tp);if(!n)return t||{};for(var r=Po({},t),i=Object.keys(n),o=0;o<i.length;o++)r[i[o]]=n[i[o]];return this.ii||(Dl.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:n,finalFlags:r}),this.ii=!0),r}getFlagPayloads(){var t=this._instance.get_property(sG),n=this._instance.get_property(d0);if(!n)return t||{};for(var r=Po({},t||{}),i=Object.keys(n),o=0;o<i.length;o++)r[i[o]]=n[i[o]];return this.ii||(Dl.warn(" Overriding feature flag payloads!",{flagPayloads:t,overriddenPayloads:n,finalPayloads:r}),this.ii=!0),r}reloadFeatureFlags(){this.si||this._instance.config.advanced_disable_feature_flags||this.hi||(this.hi=setTimeout((()=>{this.di()}),5))}vi(){clearTimeout(this.hi),this.hi=void 0}ensureFlagsLoaded(){this.ei||this.ri||this.hi||this.reloadFeatureFlags()}setAnonymousDistinctId(t){this.$anon_distinct_id=t}setReloadingPaused(t){this.si=t}di(t){var n;if(this.vi(),!this._instance.M())if(this.ri)this.ni=!0;else{var r={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:Nn({},((n=this._instance.persistence)==null?void 0:n.get_initial_props())||{},this._instance.get_property(Gg)||{}),group_properties:this._instance.get_property(cf)};(t!=null&&t.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(r.disable_flags=!0),this.ui()&&(r.evaluation_environments=this.li());var i=this._instance.config.__preview_remote_config,o=i?"/flags/?v=2":"/flags/?v=2&config=true",a=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",s=this._instance.requestRouter.endpointFor("flags",o+a);i&&(r.timezone=WW()),this.ri=!0,this._instance.ci({method:"POST",url:s,data:r,compression:this._instance.config.disable_compression?void 0:lu.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:l=>{var c,u,d=!0;if(l.statusCode===200&&(this.ni||(this.$anon_distinct_id=void 0),d=!1),this.ri=!1,this.oi||(this.oi=!0,this._instance.fi((u=l.json)!==null&&u!==void 0?u:{})),!r.disable_flags||this.ni)if(this.ai=!d,l.json&&(c=l.json.quotaLimited)!=null&&c.includes(q_e.FeatureFlags))Dl.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var f;r.disable_flags||this.receivedFeatureFlags((f=l.json)!==null&&f!==void 0?f:{},d),this.ni&&(this.ni=!1,this.di())}}})}}getFeatureFlag(t,n){if(n===void 0&&(n={}),this.ei||this.getFlags()&&this.getFlags().length>0){var r=this.getFlagVariants()[t],i=""+r,o=this._instance.get_property(lG)||void 0,a=this._instance.get_property(qb)||{};if((n.send_event||!("send_event"in n))&&(!(t in a)||!a[t].includes(i))){var s,l,c,u,d,f,p,g,h;Xi(a[t])?a[t].push(i):a[t]=[i],(s=this._instance.persistence)==null||s.register({[qb]:a});var y=this.getFeatureFlagDetails(t),b={$feature_flag:t,$feature_flag_response:r,$feature_flag_payload:this.getFeatureFlagPayload(t)||null,$feature_flag_request_id:o,$feature_flag_bootstrapped_response:((l=this._instance.config.bootstrap)==null||(l=l.featureFlags)==null?void 0:l[t])||null,$feature_flag_bootstrapped_payload:((c=this._instance.config.bootstrap)==null||(c=c.featureFlagPayloads)==null?void 0:c[t])||null,$used_bootstrap_value:!this.ai};gn(y==null||(u=y.metadata)==null?void 0:u.version)||(b.$feature_flag_version=y.metadata.version);var w,S=(d=y==null||(f=y.reason)==null?void 0:f.description)!==null&&d!==void 0?d:y==null||(p=y.reason)==null?void 0:p.code;S&&(b.$feature_flag_reason=S),y!=null&&(g=y.metadata)!=null&&g.id&&(b.$feature_flag_id=y.metadata.id),gn(y==null?void 0:y.original_variant)&&gn(y==null?void 0:y.original_enabled)||(b.$feature_flag_original_response=gn(y.original_variant)?y.original_enabled:y.original_variant),y!=null&&(h=y.metadata)!=null&&h.original_payload&&(b.$feature_flag_original_payload=y==null||(w=y.metadata)==null?void 0:w.original_payload),this._instance.capture("$feature_flag_called",b)}return r}Dl.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(t){return this.getFlagsWithDetails()[t]}getFeatureFlagPayload(t){return this.getFlagPayloads()[t]}getRemoteConfigPayload(t,n){var r=this._instance.config.token,i={distinct_id:this._instance.get_distinct_id(),token:r};this.ui()&&(i.evaluation_environments=this.li()),this._instance.ci({method:"POST",url:this._instance.requestRouter.endpointFor("flags","/flags/?v=2&config=true"),data:i,compression:this._instance.config.disable_compression?void 0:lu.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:o=>{var a,s=(a=o.json)==null?void 0:a.featureFlagPayloads;n((s==null?void 0:s[t])||void 0)}})}isFeatureEnabled(t,n){if(n===void 0&&(n={}),this.ei||this.getFlags()&&this.getFlags().length>0){var r=this.getFeatureFlag(t,n);return gn(r)?void 0:!!r}Dl.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(t){this.featureFlagEventHandlers.push(t)}removeFeatureFlagsHandler(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter((n=>n!==t))}receivedFeatureFlags(t,n){if(this._instance.persistence){this.ei=!0;var r=this.getFlagVariants(),i=this.getFlagPayloads(),o=this.getFlagsWithDetails();(function(a,s,l,c,u){l===void 0&&(l={}),c===void 0&&(c={}),u===void 0&&(u={});var d=V_e(a),f=d.flags,p=d.featureFlags,g=d.featureFlagPayloads;if(p){var h=a.requestId;if(Xi(p)){Dl.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var y={};if(p)for(var b=0;b<p.length;b++)y[p[b]]=!0;s&&s.register({[G5]:p,[Kh]:y})}else{var w=p,S=g,E=f;a.errorsWhileComputingFlags&&(w=Nn({},l,w),S=Nn({},c,S),E=Nn({},u,E)),s&&s.register(Nn({[G5]:Object.keys(cG(w)),[Kh]:w||{},[sG]:S||{},[g5]:E||{}},h?{[lG]:h}:{}))}}})(t,this._instance.persistence,r,i,o),this.pi(n)}}override(t,n){n===void 0&&(n=!1),Dl.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:t,suppressWarning:n})}overrideFeatureFlags(t){if(!this._instance.__loaded||!this._instance.persistence)return Dl.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(t===!1)return this._instance.persistence.unregister(tp),this._instance.persistence.unregister(d0),this.pi(),u0.info("All overrides cleared");if(t&&typeof t=="object"&&("flags"in t||"payloads"in t)){var n,r=t;if(this.ii=!!((n=r.suppressWarning)!==null&&n!==void 0&&n),"flags"in r){if(r.flags===!1)this._instance.persistence.unregister(tp),u0.info("Flag overrides cleared");else if(r.flags){if(Xi(r.flags)){for(var i={},o=0;o<r.flags.length;o++)i[r.flags[o]]=!0;this._instance.persistence.register({[tp]:i})}else this._instance.persistence.register({[tp]:r.flags});u0.info("Flag overrides set",{flags:r.flags})}}return"payloads"in r&&(r.payloads===!1?(this._instance.persistence.unregister(d0),u0.info("Payload overrides cleared")):r.payloads&&(this._instance.persistence.register({[d0]:r.payloads}),u0.info("Payload overrides set",{payloads:r.payloads}))),void this.pi()}this.pi()}onFeatureFlags(t){if(this.addFeatureFlagsHandler(t),this.ei){var{flags:n,flagVariants:r}=this.gi();t(n,r)}return()=>this.removeFeatureFlagsHandler(t)}updateEarlyAccessFeatureEnrollment(t,n,r){var i,o=(this._instance.get_property(Wg)||[]).find((c=>c.flagKey===t)),a={["$feature_enrollment/"+t]:n},s={$feature_flag:t,$feature_enrollment:n,$set:a};o&&(s.$early_access_feature_name=o.name),r&&(s.$feature_enrollment_stage=r),this._instance.capture("$feature_enrollment_update",s),this.setPersonPropertiesForFlags(a,!1);var l=Nn({},this.getFlagVariants(),{[t]:n});(i=this._instance.persistence)==null||i.register({[G5]:Object.keys(cG(l)),[Kh]:l}),this.pi()}getEarlyAccessFeatures(t,n,r){n===void 0&&(n=!1);var i=this._instance.get_property(Wg),o=r?"&"+r.map((a=>"stage="+a)).join("&"):"";if(i&&!n)return t(i);this._instance.ci({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+o),method:"GET",callback:a=>{var s,l;if(a.json){var c=a.json.earlyAccessFeatures;return(s=this._instance.persistence)==null||s.unregister(Wg),(l=this._instance.persistence)==null||l.register({[Wg]:c}),t(c)}}})}gi(){var t=this.getFlags(),n=this.getFlagVariants();return{flags:t.filter((r=>n[r])),flagVariants:Object.keys(n).filter((r=>n[r])).reduce(((r,i)=>(r[i]=n[i],r)),{})}}pi(t){var{flags:n,flagVariants:r}=this.gi();this.featureFlagEventHandlers.forEach((i=>i(n,r,{errorsLoading:t})))}setPersonPropertiesForFlags(t,n){n===void 0&&(n=!0);var r=this._instance.get_property(Gg)||{};this._instance.register({[Gg]:Nn({},r,t)}),n&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(Gg)}setGroupPropertiesForFlags(t,n){n===void 0&&(n=!0);var r=this._instance.get_property(cf)||{};Object.keys(r).length!==0&&Object.keys(r).forEach((i=>{r[i]=Nn({},r[i],t[i]),delete t[i]})),this._instance.register({[cf]:Nn({},r,t)}),n&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(t){if(t){var n=this._instance.get_property(cf)||{};this._instance.register({[cf]:Nn({},n,{[t]:{}})})}else this._instance.unregister(cf)}reset(){this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this.$anon_distinct_id=void 0,this.vi(),this.ii=!1}}var G_e=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class K5{constructor(t,n){this.F=t,this.props={},this.mi=!1,this.yi=(r=>{var i="";return r.token&&(i=r.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),r.persistence_name?"ph_"+r.persistence_name:"ph_"+i+"_posthog"})(t),this.Y=this.bi(t),this.load(),t.debug&&bn.info("Persistence loaded",t.persistence,Nn({},this.props)),this.update_config(t,t,n),this.save()}isDisabled(){return!!this.wi}bi(t){G_e.indexOf(t.persistence.toLowerCase())===-1&&(bn.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var n=t.persistence.toLowerCase();return n==="localstorage"&&xo.H()?xo:n==="localstorage+cookie"&&Zb.H()?Zb:n==="sessionstorage"&&Ca.H()?Ca:n==="memory"?i_e:n==="cookie"?_c:Zb.H()?Zb:_c}properties(){var t={};return Yi(this.props,(function(n,r){if(r===Kh&&Sa(n))for(var i=Object.keys(n),o=0;o<i.length;o++)t["$feature/"+i[o]]=n[i[o]];else s=r,l=!1,(au(a=Pxe)?l:bq&&a.indexOf===bq?a.indexOf(s)!=-1:(Yi(a,(function(c){if(l||(l=c===s))return Bb})),l))||(t[r]=n);var a,s,l})),t}load(){if(!this.wi){var t=this.Y.W(this.yi);t&&(this.props=Po({},t))}}save(){this.wi||this.Y.G(this.yi,this.props,this.xi,this.$i,this.Ei,this.F.debug)}remove(){this.Y.V(this.yi,!1),this.Y.V(this.yi,!0)}clear(){this.remove(),this.props={}}register_once(t,n,r){if(Sa(t)){gn(n)&&(n="None"),this.xi=gn(r)?this.Si:r;var i=!1;if(Yi(t,((o,a)=>{this.props.hasOwnProperty(a)&&this.props[a]!==n||(this.props[a]=o,i=!0)})),i)return this.save(),!0}return!1}register(t,n){if(Sa(t)){this.xi=gn(n)?this.Si:n;var r=!1;if(Yi(t,((i,o)=>{t.hasOwnProperty(o)&&this.props[o]!==i&&(this.props[o]=i,r=!0)})),r)return this.save(),!0}return!1}unregister(t){t in this.props&&(delete this.props[t],this.save())}update_campaign_params(){if(!this.mi){var t=UW(this.F.custom_campaign_params,this.F.mask_personal_data_properties,this.F.custom_personal_data_properties);qh(f5(t))||this.register(t),this.mi=!0}}update_search_keyword(){var t;this.register((t=sn==null?void 0:sn.referrer)?BW(t):{})}update_referrer_info(){var t;this.register_once({$referrer:HW(),$referring_domain:sn!=null&&sn.referrer&&((t=Yb(sn.referrer))==null?void 0:t.host)||"$direct"},void 0)}set_initial_person_info(){this.props[w5]||this.props[x5]||this.register_once({[Wb]:VW(this.F.mask_personal_data_properties,this.F.custom_personal_data_properties)},void 0)}get_initial_props(){var t={};Yi([x5,w5],(a=>{var s=this.props[a];s&&Yi(s,(function(l,c){t["$initial_"+a5(c)]=l}))}));var n,r,i=this.props[Wb];if(i){var o=(n=qW(i),r={},Yi(n,(function(a,s){r["$initial_"+a5(s)]=a})),r);Po(t,o)}return t}safe_merge(t){return Yi(this.props,(function(n,r){r in t||(t[r]=n)})),t}update_config(t,n,r){if(this.Si=this.xi=t.cookie_expiration,this.set_disabled(t.disable_persistence||!!r),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==n.persistence){var i=this.bi(t),o=this.props;this.clear(),this.Y=i,this.props=o,this.save()}}set_disabled(t){this.wi=t,this.wi?this.remove():this.save()}set_cross_subdomain(t){t!==this.$i&&(this.$i=t,this.remove(),this.save())}set_secure(t){t!==this.Ei&&(this.Ei=t,this.remove(),this.save())}set_event_timer(t,n){var r=this.props[qg]||{};r[t]=n,this.props[qg]=r,this.save()}remove_event_timer(t){var n=(this.props[qg]||{})[t];return gn(n)||(delete this.props[qg][t],this.save()),n}get_property(t){return this.props[t]}set_property(t,n){this.props[t]=n,this.save()}}(function(e){return e.Button="button",e.Tab="tab",e.Selector="selector",e})({}),(function(e){return e.TopLeft="top_left",e.TopRight="top_right",e.TopCenter="top_center",e.MiddleLeft="middle_left",e.MiddleRight="middle_right",e.MiddleCenter="middle_center",e.Left="left",e.Center="center",e.Right="right",e.NextToTrigger="next_to_trigger",e})({}),(function(e){return e.Top="top",e.Left="left",e.Right="right",e.Bottom="bottom",e})({});var X5=(function(e){return e.Popover="popover",e.API="api",e.Widget="widget",e.ExternalSurvey="external_survey",e})({});(function(e){return e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link",e})({}),(function(e){return e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question",e})({}),(function(e){return e.Once="once",e.Recurring="recurring",e.Always="always",e})({});var lw=(function(e){return e.SHOWN="survey shown",e.DISMISSED="survey dismissed",e.SENT="survey sent",e})({}),uG=(function(e){return e.SURVEY_ID="$survey_id",e.SURVEY_NAME="$survey_name",e.SURVEY_RESPONSE="$survey_response",e.SURVEY_ITERATION="$survey_iteration",e.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",e.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",e.SURVEY_SUBMISSION_ID="$survey_submission_id",e.SURVEY_QUESTIONS="$survey_questions",e.SURVEY_COMPLETED="$survey_completed",e})({}),dG=(function(e){return e.Popover="popover",e.Inline="inline",e})({});class Y5{constructor(){this.ki={},this.ki={}}on(t,n){return this.ki[t]||(this.ki[t]=[]),this.ki[t].push(n),()=>{this.ki[t]=this.ki[t].filter((r=>r!==n))}}emit(t,n){for(var r of this.ki[t]||[])r(n);for(var i of this.ki["*"]||[])i(t,n)}}class pf{constructor(t){this.Pi=new Y5,this.Ti=(n,r)=>this.Ii(n,r)&&this.Ri(n,r)&&this.Fi(n,r),this.Ii=(n,r)=>r==null||!r.event||(n==null?void 0:n.event)===(r==null?void 0:r.event),this._instance=t,this.Ci=new Set,this.Oi=new Set}init(){var t;if(!gn((t=this._instance)==null?void 0:t.Mi)){var n;(n=this._instance)==null||n.Mi(((r,i)=>{this.on(r,i)}))}}register(t){var n,r;if(!gn((n=this._instance)==null?void 0:n.Mi)&&(t.forEach((a=>{var s,l;(s=this.Oi)==null||s.add(a),(l=a.steps)==null||l.forEach((c=>{var u;(u=this.Ci)==null||u.add((c==null?void 0:c.event)||"")}))})),(r=this._instance)!=null&&r.autocapture)){var i,o=new Set;t.forEach((a=>{var s;(s=a.steps)==null||s.forEach((l=>{l!=null&&l.selector&&o.add(l==null?void 0:l.selector)}))})),(i=this._instance)==null||i.autocapture.setElementSelectors(o)}}on(t,n){var r;n!=null&&t.length!=0&&(this.Ci.has(t)||this.Ci.has(n==null?void 0:n.event))&&this.Oi&&((r=this.Oi)==null?void 0:r.size)>0&&this.Oi.forEach((i=>{this.Ai(n,i)&&this.Pi.emit("actionCaptured",i.name)}))}Di(t){this.onAction("actionCaptured",(n=>t(n)))}Ai(t,n){if((n==null?void 0:n.steps)==null)return!1;for(var r of n.steps)if(this.Ti(t,r))return!0;return!1}onAction(t,n){return this.Pi.on(t,n)}Ri(t,n){if(n!=null&&n.url){var r,i=t==null||(r=t.properties)==null?void 0:r.$current_url;if(!i||typeof i!="string"||!pf.ji(i,n==null?void 0:n.url,(n==null?void 0:n.url_matching)||"contains"))return!1}return!0}static ji(t,n,r){switch(r){case"regex":return!!ht&&ep(t,n);case"exact":return n===t;case"contains":var i=pf.Li(n).replace(/_/g,".").replace(/%/g,".*");return ep(t,i);default:return!1}}static Li(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}Fi(t,n){if((n!=null&&n.href||n!=null&&n.tag_name||n!=null&&n.text)&&!this.Ni(t).some((o=>!(n!=null&&n.href&&!pf.ji(o.href||"",n==null?void 0:n.href,(n==null?void 0:n.href_matching)||"exact"))&&(n==null||!n.tag_name||o.tag_name===(n==null?void 0:n.tag_name))&&!(n!=null&&n.text&&!pf.ji(o.text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact")&&!pf.ji(o.$el_text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact")))))return!1;if(n!=null&&n.selector){var r,i=t==null||(r=t.properties)==null?void 0:r.$element_selectors;if(!i||!i.includes(n==null?void 0:n.selector))return!1}return!0}Ni(t){return(t==null?void 0:t.properties.$elements)==null?[]:t==null?void 0:t.properties.$elements}}var Mi=Zo("[Surveys]"),Q5="seenSurvey_",K_e=(e,t)=>{var n="$survey_"+t+"/"+e.id;return e.current_iteration&&e.current_iteration>0&&(n="$survey_"+t+"/"+e.id+"/"+e.current_iteration),n},fG=e=>{var t=""+Q5+e.id;return e.current_iteration&&e.current_iteration>0&&(t=""+Q5+e.id+"_"+e.current_iteration),t},X_e=[X5.Popover,X5.Widget,X5.API],Y_e={ignoreConditions:!1,ignoreDelay:!1,displayType:dG.Popover};class Q_e{constructor(t){this._instance=t,this.Ui=new Map,this.zi=new Map}register(t){var n;gn((n=this._instance)==null?void 0:n.Mi)||(this.Hi(t),this.Bi(t))}Bi(t){var n=t.filter((r=>{var i,o;return((i=r.conditions)==null?void 0:i.actions)&&((o=r.conditions)==null||(o=o.actions)==null||(o=o.values)==null?void 0:o.length)>0}));n.length!==0&&(this.qi==null&&(this.qi=new pf(this._instance),this.qi.init(),this.qi.Di((r=>{this.onAction(r)}))),n.forEach((r=>{var i,o,a,s,l;r.conditions&&(i=r.conditions)!=null&&i.actions&&(o=r.conditions)!=null&&(o=o.actions)!=null&&o.values&&((a=r.conditions)==null||(a=a.actions)==null||(a=a.values)==null?void 0:a.length)>0&&((s=this.qi)==null||s.register(r.conditions.actions.values),(l=r.conditions)==null||(l=l.actions)==null||(l=l.values)==null||l.forEach((c=>{if(c&&c.name){var u=this.zi.get(c.name);u&&u.push(r.id),this.zi.set(c.name,u||[r.id])}})))})))}Hi(t){var n;t.filter((r=>{var i,o;return((i=r.conditions)==null?void 0:i.events)&&((o=r.conditions)==null||(o=o.events)==null||(o=o.values)==null?void 0:o.length)>0})).length!==0&&((n=this._instance)==null||n.Mi(((r,i)=>{this.onEvent(r,i)})),t.forEach((r=>{var i;(i=r.conditions)==null||(i=i.events)==null||(i=i.values)==null||i.forEach((o=>{if(o&&o.name){var a=this.Ui.get(o.name);a&&a.push(r.id),this.Ui.set(o.name,a||[r.id])}}))})))}onEvent(t,n){var r,i,o=((r=this._instance)==null||(r=r.persistence)==null?void 0:r.props[Vb])||[];if(lw.SHOWN===t&&n&&o.length>0){var a;Mi.info("survey event matched, removing survey from activated surveys",{event:t,eventPayload:n,existingActivatedSurveys:o});var s=n==null||(a=n.properties)==null?void 0:a.$survey_id;if(s){var l=o.indexOf(s);l>=0&&(o.splice(l,1),this.Wi(o))}}else if(this.Ui.has(t)){Mi.info("survey event name matched",{event:t,eventPayload:n,surveys:this.Ui.get(t)});var c=[];(i=this._instance)==null||i.getSurveys((d=>{c=d.filter((f=>{var p;return(p=this.Ui.get(t))==null?void 0:p.includes(f.id)}))}));var u=c.filter((d=>{var f,p=(f=d.conditions)==null||(f=f.events)==null||(f=f.values)==null?void 0:f.find((g=>g.name===t));return!!p&&(!p.propertyFilters||Object.entries(p.propertyFilters).every((g=>{var h,[y,b]=g,w=n==null||(h=n.properties)==null?void 0:h[y];if(gn(w)||au(w))return!1;var S=[String(w)],E=aG[b.operator];return E?E(b.values,S):(Mi.warn("Unknown property comparison operator: "+b.operator),!1)})))}));this.Wi(o.concat(u.map((d=>d.id))||[]))}}onAction(t){var n,r=((n=this._instance)==null||(n=n.persistence)==null?void 0:n.props[Vb])||[];this.zi.has(t)&&this.Wi(r.concat(this.zi.get(t)||[]))}Wi(t){var n;Mi.info("updating activated surveys",{activatedSurveys:t}),(n=this._instance)==null||(n=n.persistence)==null||n.register({[Vb]:[...new Set(t)]})}getSurveys(){var t,n=(t=this._instance)==null||(t=t.persistence)==null?void 0:t.props[Vb];return n||[]}getEventToSurveys(){return this.Ui}Gi(){return this.qi}}class J_e{constructor(t){this.Vi=void 0,this._surveyManager=null,this.Ji=!1,this.Ki=!1,this.Yi=[],this._instance=t,this._surveyEventReceiver=null}onRemoteConfig(t){if(!this._instance.config.disable_surveys){var n=t.surveys;if(io(n))return Mi.warn("Flags not loaded yet. Not loading surveys.");var r=Xi(n);this.Vi=r?n.length>0:n,Mi.info("flags response received, isSurveysEnabled: "+this.Vi),this.loadIfEnabled()}}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var t=[],n=0;n<localStorage.length;n++){var r=localStorage.key(n);(r!=null&&r.startsWith(Q5)||r!=null&&r.startsWith("inProgressSurvey_"))&&t.push(r)}t.forEach((i=>localStorage.removeItem(i)))}loadIfEnabled(){if(!this._surveyManager)if(this.Ki)Mi.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)Mi.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())Mi.info("Not loading surveys in cookieless mode without consent.");else{var t=lr==null?void 0:lr.__PosthogExtensions__;if(t){if(!gn(this.Vi)||this._instance.config.advanced_enable_surveys){var n=this.Vi||this._instance.config.advanced_enable_surveys;this.Ki=!0;try{var r=t.generateSurveys;if(r)return void this.Xi(r,n);var i=t.loadExternalDependency;if(!i)return void this.Qi("PostHog loadExternalDependency extension not found.");i(this._instance,"surveys",(o=>{o||!t.generateSurveys?this.Qi("Could not load surveys script",o):this.Xi(t.generateSurveys,n)}))}catch(o){throw this.Qi("Error initializing surveys",o),o}finally{this.Ki=!1}}}else Mi.error("PostHog Extensions not found.")}}Xi(t,n){this._surveyManager=t(this._instance,n),this._surveyEventReceiver=new Q_e(this._instance),Mi.info("Surveys loaded successfully"),this.Zi({isLoaded:!0})}Qi(t,n){Mi.error(t,n),this.Zi({isLoaded:!1,error:t})}onSurveysLoaded(t){return this.Yi.push(t),this._surveyManager&&this.Zi({isLoaded:!0}),()=>{this.Yi=this.Yi.filter((n=>n!==t))}}getSurveys(t,n){if(n===void 0&&(n=!1),this._instance.config.disable_surveys)return Mi.info("Disabled. Not loading surveys."),t([]);var r=this._instance.get_property(y5);if(r&&!n)return t(r,{isLoaded:!0});if(this.Ji)return t([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.Ji=!0,this._instance.ci({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:i=>{var o;this.Ji=!1;var a=i.statusCode;if(a!==200||!i.json){var s="Surveys API could not be loaded, status: "+a;return Mi.error(s),t([],{isLoaded:!1,error:s})}var l,c=i.json.surveys||[],u=c.filter((d=>(function(f){return!(!f.start_date||f.end_date)})(d)&&((function(f){var p;return!((p=f.conditions)==null||(p=p.events)==null||(p=p.values)==null||!p.length)})(d)||(function(f){var p;return!((p=f.conditions)==null||(p=p.actions)==null||(p=p.values)==null||!p.length)})(d))));return u.length>0&&((l=this._surveyEventReceiver)==null||l.register(u)),(o=this._instance.persistence)==null||o.register({[y5]:c}),t(c,{isLoaded:!0})}})}catch(i){throw this.Ji=!1,i}}Zi(t){for(var n of this.Yi)try{if(!t.isLoaded)return n([],t);this.getSurveys(n)}catch(r){Mi.error("Error in survey callback",r)}}getActiveMatchingSurveys(t,n){if(n===void 0&&(n=!1),!io(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(t,n);Mi.warn("init was not called")}te(t){var n=null;return this.getSurveys((r=>{var i;n=(i=r.find((o=>o.id===t)))!==null&&i!==void 0?i:null})),n}ie(t){if(io(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var n=typeof t=="string"?this.te(t):t;return n?this._surveyManager.checkSurveyEligibility(n):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(t){if(io(this._surveyManager))return Mi.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var n=this.ie(t);return{visible:n.eligible,disabledReason:n.reason}}canRenderSurveyAsync(t,n){return io(this._surveyManager)?(Mi.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise((r=>{this.getSurveys((i=>{var o,a=(o=i.find((l=>l.id===t)))!==null&&o!==void 0?o:null;if(a){var s=this.ie(a);r({visible:s.eligible,disabledReason:s.reason})}else r({visible:!1,disabledReason:"Survey not found"})}),n)}))}renderSurvey(t,n){var r;if(io(this._surveyManager))Mi.warn("init was not called");else{var i=typeof t=="string"?this.te(t):t;if(i!=null&&i.id)if(X_e.includes(i.type)){var o=sn==null?void 0:sn.querySelector(n);if(o)return(r=i.appearance)!=null&&r.surveyPopupDelaySeconds?(Mi.info("Rendering survey "+i.id+" with delay of "+i.appearance.surveyPopupDelaySeconds+" seconds"),void setTimeout((()=>{var a,s;Mi.info("Rendering survey "+i.id+" with delay of "+((a=i.appearance)==null?void 0:a.surveyPopupDelaySeconds)+" seconds"),(s=this._surveyManager)==null||s.renderSurvey(i,o),Mi.info("Survey "+i.id+" rendered")}),1e3*i.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(i,o);Mi.warn("Survey element not found")}else Mi.warn("Surveys of type "+i.type+" cannot be rendered in the app");else Mi.warn("Survey not found")}}displaySurvey(t,n){var r;if(io(this._surveyManager))Mi.warn("init was not called");else{var i=this.te(t);if(i){var o=i;if((r=i.appearance)!=null&&r.surveyPopupDelaySeconds&&n.ignoreDelay&&(o=Nn({},i,{appearance:Nn({},i.appearance,{surveyPopupDelaySeconds:0})})),n.ignoreConditions===!1){var a=this.canRenderSurvey(i);if(!a.visible)return void Mi.warn("Survey is not eligible to be displayed: ",a.disabledReason)}n.displayType!==dG.Inline?this._surveyManager.handlePopoverSurvey(o):this.renderSurvey(o,n.selector)}else Mi.warn("Survey not found")}}}var hG=Zo("[RateLimiter]");class Z_e{constructor(t){var n,r;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=i=>{var o=i.text;if(o&&o.length)try{(JSON.parse(o).quota_limited||[]).forEach((a=>{hG.info((a||"events")+" is quota limited."),this.serverLimits[a]=new Date().getTime()+6e4}))}catch(a){return void hG.warn('could not rate limit - continuing. Error: "'+(a==null?void 0:a.message)+'"',{text:o})}},this.instance=t,this.captureEventsPerSecond=((n=t.config.rate_limiting)==null?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((r=t.config.rate_limiting)==null?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(t){var n,r,i;t===void 0&&(t=!1);var o=new Date().getTime(),a=(n=(r=this.instance.persistence)==null?void 0:r.get_property(b5))!==null&&n!==void 0?n:{tokens:this.captureEventsBurstLimit,last:o};a.tokens+=(o-a.last)/1e3*this.captureEventsPerSecond,a.last=o,a.tokens>this.captureEventsBurstLimit&&(a.tokens=this.captureEventsBurstLimit);var s=a.tokens<1;return s||t||(a.tokens=Math.max(0,a.tokens-1)),!s||this.lastEventRateLimited||t||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=s,(i=this.instance.persistence)==null||i.set_property(b5,a),{isRateLimited:s,remainingTokens:a.tokens}}isServerRateLimited(t){var n=this.serverLimits[t||"events"]||!1;return n!==!1&&new Date().getTime()<n}}var mf=Zo("[RemoteConfig]");class e2e{constructor(t){this._instance=t}get remoteConfig(){var t;return(t=lr._POSTHOG_REMOTE_CONFIG)==null||(t=t[this._instance.config.token])==null?void 0:t.config}ee(t){var n,r;(n=lr.__PosthogExtensions__)!=null&&n.loadExternalDependency?(r=lr.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"remote-config",(()=>t(this.remoteConfig))):(mf.error("PostHog Extensions not found. Cannot load remote config."),t())}re(t){this._instance.ci({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:n=>{t(n.json)}})}load(){try{if(this.remoteConfig)return mf.info("Using preloaded remote config",this.remoteConfig),void this.fi(this.remoteConfig);if(this._instance.M())return void mf.warn("Remote config is disabled. Falling back to local config.");this.ee((t=>{if(!t)return mf.info("No config found after loading remote JS config. Falling back to JSON."),void this.re((n=>{this.fi(n)}));this.fi(t)}))}catch(t){mf.error("Error loading remote config",t)}}fi(t){t?this._instance.config.__preview_remote_config?(this._instance.fi(t),t.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):mf.info("__preview_remote_config is disabled. Logging config instead",t):mf.error("Failed to fetch remote config from PostHog.")}}var J5=3e3;class t2e{constructor(t,n){this.se=!0,this.ne=[],this.oe=xc((n==null?void 0:n.flush_interval_ms)||J5,250,5e3,bn.createLogger("flush interval"),J5),this.ae=t}enqueue(t){this.ne.push(t),this.le||this.ue()}unload(){this.he();var t=this.ne.length>0?this.de():{},n=Object.values(t);[...n.filter((r=>r.url.indexOf("/e")===0)),...n.filter((r=>r.url.indexOf("/e")!==0))].map((r=>{this.ae(Nn({},r,{transport:"sendBeacon"}))}))}enable(){this.se=!1,this.ue()}ue(){var t=this;this.se||(this.le=setTimeout((()=>{if(this.he(),this.ne.length>0){var n=this.de(),r=function(){var o=n[i],a=new Date().getTime();o.data&&Xi(o.data)&&Yi(o.data,(s=>{s.offset=Math.abs(s.timestamp-a),delete s.timestamp})),t.ae(o)};for(var i in n)r()}}),this.oe))}he(){clearTimeout(this.le),this.le=void 0}de(){var t={};return Yi(this.ne,(n=>{var r,i=n,o=(i?i.batchKey:null)||i.url;gn(t[o])&&(t[o]=Nn({},i,{data:[]})),(r=t[o].data)==null||r.push(i.data)})),this.ne=[],t}}var n2e=["retriesPerformedSoFar"];class r2e{constructor(t){this.ve=!1,this.ce=3e3,this.ne=[],this._instance=t,this.ne=[],this.fe=!0,!gn(ht)&&"onLine"in ht.navigator&&(this.fe=ht.navigator.onLine,this.pe=()=>{this.fe=!0,this.Dt()},this.ge=()=>{this.fe=!1},Ho(ht,"online",this.pe),Ho(ht,"offline",this.ge))}get length(){return this.ne.length}retriableRequest(t){var{retriesPerformedSoFar:n}=t,r=Eq(t,n2e);wc(n)&&n>0&&(r.url=ow(r.url,{retry_count:n})),this._instance.ci(Nn({},r,{callback:i=>{i.statusCode!==200&&(i.statusCode<400||i.statusCode>=500)&&(n??0)<10?this._e(Nn({retriesPerformedSoFar:n},r)):r.callback==null||r.callback(i)}}))}_e(t){var n=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=n+1;var r=(function(a){var s=3e3*Math.pow(2,a),l=s/2,c=Math.min(18e5,s),u=(Math.random()-.5)*(c-l);return Math.ceil(c+u)})(n),i=Date.now()+r;this.ne.push({retryAt:i,requestOptions:t});var o="Enqueued failed request for retry in "+r;navigator.onLine||(o+=" (Browser is offline)"),bn.warn(o),this.ve||(this.ve=!0,this.me())}me(){if(this.ye&&clearTimeout(this.ye),this.ne.length===0)return this.ve=!1,void(this.ye=void 0);this.ye=setTimeout((()=>{this.fe&&this.ne.length>0&&this.Dt(),this.me()}),this.ce)}Dt(){var t=Date.now(),n=[],r=this.ne.filter((o=>o.retryAt<t||(n.push(o),!1)));if(this.ne=n,r.length>0)for(var{requestOptions:i}of r)this.retriableRequest(i)}unload(){for(var{requestOptions:t}of(this.ye&&(clearTimeout(this.ye),this.ye=void 0),this.ve=!1,gn(ht)||(this.pe&&(ht.removeEventListener("online",this.pe),this.pe=void 0),this.ge&&(ht.removeEventListener("offline",this.ge),this.ge=void 0)),this.ne))try{this._instance.ci(Nn({},t,{transport:"sendBeacon"}))}catch(n){bn.error(n)}this.ne=[]}}class i2e{constructor(t){this.be=()=>{var n,r,i,o;this.we||(this.we={});var a=this.scrollElement(),s=this.scrollY(),l=a?Math.max(0,a.scrollHeight-a.clientHeight):0,c=s+((a==null?void 0:a.clientHeight)||0),u=(a==null?void 0:a.scrollHeight)||0;this.we.lastScrollY=Math.ceil(s),this.we.maxScrollY=Math.max(s,(n=this.we.maxScrollY)!==null&&n!==void 0?n:0),this.we.maxScrollHeight=Math.max(l,(r=this.we.maxScrollHeight)!==null&&r!==void 0?r:0),this.we.lastContentY=c,this.we.maxContentY=Math.max(c,(i=this.we.maxContentY)!==null&&i!==void 0?i:0),this.we.maxContentHeight=Math.max(u,(o=this.we.maxContentHeight)!==null&&o!==void 0?o:0)},this._instance=t}getContext(){return this.we}resetContext(){var t=this.we;return setTimeout(this.be,0),t}startMeasuringScrollPosition(){Ho(ht,"scroll",this.be,{capture:!0}),Ho(ht,"scrollend",this.be,{capture:!0}),Ho(ht,"resize",this.be)}scrollElement(){if(!this._instance.config.scroll_root_selector)return ht==null?void 0:ht.document.documentElement;var t=Xi(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var n of t){var r=ht==null?void 0:ht.document.querySelector(n);if(r)return r}}scrollY(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return ht&&(ht.scrollY||ht.pageYOffset||ht.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return ht&&(ht.scrollX||ht.pageXOffset||ht.document.documentElement.scrollLeft)||0}}var o2e=e=>VW(e==null?void 0:e.config.mask_personal_data_properties,e==null?void 0:e.config.custom_personal_data_properties);class pG{constructor(t,n,r,i){this.xe=o=>{var a=this.$e();if(!a||a.sessionId!==o){var s={sessionId:o,props:this.Ee(this._instance)};this.Se.register({[v5]:s})}},this._instance=t,this.ke=n,this.Se=r,this.Ee=i||o2e,this.ke.onSessionId(this.xe)}$e(){return this.Se.props[v5]}getSetOnceProps(){var t,n=(t=this.$e())==null?void 0:t.props;return n?"r"in n?qW(n):{$referring_domain:n.referringDomain,$pathname:n.initialPathName,utm_source:n.utm_source,utm_campaign:n.utm_campaign,utm_medium:n.utm_medium,utm_content:n.utm_content,utm_term:n.utm_term}:{}}getSessionProps(){var t={};return Yi(f5(this.getSetOnceProps()),((n,r)=>{r==="$current_url"&&(r="url"),t["$session_entry_"+a5(r)]=n})),t}}var Z5=Zo("[SessionId]");class mG{on(t,n){return this.Pe.on(t,n)}constructor(t,n,r){var i;if(this.Te=[],this.Ie=void 0,this.Pe=new Y5,this.Re=(u,d)=>Math.abs(u-d)>this.sessionTimeoutMs,!t.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(t.config.cookieless_mode==="always")throw new Error('SessionIdManager cannot be used with cookieless_mode="always"');this.F=t.config,this.Se=t.persistence,this.Fe=void 0,this.Ce=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Oe=n||ed,this.Me=r||ed;var o=this.F.persistence_name||this.F.token,a=this.F.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*xc(a,60,36e3,Z5.createLogger("session_idle_timeout_seconds"),1800),t.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Ae(),this.De="ph_"+o+"_window_id",this.je="ph_"+o+"_primary_window_exists",this.Le()){var s=Ca.W(this.De),l=Ca.W(this.je);s&&!l?this.Fe=s:Ca.V(this.De),Ca.G(this.je,!0)}if((i=this.F.bootstrap)!=null&&i.sessionID)try{var c=(u=>{var d=u.replace(/-/g,"");if(d.length!==32)throw new Error("Not a valid UUID");if(d[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(d.substring(0,12),16)})(this.F.bootstrap.sessionID);this.Ne(this.F.bootstrap.sessionID,new Date().getTime(),c)}catch(u){Z5.error("Invalid sessionID in bootstrap",u)}this.Ue()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(t){return gn(this.Te)&&(this.Te=[]),this.Te.push(t),this.Ce&&t(this.Ce,this.Fe),()=>{this.Te=this.Te.filter((n=>n!==t))}}Le(){return this.F.persistence!=="memory"&&!this.Se.wi&&Ca.H()}ze(t){t!==this.Fe&&(this.Fe=t,this.Le()&&Ca.G(this.De,t))}He(){return this.Fe?this.Fe:this.Le()?Ca.W(this.De):null}Ne(t,n,r){t===this.Ce&&n===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=n,this.Ce=t,this.Se.register({[Hb]:[n,t,r]}))}Be(){if(this.Ce&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.Ce,this._sessionStartTimestamp];var t=this.Se.props[Hb];return Xi(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}resetSessionId(){this.Ne(null,null,null)}destroy(){clearTimeout(this.qe),this.qe=void 0,this.Ie&&ht&&(ht.removeEventListener("beforeunload",this.Ie,{capture:!1}),this.Ie=void 0),this.Te=[]}Ue(){this.Ie=()=>{this.Le()&&Ca.V(this.je)},Ho(ht,"beforeunload",this.Ie,{capture:!1})}checkAndGetSessionAndWindowId(t,n){if(t===void 0&&(t=!1),n===void 0&&(n=null),this.F.cookieless_mode==="always")throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var r=n||new Date().getTime(),[i,o,a]=this.Be(),s=this.He(),l=wc(a)&&a>0&&Math.abs(r-a)>864e5,c=!1,u=!o,d=!u&&!t&&this.Re(r,i);u||d||l?(o=this.Oe(),s=this.Me(),Z5.info("new session ID generated",{sessionId:o,windowId:s,changeReason:{noSessionId:u,activityTimeout:d,sessionPastMaximumLength:l}}),a=r,c=!0):s||(s=this.Me(),c=!0);var f=i===0||!t||l?r:i,p=a===0?new Date().getTime():a;return this.ze(s),this.Ne(o,f,p),t||this.Ae(),c&&this.Te.forEach((g=>g(o,s,c?{noSessionId:u,activityTimeout:d,sessionPastMaximumLength:l}:void 0))),{sessionId:o,windowId:s,sessionStartTimestamp:p,changeReason:c?{noSessionId:u,activityTimeout:d,sessionPastMaximumLength:l}:void 0,lastActivityTimestamp:i}}Ae(){clearTimeout(this.qe),this.qe=setTimeout((()=>{var[t]=this.Be();if(this.Re(new Date().getTime(),t)){var n=this.Ce;this.resetSessionId(),this.Pe.emit("forcedIdleReset",{idleSessionId:n})}}),1.1*this.sessionTimeoutMs)}}var a2e=["$set_once","$set"],rd=Zo("[SiteApps]");class s2e{constructor(t){this._instance=t,this.We=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}Ge(t,n){if(n){var r=this.globalsForEvent(n);this.We.push(r),this.We.length>1e3&&(this.We=this.We.slice(10))}}get siteAppLoaders(){var t;return(t=lr._POSTHOG_REMOTE_CONFIG)==null||(t=t[this._instance.config.token])==null?void 0:t.siteApps}init(){if(this.isEnabled){var t=this._instance.Mi(this.Ge.bind(this));this.Ve=()=>{t(),this.We=[],this.Ve=void 0}}}globalsForEvent(t){var n,r,i,o,a,s,l;if(!t)throw new Error("Event payload is required");var c={},u=this._instance.get_property("$groups")||[],d=this._instance.get_property("$stored_group_properties")||{};for(var[f,p]of Object.entries(d))c[f]={id:u[f],type:f,properties:p};var{$set_once:g,$set:h}=t;return{event:Nn({},Eq(t,a2e),{properties:Nn({},t.properties,h?{$set:Nn({},(n=(r=t.properties)==null?void 0:r.$set)!==null&&n!==void 0?n:{},h)}:{},g?{$set_once:Nn({},(i=(o=t.properties)==null?void 0:o.$set_once)!==null&&i!==void 0?i:{},g)}:{}),elements_chain:(a=(s=t.properties)==null?void 0:s.$elements_chain)!==null&&a!==void 0?a:"",distinct_id:(l=t.properties)==null?void 0:l.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:c}}setupSiteApp(t){var n=this.apps[t.id],r=()=>{var s;!n.errored&&this.We.length&&(rd.info("Processing "+this.We.length+" events for site app with id "+t.id),this.We.forEach((l=>n.processEvent==null?void 0:n.processEvent(l))),n.processedBuffer=!0),Object.values(this.apps).every((l=>l.processedBuffer||l.errored))&&((s=this.Ve)==null||s.call(this))},i=!1,o=s=>{n.errored=!s,n.loaded=!0,rd.info("Site app with id "+t.id+" "+(s?"loaded":"errored")),i&&r()};try{var{processEvent:a}=t.init({posthog:this._instance,callback:s=>{o(s)}});a&&(n.processEvent=a),i=!0}catch(s){rd.error("Error while initializing PostHog app with config id "+t.id,s),o(!1)}if(i&&n.loaded)try{r()}catch(s){rd.error("Error while processing buffered events PostHog app with config id "+t.id,s),n.errored=!0}}Je(){var t=this.siteAppLoaders||[];for(var n of t)this.apps[n.id]={id:n.id,loaded:!1,errored:!1,processedBuffer:!1};for(var r of t)this.setupSiteApp(r)}Ke(t){if(Object.keys(this.apps).length!==0){var n=this.globalsForEvent(t);for(var r of Object.values(this.apps))try{r.processEvent==null||r.processEvent(n)}catch(i){rd.error("Error while processing event "+t.event+" for site app "+r.id,i)}}}onRemoteConfig(t){var n,r,i,o=this;if((n=this.siteAppLoaders)!=null&&n.length)return this.isEnabled?(this.Je(),void this._instance.on("eventCaptured",(c=>this.Ke(c)))):void rd.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((r=this.Ve)==null||r.call(this),(i=t.siteApps)!=null&&i.length)if(this.isEnabled){var a=function(c){var u;lr["__$$ph_site_app_"+c]=o._instance,(u=lr.__PosthogExtensions__)==null||u.loadSiteApp==null||u.loadSiteApp(o._instance,l,(d=>{if(d)return rd.error("Error while initializing PostHog app with config id "+c,d)}))};for(var{id:s,url:l}of t.siteApps)a(s)}else rd.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var gG=function(e,t){if(!e)return!1;var n=e.userAgent;if(n&&Sq(n,t))return!0;try{var r=e==null?void 0:e.userAgentData;if(r!=null&&r.brands&&r.brands.some((i=>Sq(i==null?void 0:i.brand,t))))return!0}catch{}return!!e.webdriver},f0=(function(e){return e.US="us",e.EU="eu",e.CUSTOM="custom",e})({}),yG="i.posthog.com";class l2e{constructor(t){this.Ye={},this.instance=t}get apiHost(){var t=this.instance.config.api_host.trim().replace(/\/$/,"");return t==="https://app.posthog.com"?"https://us.i.posthog.com":t}get flagsApiHost(){var t=this.instance.config.flags_api_host;return t?t.trim().replace(/\/$/,""):this.apiHost}get uiHost(){var t,n=(t=this.instance.config.ui_host)==null?void 0:t.replace(/\/$/,"");return n||(n=this.apiHost.replace("."+yG,".posthog.com")),n==="https://app.posthog.com"?"https://us.posthog.com":n}get region(){return this.Ye[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.Ye[this.apiHost]=f0.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.Ye[this.apiHost]=f0.EU:this.Ye[this.apiHost]=f0.CUSTOM),this.Ye[this.apiHost]}endpointFor(t,n){if(n===void 0&&(n=""),n&&(n=n[0]==="/"?n:"/"+n),t==="ui")return this.uiHost+n;if(t==="flags")return this.flagsApiHost+n;if(this.region===f0.CUSTOM)return this.apiHost+n;var r=yG+n;switch(t){case"assets":return"https://"+this.region+"-assets."+r;case"api":return"https://"+this.region+"."+r}}}var c2e={icontains:(e,t)=>!!ht&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,t)=>!!ht&&t.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:(e,t)=>!!ht&&ep(t.href,e),not_regex:(e,t)=>!!ht&&!ep(t.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class Fa{constructor(t){var n=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(r){r===void 0&&(r=!1),n.getWebExperiments((i=>{Fa.Xe("retrieved web experiments from the server"),n.Qe=new Map,i.forEach((o=>{if(o.feature_flag_key){var a;n.Qe&&(Fa.Xe("setting flag key ",o.feature_flag_key," to web experiment ",o),(a=n.Qe)==null||a.set(o.feature_flag_key,o));var s=n._instance.getFeatureFlag(o.feature_flag_key);Jo(s)&&o.variants[s]&&n.Ze(o.name,s,o.variants[s].transforms)}else if(o.variants)for(var l in o.variants){var c=o.variants[l];Fa.tr(c)&&n.Ze(o.name,l,c.transforms)}}))}),r)},this._instance=t,this._instance.onFeatureFlags((r=>{this.onFeatureFlags(r)}))}onFeatureFlags(t){if(this._is_bot())Fa.Xe("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(io(this.Qe))return this.Qe=new Map,this.loadIfEnabled(),void this.previewWebExperiment();Fa.Xe("applying feature flags",t),t.forEach((n=>{var r;if(this.Qe&&(r=this.Qe)!=null&&r.has(n)){var i,o=this._instance.getFeatureFlag(n),a=(i=this.Qe)==null?void 0:i.get(n);o&&a!=null&&a.variants[o]&&this.Ze(a.name,o,a.variants[o].transforms)}}))}}previewWebExperiment(){var t=Fa.getWindowLocation();if(t!=null&&t.search){var n=Qb(t==null?void 0:t.search,"__experiment_id"),r=Qb(t==null?void 0:t.search,"__experiment_variant");n&&r&&(Fa.Xe("previewing web experiments "+n+" && "+r),this.getWebExperiments((i=>{this.ir(parseInt(n),r,i)}),!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(t,n,r){if(this._instance.config.disable_web_experiments&&!r)return t([]);var i=this._instance.get_property("$web_experiments");if(i&&!n)return t(i);this._instance.ci({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:o=>{if(o.statusCode!==200||!o.json)return t([]);var a=o.json.experiments||[];return t(a)}})}ir(t,n,r){var i=r.filter((o=>o.id===t));i&&i.length>0&&(Fa.Xe("Previewing web experiment ["+i[0].name+"] with variant ["+n+"]"),this.Ze(i[0].name,n,i[0].variants[n].transforms))}static tr(t){return!io(t.conditions)&&Fa.er(t)&&Fa.rr(t)}static er(t){var n;if(io(t.conditions)||io((n=t.conditions)==null?void 0:n.url))return!0;var r,i,o,a=Fa.getWindowLocation();return!!a&&((r=t.conditions)==null||!r.url||c2e[(i=(o=t.conditions)==null?void 0:o.urlMatchType)!==null&&i!==void 0?i:"icontains"](t.conditions.url,a))}static getWindowLocation(){return ht==null?void 0:ht.location}static rr(t){var n;if(io(t.conditions)||io((n=t.conditions)==null?void 0:n.utm))return!0;var r=UW();if(r.utm_source){var i,o,a,s,l,c,u,d,f=(i=t.conditions)==null||(i=i.utm)==null||!i.utm_campaign||((o=t.conditions)==null||(o=o.utm)==null?void 0:o.utm_campaign)==r.utm_campaign,p=(a=t.conditions)==null||(a=a.utm)==null||!a.utm_source||((s=t.conditions)==null||(s=s.utm)==null?void 0:s.utm_source)==r.utm_source,g=(l=t.conditions)==null||(l=l.utm)==null||!l.utm_medium||((c=t.conditions)==null||(c=c.utm)==null?void 0:c.utm_medium)==r.utm_medium,h=(u=t.conditions)==null||(u=u.utm)==null||!u.utm_term||((d=t.conditions)==null||(d=d.utm)==null?void 0:d.utm_term)==r.utm_term;return f&&g&&h&&p}return!1}static Xe(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];bn.info("[WebExperiments] "+t,r)}Ze(t,n,r){this._is_bot()?Fa.Xe("Refusing to render web experiment since the viewer is a likely bot"):n!=="control"?r.forEach((i=>{if(i.selector){var o;Fa.Xe("applying transform of variant "+n+" for experiment "+t+" ",i);var a=(o=document)==null?void 0:o.querySelectorAll(i.selector);a==null||a.forEach((s=>{var l=s;i.html&&(l.innerHTML=i.html),i.css&&l.setAttribute("style",i.css)}))}})):Fa.Xe("Control variants leave the page unmodified.")}_is_bot(){return Pa&&this._instance?gG(Pa,this._instance.config.custom_blocked_useragents):void 0}}var u2e=Zo("[PostHog ExternalIntegrations]"),d2e={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class f2e{constructor(t){this._instance=t}it(t,n){var r;(r=lr.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,t,(i=>{if(i)return u2e.error("failed to load script",i);n()}))}startIfEnabledOrStop(){var t=this,n=function(a){var s,l,c;!i||(s=lr.__PosthogExtensions__)!=null&&(s=s.integrations)!=null&&s[a]||t.it(d2e[a],(()=>{var u;(u=lr.__PosthogExtensions__)==null||(u=u.integrations)==null||(u=u[a])==null||u.start(t._instance)})),!i&&(l=lr.__PosthogExtensions__)!=null&&(l=l.integrations)!=null&&l[a]&&((c=lr.__PosthogExtensions__)==null||(c=c.integrations)==null||(c=c[a])==null||c.stop())};for(var[r,i]of Object.entries((o=this._instance.config.integrations)!==null&&o!==void 0?o:{})){var o;n(r)}}}var eA="[SessionRecording]",h0=Zo(eA);class vG{get started(){var t;return!((t=this.sr)==null||!t.isStarted)}get status(){return this.sr?this.sr.status:this.nr&&!this.ar?"disabled":"lazy_loading"}constructor(t){if(this._forceAllowLocalhostNetworkCapture=!1,this.nr=!1,this.lr=void 0,this._instance=t,!this._instance.sessionManager)throw h0.error("started without valid sessionManager"),new Error(eA+" started without valid sessionManager. This is a bug.");if(this._instance.config.cookieless_mode==="always")throw new Error(eA+' cannot be used with cookieless_mode="always"')}get ar(){var t,n=!((t=this._instance.get_property(m5))==null||!t.enabled),r=!this._instance.config.disable_session_recording,i=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return ht&&n&&r&&!i}startIfEnabledOrStop(t){var n;if(!this.ar||(n=this.sr)==null||!n.isStarted){var r=!gn(Object.assign)&&!gn(Array.from);this.ar&&r?(this.ur(t),h0.info("starting")):this.stopRecording()}}ur(t){var n,r,i;this.ar&&(lr!=null&&(n=lr.__PosthogExtensions__)!=null&&(n=n.rrweb)!=null&&n.record&&(r=lr.__PosthogExtensions__)!=null&&r.initSessionRecording?this.hr(t):(i=lr.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this._instance,this.dr,(o=>{if(o)return h0.error("could not load recorder",o);this.hr(t)})))}stopRecording(){var t,n;(t=this.lr)==null||t.call(this),this.lr=void 0,(n=this.sr)==null||n.stop()}vr(){var t;(t=this._instance.persistence)==null||t.unregister(Vq)}cr(t){if(this._instance.persistence){var n,r,i=this._instance.persistence,o=()=>{var a=t.sessionRecording===!1?void 0:t.sessionRecording,s=a==null?void 0:a.sampleRate,l=io(s)?null:parseFloat(s);io(l)&&this.vr();var c=a==null?void 0:a.minimumDurationMilliseconds;i.register({[m5]:Nn({enabled:!!a},a,{networkPayloadCapture:Nn({capturePerformance:t.capturePerformance},a==null?void 0:a.networkPayloadCapture),canvasRecording:{enabled:a==null?void 0:a.recordCanvas,fps:a==null?void 0:a.canvasFps,quality:a==null?void 0:a.canvasQuality},sampleRate:l,minimumDurationMilliseconds:gn(c)?null:c,endpoint:a==null?void 0:a.endpoint,triggerMatchType:a==null?void 0:a.triggerMatchType,masking:a==null?void 0:a.masking,urlTriggers:a==null?void 0:a.urlTriggers})})};o(),(n=this.lr)==null||n.call(this),this.lr=(r=this._instance.sessionManager)==null?void 0:r.onSessionId(o)}}onRemoteConfig(t){"sessionRecording"in t?t.sessionRecording!==!1?(this.cr(t),this.nr=!0,this.startIfEnabledOrStop()):this.nr=!0:h0.info("skipping remote config with no sessionRecording",t)}log(t,n){var r;n===void 0&&(n="log"),(r=this.sr)!=null&&r.log?this.sr.log(t,n):h0.warn("log called before recorder was ready")}get dr(){var t,n,r=(t=this._instance)==null||(t=t.persistence)==null?void 0:t.get_property(m5);return(r==null||(n=r.scriptConfig)==null?void 0:n.script)||"lazy-recorder"}hr(t){var n,r;if((n=lr.__PosthogExtensions__)==null||!n.initSessionRecording)throw Error("Called on script loaded before session recording is available");this.sr||(this.sr=(r=lr.__PosthogExtensions__)==null?void 0:r.initSessionRecording(this._instance),this.sr._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture),this.sr.start(t)}onRRwebEmit(t){var n;(n=this.sr)==null||n.onRRwebEmit==null||n.onRRwebEmit(t)}overrideLinkedFlag(){var t,n;this.sr||(n=this._instance.persistence)==null||n.register({$replay_override_linked_flag:!0}),(t=this.sr)==null||t.overrideLinkedFlag()}overrideSampling(){var t,n;this.sr||(n=this._instance.persistence)==null||n.register({$replay_override_sampling:!0}),(t=this.sr)==null||t.overrideSampling()}overrideTrigger(t){var n,r;this.sr||(r=this._instance.persistence)==null||r.register({[t==="url"?"$replay_override_url_trigger":"$replay_override_event_trigger"]:!0}),(n=this.sr)==null||n.overrideTrigger(t)}get sdkDebugProperties(){var t;return((t=this.sr)==null?void 0:t.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(t,n){var r;return!((r=this.sr)==null||!r.tryAddCustomEvent(t,n))}}var p0={},tA=()=>{},np="posthog",bG=!$_e&&(Da==null?void 0:Da.indexOf("MSIE"))===-1&&(Da==null?void 0:Da.indexOf("Mozilla"))===-1,wG=e=>{var t;return Nn({api_host:"https://us.i.posthog.com",flags_api_host:null,ui_host:null,token:"",autocapture:!0,cross_subdomain_cookie:Mxe(sn==null?void 0:sn.location),persistence:"localStorage+cookie",persistence_name:"",loaded:tA,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageleave:"if_capture_pageview",defaults:e??"unset",__preview_deferred_init_extensions:!1,debug:$o&&Jo($o==null?void 0:$o.search)&&$o.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(ht==null||(t=ht.location)==null?void 0:t.protocol)==="https:",ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:n=>{var r="Bad HTTP status: "+n.statusCode+" "+n.text;bn.error(r)},get_device_id:n=>n,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:J5},error_tracking:{},_onCapture:tA,__preview_eager_load_replay:!1},(n=>({rageclick:!(n&&n>="2025-11-30")||{content_ignorelist:!0},capture_pageview:!(n&&n>="2025-05-24")||"history_change",session_recording:n&&n>="2025-11-30"?{strictMinimumDuration:!0}:{}}))(e))},xG=e=>{var t={};gn(e.process_person)||(t.person_profiles=e.process_person),gn(e.xhr_headers)||(t.request_headers=e.xhr_headers),gn(e.cookie_name)||(t.persistence_name=e.cookie_name),gn(e.disable_cookie)||(t.disable_persistence=e.disable_cookie),gn(e.store_google)||(t.save_campaign_params=e.store_google),gn(e.verbose)||(t.debug=e.verbose);var n=Po({},t,e);return Xi(e.property_blacklist)&&(gn(e.property_denylist)?n.property_denylist=e.property_blacklist:Xi(e.property_denylist)?n.property_denylist=[...e.property_blacklist,...e.property_denylist]:bn.error("Invalid value for property_denylist config: "+e.property_denylist)),n};class h2e{constructor(){this.__forceAllowLocalhost=!1}get pr(){return this.__forceAllowLocalhost}set pr(t){bn.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}class cw{get decideEndpointWasHit(){var t,n;return(t=(n=this.featureFlags)==null?void 0:n.hasLoadedFlags)!==null&&t!==void 0&&t}get flagsEndpointWasHit(){var t,n;return(t=(n=this.featureFlags)==null?void 0:n.hasLoadedFlags)!==null&&t!==void 0&&t}constructor(){this.webPerformance=new h2e,this.gr=!1,this.version=ou.LIB_VERSION,this._r=new Y5,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=wG(),this.SentryIntegration=d_e,this.sentryIntegration=t=>(function(n,r){var i=yW(n,r);return{name:gW,processEvent:o=>i(o)}})(this,t),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.mr=!1,this.yr=null,this.br=null,this.wr=null,this.featureFlags=new W_e(this),this.toolbar=new h_e(this),this.scrollManager=new i2e(this),this.pageViewManager=new j_e(this),this.surveys=new J_e(this),this.experiments=new Fa(this),this.exceptions=new H_e(this),this.rateLimiter=new Z_e(this),this.requestRouter=new l2e(this),this.consent=new o_e(this),this.externalIntegrations=new f2e(this),this.people={set:(t,n,r)=>{var i=Jo(t)?{[t]:n}:t;this.setPersonProperties(i),r==null||r({})},set_once:(t,n,r)=>{var i=Jo(t)?{[t]:n}:t;this.setPersonProperties(void 0,i),r==null||r({})}},this.on("eventCaptured",(t=>bn.info('send "'+(t==null?void 0:t.event)+'"',t)))}init(t,n,r){if(r&&r!==np){var i,o=(i=p0[r])!==null&&i!==void 0?i:new cw;return o._init(t,n,r),p0[r]=o,p0[np][r]=o,o}return this._init(t,n,r)}_init(t,n,r){var i;if(n===void 0&&(n={}),gn(t)||s5(t))return bn.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return console.warn("[PostHog.js]","You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},n.debug=this.$r(n.debug),this.Er=n,this.Sr=[],n.person_profiles&&(this.br=n.person_profiles),this.set_config(Po({},wG(n.defaults),xG(n),{name:r,token:t})),this.config.on_xhr_error&&bn.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=n.disable_compression?void 0:lu.GZipJS;var o=this.kr();this.persistence=new K5(this.config,o),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new K5(Nn({},this.config,{persistence:"sessionStorage"}),o);var a=Nn({},this.persistence.props),s=Nn({},this.sessionPersistence.props);this.register({$initialization_time:new Date().toISOString()}),this.Pr=new t2e((w=>this.Tr(w)),this.config.request_queue_config),this.Ir=new r2e(this),this.__request_queue=[];var l=this.config.cookieless_mode==="always"||this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut();if(l||(this.sessionManager=new mG(this),this.sessionPropsManager=new pG(this,this.sessionManager,this.persistence)),this.config.__preview_deferred_init_extensions?(bn.info("Deferring extension initialization to improve startup performance"),setTimeout((()=>{this.Rr(l)}),0)):(bn.info("Initializing extensions synchronously"),this.Rr(l)),ou.DEBUG=ou.DEBUG||this.config.debug,ou.DEBUG&&bn.info("Starting in debug mode",{this:this,config:n,thisC:Nn({},this.config),p:a,s}),((i=n.bootstrap)==null?void 0:i.distinctID)!==void 0){var c,u,d=this.config.get_device_id(ed()),f=(c=n.bootstrap)!=null&&c.isIdentifiedID?d:n.bootstrap.distinctID;this.persistence.set_property(su,(u=n.bootstrap)!=null&&u.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:n.bootstrap.distinctID,$device_id:f})}if(this.Fr()){var p,g,h=Object.keys(((p=n.bootstrap)==null?void 0:p.featureFlags)||{}).filter((w=>{var S;return!((S=n.bootstrap)==null||(S=S.featureFlags)==null||!S[w])})).reduce(((w,S)=>{var E;return w[S]=((E=n.bootstrap)==null||(E=E.featureFlags)==null?void 0:E[S])||!1,w}),{}),y=Object.keys(((g=n.bootstrap)==null?void 0:g.featureFlagPayloads)||{}).filter((w=>h[w])).reduce(((w,S)=>{var E,_;return(E=n.bootstrap)!=null&&(E=E.featureFlagPayloads)!=null&&E[S]&&(w[S]=(_=n.bootstrap)==null||(_=_.featureFlagPayloads)==null?void 0:_[S]),w}),{});this.featureFlags.receivedFeatureFlags({featureFlags:h,featureFlagPayloads:y})}if(l)this.register_once({distinct_id:Kg,$device_id:null},"");else if(!this.get_distinct_id()){var b=this.config.get_device_id(ed());this.register_once({distinct_id:b,$device_id:b},""),this.persistence.set_property(su,"anonymous")}return Ho(ht,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),n.segment?u_e(this,(()=>this.Cr())):this.Cr(),Yu(this.config._onCapture)&&this.config._onCapture!==tA&&(bn.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",(w=>this.config._onCapture(w.event,w)))),this.config.ip&&bn.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Rr(t){var n=performance.now();this.historyAutocapture=new c_e(this),this.historyAutocapture.startIfEnabled();var r=[];r.push((()=>{new m_e(this).startIfEnabledOrStop()})),r.push((()=>{var i;this.siteApps=new s2e(this),(i=this.siteApps)==null||i.init()})),t||r.push((()=>{this.sessionRecording=new vG(this),this.sessionRecording.startIfEnabledOrStop()})),this.config.disable_scroll_properties||r.push((()=>{this.scrollManager.startMeasuringScrollPosition()})),r.push((()=>{this.autocapture=new Yxe(this),this.autocapture.startIfEnabled()})),r.push((()=>{this.surveys.loadIfEnabled()})),r.push((()=>{this.heatmaps=new R_e(this),this.heatmaps.startIfEnabled()})),r.push((()=>{this.webVitalsAutocapture=new k_e(this)})),r.push((()=>{this.exceptionObserver=new l_e(this),this.exceptionObserver.startIfEnabled()})),r.push((()=>{this.deadClicksAutocapture=new pW(this,s_e),this.deadClicksAutocapture.startIfEnabled()})),r.push((()=>{if(this.Or){var i=this.Or;this.Or=void 0,this.fi(i)}})),this.Mr(r,n)}Mr(t,n){for(;t.length>0;){if(this.config.__preview_deferred_init_extensions&&performance.now()-n>=30&&t.length>0)return void setTimeout((()=>{this.Mr(t,n)}),0);var r=t.shift();if(r)try{r()}catch(o){bn.error("Error initializing extension:",o)}}var i=Math.round(performance.now()-n);this.register_for_session({$sdk_debug_extensions_init_method:this.config.__preview_deferred_init_extensions?"deferred":"synchronous",$sdk_debug_extensions_init_time_ms:i}),this.config.__preview_deferred_init_extensions&&bn.info("PostHog extensions initialized ("+i+"ms)")}fi(t){var n,r,i,o,a,s,l,c;if(!sn||!sn.body)return bn.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout((()=>{this.fi(t)}),500);this.config.__preview_deferred_init_extensions&&(this.Or=t),this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=Br(t.supportedCompression,lu.GZipJS)?lu.GZipJS:Br(t.supportedCompression,lu.Base64)?lu.Base64:void 0),(n=t.analytics)!=null&&n.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this.br?this.br:"identified_only"}),(r=this.siteApps)==null||r.onRemoteConfig(t),(i=this.sessionRecording)==null||i.onRemoteConfig(t),(o=this.autocapture)==null||o.onRemoteConfig(t),(a=this.heatmaps)==null||a.onRemoteConfig(t),this.surveys.onRemoteConfig(t),(s=this.webVitalsAutocapture)==null||s.onRemoteConfig(t),(l=this.exceptionObserver)==null||l.onRemoteConfig(t),this.exceptions.onRemoteConfig(t),(c=this.deadClicksAutocapture)==null||c.onRemoteConfig(t)}Cr(){try{this.config.loaded(this)}catch(t){bn.critical("`loaded` function failed",t)}this.Ar(),this.config.capture_pageview&&setTimeout((()=>{(this.consent.isOptedIn()||this.config.cookieless_mode==="always")&&this.Dr()}),1),new e2e(this).load(),this.featureFlags.flags()}Ar(){var t;this.is_capturing()&&this.config.request_batching&&((t=this.Pr)==null||t.enable())}_dom_loaded(){this.is_capturing()&&Ju(this.__request_queue,(t=>this.Tr(t))),this.__request_queue=[],this.Ar()}_handle_unload(){var t,n;this.config.request_batching?(this.jr()&&this.capture("$pageleave"),(t=this.Pr)==null||t.unload(),(n=this.Ir)==null||n.unload()):this.jr()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}ci(t){this.__loaded&&(bG?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=ow(t.url,{ip:this.config.ip?1:0}),t.headers=Nn({},this.config.request_headers),t.compression=t.compression==="best-available"?this.compression:t.compression,t.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(t.disableTransport=["sendBeacon"]),t.fetchOptions=t.fetchOptions||this.config.fetch_options,(n=>{var r,i,o,a=Nn({},n);a.timeout=a.timeout||6e4,a.url=ow(a.url,{_:new Date().getTime().toString(),ver:ou.LIB_VERSION,compression:a.compression});var s=(r=a.transport)!==null&&r!==void 0?r:"fetch",l=aw.filter((u=>!a.disableTransport||!u.transport||!a.disableTransport.includes(u.transport))),c=(i=(o=Pq(l,(u=>u.transport===s)))==null?void 0:o.method)!==null&&i!==void 0?i:l[0].method;if(!c)throw new Error("No available transport method");c(a)})(Nn({},t,{callback:n=>{var r,i;this.rateLimiter.checkForLimiting(n),n.statusCode>=400&&((r=(i=this.config).on_request_error)==null||r.call(i,n)),t.callback==null||t.callback(n)}}))))}Tr(t){this.Ir?this.Ir.retriableRequest(t):this.ci(t)}_execute_array(t){var n,r=[],i=[],o=[];Ju(t,(s=>{s&&(n=s[0],Xi(n)?o.push(s):Yu(s)?s.call(this):Xi(s)&&n==="alias"?r.push(s):Xi(s)&&n.indexOf("capture")!==-1&&Yu(this[n])?o.push(s):i.push(s))}));var a=function(s,l){Ju(s,(function(c){if(Xi(c[0])){var u=l;Yi(c,(function(d){u=u[d[0]].apply(u,d.slice(1))}))}else this[c[0]].apply(this,c.slice(1))}),l)};a(r,this),a(i,this),a(o,this)}Fr(){var t,n;return((t=this.config.bootstrap)==null?void 0:t.featureFlags)&&Object.keys((n=this.config.bootstrap)==null?void 0:n.featureFlags).length>0||!1}push(t){this._execute_array([t])}capture(t,n,r){var i;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Pr){if(this.is_capturing())if(!gn(t)&&Jo(t)){var o=!this.config.opt_out_useragent_filter&&this._is_bot();if(!(o&&!this.config.__preview_capture_bot_pageviews)){var a=r!=null&&r.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(a==null||!a.isRateLimited){n!=null&&n.$current_url&&!Jo(n==null?void 0:n.$current_url)&&(bn.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),n==null||delete n.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var s=new Date,l=(r==null?void 0:r.timestamp)||s,c=ed(),u={uuid:c,event:t,properties:this.calculateEventProperties(t,n||{},l,c)};t==="$pageview"&&this.config.__preview_capture_bot_pageviews&&o&&(u.event="$bot_pageview",u.properties.$browser_type="bot"),a&&(u.properties.$lib_rate_limit_remaining_tokens=a.remainingTokens),r!=null&&r.$set&&(u.$set=r==null?void 0:r.$set);var d,f=this.Lr(r==null?void 0:r.$set_once);if(f&&(u.$set_once=f),(u=jxe(u,r!=null&&r._noTruncate?null:this.config.properties_string_max_length)).timestamp=l,gn(r==null?void 0:r.timestamp)||(u.properties.$event_time_override_provided=!0,u.properties.$event_time_override_system_time=s),t===lw.DISMISSED||t===lw.SENT){var p=n==null?void 0:n[uG.SURVEY_ID],g=n==null?void 0:n[uG.SURVEY_ITERATION];d={id:p,current_iteration:g},localStorage.getItem(fG(d))||localStorage.setItem(fG(d),"true"),u.$set=Nn({},u.$set,{[K_e({id:p,current_iteration:g},t===lw.SENT?"responded":"dismissed")]:!0})}var h=Nn({},u.properties.$set,u.$set);if(qh(h)||this.setPersonPropertiesForFlags(h),!io(this.config.before_send)){var y=this.Nr(u);if(!y)return;u=y}this._r.emit("eventCaptured",u);var b={method:"POST",url:(i=r==null?void 0:r._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:u,compression:"best-available",batchKey:r==null?void 0:r._batchKey};return!this.config.request_batching||r&&(r==null||!r._batchKey)||r!=null&&r.send_instantly?this.Tr(b):this.Pr.enqueue(b),u}bn.critical("This capture call is ignored due to client rate limiting.")}}else bn.error("No event name provided to posthog.capture")}else bn.uninitializedWarning("posthog.capture")}Mi(t){return this.on("eventCaptured",(n=>t(n.event,n)))}calculateEventProperties(t,n,r,i,o){if(r=r||new Date,!this.persistence||!this.sessionPersistence)return n;var a=o?void 0:this.persistence.remove_event_timer(t),s=Nn({},n);if(s.token=this.config.token,s.$config_defaults=this.config.defaults,(this.config.cookieless_mode=="always"||this.config.cookieless_mode=="on_reject"&&this.consent.isExplicitlyOptedOut())&&(s.$cookieless_mode=!0),t==="$snapshot"){var l=Nn({},this.persistence.properties(),this.sessionPersistence.properties());return s.distinct_id=l.distinct_id,(!Jo(s.distinct_id)&&!wc(s.distinct_id)||s5(s.distinct_id))&&bn.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),s}var c,u=O_e(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:d,windowId:f}=this.sessionManager.checkAndGetSessionAndWindowId(o,r.getTime());s.$session_id=d,s.$window_id=f}this.sessionPropsManager&&Po(s,this.sessionPropsManager.getSessionProps());try{var p;this.sessionRecording&&Po(s,this.sessionRecording.sdkDebugProperties),s.$sdk_debug_retry_queue_size=(p=this.Ir)==null?void 0:p.length}catch(b){s.$sdk_debug_error_capturing_properties=String(b)}if(this.requestRouter.region===f0.CUSTOM&&(s.$lib_custom_api_host=this.config.api_host),c=t!=="$pageview"||o?t!=="$pageleave"||o?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(r):this.pageViewManager.doPageView(r,i),s=Po(s,c),t==="$pageview"&&sn&&(s.title=sn.title),!gn(a)){var g=r.getTime()-a;s.$duration=parseFloat((g/1e3).toFixed(3))}Da&&this.config.opt_out_useragent_filter&&(s.$browser_type=this._is_bot()?"bot":"browser"),(s=Po({},u,this.persistence.properties(),this.sessionPersistence.properties(),s)).$is_identified=this._isIdentified(),Xi(this.config.property_denylist)?Yi(this.config.property_denylist,(function(b){delete s[b]})):bn.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var h=this.config.sanitize_properties;h&&(bn.error("sanitize_properties is deprecated. Use before_send instead"),s=h(s,t));var y=this.Ur();return s.$process_person_profile=y,y&&!o&&this.zr("_calculate_event_properties"),s}Lr(t){var n;if(!this.persistence||!this.Ur()||this.gr)return t;var r=this.persistence.get_initial_props(),i=(n=this.sessionPropsManager)==null?void 0:n.getSetOnceProps(),o=Po({},r,i||{},t||{}),a=this.config.sanitize_properties;return a&&(bn.error("sanitize_properties is deprecated. Use before_send instead"),o=a(o,"$set_once")),this.gr=!0,qh(o)?void 0:o}register(t,n){var r;(r=this.persistence)==null||r.register(t,n)}register_once(t,n,r){var i;(i=this.persistence)==null||i.register_once(t,n,r)}register_for_session(t){var n;(n=this.sessionPersistence)==null||n.register(t)}unregister(t){var n;(n=this.persistence)==null||n.unregister(t)}unregister_for_session(t){var n;(n=this.sessionPersistence)==null||n.unregister(t)}Hr(t,n){this.register({[t]:n})}getFeatureFlag(t,n){return this.featureFlags.getFeatureFlag(t,n)}getFeatureFlagPayload(t){var n=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(n)}catch{return n}}isFeatureEnabled(t,n){return this.featureFlags.isFeatureEnabled(t,n)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(t,n,r){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,n,r)}getEarlyAccessFeatures(t,n,r){return n===void 0&&(n=!1),this.featureFlags.getEarlyAccessFeatures(t,n,r)}on(t,n){return this._r.on(t,n)}onFeatureFlags(t){return this.featureFlags.onFeatureFlags(t)}onSurveysLoaded(t){return this.surveys.onSurveysLoaded(t)}onSessionId(t){var n,r;return(n=(r=this.sessionManager)==null?void 0:r.onSessionId(t))!==null&&n!==void 0?n:()=>{}}getSurveys(t,n){n===void 0&&(n=!1),this.surveys.getSurveys(t,n)}getActiveMatchingSurveys(t,n){n===void 0&&(n=!1),this.surveys.getActiveMatchingSurveys(t,n)}renderSurvey(t,n){this.surveys.renderSurvey(t,n)}displaySurvey(t,n){n===void 0&&(n=Y_e),this.surveys.displaySurvey(t,n)}canRenderSurvey(t){return this.surveys.canRenderSurvey(t)}canRenderSurveyAsync(t,n){return n===void 0&&(n=!1),this.surveys.canRenderSurveyAsync(t,n)}identify(t,n,r){if(!this.__loaded||!this.persistence)return bn.uninitializedWarning("posthog.identify");if(wc(t)&&(t=t.toString(),bn.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t)if(["distinct_id","distinctid"].includes(t.toLowerCase()))bn.critical('The string "'+t+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(t!==Kg){if(this.zr("posthog.identify")){var i=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var o=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:o},"")}t!==i&&t!==this.get_property(Vg)&&(this.unregister(Vg),this.register({distinct_id:t}));var a=(this.persistence.get_property(su)||"anonymous")==="anonymous";t!==i&&a?(this.persistence.set_property(su,"identified"),this.setPersonPropertiesForFlags(Nn({},r||{},n||{}),!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:i},{$set:n||{},$set_once:r||{}}),this.wr=oG(t,n,r),this.featureFlags.setAnonymousDistinctId(i)):(n||r)&&this.setPersonProperties(n,r),t!==i&&(this.reloadFeatureFlags(),this.unregister(qb))}}else bn.critical('The string "'+Kg+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else bn.error("Unique user id has not been set in posthog.identify")}setPersonProperties(t,n){if((t||n)&&this.zr("posthog.setPersonProperties")){var r=oG(this.get_distinct_id(),t,n);this.wr!==r?(this.setPersonPropertiesForFlags(Nn({},n||{},t||{})),this.capture("$set",{$set:t||{},$set_once:n||{}}),this.wr=r):bn.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(t,n,r){if(t&&n){if(this.zr("posthog.group")){var i=this.getGroups();i[t]!==n&&this.resetGroupPropertiesForFlags(t),this.register({$groups:Nn({},i,{[t]:n})}),r&&(this.capture("$groupidentify",{$group_type:t,$group_key:n,$group_set:r}),this.setGroupPropertiesForFlags({[t]:r})),i[t]===n||r||this.reloadFeatureFlags()}}else bn.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(t,n){n===void 0&&(n=!0),this.featureFlags.setPersonPropertiesForFlags(t,n)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(t,n){n===void 0&&(n=!0),this.zr("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,n)}resetGroupPropertiesForFlags(t){this.featureFlags.resetGroupPropertiesForFlags(t)}reset(t){var n,r,i,o;if(bn.info("reset"),!this.__loaded)return bn.uninitializedWarning("posthog.reset");var a=this.get_property("$device_id");if(this.consent.reset(),(n=this.persistence)==null||n.clear(),(r=this.sessionPersistence)==null||r.clear(),this.surveys.reset(),this.featureFlags.reset(),(i=this.persistence)==null||i.set_property(su,"anonymous"),(o=this.sessionManager)==null||o.resetSessionId(),this.wr=null,this.config.cookieless_mode==="always")this.register_once({distinct_id:Kg,$device_id:null},"");else{var s=this.config.get_device_id(ed());this.register_once({distinct_id:s,$device_id:t?s:a},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var t,n;return(t=(n=this.sessionManager)==null?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}get_session_replay_url(t){if(!this.sessionManager)return"";var{sessionId:n,sessionStartTimestamp:r}=this.sessionManager.checkAndGetSessionAndWindowId(!0),i=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+n);if(t!=null&&t.withTimestamp&&r){var o,a=(o=t.timestampLookBack)!==null&&o!==void 0?o:10;if(!r)return i;i+="?t="+Math.max(Math.floor((new Date().getTime()-r)/1e3)-a,0)}return i}alias(t,n){return t===this.get_property(Dq)?(bn.critical("Attempting to create alias for existing People user - aborting."),-2):this.zr("posthog.alias")?(gn(n)&&(n=this.get_distinct_id()),t!==n?(this.Hr(Vg,t),this.capture("$create_alias",{alias:t,distinct_id:n})):(bn.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}set_config(t){var n=Nn({},this.config);if(Sa(t)){var r,i,o,a,s;Po(this.config,xG(t));var l=this.kr();(r=this.persistence)==null||r.update_config(this.config,n,l),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new K5(Nn({},this.config,{persistence:"sessionStorage"}),l);var c=this.$r(this.config.debug);Qu(c)&&(this.config.debug=c),Qu(this.config.debug)&&(this.config.debug?(ou.DEBUG=!0,xo.H()&&xo.G("ph_debug","true"),bn.info("set_config",{config:t,oldConfig:n,newConfig:Nn({},this.config)})):(ou.DEBUG=!1,xo.H()&&xo.V("ph_debug"))),(i=this.sessionRecording)==null||i.startIfEnabledOrStop(),(o=this.autocapture)==null||o.startIfEnabled(),(a=this.heatmaps)==null||a.startIfEnabled(),this.surveys.loadIfEnabled(),this.Br(),(s=this.externalIntegrations)==null||s.startIfEnabledOrStop()}}startSessionRecording(t){var n=t===!0,r={sampling:n||!(t==null||!t.sampling),linked_flag:n||!(t==null||!t.linked_flag),url_trigger:n||!(t==null||!t.url_trigger),event_trigger:n||!(t==null||!t.event_trigger)};if(Object.values(r).some(Boolean)){var i,o,a,s,l;(i=this.sessionManager)==null||i.checkAndGetSessionAndWindowId(),r.sampling&&((o=this.sessionRecording)==null||o.overrideSampling()),r.linked_flag&&((a=this.sessionRecording)==null||a.overrideLinkedFlag()),r.url_trigger&&((s=this.sessionRecording)==null||s.overrideTrigger("url")),r.event_trigger&&((l=this.sessionRecording)==null||l.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var t;return!((t=this.sessionRecording)==null||!t.started)}captureException(t,n){var r=new Error("PostHog syntheticException"),i=this.exceptions.buildProperties(t,{handled:!0,syntheticException:r});return this.exceptions.sendExceptionEvent(Nn({},i,n))}loadToolbar(t){return this.toolbar.loadToolbar(t)}get_property(t){var n;return(n=this.persistence)==null?void 0:n.props[t]}getSessionProperty(t){var n;return(n=this.sessionPersistence)==null?void 0:n.props[t]}toString(){var t,n=(t=this.config.name)!==null&&t!==void 0?t:np;return n!==np&&(n=np+"."+n),n}_isIdentified(){var t,n;return((t=this.persistence)==null?void 0:t.get_property(su))==="identified"||((n=this.sessionPersistence)==null?void 0:n.get_property(su))==="identified"}Ur(){var t,n;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&qh(this.getGroups())&&((t=this.persistence)==null||(t=t.props)==null||!t[Vg])&&((n=this.persistence)==null||(n=n.props)==null||!n[Gb]))}jr(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.Ur()||this.zr("posthog.createPersonProfile")&&this.setPersonProperties({},{})}zr(t){return this.config.person_profiles==="never"?(bn.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.Hr(Gb,!0),!0)}kr(){if(this.config.cookieless_mode==="always")return!0;var t=this.consent.isOptedOut(),n=this.config.opt_out_persistence_by_default||this.config.cookieless_mode==="on_reject";return this.config.disable_persistence||t&&!!n}Br(){var t,n,r,i,o=this.kr();return((t=this.persistence)==null?void 0:t.wi)!==o&&((r=this.persistence)==null||r.set_disabled(o)),((n=this.sessionPersistence)==null?void 0:n.wi)!==o&&((i=this.sessionPersistence)==null||i.set_disabled(o)),o}opt_in_capturing(t){if(this.config.cookieless_mode!=="always"){var n,r;this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),(n=this.sessionManager)==null||n.destroy(),this.sessionManager=new mG(this),this.persistence&&(this.sessionPropsManager=new pG(this,this.sessionManager,this.persistence)),this.sessionRecording=new vG(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.Br(),this.Ar(),this.config.cookieless_mode=="on_reject"&&this.surveys.loadIfEnabled(),(gn(t==null?void 0:t.captureEventName)||t!=null&&t.captureEventName)&&this.capture((r=t==null?void 0:t.captureEventName)!==null&&r!==void 0?r:"$opt_in",t==null?void 0:t.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Dr()}else bn.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var t,n;this.config.cookieless_mode!=="always"?(this.config.cookieless_mode==="on_reject"&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.Br(),this.config.cookieless_mode==="on_reject"&&(this.register({distinct_id:Kg,$device_id:null}),(t=this.sessionManager)==null||t.destroy(),this.sessionManager=void 0,this.sessionPropsManager=void 0,(n=this.sessionRecording)==null||n.stopRecording(),this.sessionRecording=void 0,this.Dr())):bn.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var t=this.consent.consent;return t===cu.GRANTED?"granted":t===cu.DENIED?"denied":"pending"}is_capturing(){return this.config.cookieless_mode==="always"||(this.config.cookieless_mode==="on_reject"?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.Br()}_is_bot(){return Pa?gG(Pa,this.config.custom_blocked_useragents):void 0}Dr(){sn&&(sn.visibilityState==="visible"?this.mr||(this.mr=!0,this.capture("$pageview",{title:sn.title},{send_instantly:!0}),this.yr&&(sn.removeEventListener("visibilitychange",this.yr),this.yr=null)):this.yr||(this.yr=this.Dr.bind(this),Ho(sn,"visibilitychange",this.yr)))}debug(t){t===!1?(ht==null||ht.console.log("You've disabled debug mode."),this.set_config({debug:!1})):(ht==null||ht.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),this.set_config({debug:!0}))}M(){var t,n,r,i,o,a,s,l=this.Er||{};return"advanced_disable_flags"in l?!!l.advanced_disable_flags:this.config.advanced_disable_flags!==!1?!!this.config.advanced_disable_flags:this.config.advanced_disable_decide===!0?(bn.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(r="advanced_disable_decide",i=!1,o=bn,a=(n="advanced_disable_flags")in(t=l)&&!gn(t[n]),s=r in t&&!gn(t[r]),a?t[n]:s?(o&&o.warn("Config field '"+r+"' is deprecated. Please use '"+n+"' instead. The old field will be removed in a future major version."),t[r]):i)}Nr(t){if(io(this.config.before_send))return t;var n=Xi(this.config.before_send)?this.config.before_send:[this.config.before_send],r=t;for(var i of n){if(r=i(r),io(r)){var o="Event '"+t.event+"' was rejected in beforeSend function";return axe(t.event)?bn.warn(o+". This can cause unexpected behavior."):bn.info(o),null}r.properties&&!qh(r.properties)||bn.warn("Event '"+t.event+"' has no properties after beforeSend function, this is likely an error.")}return r}getPageViewId(){var t;return(t=this.pageViewManager.Vt)==null?void 0:t.pageViewId}captureTraceFeedback(t,n){this.capture("$ai_feedback",{$ai_trace_id:String(t),$ai_feedback_text:n})}captureTraceMetric(t,n,r){this.capture("$ai_metric",{$ai_trace_id:String(t),$ai_metric_name:n,$ai_metric_value:String(r)})}$r(t){var n=Qu(t)&&!t,r=xo.H()&&xo.q("ph_debug")==="true";return!n&&(!!r||t)}}(function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=Rxe(e.prototype[t[n]])})(cw,["identify"]);var _G,m0=(_G=p0[np]=new cw,(function(){function e(){e.done||(e.done=!0,bG=!1,Yi(p0,(function(t){t._dom_loaded()})))}sn!=null&&sn.addEventListener?sn.readyState==="complete"?e():Ho(sn,"DOMContentLoaded",e,{capture:!1}):ht&&bn.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")})(),_G),EG=x.createContext({client:m0,bootstrap:void 0});function SG(e,t,n){if(n===void 0&&(n=new WeakMap),e===t)return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(n.has(e)&&n.get(e)===t)return!0;n.set(e,t);var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var o=0,a=r;o<a.length;o++){var s=a[o];if(!i.includes(s)||!SG(e[s],t[s],n))return!1}return!0}function p2e(e){var t,n,r=e.children,i=e.client,o=e.apiKey,a=e.options,s=x.useRef(null),l=x.useMemo(function(){return i?(o&&console.warn("[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`."),a&&console.warn("[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`."),i):(o||console.warn("[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior."),m0)},[i,o,JSON.stringify(a)]);return x.useEffect(function(){if(!i){var c=s.current;c?(o!==c.apiKey&&console.warn("[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop."),a&&!SG(a,c.options)&&m0.set_config(a),s.current={apiKey:o,options:a??{}}):(m0.__loaded&&console.warn("[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues."),m0.init(o,a),s.current={apiKey:o,options:a??{}})}},[i,o,JSON.stringify(a)]),ie.createElement(EG.Provider,{value:{client:l,bootstrap:(t=a==null?void 0:a.bootstrap)!==null&&t!==void 0?t:(n=i==null?void 0:i.config)===null||n===void 0?void 0:n.bootstrap}},r)}var nA=function(e){return typeof e=="function"},rA=function(e,t){return rA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},rA(e,t)};function m2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");rA(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var g2e={componentStack:null,exceptionEvent:null,error:null},y2e={INVALID_FALLBACK:"[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element."};(function(e){m2e(t,e);function t(n){var r=e.call(this,n)||this;return r.state=g2e,r}return t.prototype.componentDidCatch=function(n,r){var i=this.props.additionalProperties,o;nA(i)?o=i(n):typeof i=="object"&&(o=i);var a=this.context.client,s=a.captureException(n,o),l=r.componentStack;this.setState({error:n,componentStack:l,exceptionEvent:s})},t.prototype.render=function(){var n=this.props,r=n.children,i=n.fallback,o=this.state;if(o.componentStack==null)return nA(r)?r():r;var a=nA(i)?ie.createElement(i,{error:o.error,componentStack:o.componentStack,exceptionEvent:o.exceptionEvent}):i;return ie.isValidElement(a)?a:(console.warn(y2e.INVALID_FALLBACK),ie.createElement(ie.Fragment,null))},t.contextType=EG,t})(ie.Component);const v2e=({children:e})=>{const{settings:t}=Rl(),n=!t["posthog.enabled"];return t["posthog.api.key"]?v.jsx(p2e,{apiKey:t["posthog.api.key"],options:{disable_persistence:n,disable_session_recording:n,disable_surveys:n,advanced_disable_decide:n,advanced_disable_feature_flags:n,advanced_disable_feature_flags_on_first_load:n,advanced_disable_toolbar_metrics:n,autocapture:!n,capture_pageview:!n,capture_pageleave:!n},children:e}):v.jsx(v.Fragment,{children:e})},b2e={isSearchPanelOpen:!1,setSearchPanelOpen:()=>{},toggleSearchPanel:()=>{},searchPanelRef:{current:null}},CG=x.createContext(b2e),w2e=({children:e})=>{const{leftPanelState:t,updateLeftPanelState:n}=vc(),r=t.type===Gu.SEARCH,i=x.useRef(null),o=x.useCallback(l=>{n(l?{type:Gu.SEARCH,width:t.width}:{type:null,width:t.width})},[t.width,n]),a=x.useCallback(()=>{const l=(()=>{const u=Ki(Mn.LEFT_PANEL_STATE);if(u)try{return JSON.parse(u)}catch{return{type:null,width:350}}return{type:null,width:350}})(),c={type:l.type===Gu.SEARCH?null:Gu.SEARCH,width:l.width};Is(Mn.LEFT_PANEL_STATE,JSON.stringify(c)),n(c)},[n]),s=x.useCallback(l=>{(l.metaKey||l.ctrlKey)&&l.shiftKey&&(l.key==="f"||l.key==="F")&&(l.preventDefault(),o(!0),setTimeout(()=>{var c;(c=i.current)==null||c.focusSearchInput()},100))},[o]);return x.useEffect(()=>(document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}),[s]),v.jsx(CG.Provider,{value:{isSearchPanelOpen:r,setSearchPanelOpen:o,toggleSearchPanel:a,searchPanelRef:i},children:e})},TG=()=>x.useContext(CG),x2e=U.div.withConfig({displayName:"CenteredLayout__Root"})([`
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  margin-bottom: auto;
  overflow-y: auto;
  background: `,`;
`],({theme:e})=>e.color.loginBackground),_2e=U.div.withConfig({displayName:"CenteredLayout__Main"})([`
  margin-top: auto;
  position: relative;
`]),E2e=U.img.withConfig({displayName:"CenteredLayout__GridBackground"})([`
  position: absolute;
  z-index: 0;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
`]),S2e=U.div.withConfig({displayName:"CenteredLayout__MainContent"})([`
  position: relative;
  z-index: 1;
`]),C2e=U.div.withConfig({displayName:"CenteredLayout__Footer"})([`
  text-align: center;
  align-items: center;
  display: flex;
  gap: 2rem;
  margin-bottom: 2rem;
  margin-top: auto;
`]),T2e=U.div.withConfig({displayName:"CenteredLayout__VersionBadge"})([`
  display: flex;
  padding: 0.6rem 1.1rem;
  justify-content: center;
  align-items: center;
  border-radius: 0.4rem;
  border: 0.075rem solid #521427;
  background: #290a13;
`]),A2e=({children:e,preloadedImages:t})=>{const{settings:n}=Rl();return v.jsxs(x2e,{children:[v.jsxs(_2e,{children:[v.jsx(E2e,{src:(t==null?void 0:t["assets/grid-bg.webp"])||"assets/grid-bg.webp",alt:"","aria-hidden":"true",width:"100%",height:"100%"}),v.jsx(S2e,{children:e})]}),v.jsxs(C2e,{children:[v.jsxs(st,{size:"sm",color:"gray2",children:["Copyright \xA9 ",new Date().getFullYear()," QuestDB. All rights reserved."]}),n["release.type"]&&v.jsx(T2e,{children:v.jsxs(st,{size:"sm",color:"gray2",children:["QuestDB ",n["release.type"]==="EE"?"Enterprise":""," ",n["release.version"]]})})]})]})},rp=x.forwardRef((e,t)=>v.jsx("input",{ref:t,type:"checkbox",...e}));rp.displayName="Checkbox";const I2e=U(vn).withConfig({displayName:"CopyButton__StyledButton"})([`
  padding: 1.2rem 0.6rem;
`]),O2e=U(Nu).withConfig({displayName:"CopyButton__StyledCheckboxCircle"})([`
  position: absolute;
  transform: translate(75%, -75%);
  color: `,`;
`],({theme:e})=>e.color.green),AG=({text:e,iconOnly:t})=>{const[n,r]=x.useState(!1);return v.jsxs(I2e,{skin:"secondary","data-hook":"copy-value",onClick:i=>{nh(e),i.stopPropagation(),r(!0),setTimeout(()=>r(!1),2e3)},...!t&&{prefixIcon:v.jsx(th,{size:"16px"})},children:[n&&v.jsx(O2e,{size:"14px"}),t?v.jsx(th,{size:"16px"}):"Copy"]})},k2e=Vn([`
  @keyframes dialogShow {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`]),N2e=Vn([`
  @keyframes dialogHide {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }
`]),pr={Root:Pm,Overlay:Fm,Trigger:yC,Portal:Dm,Content:U(Yy).withConfig({displayName:"Dialog__Content"})([`
    background-color: `,`;
    border-radius: `,`;
    box-shadow: 0 7px 30px -10px `,`;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 90vw;
    max-width: `,`;
    max-height: 85vh;
    padding: 0 0 2rem 0;
    border: 1px `,` solid;
    z-index: 101;

    `,`
    `,`
    
    &[data-state="open"] {
      animation: dialogShow 0.25s cubic-bezier(0.16, 1, 0.3, 1);
    }

    &[data-state="closed"] {
      animation: dialogHide 0.25s cubic-bezier(0.16, 1, 0.3, 1);
    }

    &:focus {
      outline: none;
    }
  `],({theme:e})=>e.color.backgroundDarker,({theme:e})=>e.borderRadius,({theme:e})=>e.color.black,({maxwidth:e})=>e??"50rem",({theme:e})=>e.color.selection,k2e,N2e),Title:U(vC).withConfig({displayName:"Dialog__Title"})([`
    margin: 0;
    padding: 2rem;
    font-size: 1.6rem;
    color: `,`;
    border-bottom: 1px `,` solid;
  `],({theme:e})=>e.color.foreground,({theme:e})=>e.color.backgroundLighter),Description:U(E7).withConfig({displayName:"Dialog__Description"})([`
    margin-top: 2rem;
    padding: 0 2rem;
    color: `,`;
  `],({theme:e})=>e.color.foreground),ActionButtons:U.div.withConfig({displayName:"Dialog__ActionButtons"})([`
    display: flex;
    width: 100%;
    justify-content: flex-end;
    padding: 0 2rem;
    margin-top: 2rem;

    > button:not(:last-child) {
      margin-right: 1rem;
    }
  `]),Close:bC},R2e=U.div.withConfig({displayName:"group-header__GroupHeader"})([`
  display: flex;
  justify-content: center;
  width: 100%;
  padding: 2rem 0;
  border-bottom: 0.1rem `,` solid;
`],({theme:e})=>e.color.selection),j2e=U.div.withConfig({displayName:"group-item__GroupItem"})([`
  display: flex;
  `,`;
  padding: 2rem;

  &:not(:last-child) {
    border-bottom: 0.1rem `,` solid;
  }

  &:last-child {
    border-bottom-left-radius: `,`;
    border-bottom-right-radius: `,`;
  }

  `,`
`],({direction:e})=>e==="column"?`
    flex-direction: column;
    align-items: flex-start;
    flex-wrap: wrap;
    width: 100%;
  `:`
    justify-content: space-between;
    flex-wrap: initial;
  `,({theme:e})=>e.color.backgroundLighter,({theme:e})=>e.borderRadius,({theme:e})=>e.borderRadius,({theme:e,withLink:t})=>t&&`
    &:hover {
      cursor: pointer;
      background-color: ${e.color.black};
    }
  `),L2e=U(tt).attrs({gap:"1rem",justifyContent:"flex-end",align:"center"}).withConfig({displayName:"actions__Actions"})([`
  width: 100%;
  padding-left: 2rem;
  padding-right: 2rem;
  height: 7rem;
`]),M2e=U(tt).attrs({gap:"0",flexDirection:"column"}).withConfig({displayName:"content-wrapper__ContentWrapper"})([`
  width: 100%;
  /*
    4.5rem = top bar
    4.5rem = drawer title
    4rem = footer
  */
  height: `,`;
  form {
    width: 100%;
    height: 100%;
  }
`],({mode:e})=>e==="side"?"calc(100vh - 4.5rem - 4.5rem - 4rem)":"calc(100vh - 4.5rem)"),P2e=U.div.withConfig({displayName:"header__Root"})([`
  position: relative;
  display: flex;
  justify-content: space-between;
  height: 4.5rem;
  padding: 0 1rem;
  align-items: center;
  background: `,`;
  border-top: 1px solid transparent;
  z-index: 5;

  `,`
`],vt("backgroundLighter"),({shadow:e})=>e&&`
      box-shadow: 0 2px 10px 0 rgba(23, 23, 23, 0.65)
  `),D2e=U(st).withConfig({displayName:"header__Title"})([`
  display: flex;
  align-items: center;
  padding-left: 1rem;
  font-size: 1.6rem;
`]),F2e=({title:e,afterTitle:t,shadow:n})=>v.jsxs(P2e,{shadow:n,children:[e&&v.jsx(D2e,{color:"foreground",children:e}),t]}),uw=({children:e})=>e;uw.Header=F2e;let IG,OG,kG,NG,RG;IG=new Map([["bold",x.createElement(x.Fragment,null,x.createElement("path",{d:"M244,56v48a12,12,0,0,1-12,12H184a12,12,0,1,1,0-24H201.1l-19-17.38c-.13-.12-.26-.24-.38-.37A76,76,0,1,0,127,204h1a75.53,75.53,0,0,0,52.15-20.72,12,12,0,0,1,16.49,17.45A99.45,99.45,0,0,1,128,228h-1.37A100,100,0,1,1,198.51,57.06L220,76.72V56a12,12,0,0,1,24,0Z"}))],["duotone",x.createElement(x.Fragment,null,x.createElement("path",{d:"M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z",opacity:"0.2"}),x.createElement("path",{d:"M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"}))],["fill",x.createElement(x.Fragment,null,x.createElement("path",{d:"M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1-5.66-13.66l17-17-10.55-9.65-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,1,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60l10.93,10L226.34,50.3A8,8,0,0,1,240,56Z"}))],["light",x.createElement(x.Fragment,null,x.createElement("path",{d:"M238,56v48a6,6,0,0,1-6,6H184a6,6,0,0,1,0-12h32.55l-30.38-27.8c-.06-.06-.12-.13-.19-.19a82,82,0,1,0-1.7,117.65,6,6,0,0,1,8.24,8.73A93.46,93.46,0,0,1,128,222h-1.28A94,94,0,1,1,194.37,61.4L226,90.35V56a6,6,0,1,1,12,0Z"}))],["regular",x.createElement(x.Fragment,null,x.createElement("path",{d:"M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"}))],["thin",x.createElement(x.Fragment,null,x.createElement("path",{d:"M236,56v48a4,4,0,0,1-4,4H184a4,4,0,0,1,0-8h37.7L187.53,68.69l-.13-.12a84,84,0,1,0-1.75,120.51,4,4,0,0,1,5.5,5.82A91.43,91.43,0,0,1,128,220h-1.26A92,92,0,1,1,193,62.84l35,32.05V56a4,4,0,1,1,8,0Z"}))]]),OG=new Map([["bold",x.createElement(x.Fragment,null,x.createElement("path",{d:"M216,36H40A20,20,0,0,0,20,56V200a20,20,0,0,0,20,20H216a20,20,0,0,0,20-20V56A20,20,0,0,0,216,36ZM44,60H76V196H44ZM212,196H100V60H212Z"}))],["duotone",x.createElement(x.Fragment,null,x.createElement("path",{d:"M88,48V208H40a8,8,0,0,1-8-8V56a8,8,0,0,1,8-8Z",opacity:"0.2"}),x.createElement("path",{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM40,56H80V200H40ZM216,200H96V56H216V200Z"}))],["fill",x.createElement(x.Fragment,null,x.createElement("path",{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,160H88V56H216V200Z"}))],["light",x.createElement(x.Fragment,null,x.createElement("path",{d:"M216,42H40A14,14,0,0,0,26,56V200a14,14,0,0,0,14,14H216a14,14,0,0,0,14-14V56A14,14,0,0,0,216,42ZM38,200V56a2,2,0,0,1,2-2H82V202H40A2,2,0,0,1,38,200Zm180,0a2,2,0,0,1-2,2H94V54H216a2,2,0,0,1,2,2Z"}))],["regular",x.createElement(x.Fragment,null,x.createElement("path",{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM40,56H80V200H40ZM216,200H96V56H216V200Z"}))],["thin",x.createElement(x.Fragment,null,x.createElement("path",{d:"M216,44H40A12,12,0,0,0,28,56V200a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V56A12,12,0,0,0,216,44ZM36,200V56a4,4,0,0,1,4-4H84V204H40A4,4,0,0,1,36,200Zm184,0a4,4,0,0,1-4,4H92V52H216a4,4,0,0,1,4,4Z"}))]]),kG=new Map([["bold",x.createElement(x.Fragment,null,x.createElement("path",{d:"M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm-12-80V80a12,12,0,0,1,24,0v52a12,12,0,0,1-24,0Zm28,40a16,16,0,1,1-16-16A16,16,0,0,1,144,172Z"}))],["duotone",x.createElement(x.Fragment,null,x.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),x.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm-8-80V80a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,172Z"}))],["fill",x.createElement(x.Fragment,null,x.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm-8,56a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm8,104a12,12,0,1,1,12-12A12,12,0,0,1,128,184Z"}))],["light",x.createElement(x.Fragment,null,x.createElement("path",{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm-6-82V80a6,6,0,0,1,12,0v56a6,6,0,0,1-12,0Zm16,36a10,10,0,1,1-10-10A10,10,0,0,1,138,172Z"}))],["regular",x.createElement(x.Fragment,null,x.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm-8-80V80a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,172Z"}))],["thin",x.createElement(x.Fragment,null,x.createElement("path",{d:"M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm-4-84V80a4,4,0,0,1,8,0v56a4,4,0,0,1-8,0Zm12,36a8,8,0,1,1-8-8A8,8,0,0,1,136,172Z"}))]]),NG=new Map([["bold",x.createElement(x.Fragment,null,x.createElement("path",{d:"M208.49,191.51a12,12,0,0,1-17,17L128,145,64.49,208.49a12,12,0,0,1-17-17L111,128,47.51,64.49a12,12,0,0,1,17-17L128,111l63.51-63.52a12,12,0,0,1,17,17L145,128Z"}))],["duotone",x.createElement(x.Fragment,null,x.createElement("path",{d:"M216,56V200a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40H200A16,16,0,0,1,216,56Z",opacity:"0.2"}),x.createElement("path",{d:"M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"}))],["fill",x.createElement(x.Fragment,null,x.createElement("path",{d:"M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM181.66,170.34a8,8,0,0,1-11.32,11.32L128,139.31,85.66,181.66a8,8,0,0,1-11.32-11.32L116.69,128,74.34,85.66A8,8,0,0,1,85.66,74.34L128,116.69l42.34-42.35a8,8,0,0,1,11.32,11.32L139.31,128Z"}))],["light",x.createElement(x.Fragment,null,x.createElement("path",{d:"M204.24,195.76a6,6,0,1,1-8.48,8.48L128,136.49,60.24,204.24a6,6,0,0,1-8.48-8.48L119.51,128,51.76,60.24a6,6,0,0,1,8.48-8.48L128,119.51l67.76-67.75a6,6,0,0,1,8.48,8.48L136.49,128Z"}))],["regular",x.createElement(x.Fragment,null,x.createElement("path",{d:"M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"}))],["thin",x.createElement(x.Fragment,null,x.createElement("path",{d:"M202.83,197.17a4,4,0,0,1-5.66,5.66L128,133.66,58.83,202.83a4,4,0,0,1-5.66-5.66L122.34,128,53.17,58.83a4,4,0,0,1,5.66-5.66L128,122.34l69.17-69.17a4,4,0,1,1,5.66,5.66L133.66,128Z"}))]]),RG=x.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),rh=x.forwardRef((e,t)=>{const{alt:n,color:r,size:i,weight:o,mirrored:a,children:s,weights:l,...c}=e,{color:u="currentColor",size:d,weight:f="regular",mirrored:p=!1,...g}=x.useContext(RG);return x.createElement("svg",{ref:t,xmlns:"http://www.w3.org/2000/svg",width:i??d,height:i??d,fill:r??u,viewBox:"0 0 256 256",transform:a||p?"scale(-1, 1)":void 0,...g,...c},!!n&&x.createElement("title",null,n),s,l.get(o??f))}),rh.displayName="IconBase";const jG=x.forwardRef((e,t)=>x.createElement(rh,{ref:t,...e,weights:IG}));jG.displayName="ArrowClockwiseIcon";const LG=x.forwardRef((e,t)=>x.createElement(rh,{ref:t,...e,weights:OG}));LG.displayName="SidebarSimpleIcon";const MG=x.forwardRef((e,t)=>x.createElement(rh,{ref:t,...e,weights:kG}));MG.displayName="WarningCircleIcon",fm=x.forwardRef((e,t)=>x.createElement(rh,{ref:t,...e,weights:NG})),fm.displayName="XIcon";const U2e=Vn([`
  @keyframes animateShow {
    from {
      transform: translateX(100%);
    }
    to {
      transform: translateX(0);
    }
  }
`]),z2e=Vn([`
  @keyframes animateHide {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(100%);
    }
  }
`]),B2e=U(Yy).attrs({forceMount:!0}).withConfig({displayName:"Drawer__DrawerContent"})([`
  background-color: `,`;
  border-left: 0.2rem `,` solid;
  position: `,`;
  top: 0;
  right: 0;
  max-width: 100%;
  width: `,`;
  height: 100%;
  overflow: auto;
  z-index: 101;

  `,`
  `,`

  `,`;
`],({theme:e})=>e.color.chatBackground,({theme:e})=>e.color.background,({mode:e})=>e==="modal"?"fixed":"inherit",({mode:e,width:t})=>t??(e==="side"?"100%":"52rem"),U2e,z2e,({mode:e})=>e==="modal"&&`
  &[data-state="open"] {
    animation: animateShow 0.5s cubic-bezier(0.16, 1, 0.3, 1);
  }

  &[data-state="closed"] {
    animation: animateHide 0.5s cubic-bezier(0.16, 1, 0.3, 1);
  }

  &:focus {
    outline: none;
  }
  `),PG=U(vn).attrs({"aria-label":"Close",skin:"transparent"}).withConfig({displayName:"Drawer__StyledClose"})([`
  margin-left: auto;
  margin-right: 0.5rem;
  cursor: pointer;
  color: `,`;
  padding: 0.6rem;
`],({theme:e})=>e.color.foreground),Ta=({mode:e="modal",children:t,trigger:n,title:r,afterTitle:i,width:o,open:a,onOpenChange:s,onDismiss:l,withCloseButton:c,closeOnOverlayClick:u=!0,closeOnEscape:d=!0})=>v.jsxs(Pm,{onOpenChange:s,open:a,modal:e==="modal",children:[v.jsx(yC,{asChild:!0,children:v.jsx(eo,{children:n})}),v.jsxs(Dm,{...e==="side"&&{container:document.getElementById("side-panel-right")},children:[e==="modal"&&v.jsx(eo,{children:v.jsx(Zl,{primitive:Fm})}),v.jsxs(B2e,{mode:e,width:o,...l&&{onEscapeKeyDown:d?l:void 0,onInteractOutside:u?l:void 0},...e==="side"&&{onInteractOutside:f=>f.preventDefault(),onEscapeKeyDown:f=>f.preventDefault(),onPointerDownOutside:f=>f.preventDefault()},children:[(r||c)&&v.jsx(uw.Header,{title:r,afterTitle:i,...c&&{afterTitle:v.jsx(PG,{...l?{onClick:l}:{},children:v.jsx(fm,{size:16,weight:"bold"})})}}),t]})]})]});Ta.GroupHeader=R2e,Ta.GroupItem=j2e,Ta.Actions=L2e,Ta.ContentWrapper=M2e;function DG(e){const t=e+"CollectionProvider",[n,r]=lc(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=h=>{const{scope:y,children:b}=h,w=ie.useRef(null),S=ie.useRef(new Map).current;return v.jsx(i,{scope:y,itemMap:S,collectionRef:w,children:b})};a.displayName=t;const s=e+"CollectionSlot",l=ph(s),c=ie.forwardRef((h,y)=>{const{scope:b,children:w}=h,S=o(s,b),E=wo(y,S.collectionRef);return v.jsx(l,{ref:E,children:w})});c.displayName=s;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=ph(u),p=ie.forwardRef((h,y)=>{const{scope:b,children:w,...S}=h,E=ie.useRef(null),_=wo(y,E),m=o(u,b);return ie.useEffect(()=>(m.itemMap.set(E,{ref:E,...S}),()=>void m.itemMap.delete(E))),v.jsx(f,{[d]:"",ref:_,children:w})});p.displayName=u;function g(h){const y=o(e+"CollectionConsumer",h);return ie.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((S,E)=>w.indexOf(S.ref.current)-w.indexOf(E.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:c,ItemSlot:p},g,r]}var $2e=x.createContext(void 0);function FG(e){const t=x.useContext($2e);return e||t||"ltr"}const H2e=["top","right","bottom","left"],id=Math.min,Ds=Math.max,dw=Math.round,fw=Math.floor,Sc=e=>({x:e,y:e}),V2e={left:"right",right:"left",bottom:"top",top:"bottom"},q2e={start:"end",end:"start"};function iA(e,t,n){return Ds(e,id(t,n))}function du(e,t){return typeof e=="function"?e(t):e}function fu(e){return e.split("-")[0]}function ip(e){return e.split("-")[1]}function oA(e){return e==="x"?"y":"x"}function aA(e){return e==="y"?"height":"width"}const W2e=new Set(["top","bottom"]);function Cc(e){return W2e.has(fu(e))?"y":"x"}function sA(e){return oA(Cc(e))}function G2e(e,t,n){n===void 0&&(n=!1);const r=ip(e),i=sA(e),o=aA(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=hw(a)),[a,hw(a)]}function K2e(e){const t=hw(e);return[lA(e),t,lA(t)]}function lA(e){return e.replace(/start|end/g,t=>q2e[t])}const UG=["left","right"],zG=["right","left"],X2e=["top","bottom"],Y2e=["bottom","top"];function Q2e(e,t,n){switch(e){case"top":case"bottom":return n?t?zG:UG:t?UG:zG;case"left":case"right":return t?X2e:Y2e;default:return[]}}function J2e(e,t,n,r){const i=ip(e);let o=Q2e(fu(e),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(lA)))),o}function hw(e){return e.replace(/left|right|bottom|top/g,t=>V2e[t])}function Z2e(e){return{top:0,right:0,bottom:0,left:0,...e}}function BG(e){return typeof e!="number"?Z2e(e):{top:e,right:e,bottom:e,left:e}}function pw(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function $G(e,t,n){let{reference:r,floating:i}=e;const o=Cc(t),a=sA(t),s=aA(a),l=fu(t),c=o==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[s]/2-i[s]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(ip(t)){case"start":p[a]-=f*(n&&c?-1:1);break;case"end":p[a]+=f*(n&&c?-1:1);break}return p}const eEe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=$G(c,r,l),f=r,p={},g=0;for(let h=0;h<s.length;h++){const{name:y,fn:b}=s[h],{x:w,y:S,data:E,reset:_}=await b({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:c,platform:a,elements:{reference:e,floating:t}});u=w??u,d=S??d,p={...p,[y]:{...p[y],...E}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(f=_.placement),_.rects&&(c=_.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):_.rects),{x:u,y:d}=$G(c,f,l)),h=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:p}};async function g0(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=du(t,e),g=BG(p),h=s[f?d==="floating"?"reference":"floating":d],y=pw(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(h)))==null||n?h:h.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),b=d==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),S=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},E=pw(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:b,offsetParent:w,strategy:l}):b);return{top:(y.top-E.top+g.top)/S.y,bottom:(E.bottom-y.bottom+g.bottom)/S.y,left:(y.left-E.left+g.left)/S.x,right:(E.right-y.right+g.right)/S.x}}const tEe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=du(e,t)||{};if(c==null)return{};const d=BG(u),f={x:n,y:r},p=sA(i),g=aA(p),h=await a.getDimensions(c),y=p==="y",b=y?"top":"left",w=y?"bottom":"right",S=y?"clientHeight":"clientWidth",E=o.reference[g]+o.reference[p]-f[p]-o.floating[g],_=f[p]-o.reference[p],m=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let C=m?m[S]:0;(!C||!await(a.isElement==null?void 0:a.isElement(m)))&&(C=s.floating[S]||o.floating[g]);const T=E/2-_/2,O=C/2-h[g]/2-1,R=id(d[b],O),j=id(d[w],O),D=R,L=C-h[g]-j,V=C/2-h[g]/2+T,z=iA(D,V,L),B=!l.arrow&&ip(i)!=null&&V!==z&&o.reference[g]/2-(V<D?R:j)-h[g]/2<0,H=B?V<D?V-D:V-L:0;return{[p]:f[p]+H,data:{[p]:z,centerOffset:V-z-H,...B&&{alignmentOffset:H}},reset:B}}}),nEe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:h=!0,...y}=du(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const b=fu(i),w=Cc(s),S=fu(s)===s,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),_=f||(S||!h?[hw(s)]:K2e(s)),m=g!=="none";!f&&m&&_.push(...J2e(s,h,g,E));const C=[s,..._],T=await g0(t,y),O=[];let R=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&O.push(T[b]),d){const V=G2e(i,a,E);O.push(T[V[0]],T[V[1]])}if(R=[...R,{placement:i,overflows:O}],!O.every(V=>V<=0)){var j,D;const V=(((j=o.flip)==null?void 0:j.index)||0)+1,z=C[V];if(z&&(!(d==="alignment"&&w!==Cc(z))||R.every(H=>Cc(H.placement)===w?H.overflows[0]>0:!0)))return{data:{index:V,overflows:R},reset:{placement:z}};let B=(D=R.filter(H=>H.overflows[0]<=0).sort((H,J)=>H.overflows[1]-J.overflows[1])[0])==null?void 0:D.placement;if(!B)switch(p){case"bestFit":{var L;const H=(L=R.filter(J=>{if(m){const ne=Cc(J.placement);return ne===w||ne==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(ne=>ne>0).reduce((ne,q)=>ne+q,0)]).sort((J,ne)=>J[1]-ne[1])[0])==null?void 0:L[0];H&&(B=H);break}case"initialPlacement":B=s;break}if(i!==B)return{reset:{placement:B}}}return{}}}};function HG(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function VG(e){return H2e.some(t=>e[t]>=0)}const rEe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=du(e,t);switch(r){case"referenceHidden":{const o=await g0(t,{...i,elementContext:"reference"}),a=HG(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:VG(a)}}}case"escaped":{const o=await g0(t,{...i,altBoundary:!0}),a=HG(o,n.floating);return{data:{escapedOffsets:a,escaped:VG(a)}}}default:return{}}}}},qG=new Set(["left","top"]);async function iEe(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=fu(n),s=ip(n),l=Cc(n)==="y",c=qG.has(a)?-1:1,u=o&&l?-1:1,d=du(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof g=="number"&&(p=s==="end"?g*-1:g),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const oEe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=t,l=await iEe(t,e);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},aEe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:y=>{let{x:b,y:w}=y;return{x:b,y:w}}},...l}=du(e,t),c={x:n,y:r},u=await g0(t,l),d=Cc(fu(i)),f=oA(d);let p=c[f],g=c[d];if(o){const y=f==="y"?"top":"left",b=f==="y"?"bottom":"right",w=p+u[y],S=p-u[b];p=iA(w,p,S)}if(a){const y=d==="y"?"top":"left",b=d==="y"?"bottom":"right",w=g+u[y],S=g-u[b];g=iA(w,g,S)}const h=s.fn({...t,[f]:p,[d]:g});return{...h,data:{x:h.x-n,y:h.y-r,enabled:{[f]:o,[d]:a}}}}}},sEe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=du(e,t),u={x:n,y:r},d=Cc(i),f=oA(d);let p=u[f],g=u[d];const h=du(s,t),y=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(l){const S=f==="y"?"height":"width",E=o.reference[f]-o.floating[S]+y.mainAxis,_=o.reference[f]+o.reference[S]-y.mainAxis;p<E?p=E:p>_&&(p=_)}if(c){var b,w;const S=f==="y"?"width":"height",E=qG.has(fu(i)),_=o.reference[d]-o.floating[S]+(E&&((b=a.offset)==null?void 0:b[d])||0)+(E?0:y.crossAxis),m=o.reference[d]+o.reference[S]+(E?0:((w=a.offset)==null?void 0:w[d])||0)-(E?y.crossAxis:0);g<_?g=_:g>m&&(g=m)}return{[f]:p,[d]:g}}}},lEe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:a,elements:s}=t,{apply:l=()=>{},...c}=du(e,t),u=await g0(t,c),d=fu(i),f=ip(i),p=Cc(i)==="y",{width:g,height:h}=o.floating;let y,b;d==="top"||d==="bottom"?(y=d,b=f===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(b=d,y=f==="end"?"top":"bottom");const w=h-u.top-u.bottom,S=g-u.left-u.right,E=id(h-u[y],w),_=id(g-u[b],S),m=!t.middlewareData.shift;let C=E,T=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(T=S),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=w),m&&!f){const R=Ds(u.left,0),j=Ds(u.right,0),D=Ds(u.top,0),L=Ds(u.bottom,0);p?T=g-2*(R!==0||j!==0?R+j:Ds(u.left,u.right)):C=h-2*(D!==0||L!==0?D+L:Ds(u.top,u.bottom))}await l({...t,availableWidth:T,availableHeight:C});const O=await a.getDimensions(s.floating);return g!==O.width||h!==O.height?{reset:{rects:!0}}:{}}}};function mw(){return typeof window<"u"}function op(e){return WG(e)?(e.nodeName||"").toLowerCase():"#document"}function Fs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Tc(e){var t;return(t=(WG(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function WG(e){return mw()?e instanceof Node||e instanceof Fs(e).Node:!1}function Fl(e){return mw()?e instanceof Element||e instanceof Fs(e).Element:!1}function Ac(e){return mw()?e instanceof HTMLElement||e instanceof Fs(e).HTMLElement:!1}function GG(e){return!mw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Fs(e).ShadowRoot}const cEe=new Set(["inline","contents"]);function y0(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Ul(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!cEe.has(i)}const uEe=new Set(["table","td","th"]);function dEe(e){return uEe.has(op(e))}const fEe=[":popover-open",":modal"];function gw(e){return fEe.some(t=>{try{return e.matches(t)}catch{return!1}})}const hEe=["transform","translate","scale","rotate","perspective"],pEe=["transform","translate","scale","rotate","perspective","filter"],mEe=["paint","layout","strict","content"];function cA(e){const t=uA(),n=Fl(e)?Ul(e):e;return hEe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||pEe.some(r=>(n.willChange||"").includes(r))||mEe.some(r=>(n.contain||"").includes(r))}function gEe(e){let t=od(e);for(;Ac(t)&&!ap(t);){if(cA(t))return t;if(gw(t))return null;t=od(t)}return null}function uA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const yEe=new Set(["html","body","#document"]);function ap(e){return yEe.has(op(e))}function Ul(e){return Fs(e).getComputedStyle(e)}function yw(e){return Fl(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function od(e){if(op(e)==="html")return e;const t=e.assignedSlot||e.parentNode||GG(e)&&e.host||Tc(e);return GG(t)?t.host:t}function KG(e){const t=od(e);return ap(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ac(t)&&y0(t)?t:KG(t)}function v0(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=KG(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),a=Fs(i);if(o){const s=dA(a);return t.concat(a,a.visualViewport||[],y0(i)?i:[],s&&n?v0(s):[])}return t.concat(i,v0(i,[],n))}function dA(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function XG(e){const t=Ul(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Ac(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=dw(n)!==o||dw(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function fA(e){return Fl(e)?e:e.contextElement}function sp(e){const t=fA(e);if(!Ac(t))return Sc(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=XG(t);let a=(o?dw(n.width):n.width)/r,s=(o?dw(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const vEe=Sc(0);function YG(e){const t=Fs(e);return!uA()||!t.visualViewport?vEe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function bEe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Fs(e)?!1:t}function gf(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=fA(e);let a=Sc(1);t&&(r?Fl(r)&&(a=sp(r)):a=sp(e));const s=bEe(o,n,r)?YG(o):Sc(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,u=i.width/a.x,d=i.height/a.y;if(o){const f=Fs(o),p=r&&Fl(r)?Fs(r):r;let g=f,h=dA(g);for(;h&&r&&p!==g;){const y=sp(h),b=h.getBoundingClientRect(),w=Ul(h),S=b.left+(h.clientLeft+parseFloat(w.paddingLeft))*y.x,E=b.top+(h.clientTop+parseFloat(w.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,d*=y.y,l+=S,c+=E,g=Fs(h),h=dA(g)}}return pw({width:u,height:d,x:l,y:c})}function vw(e,t){const n=yw(e).scrollLeft;return t?t.left+n:gf(Tc(e)).left+n}function QG(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-vw(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function wEe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",a=Tc(r),s=t?gw(t.floating):!1;if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Sc(1);const u=Sc(0),d=Ac(r);if((d||!d&&!o)&&((op(r)!=="body"||y0(a))&&(l=yw(r)),Ac(r))){const p=gf(r);c=sp(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const f=a&&!d&&!o?QG(a,l):Sc(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function xEe(e){return Array.from(e.getClientRects())}function _Ee(e){const t=Tc(e),n=yw(e),r=e.ownerDocument.body,i=Ds(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Ds(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+vw(e);const s=-n.scrollTop;return Ul(r).direction==="rtl"&&(a+=Ds(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}const JG=25;function EEe(e,t){const n=Fs(e),r=Tc(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const u=uA();(!u||u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}const c=vw(r);if(c<=0){const u=r.ownerDocument,d=u.body,f=getComputedStyle(d),p=u.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,g=Math.abs(r.clientWidth-d.clientWidth-p);g<=JG&&(o-=g)}else c<=JG&&(o+=c);return{width:o,height:a,x:s,y:l}}const SEe=new Set(["absolute","fixed"]);function CEe(e,t){const n=gf(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Ac(e)?sp(e):Sc(1),a=e.clientWidth*o.x,s=e.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:a,height:s,x:l,y:c}}function ZG(e,t,n){let r;if(t==="viewport")r=EEe(e,n);else if(t==="document")r=_Ee(Tc(e));else if(Fl(t))r=CEe(t,n);else{const i=YG(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return pw(r)}function eK(e,t){const n=od(e);return n===t||!Fl(n)||ap(n)?!1:Ul(n).position==="fixed"||eK(n,t)}function TEe(e,t){const n=t.get(e);if(n)return n;let r=v0(e,[],!1).filter(s=>Fl(s)&&op(s)!=="body"),i=null;const o=Ul(e).position==="fixed";let a=o?od(e):e;for(;Fl(a)&&!ap(a);){const s=Ul(a),l=cA(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&i&&SEe.has(i.position)||y0(a)&&!l&&eK(e,a))?r=r.filter(c=>c!==a):i=s,a=od(a)}return t.set(e,r),r}function AEe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?gw(t)?[]:TEe(t,this._c):[].concat(n),r],a=o[0],s=o.reduce((l,c)=>{const u=ZG(t,c,i);return l.top=Ds(u.top,l.top),l.right=id(u.right,l.right),l.bottom=id(u.bottom,l.bottom),l.left=Ds(u.left,l.left),l},ZG(t,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function IEe(e){const{width:t,height:n}=XG(e);return{width:t,height:n}}function OEe(e,t,n){const r=Ac(t),i=Tc(t),o=n==="fixed",a=gf(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=Sc(0);function c(){l.x=vw(i)}if(r||!r&&!o)if((op(t)!=="body"||y0(i))&&(s=yw(t)),r){const p=gf(t,!0,o,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else i&&c();o&&!r&&i&&c();const u=i&&!r&&!o?QG(i,s):Sc(0),d=a.left+s.scrollLeft-l.x-u.x,f=a.top+s.scrollTop-l.y-u.y;return{x:d,y:f,width:a.width,height:a.height}}function hA(e){return Ul(e).position==="static"}function tK(e,t){if(!Ac(e)||Ul(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Tc(e)===n&&(n=n.ownerDocument.body),n}function nK(e,t){const n=Fs(e);if(gw(e))return n;if(!Ac(e)){let i=od(e);for(;i&&!ap(i);){if(Fl(i)&&!hA(i))return i;i=od(i)}return n}let r=tK(e,t);for(;r&&dEe(r)&&hA(r);)r=tK(r,t);return r&&ap(r)&&hA(r)&&!cA(r)?n:r||gEe(e)||n}const kEe=async function(e){const t=this.getOffsetParent||nK,n=this.getDimensions,r=await n(e.floating);return{reference:OEe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function NEe(e){return Ul(e).direction==="rtl"}const REe={convertOffsetParentRelativeRectToViewportRelativeRect:wEe,getDocumentElement:Tc,getClippingRect:AEe,getOffsetParent:nK,getElementRects:kEe,getClientRects:xEe,getDimensions:IEe,getScale:sp,isElement:Fl,isRTL:NEe};function rK(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function jEe(e,t){let n=null,r;const i=Tc(e);function o(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const c=e.getBoundingClientRect(),{left:u,top:d,width:f,height:p}=c;if(s||t(),!f||!p)return;const g=fw(d),h=fw(i.clientWidth-(u+f)),y=fw(i.clientHeight-(d+p)),b=fw(u),w={rootMargin:-g+"px "+-h+"px "+-y+"px "+-b+"px",threshold:Ds(0,id(1,l))||1};let S=!0;function E(_){const m=_[0].intersectionRatio;if(m!==l){if(!S)return a();m?a(!1,m):r=setTimeout(()=>{a(!1,1e-7)},1e3)}m===1&&!rK(c,e.getBoundingClientRect())&&a(),S=!1}try{n=new IntersectionObserver(E,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,w)}n.observe(e)}return a(!0),o}function LEe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=fA(e),u=i||o?[...c?v0(c):[],...v0(t)]:[];u.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),o&&b.addEventListener("resize",n)});const d=c&&s?jEe(c,n):null;let f=-1,p=null;a&&(p=new ResizeObserver(b=>{let[w]=b;w&&w.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let g,h=l?gf(e):null;l&&y();function y(){const b=gf(e);h&&!rK(h,b)&&n(),h=b,g=requestAnimationFrame(y)}return n(),()=>{var b;u.forEach(w=>{i&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),d==null||d(),(b=p)==null||b.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const MEe=oEe,PEe=aEe,DEe=nEe,FEe=lEe,UEe=rEe,iK=tEe,zEe=sEe,BEe=(e,t,n)=>{const r=new Map,i={platform:REe,...n},o={...i.platform,_c:r};return eEe(e,t,{...i,platform:o})};var $Ee=typeof document<"u",HEe=function(){},bw=$Ee?x.useLayoutEffect:HEe;function ww(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ww(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!ww(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function oK(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function aK(e,t){const n=oK(e);return Math.round(t*n)/n}function pA(e){const t=x.useRef(e);return bw(()=>{t.current=e}),t}function VEe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:c}=e,[u,d]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=x.useState(r);ww(f,r)||p(r);const[g,h]=x.useState(null),[y,b]=x.useState(null),w=x.useCallback(J=>{J!==m.current&&(m.current=J,h(J))},[]),S=x.useCallback(J=>{J!==C.current&&(C.current=J,b(J))},[]),E=o||g,_=a||y,m=x.useRef(null),C=x.useRef(null),T=x.useRef(u),O=l!=null,R=pA(l),j=pA(i),D=pA(c),L=x.useCallback(()=>{if(!m.current||!C.current)return;const J={placement:t,strategy:n,middleware:f};j.current&&(J.platform=j.current),BEe(m.current,C.current,J).then(ne=>{const q={...ne,isPositioned:D.current!==!1};V.current&&!ww(T.current,q)&&(T.current=q,w_.flushSync(()=>{d(q)}))})},[f,t,n,j,D]);bw(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(J=>({...J,isPositioned:!1})))},[c]);const V=x.useRef(!1);bw(()=>(V.current=!0,()=>{V.current=!1}),[]),bw(()=>{if(E&&(m.current=E),_&&(C.current=_),E&&_){if(R.current)return R.current(E,_,L);L()}},[E,_,L,R,O]);const z=x.useMemo(()=>({reference:m,floating:C,setReference:w,setFloating:S}),[w,S]),B=x.useMemo(()=>({reference:E,floating:_}),[E,_]),H=x.useMemo(()=>{const J={position:n,left:0,top:0};if(!B.floating)return J;const ne=aK(B.floating,u.x),q=aK(B.floating,u.y);return s?{...J,transform:"translate("+ne+"px, "+q+"px)",...oK(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:q}},[n,s,B.floating,u.x,u.y]);return x.useMemo(()=>({...u,update:L,refs:z,elements:B,floatingStyles:H}),[u,L,z,B,H])}const qEe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?iK({element:r.current,padding:i}).fn(n):{}:r?iK({element:r,padding:i}).fn(n):{}}}},WEe=(e,t)=>({...MEe(e),options:[e,t]}),GEe=(e,t)=>({...PEe(e),options:[e,t]}),KEe=(e,t)=>({...zEe(e),options:[e,t]}),XEe=(e,t)=>({...DEe(e),options:[e,t]}),YEe=(e,t)=>({...FEe(e),options:[e,t]}),QEe=(e,t)=>({...UEe(e),options:[e,t]}),JEe=(e,t)=>({...qEe(e),options:[e,t]});var ZEe="Arrow",sK=x.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return v.jsx(to.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});sK.displayName=ZEe;var eSe=sK;function lK(e){const[t,n]=x.useState(void 0);return Du(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,s;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,s=c.blockSize}else a=e.offsetWidth,s=e.offsetHeight;n({width:a,height:s})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var mA="Popper",[cK,xw]=lc(mA),[tSe,uK]=cK(mA),dK=e=>{const{__scopePopper:t,children:n}=e,[r,i]=x.useState(null);return v.jsx(tSe,{scope:t,anchor:r,onAnchorChange:i,children:n})};dK.displayName=mA;var fK="PopperAnchor",hK=x.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=uK(fK,n),a=x.useRef(null),s=wo(t,a),l=x.useRef(null);return x.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||a.current,c!==l.current&&o.onAnchorChange(l.current)}),r?null:v.jsx(to.div,{...i,ref:s})});hK.displayName=fK;var gA="PopperContent",[nSe,rSe]=cK(gA),pK=x.forwardRef((e,t)=>{var Fe,Ie,Ee,He,it,St;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:g,...h}=e,y=uK(gA,n),[b,w]=x.useState(null),S=wo(t,xt=>w(xt)),[E,_]=x.useState(null),m=lK(E),C=(m==null?void 0:m.width)??0,T=(m==null?void 0:m.height)??0,O=r+(o!=="center"?"-"+o:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},j=Array.isArray(c)?c:[c],D=j.length>0,L={padding:R,boundary:j.filter(oSe),altBoundary:D},{refs:V,floatingStyles:z,placement:B,isPositioned:H,middlewareData:J}=VEe({strategy:"fixed",placement:O,whileElementsMounted:(...xt)=>LEe(...xt,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[WEe({mainAxis:i+T,alignmentAxis:a}),l&&GEe({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?KEe():void 0,...L}),l&&XEe({...L}),YEe({...L,apply:({elements:xt,rects:Ct,availableWidth:We,availableHeight:Oe})=>{const{width:ye,height:Ve}=Ct.reference,Xe=xt.floating.style;Xe.setProperty("--radix-popper-available-width",`${We}px`),Xe.setProperty("--radix-popper-available-height",`${Oe}px`),Xe.setProperty("--radix-popper-anchor-width",`${ye}px`),Xe.setProperty("--radix-popper-anchor-height",`${Ve}px`)}}),E&&JEe({element:E,padding:s}),aSe({arrowWidth:C,arrowHeight:T}),f&&QEe({strategy:"referenceHidden",...L})]}),[ne,q]=yK(B),ee=cc(g);Du(()=>{H&&(ee==null||ee())},[H,ee]);const te=(Fe=J.arrow)==null?void 0:Fe.x,$=(Ie=J.arrow)==null?void 0:Ie.y,ae=((Ee=J.arrow)==null?void 0:Ee.centerOffset)!==0,[ue,me]=x.useState();return Du(()=>{b&&me(window.getComputedStyle(b).zIndex)},[b]),v.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:H?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(He=J.transformOrigin)==null?void 0:He.x,(it=J.transformOrigin)==null?void 0:it.y].join(" "),...((St=J.hide)==null?void 0:St.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:v.jsx(nSe,{scope:n,placedSide:ne,onArrowChange:_,arrowX:te,arrowY:$,shouldHideArrow:ae,children:v.jsx(to.div,{"data-side":ne,"data-align":q,...h,ref:S,style:{...h.style,animation:H?void 0:"none"}})})})});pK.displayName=gA;var mK="PopperArrow",iSe={top:"bottom",right:"left",bottom:"top",left:"right"},gK=x.forwardRef(function(e,t){const{__scopePopper:n,...r}=e,i=rSe(mK,n),o=iSe[i.placedSide];return v.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:v.jsx(eSe,{...r,ref:t,style:{...r.style,display:"block"}})})});gK.displayName=mK;function oSe(e){return e!==null}var aSe=e=>({name:"transformOrigin",options:e,fn(t){var h,y,b;const{placement:n,rects:r,middlewareData:i}=t,o=((h=i.arrow)==null?void 0:h.centerOffset)!==0,a=o?0:e.arrowWidth,s=o?0:e.arrowHeight,[l,c]=yK(n),u={start:"0%",center:"50%",end:"100%"}[c],d=(((y=i.arrow)==null?void 0:y.x)??0)+a/2,f=(((b=i.arrow)==null?void 0:b.y)??0)+s/2;let p="",g="";return l==="bottom"?(p=o?u:`${d}px`,g=`${-s}px`):l==="top"?(p=o?u:`${d}px`,g=`${r.floating.height+s}px`):l==="right"?(p=`${-s}px`,g=o?u:`${f}px`):l==="left"&&(p=`${r.floating.width+s}px`,g=o?u:`${f}px`),{data:{x:p,y:g}}}});function yK(e){const[t,n="center"]=e.split("-");return[t,n]}var vK=dK,yA=hK,bK=pK,wK=gK,vA="rovingFocusGroup.onEntryFocus",sSe={bubbles:!1,cancelable:!0},b0="RovingFocusGroup",[bA,xK,lSe]=DG(b0),[cSe,_K]=lc(b0,[lSe]),[uSe,dSe]=cSe(b0),EK=x.forwardRef((e,t)=>v.jsx(bA.Provider,{scope:e.__scopeRovingFocusGroup,children:v.jsx(bA.Slot,{scope:e.__scopeRovingFocusGroup,children:v.jsx(fSe,{...e,ref:t})})}));EK.displayName=b0;var fSe=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=e,f=x.useRef(null),p=wo(t,f),g=FG(o),[h,y]=Mm({prop:a,defaultProp:s??null,onChange:l,caller:b0}),[b,w]=x.useState(!1),S=cc(c),E=xK(n),_=x.useRef(!1),[m,C]=x.useState(0);return x.useEffect(()=>{const T=f.current;if(T)return T.addEventListener(vA,S),()=>T.removeEventListener(vA,S)},[S]),v.jsx(uSe,{scope:n,orientation:r,dir:g,loop:i,currentTabStopId:h,onItemFocus:x.useCallback(T=>y(T),[y]),onItemShiftTab:x.useCallback(()=>w(!0),[]),onFocusableItemAdd:x.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:x.useCallback(()=>C(T=>T-1),[]),children:v.jsx(to.div,{tabIndex:b||m===0?-1:0,"data-orientation":r,...d,ref:p,style:{outline:"none",...e.style},onMouseDown:tr(e.onMouseDown,()=>{_.current=!0}),onFocus:tr(e.onFocus,T=>{const O=!_.current;if(T.target===T.currentTarget&&O&&!b){const R=new CustomEvent(vA,sSe);if(T.currentTarget.dispatchEvent(R),!R.defaultPrevented){const j=E().filter(z=>z.focusable),D=j.find(z=>z.active),L=j.find(z=>z.id===h),V=[D,L,...j].filter(Boolean).map(z=>z.ref.current);TK(V,u)}}_.current=!1}),onBlur:tr(e.onBlur,()=>w(!1))})})}),SK="RovingFocusGroupItem",CK=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:a,...s}=e,l=Wd(),c=o||l,u=dSe(SK,n),d=u.currentTabStopId===c,f=xK(n),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:h}=u;return x.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),v.jsx(bA.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:v.jsx(to.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...s,ref:t,onMouseDown:tr(e.onMouseDown,y=>{r?u.onItemFocus(c):y.preventDefault()}),onFocus:tr(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:tr(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const b=mSe(y,u.orientation,u.dir);if(b!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let w=f().filter(S=>S.focusable).map(S=>S.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const S=w.indexOf(y.currentTarget);w=u.loop?gSe(w,S+1):w.slice(S+1)}setTimeout(()=>TK(w))}}),children:typeof a=="function"?a({isCurrentTabStop:d,hasTabStop:h!=null}):a})})});CK.displayName=SK;var hSe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function pSe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function mSe(e,t,n){const r=pSe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return hSe[r]}function TK(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function gSe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var ySe=EK,vSe=CK,wA=["Enter"," "],bSe=["ArrowDown","PageUp","Home"],AK=["ArrowUp","PageDown","End"],wSe=[...bSe,...AK],xSe={ltr:[...wA,"ArrowRight"],rtl:[...wA,"ArrowLeft"]},_Se={ltr:["ArrowLeft"],rtl:["ArrowRight"]},w0="Menu",[x0,ESe,SSe]=DG(w0),[yf,_w]=lc(w0,[SSe,xw,_K]),Ew=xw(),IK=_K(),[CSe,vf]=yf(w0),[TSe,_0]=yf(w0),OK=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:o,modal:a=!0}=e,s=Ew(t),[l,c]=x.useState(null),u=x.useRef(!1),d=cc(o),f=FG(i);return x.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),v.jsx(vK,{...s,children:v.jsx(CSe,{scope:t,open:n,onOpenChange:d,content:l,onContentChange:c,children:v.jsx(TSe,{scope:t,onClose:x.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:f,modal:a,children:r})})})};OK.displayName=w0;var ASe="MenuAnchor",xA=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Ew(n);return v.jsx(yA,{...i,...r,ref:t})});xA.displayName=ASe;var _A="MenuPortal",[ISe,kK]=yf(_A,{forceMount:void 0}),NK=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,o=vf(_A,t);return v.jsx(ISe,{scope:t,forceMount:n,children:v.jsx(uc,{present:n||o.open,children:v.jsx(Fy,{asChild:!0,container:i,children:r})})})};NK.displayName=_A;var ol="MenuContent",[OSe,EA]=yf(ol),RK=x.forwardRef((e,t)=>{const n=kK(ol,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=vf(ol,e.__scopeMenu),a=_0(ol,e.__scopeMenu);return v.jsx(x0.Provider,{scope:e.__scopeMenu,children:v.jsx(uc,{present:r||o.open,children:v.jsx(x0.Slot,{scope:e.__scopeMenu,children:a.modal?v.jsx(kSe,{...i,ref:t}):v.jsx(NSe,{...i,ref:t})})})})}),kSe=x.forwardRef((e,t)=>{const n=vf(ol,e.__scopeMenu),r=x.useRef(null),i=wo(t,r);return x.useEffect(()=>{const o=r.current;if(o)return hC(o)},[]),v.jsx(SA,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:tr(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),NSe=x.forwardRef((e,t)=>{const n=vf(ol,e.__scopeMenu);return v.jsx(SA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),RSe=ph("MenuContent.ScrollLock"),SA=x.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:p,disableOutsideScroll:g,...h}=e,y=vf(ol,n),b=_0(ol,n),w=Ew(n),S=IK(n),E=ESe(n),[_,m]=x.useState(null),C=x.useRef(null),T=wo(t,C,y.onContentChange),O=x.useRef(0),R=x.useRef(""),j=x.useRef(0),D=x.useRef(null),L=x.useRef("right"),V=x.useRef(0),z=g?qy:x.Fragment,B=g?{as:RSe,allowPinchZoom:!0}:void 0,H=ne=>{var Fe,Ie;const q=R.current+ne,ee=E().filter(Ee=>!Ee.disabled),te=document.activeElement,$=(Fe=ee.find(Ee=>Ee.ref.current===te))==null?void 0:Fe.textValue,ae=ee.map(Ee=>Ee.textValue),ue=VSe(ae,q,$),me=(Ie=ee.find(Ee=>Ee.textValue===ue))==null?void 0:Ie.ref.current;(function Ee(He){R.current=He,window.clearTimeout(O.current),He!==""&&(O.current=window.setTimeout(()=>Ee(""),1e3))})(q),me&&setTimeout(()=>me.focus())};x.useEffect(()=>()=>window.clearTimeout(O.current),[]),sC();const J=x.useCallback(ne=>{var q,ee;return L.current===((q=D.current)==null?void 0:q.side)&&WSe(ne,(ee=D.current)==null?void 0:ee.area)},[]);return v.jsx(OSe,{scope:n,searchRef:R,onItemEnter:x.useCallback(ne=>{J(ne)&&ne.preventDefault()},[J]),onItemLeave:x.useCallback(ne=>{var q;J(ne)||((q=C.current)==null||q.focus(),m(null))},[J]),onTriggerLeave:x.useCallback(ne=>{J(ne)&&ne.preventDefault()},[J]),pointerGraceTimerRef:j,onPointerGraceIntentChange:x.useCallback(ne=>{D.current=ne},[]),children:v.jsx(z,{...B,children:v.jsx(Dy,{asChild:!0,trapped:i,onMountAutoFocus:tr(o,ne=>{var q;ne.preventDefault(),(q=C.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:v.jsx(Py,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:p,children:v.jsx(ySe,{asChild:!0,...S,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:_,onCurrentTabStopIdChange:m,onEntryFocus:tr(l,ne=>{b.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:v.jsx(bK,{role:"menu","aria-orientation":"vertical","data-state":XK(y.open),"data-radix-menu-content":"",dir:b.dir,...w,...h,ref:T,style:{outline:"none",...h.style},onKeyDown:tr(h.onKeyDown,ne=>{const q=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,ee=ne.ctrlKey||ne.altKey||ne.metaKey,te=ne.key.length===1;q&&(ne.key==="Tab"&&ne.preventDefault(),!ee&&te&&H(ne.key));const $=C.current;if(ne.target!==$||!wSe.includes(ne.key))return;ne.preventDefault();const ae=E().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);AK.includes(ne.key)&&ae.reverse(),$Se(ae)}),onBlur:tr(e.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(O.current),R.current="")}),onPointerMove:tr(e.onPointerMove,S0(ne=>{const q=ne.target,ee=V.current!==ne.clientX;if(ne.currentTarget.contains(q)&&ee){const te=ne.clientX>V.current?"right":"left";L.current=te,V.current=ne.clientX}}))})})})})})})});RK.displayName=ol;var jSe="MenuGroup",CA=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return v.jsx(to.div,{role:"group",...r,ref:t})});CA.displayName=jSe;var LSe="MenuLabel",jK=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return v.jsx(to.div,{...r,ref:t})});jK.displayName=LSe;var Sw="MenuItem",LK="menu.itemSelect",Cw=x.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,o=x.useRef(null),a=_0(Sw,e.__scopeMenu),s=EA(Sw,e.__scopeMenu),l=wo(t,o),c=x.useRef(!1),u=()=>{const d=o.current;if(!n&&d){const f=new CustomEvent(LK,{bubbles:!0,cancelable:!0});d.addEventListener(LK,p=>r==null?void 0:r(p),{once:!0}),PD(d,f),f.defaultPrevented?c.current=!1:a.onClose()}};return v.jsx(MK,{...i,ref:l,disabled:n,onClick:tr(e.onClick,u),onPointerDown:d=>{var f;(f=e.onPointerDown)==null||f.call(e,d),c.current=!0},onPointerUp:tr(e.onPointerUp,d=>{var f;c.current||((f=d.currentTarget)==null||f.click())}),onKeyDown:tr(e.onKeyDown,d=>{const f=s.searchRef.current!=="";n||f&&d.key===" "||wA.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Cw.displayName=Sw;var MK=x.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=e,a=EA(Sw,n),s=IK(n),l=x.useRef(null),c=wo(t,l),[u,d]=x.useState(!1),[f,p]=x.useState("");return x.useEffect(()=>{const g=l.current;g&&p((g.textContent??"").trim())},[o.children]),v.jsx(x0.ItemSlot,{scope:n,disabled:r,textValue:i??f,children:v.jsx(vSe,{asChild:!0,...s,focusable:!r,children:v.jsx(to.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:c,onPointerMove:tr(e.onPointerMove,S0(g=>{r?a.onItemLeave(g):(a.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:tr(e.onPointerLeave,S0(g=>a.onItemLeave(g))),onFocus:tr(e.onFocus,()=>d(!0)),onBlur:tr(e.onBlur,()=>d(!1))})})})}),MSe="MenuCheckboxItem",PK=x.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return v.jsx(BK,{scope:e.__scopeMenu,checked:n,children:v.jsx(Cw,{role:"menuitemcheckbox","aria-checked":Tw(n)?"mixed":n,...i,ref:t,"data-state":AA(n),onSelect:tr(i.onSelect,()=>r==null?void 0:r(Tw(n)?!0:!n),{checkForDefaultPrevented:!1})})})});PK.displayName=MSe;var DK="MenuRadioGroup",[PSe,DSe]=yf(DK,{value:void 0,onValueChange:()=>{}}),FK=x.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,o=cc(r);return v.jsx(PSe,{scope:e.__scopeMenu,value:n,onValueChange:o,children:v.jsx(CA,{...i,ref:t})})});FK.displayName=DK;var UK="MenuRadioItem",zK=x.forwardRef((e,t)=>{const{value:n,...r}=e,i=DSe(UK,e.__scopeMenu),o=n===i.value;return v.jsx(BK,{scope:e.__scopeMenu,checked:o,children:v.jsx(Cw,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":AA(o),onSelect:tr(r.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,n)},{checkForDefaultPrevented:!1})})})});zK.displayName=UK;var TA="MenuItemIndicator",[BK,FSe]=yf(TA,{checked:!1}),$K=x.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,o=FSe(TA,n);return v.jsx(uc,{present:r||Tw(o.checked)||o.checked===!0,children:v.jsx(to.span,{...i,ref:t,"data-state":AA(o.checked)})})});$K.displayName=TA;var USe="MenuSeparator",HK=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return v.jsx(to.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});HK.displayName=USe;var zSe="MenuArrow",VK=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Ew(n);return v.jsx(wK,{...i,...r,ref:t})});VK.displayName=zSe;var BSe="MenuSub",[q7e,qK]=yf(BSe),E0="MenuSubTrigger",WK=x.forwardRef((e,t)=>{const n=vf(E0,e.__scopeMenu),r=_0(E0,e.__scopeMenu),i=qK(E0,e.__scopeMenu),o=EA(E0,e.__scopeMenu),a=x.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:l}=o,c={__scopeMenu:e.__scopeMenu},u=x.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return x.useEffect(()=>u,[u]),x.useEffect(()=>{const d=s.current;return()=>{window.clearTimeout(d),l(null)}},[s,l]),v.jsx(xA,{asChild:!0,...c,children:v.jsx(MK,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":XK(n.open),...e,ref:My(t,i.onTriggerChange),onClick:d=>{var f;(f=e.onClick)==null||f.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:tr(e.onPointerMove,S0(d=>{o.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:tr(e.onPointerLeave,S0(d=>{var p,g;u();const f=(p=n.content)==null?void 0:p.getBoundingClientRect();if(f){const h=(g=n.content)==null?void 0:g.dataset.side,y=h==="right",b=y?-5:5,w=f[y?"left":"right"],S=f[y?"right":"left"];o.onPointerGraceIntentChange({area:[{x:d.clientX+b,y:d.clientY},{x:w,y:f.top},{x:S,y:f.top},{x:S,y:f.bottom},{x:w,y:f.bottom}],side:h}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(d),d.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:tr(e.onKeyDown,d=>{var p;const f=o.searchRef.current!=="";e.disabled||f&&d.key===" "||xSe[r.dir].includes(d.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),d.preventDefault())})})})});WK.displayName=E0;var GK="MenuSubContent",KK=x.forwardRef((e,t)=>{const n=kK(ol,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=vf(ol,e.__scopeMenu),a=_0(ol,e.__scopeMenu),s=qK(GK,e.__scopeMenu),l=x.useRef(null),c=wo(t,l);return v.jsx(x0.Provider,{scope:e.__scopeMenu,children:v.jsx(uc,{present:r||o.open,children:v.jsx(x0.Slot,{scope:e.__scopeMenu,children:v.jsx(SA,{id:s.contentId,"aria-labelledby":s.triggerId,...i,ref:c,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;a.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:tr(e.onFocusOutside,u=>{u.target!==s.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:tr(e.onEscapeKeyDown,u=>{a.onClose(),u.preventDefault()}),onKeyDown:tr(e.onKeyDown,u=>{var p;const d=u.currentTarget.contains(u.target),f=_Se[a.dir].includes(u.key);d&&f&&(o.onOpenChange(!1),(p=s.trigger)==null||p.focus(),u.preventDefault())})})})})})});KK.displayName=GK;function XK(e){return e?"open":"closed"}function Tw(e){return e==="indeterminate"}function AA(e){return Tw(e)?"indeterminate":e?"checked":"unchecked"}function $Se(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function HSe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function VSe(e,t,n){const r=t.length>1&&Array.from(t).every(s=>s===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=HSe(e,Math.max(i,0));r.length===1&&(o=o.filter(s=>s!==n));const a=o.find(s=>s.toLowerCase().startsWith(r.toLowerCase()));return a!==n?a:void 0}function qSe(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const s=t[o],l=t[a],c=s.x,u=s.y,d=l.x,f=l.y;u>r!=f>r&&n<(d-c)*(r-u)/(f-u)+c&&(i=!i)}return i}function WSe(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return qSe(n,t)}function S0(e){return t=>t.pointerType==="mouse"?e(t):void 0}var YK=OK,QK=xA,JK=NK,ZK=RK,eX=CA,tX=jK,nX=Cw,rX=PK,iX=FK,oX=zK,aX=$K,sX=HK,lX=VK,cX=WK,uX=KK,Aw="DropdownMenu",[GSe]=lc(Aw,[_w]),ns=_w(),[KSe,dX]=GSe(Aw),fX=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:a,modal:s=!0}=e,l=ns(t),c=x.useRef(null),[u,d]=Mm({prop:i,defaultProp:o??!1,onChange:a,caller:Aw});return v.jsx(KSe,{scope:t,triggerId:Wd(),triggerRef:c,contentId:Wd(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:s,children:v.jsx(YK,{...l,open:u,onOpenChange:d,dir:r,modal:s,children:n})})};fX.displayName=Aw;var hX="DropdownMenuTrigger",pX=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,o=dX(hX,n),a=ns(n);return v.jsx(QK,{asChild:!0,...a,children:v.jsx(to.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:My(t,o.triggerRef),onPointerDown:tr(e.onPointerDown,s=>{!r&&s.button===0&&s.ctrlKey===!1&&(o.onOpenToggle(),o.open||s.preventDefault())}),onKeyDown:tr(e.onKeyDown,s=>{r||(["Enter"," "].includes(s.key)&&o.onOpenToggle(),s.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});pX.displayName=hX;var XSe="DropdownMenuPortal",mX=e=>{const{__scopeDropdownMenu:t,...n}=e,r=ns(t);return v.jsx(JK,{...r,...n})};mX.displayName=XSe;var gX="DropdownMenuContent",yX=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=dX(gX,n),o=ns(n),a=x.useRef(!1);return v.jsx(ZK,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...r,ref:t,onCloseAutoFocus:tr(e.onCloseAutoFocus,s=>{var l;a.current||((l=i.triggerRef.current)==null||l.focus()),a.current=!1,s.preventDefault()}),onInteractOutside:tr(e.onInteractOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});yX.displayName=gX;var YSe="DropdownMenuGroup",QSe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ns(n);return v.jsx(eX,{...i,...r,ref:t})});QSe.displayName=YSe;var JSe="DropdownMenuLabel",ZSe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ns(n);return v.jsx(tX,{...i,...r,ref:t})});ZSe.displayName=JSe;var eCe="DropdownMenuItem",vX=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ns(n);return v.jsx(nX,{...i,...r,ref:t})});vX.displayName=eCe;var tCe="DropdownMenuCheckboxItem",nCe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ns(n);return v.jsx(rX,{...i,...r,ref:t})});nCe.displayName=tCe;var rCe="DropdownMenuRadioGroup",iCe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ns(n);return v.jsx(iX,{...i,...r,ref:t})});iCe.displayName=rCe;var oCe="DropdownMenuRadioItem",aCe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ns(n);return v.jsx(oX,{...i,...r,ref:t})});aCe.displayName=oCe;var sCe="DropdownMenuItemIndicator",lCe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ns(n);return v.jsx(aX,{...i,...r,ref:t})});lCe.displayName=sCe;var cCe="DropdownMenuSeparator",uCe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ns(n);return v.jsx(sX,{...i,...r,ref:t})});uCe.displayName=cCe;var dCe="DropdownMenuArrow",bX=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ns(n);return v.jsx(lX,{...i,...r,ref:t})});bX.displayName=dCe;var fCe="DropdownMenuSubTrigger",hCe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ns(n);return v.jsx(cX,{...i,...r,ref:t})});hCe.displayName=fCe;var pCe="DropdownMenuSubContent",mCe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ns(n);return v.jsx(uX,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mCe.displayName=pCe;var gCe=fX,yCe=pX,vCe=mX,bCe=yX,wCe=vX,xCe=bX;let ha,wX,xX,_X;ha={Root:gCe,Trigger:U(yCe).withConfig({displayName:"DropdownMenu__Trigger"})([`
    cursor: pointer;
  `]),Portal:U(vCe).withConfig({displayName:"DropdownMenu__Portal"})([""]),Content:U(bCe).withConfig({displayName:"DropdownMenu__Content"})([`
    display: grid;
    gap: 0.5rem;
    min-width: 22rem;
    background: `,`;
    border-radius: `,`;
    box-shadow: 0 5px 5px 0 `,`;
    padding: 1rem 0;
  `],({theme:e})=>e.color.backgroundLighter,({theme:e})=>e.borderRadius,({theme:e})=>e.color.black40),Arrow:U(xCe).withConfig({displayName:"DropdownMenu__Arrow"})([`
    fill: `,`;
  `],({theme:e})=>e.color.black40),Item:U(wCe).withConfig({displayName:"DropdownMenu__Item"})([`
    border-radius: 3px;
    display: flex;
    gap: 1.5rem;
    align-items: center;
    padding: 0.5rem 1rem;
    margin: 0 0.5rem;
    user-select: none;
    outline: none;

    &[data-disabled] {
      pointer-events: none;
      opacity: 0.8;
    }

    &:focus {
      background: `,`;
      cursor: pointer;
    }
  `],({theme:e})=>e.color.comment),Divider:U.div.withConfig({displayName:"DropdownMenu__Divider"})([`
    height: 1px;
    background: `,`;
    margin: 0.5rem 0;
  `],({theme:e})=>e.color.selection)},wX=U.span.withConfig({displayName:"AISparkle__Wrapper"})([`
  display: inline-flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  width: `,`px;
  height: `,`px;

  svg {
    width: 100%;
    height: 100%;
    `,`
  }
`],({$size:e})=>e,({$size:e})=>e,({$inverted:e})=>e&&"filter: brightness(0) invert(1);"),xX=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",children:[v.jsx("path",{fill:"url(#aiSparkleGradientFilled)",d:"M19.5 13.5a1.48 1.48 0 0 1-.977 1.4l-4.836 1.787-1.78 4.84a1.493 1.493 0 0 1-2.802 0l-1.793-4.84-4.839-1.78a1.492 1.492 0 0 1 0-2.802l4.84-1.793 1.78-4.839a1.492 1.492 0 0 1 2.802 0l1.792 4.84 4.84 1.78A1.48 1.48 0 0 1 19.5 13.5m-5.25-9h1.5V6a.75.75 0 1 0 1.5 0V4.5h1.5a.75.75 0 1 0 0-1.5h-1.5V1.5a.75.75 0 1 0-1.5 0V3h-1.5a.75.75 0 1 0 0 1.5m8.25 3h-.75v-.75a.75.75 0 1 0-1.5 0v.75h-.75a.75.75 0 1 0 0 1.5h.75v.75a.75.75 0 1 0 1.5 0V9h.75a.75.75 0 1 0 0-1.5"}),v.jsx("defs",{children:v.jsxs("linearGradient",{id:"aiSparkleGradientFilled",x1:"12.37",x2:"12.37",y1:".75",y2:"22.5",gradientUnits:"userSpaceOnUse",children:[v.jsx("stop",{stopColor:"#d14671"}),v.jsx("stop",{offset:"1",stopColor:"#892c6c"})]})})]}),_X=()=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15 15",fill:"none",children:v.jsx("path",{fill:"#d14671",d:"m11.69 7.582-3.118-1.15-1.152-3.12a1.245 1.245 0 0 0-2.336 0l-1.15 3.12-3.12 1.15a1.245 1.245 0 0 0 0 2.336l3.118 1.15 1.152 3.12a1.245 1.245 0 0 0 2.336 0l1.15-3.118 3.12-1.152a1.245 1.245 0 0 0 0-2.336M7.727 9.779a.75.75 0 0 0-.444.445l-1.032 2.794-1.03-2.794a.75.75 0 0 0-.444-.445L1.984 8.75l2.794-1.03a.75.75 0 0 0 .444-.444l1.03-2.793 1.03 2.793a.75.75 0 0 0 .444.445l2.793 1.029zm.274-7.529a.75.75 0 0 1 .75-.75h.75V.75a.75.75 0 0 1 1.5 0v.75h.75a.75.75 0 1 1 0 1.5h-.75v.75a.75.75 0 1 1-1.5 0V3h-.75a.75.75 0 0 1-.75-.75m7 3a.75.75 0 0 1-.75.75h-.25v.25a.75.75 0 1 1-1.5 0V6h-.25a.75.75 0 1 1 0-1.5h.25v-.25a.75.75 0 1 1 1.5 0v.25h.25a.75.75 0 0 1 .75.75"})}),Cd=({size:e=20,variant:t="filled",className:n,inverted:r=!1})=>v.jsx(wX,{$size:e,$inverted:r,className:n,children:t==="filled"?v.jsx(xX,{}):v.jsx(_X,{})});function _Ce(e){switch(e.type){case"chat":{const{userMessage:t,currentSQL:n,isFirstMessage:r}=e;return r&&n&&n.trim()?{content:`Current SQL query:
\`\`\`sql
${n}
\`\`\`

User request: ${t}`,displayType:"ask_request",sql:n.trim(),displayUserMessage:t}:{content:t}}case"explain":return{content:`Using your tools when necessary, explain this SQL query in detail.:

\`\`\`sql
${e.queryText}
\`\`\``,displayType:"explain_request",sql:e.queryText};case"fix":{const{queryText:t,errorMessage:n,errorWord:r}=e;return n||r?{displayType:"fix_request",sql:t,content:`Fix this SQL query that has an error:

\`\`\`sql
${t}
\`\`\`

Error: ${n}${r?`

Error near: "${r}"`:""}`}:{displayType:"fix_request",sql:t,content:`Fix this SQL query:

\`\`\`sql
${t}
\`\`\`

. Use validate_query tool for getting the error message and position.`}}case"schema_explain":return{content:Lb(e.tableName,e.schema,e.kindLabel),displayType:"schema_explain_request",displaySchemaData:e.schemaDisplayData}}}function ECe(e){switch(e.type){case"aborted":return"Operation has been cancelled";case"network":return"Connection interrupted. Please check your network and try again.";case"rate_limit":return"Rate limit reached. Please wait a moment and try again.";default:return e.message||"An unexpected error occurred"}}function SCe(e){const{type:t,response:n,conversationId:r,assistantMessageId:i,callbacks:o,compactedHistory:a}=e;if(JT(n)){const s=ECe(n);return o.updateMessage(r,i,{error:s}),{success:!1,error:s}}switch(a&&o.replaceConversationMessages&&o.replaceConversationMessages(r,a),t){case"chat":case"fix":return CCe(n,r,i,o,t);case"explain":{const s=n;return s.explanation?(o.updateMessage(r,i,{content:s.explanation,explanation:s.explanation,tokenUsage:s.tokenUsage}),{success:!0,explanation:s.explanation}):(o.updateMessage(r,i,{error:"No explanation received from AI Assistant"}),{success:!1,error:"No explanation received"})}case"schema_explain":{const s=n;if(!s.explanation)return o.updateMessage(r,i,{error:"No explanation received from AI Assistant"}),{success:!1,error:"No explanation received"};const l=YV(s);return o.updateMessage(r,i,{content:l,explanation:l,tokenUsage:s.tokenUsage}),{success:!0,explanation:l}}}}function CCe(e,t,n,r,i){const o=e.sql&&e.sql.trim()!=="";if(i==="fix"&&!o&&e.explanation)return r.updateMessage(t,n,{content:e.explanation,explanation:e.explanation,tokenUsage:e.tokenUsage}),{success:!0,explanation:e.explanation};if(i==="fix"&&!o&&!e.explanation)return r.updateMessage(t,n,{error:"No fixed query or explanation received from AI Assistant"}),{success:!1,error:"No fixed query or explanation received"};let a=e.explanation||"Response received";return o&&(a=`SQL Query:
\`\`\`sql
${e.sql}
\`\`\`

Explanation:
${e.explanation||""}`),r.updateMessage(t,n,{content:a,...o&&{sql:e.sql},explanation:e.explanation,tokenUsage:e.tokenUsage}),{success:!0,sql:o?e.sql:void 0,explanation:e.explanation}}async function TCe(e,t,n){if(e.type==="schema_explain"||!n.updateConversationName)return;const r=Cb(e.settings.model),i=da.find(o=>o.isTestModel&&o.provider===r);if(i)try{const o=await hq({firstUserMessage:t,settings:{model:i.value,provider:r,apiKey:e.settings.apiKey}});o&&await n.updateConversationName(e.conversationId,o,!0)}catch{}}mN=async function(e,t){var y;const{conversationId:n,settings:r,questClient:i,tables:o,hasSchemaAccess:a,abortSignal:s}=e,l=_Ce(e);t.addMessage({role:"user",content:l.content,timestamp:Date.now(),...l.displayType&&{displayType:l.displayType},...l.sql&&{sql:l.sql},...l.displayUserMessage&&{displayUserMessage:l.displayUserMessage},...l.displaySchemaData&&{displaySchemaData:l.displaySchemaData}});const c=crypto.randomUUID();t.addMessage({id:c,role:"assistant",content:"",timestamp:Date.now(),operationHistory:[]}),e.type!=="schema_explain"&&Bn.publish(zn.AI_QUERY_HIGHLIGHT,n);const u=Cb(r.model),d={model:r.model,provider:u,apiKey:r.apiKey},f=qwe(i,a?o:void 0),p=b=>{t.updateMessage(n,c,{operationHistory:[...b]})},g=(b,w)=>{t.setStatus(b,{...w??{},conversationId:n},p)};(e.type==="chat"&&e.isFirstMessage||e.type==="explain"||e.type==="fix")&&TCe(e,l.content,t);const h=e.type!=="schema_explain"?Wwe({conversationId:n,assistantMessageId:c,updateMessage:t.updateMessage,setIsStreaming:t.setIsStreaming}):void 0;try{let b,w;if(e.type==="schema_explain")b=await exe({tableName:e.tableName,schema:e.schema,kindLabel:e.kindLabel,settings:d,setStatus:g,abortSignal:s});else{const S=e.type==="chat"?"followup":e.type,E=e.type==="chat"?e.conversationHistory:[],_=e.type==="chat"?e.currentSQL:e.queryText,m=await pq({userMessage:l.content,conversationHistory:E.filter(C=>!C.isCompacted),currentSQL:_,settings:d,modelToolsClient:f,setStatus:g,abortSignal:s,operation:S,streaming:h});b=m,w=m.compactedConversationHistory}return SCe({type:e.type,response:b,conversationId:n,assistantMessageId:c,callbacks:t,compactedHistory:w})}finally{(y=h==null?void 0:h.cleanup)==null||y.call(h),await t.persistMessages(n),t.setIsStreaming(!1)}},Cue=function(e){return{type:"chat",...e}},Tue=function(e){return{type:"explain",...e}},Aue=function(e){return{type:"fix",...e}},pN=function(e){return{type:"schema_explain",...e}};const ACe={1:"3.8rem",2:"3rem",3:"2.4rem",4:"2rem",5:"1.6rem"},bf=({level:e,children:t,dataHook:n,...r})=>ie.createElement(`h${e}`,{style:{fontSize:ACe[e],margin:0},"data-hook":n,...r},t),ICe=U.div.withConfig({displayName:"card-header__Root"})([`
  background: #303241;
  border-radius: 6px 6px 0 0;
  border-bottom: 1px solid #3b3e50;

  &:only-child {
    border-radius: 6px;
    border-bottom: none;
  }
`]),OCe=U.div.withConfig({displayName:"card-header__Header"})([`
  display: flex;
  gap: 2rem;
  align-items: center;
  padding: 1rem 2rem;
  min-height: 5rem;
`]),kCe=U.div.withConfig({displayName:"card-header__AfterTitle"})([`
  margin-left: auto;
`]),NCe=U.div.withConfig({displayName:"card-header__Titles"})([`
  display: grid;
  gap: 0.5rem;
`]),RCe=U.div.withConfig({displayName:"card-header__Footer"})([`
  flex: 1 0 100%;
`]),lp=(...e)=>e.reduce((t,n)=>t||n,!1),jCe=({title:e,subtitle:t,beforeTitle:n,afterTitle:r,footer:i,className:o})=>v.jsxs(ICe,{className:o,children:[v.jsxs(OCe,{children:[lp(n)&&v.jsx("div",{children:n}),lp(e,t)&&v.jsxs(NCe,{children:[lp(e)&&v.jsx(bf,{level:5,children:e}),lp(t)&&v.jsx(st,{color:"white",children:t})]}),lp(r)&&v.jsx(kCe,{children:r})]}),lp(i)&&v.jsx(RCe,{children:i})]}),LCe=U.div.attrs(e=>({gap:e.gap??"2rem",background:e.background??"transparent"})).withConfig({displayName:"card-content__CardContent"})([`
  padding: `,`;
  background-color: `,`;
  flex-grow: 1;

  `,`
`],({gap:e})=>e,({theme:e,background:t})=>e.color[t??"inherit"],({centered:e})=>e&&Vn([`
      display: flex;
      justify-content: center;
    `])),MCe=U.div.withConfig({displayName:"Card__Root"})([`
  display: flex;
  flex-direction: column;
  flex: 1;
  background-color: `,`;
  border-radius: `,`;
  border: 1px solid transparent;

  `,`;
`],({theme:e})=>e.color.backgroundLighter,({theme:e})=>e.borderRadius,({hover:e,theme:t})=>e&&` 
      &:hover {
        border-color: ${t.color.selection};
      }
  `),PCe=U.div.attrs(e=>({align:e.align??"flex-end"})).withConfig({displayName:"Card__CardFooter"})([`
  display: flex;
  width: 100%;
  justify-content: `,`;
  align-items: center;
  gap: 1rem;
  padding: 1rem 2rem;
  border-top: 1px `,` solid;
`],e=>e.align,({theme:e})=>e.color.selectionDarker),cp=({className:e,children:t,hover:n})=>v.jsx(MCe,{hover:n,className:e,children:t});cp.Header=jCe,cp.Content=LCe,cp.Footer=PCe,eo=x.forwardRef(({children:e,as:t="span",...n},r)=>ie.createElement(t,{...n,ref:r},e)),eo.displayName="ForwardRef";let EX,SX,wf,CX,TX,AX,IX,OX;EX=X1([`
  from { transform: rotate(0); }
  to { transform: rotate(360deg); }
`]),SX=U(u4).withConfig({displayName:"Loader__Spinning"})([`
  animation: `,` 3s linear infinite;
`],EX),wf=({size:e="18px",spin:t=!0})=>ie.createElement(t?SX:u4,{size:e}),CX=Vn([`
  @keyframes overlayShow {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`]),TX=Vn([`
  @keyframes overlayHide {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }
`]),AX=U.div.withConfig({displayName:"Overlay__StyledOverlay"})([`
  background-color: `,`;
  position: fixed;
  inset: 0;
  z-index: 100;

  `,`
  `,`

  &[data-state="open"] {
    animation: overlayShow 0.5s cubic-bezier(0.16, 1, 0.3, 1);
  }

  &[data-state="closed"] {
    animation: overlayHide 0.5s cubic-bezier(0.16, 1, 0.3, 1);
  }
`],({theme:e})=>e.color.overlayBackground,CX,TX),Zl=({primitive:e})=>v.jsx(AX,{as:e}),IX=Vn([`
  border-color: `,`;
  background-color: #ff555515;
`],({theme:e})=>e.color.red),cs=U.input.attrs(e=>({"data-lpignore":e.autoComplete==="off"})).withConfig({displayName:"Input"})([`
  background: `,`;
  border: 1px transparent solid;
  padding: 0 0.75rem;
  height: 3rem;
  line-height: 3rem;
  border-radius: 0.4rem;
  outline: none;
  color: `,`;
  flex: 1;
  max-width: 100%;

  &::placeholder {
    color: `,`;
  }

  &:focus {
    border-color: `,`;
    background: `,`;
  }

  `,`

  `,`
`],({theme:e})=>e.color.selection,({theme:e})=>e.color.white,({theme:e})=>e.color.gray2,({theme:e})=>e.color.pink,({theme:e})=>e.color.selection,({variant:e,theme:t})=>e==="transparent"&&`
    background: transparent;
    border-color: ${t.color.selection};
  `,({variant:e})=>e==="error"&&IX),OX=U(cs).attrs({as:"textarea"}).withConfig({displayName:"TextArea"})([`
  width: 100%;
  height: inherit;
  resize: `,`;
`],({resize:e})=>e||"auto");var kX=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:t}),x.createElement("path",{d:"M2.873 11.297V4.142H1.699L0 5.379v1.137l1.64-1.18h.06v5.961h1.174Zm3.213-5.09v-.063c0-.618.44-1.169 1.196-1.169.676 0 1.174.44 1.174 1.106 0 .624-.42 1.101-.807 1.526L4.99 10.553v.744h4.78v-.99H6.643v-.069L8.41 8.252c.65-.724 1.237-1.332 1.237-2.27C9.646 4.849 8.723 4 7.308 4c-1.573 0-2.36 1.064-2.36 2.15v.057h1.138Zm6.559 1.883h.786c.823 0 1.374.481 1.379 1.179.01.707-.55 1.216-1.421 1.21-.77-.005-1.326-.419-1.379-.953h-1.095c.042 1.053.938 1.918 2.464 1.918 1.478 0 2.642-.839 2.62-2.144-.02-1.143-.922-1.651-1.551-1.714v-.063c.535-.09 1.347-.66 1.326-1.678-.026-1.053-.933-1.855-2.359-1.845-1.5.005-2.317.88-2.348 1.898h1.116c.032-.498.498-.944 1.206-.944.703 0 1.206.435 1.206 1.07.005.64-.504 1.106-1.2 1.106h-.75v.96Z"}))});kX.displayName="OneHundredTwentyThree";var NX=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:t}),x.createElement("path",{d:"M5.5 9.5A.5.5 0 0 1 6 9h4a.5.5 0 0 1 0 1H6a.5.5 0 0 1-.5-.5z"}),x.createElement("path",{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"}))});NX.displayName="CalendarMinus";var RX=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:t}),x.createElement("path",{d:"M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z"}))});RX.displayName="Chat";var jX=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:t}),x.createElement("path",{d:"M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"}))});jX.displayName="Check";var LX=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:t}),x.createElement("path",{d:"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"}))});LX.displayName="Envelope";var MX=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:t}),x.createElement("path",{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5L14 4.5ZM3.517 14.841a1.13 1.13 0 0 0 .401.823c.13.108.289.192.478.252.19.061.411.091.665.091.338 0 .624-.053.859-.158.236-.105.416-.252.539-.44.125-.189.187-.408.187-.656 0-.224-.045-.41-.134-.56a1.001 1.001 0 0 0-.375-.357 2.027 2.027 0 0 0-.566-.21l-.621-.144a.97.97 0 0 1-.404-.176.37.37 0 0 1-.144-.299c0-.156.062-.284.185-.384.125-.101.296-.152.512-.152.143 0 .266.023.37.068a.624.624 0 0 1 .246.181.56.56 0 0 1 .12.258h.75a1.092 1.092 0 0 0-.2-.566 1.21 1.21 0 0 0-.5-.41 1.813 1.813 0 0 0-.78-.152c-.293 0-.551.05-.776.15-.225.099-.4.24-.527.421-.127.182-.19.395-.19.639 0 .201.04.376.122.524.082.149.2.27.352.367.152.095.332.167.539.213l.618.144c.207.049.361.113.463.193a.387.387 0 0 1 .152.326.505.505 0 0 1-.085.29.559.559 0 0 1-.255.193c-.111.047-.249.07-.413.07-.117 0-.223-.013-.32-.04a.838.838 0 0 1-.248-.115.578.578 0 0 1-.255-.384h-.765ZM.806 13.693c0-.248.034-.46.102-.633a.868.868 0 0 1 .302-.399.814.814 0 0 1 .475-.137c.15 0 .283.032.398.097a.7.7 0 0 1 .272.26.85.85 0 0 1 .12.381h.765v-.072a1.33 1.33 0 0 0-.466-.964 1.441 1.441 0 0 0-.489-.272 1.838 1.838 0 0 0-.606-.097c-.356 0-.66.074-.911.223-.25.148-.44.359-.572.632-.13.274-.196.6-.196.979v.498c0 .379.064.704.193.976.131.271.322.48.572.626.25.145.554.217.914.217.293 0 .554-.055.785-.164.23-.11.414-.26.55-.454a1.27 1.27 0 0 0 .226-.674v-.076h-.764a.799.799 0 0 1-.118.363.7.7 0 0 1-.272.25.874.874 0 0 1-.401.087.845.845 0 0 1-.478-.132.833.833 0 0 1-.299-.392 1.699 1.699 0 0 1-.102-.627v-.495Zm8.239 2.238h-.953l-1.338-3.999h.917l.896 3.138h.038l.888-3.138h.879l-1.327 4Z"}))});MX.displayName="FiletypeCsv";var PX=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:t}),x.createElement("path",{d:"M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A31.493 31.493 0 0 1 8 14.58a31.481 31.481 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10z"}),x.createElement("path",{d:"M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}))});PX.displayName="GeoAlt";var DX=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:t}),x.createElement("path",{d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm7.5-6.923c-.67.204-1.335.82-1.887 1.855A7.97 7.97 0 0 0 5.145 4H7.5V1.077zM4.09 4a9.267 9.267 0 0 1 .64-1.539 6.7 6.7 0 0 1 .597-.933A7.025 7.025 0 0 0 2.255 4H4.09zm-.582 3.5c.03-.877.138-1.718.312-2.5H1.674a6.958 6.958 0 0 0-.656 2.5h2.49zM4.847 5a12.5 12.5 0 0 0-.338 2.5H7.5V5H4.847zM8.5 5v2.5h2.99a12.495 12.495 0 0 0-.337-2.5H8.5zM4.51 8.5a12.5 12.5 0 0 0 .337 2.5H7.5V8.5H4.51zm3.99 0V11h2.653c.187-.765.306-1.608.338-2.5H8.5zM5.145 12c.138.386.295.744.468 1.068.552 1.035 1.218 1.65 1.887 1.855V12H5.145zm.182 2.472a6.696 6.696 0 0 1-.597-.933A9.268 9.268 0 0 1 4.09 12H2.255a7.024 7.024 0 0 0 3.072 2.472zM3.82 11a13.652 13.652 0 0 1-.312-2.5h-2.49c.062.89.291 1.733.656 2.5H3.82zm6.853 3.472A7.024 7.024 0 0 0 13.745 12H11.91a9.27 9.27 0 0 1-.64 1.539 6.688 6.688 0 0 1-.597.933zM8.5 12v2.923c.67-.204 1.335-.82 1.887-1.855.173-.324.33-.682.468-1.068H8.5zm3.68-1h2.146c.365-.767.594-1.61.656-2.5h-2.49a13.65 13.65 0 0 1-.312 2.5zm2.802-3.5a6.959 6.959 0 0 0-.656-2.5H12.18c.174.782.282 1.623.312 2.5h2.49zM11.27 2.461c.247.464.462.98.64 1.539h1.835a7.024 7.024 0 0 0-3.072-2.472c.218.284.418.598.597.933zM10.855 4a7.966 7.966 0 0 0-.468-1.068C9.835 1.897 9.17 1.282 8.5 1.077V4h2.355z"}))});DX.displayName="Globe";var FX=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:t}),x.createElement("path",{d:"M14 3a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h12zM2 2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H2z"}),x.createElement("path",{fillRule:"evenodd",d:"M9.146 8.146a.5.5 0 0 1 .708 0L11.5 9.793l1.646-1.647a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 0-.708z"}),x.createElement("path",{fillRule:"evenodd",d:"M11.5 5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 1 .5-.5z"}),x.createElement("path",{d:"M3.56 11V7.01h.056l1.428 3.239h.774l1.42-3.24h.056V11h1.073V5.001h-1.2l-1.71 3.894h-.039l-1.71-3.894H2.5V11h1.06z"}))});FX.displayName="Markdown";var UX=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:t}),x.createElement("path",{d:"M5.338 1.59a61.44 61.44 0 0 0-2.837.856.481.481 0 0 0-.328.39c-.554 4.157.726 7.19 2.253 9.188a10.725 10.725 0 0 0 2.287 2.233c.346.244.652.42.893.533.12.057.218.095.293.118a.55.55 0 0 0 .101.025.615.615 0 0 0 .1-.025c.076-.023.174-.061.294-.118.24-.113.547-.29.893-.533a10.726 10.726 0 0 0 2.287-2.233c1.527-1.997 2.807-5.031 2.253-9.188a.48.48 0 0 0-.328-.39c-.651-.213-1.75-.56-2.837-.855C9.552 1.29 8.531 1.067 8 1.067c-.53 0-1.552.223-2.662.524zM5.072.56C6.157.265 7.31 0 8 0s1.843.265 2.928.56c1.11.3 2.229.655 2.887.87a1.54 1.54 0 0 1 1.044 1.262c.596 4.477-.787 7.795-2.465 9.99a11.775 11.775 0 0 1-2.517 2.453 7.159 7.159 0 0 1-1.048.625c-.28.132-.581.24-.829.24s-.548-.108-.829-.24a7.158 7.158 0 0 1-1.048-.625 11.777 11.777 0 0 1-2.517-2.453C1.928 10.487.545 7.169 1.141 2.692A1.54 1.54 0 0 1 2.185 1.43 62.456 62.456 0 0 1 5.072.56z"}),x.createElement("path",{d:"M10.854 5.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 7.793l2.646-2.647a.5.5 0 0 1 .708 0z"}))});UX.displayName="ShieldCheck";var zX=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:t}),x.createElement("path",{fillRule:"evenodd",d:"M8 0c-.69 0-1.843.265-2.928.56-1.11.3-2.229.655-2.887.87a1.54 1.54 0 0 0-1.044 1.262c-.596 4.477.787 7.795 2.465 9.99a11.777 11.777 0 0 0 2.517 2.453c.386.273.744.482 1.048.625.28.132.581.24.829.24s.548-.108.829-.24a7.159 7.159 0 0 0 1.048-.625 11.775 11.775 0 0 0 2.517-2.453c1.678-2.195 3.061-5.513 2.465-9.99a1.541 1.541 0 0 0-1.044-1.263 62.467 62.467 0 0 0-2.887-.87C9.843.266 8.69 0 8 0zm0 5a1.5 1.5 0 0 1 .5 2.915l.385 1.99a.5.5 0 0 1-.491.595h-.788a.5.5 0 0 1-.49-.595l.384-1.99A1.5 1.5 0 0 1 8 5z"}))});zX.displayName="ShieldLockFill";var BX=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:t}),x.createElement("path",{d:"M6 4.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-1 0a.5.5 0 1 0-1 0 .5.5 0 0 0 1 0z"}),x.createElement("path",{d:"M2 1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 1 6.586V2a1 1 0 0 1 1-1zm0 5.586 7 7L13.586 9l-7-7H2v4.586z"}))});BX.displayName="Tag";var $X=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:t}),x.createElement("path",{d:"M1 0 0 1l2.2 3.081a1 1 0 0 0 .815.419h.07a1 1 0 0 1 .708.293l2.675 2.675-2.617 2.654A3.003 3.003 0 0 0 0 13a3 3 0 1 0 5.878-.851l2.654-2.617.968.968-.305.914a1 1 0 0 0 .242 1.023l3.27 3.27a.997.997 0 0 0 1.414 0l1.586-1.586a.997.997 0 0 0 0-1.414l-3.27-3.27a1 1 0 0 0-1.023-.242L10.5 9.5l-.96-.96 2.68-2.643A3.005 3.005 0 0 0 16 3c0-.269-.035-.53-.102-.777l-2.14 2.141L12 4l-.364-1.757L13.777.102a3 3 0 0 0-3.675 3.68L7.462 6.46 4.793 3.793a1 1 0 0 1-.293-.707v-.071a1 1 0 0 0-.419-.814L1 0Zm9.646 10.646a.5.5 0 0 1 .708 0l2.914 2.915a.5.5 0 0 1-.707.707l-2.915-2.914a.5.5 0 0 1 0-.708ZM3 11l.471.242.529.026.287.445.445.287.026.529L5 13l-.242.471-.026.529-.445.287-.287.445-.529.026L3 15l-.471-.242L2 14.732l-.287-.445L1.268 14l-.026-.529L1 13l.242-.471.026-.529.445-.287.287-.445.529-.026L3 11Z"}))});$X.displayName="Tools";var HX=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:t}),x.createElement("path",{d:"m2.244 13.081.943-2.803H6.66l.944 2.803H8.86L5.54 3.75H4.322L1 13.081h1.244zm2.7-7.923L6.34 9.314H3.51l1.4-4.156h.034zm9.146 7.027h.035v.896h1.128V8.125c0-1.51-1.114-2.345-2.646-2.345-1.736 0-2.59.916-2.666 2.174h1.108c.068-.718.595-1.19 1.517-1.19.971 0 1.518.52 1.518 1.464v.731H12.19c-1.647.007-2.522.8-2.522 2.058 0 1.319.957 2.18 2.345 2.18 1.06 0 1.716-.43 2.078-1.011zm-1.763.035c-.752 0-1.456-.397-1.456-1.244 0-.65.424-1.115 1.408-1.115h1.805v.834c0 .896-.752 1.525-1.757 1.525z"}))});HX.displayName="Type";var IA=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:t}),x.createElement("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"}))});IA.displayName="X";var VX=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M10 4V2H4v20h6v-2H6V4zm4 16v2h6V2h-6v2h4v16z"}))});VX.displayName="Bracket";var qX=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M7 11h2v2H7zm0 4h2v2H7zm4-4h2v2h-2zm0 4h2v2h-2zm4-4h2v2h-2zm0 4h2v2h-2z"}),x.createElement("path",{d:"M5 22h14c1.103 0 2-.897 2-2V6c0-1.103-.897-2-2-2h-2V2h-2v2H9V2H7v2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2zM19 8l.001 12H5V8h14z"}))});qX.displayName="Calendar";var WX=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"m10 15.586-3.293-3.293-1.414 1.414L10 18.414l9.707-9.707-1.414-1.414z"}))});WX.displayName="Check";var GX=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"}),x.createElement("path",{d:"M9.999 13.587 7.7 11.292l-1.412 1.416 3.713 3.705 6.706-6.706-1.414-1.414z"}))});GX.displayName="CheckCircle";var Ic=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M11.001 10h2v5h-2zM11 16h2v2h-2z"}),x.createElement("path",{d:"M13.768 4.2C13.42 3.545 12.742 3.138 12 3.138s-1.42.407-1.768 1.063L2.894 18.064a1.986 1.986 0 0 0 .054 1.968A1.984 1.984 0 0 0 4.661 21h14.678c.708 0 1.349-.362 1.714-.968a1.989 1.989 0 0 0 .054-1.968L13.768 4.2zM4.661 19 12 5.137 19.344 19H4.661z"}))});Ic.displayName="Error";var KX=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M19.903 8.586a.997.997 0 0 0-.196-.293l-6-6a.997.997 0 0 0-.293-.196c-.03-.014-.062-.022-.094-.033a.991.991 0 0 0-.259-.051C13.04 2.011 13.021 2 13 2H6c-1.103 0-2 .897-2 2v16c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2V9c0-.021-.011-.04-.013-.062a.952.952 0 0 0-.051-.259c-.01-.032-.019-.063-.033-.093zM16.586 8H14V5.414L16.586 8zM6 20V4h6v5a1 1 0 0 0 1 1h5l.002 10H6z"}),x.createElement("path",{d:"M8 12h8v2H8zm0 4h8v2H8zm0-8h2v2H8z"}))});KX.displayName="File";var XX=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M10 3H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM9 9H5V5h4v4zm5 2h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1zm1-6h4v4h-4V5zM3 20a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v6zm2-5h4v4H5v-4zm8 5a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v6zm2-5h4v4h-4v-4z"}))});XX.displayName="GridAlt";var YX=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M12 8v5h5v-2h-3V8z"}),x.createElement("path",{d:"M21.292 8.497a8.957 8.957 0 0 0-1.928-2.862 9.004 9.004 0 0 0-4.55-2.452 9.09 9.09 0 0 0-3.626 0 8.965 8.965 0 0 0-4.552 2.453 9.048 9.048 0 0 0-1.928 2.86A8.963 8.963 0 0 0 4 12l.001.025H2L5 16l3-3.975H6.001L6 12a6.957 6.957 0 0 1 1.195-3.913 7.066 7.066 0 0 1 1.891-1.892 7.034 7.034 0 0 1 2.503-1.054 7.003 7.003 0 0 1 8.269 5.445 7.117 7.117 0 0 1 0 2.824 6.936 6.936 0 0 1-1.054 2.503c-.25.371-.537.72-.854 1.036a7.058 7.058 0 0 1-2.225 1.501 6.98 6.98 0 0 1-1.313.408 7.117 7.117 0 0 1-2.823 0 6.957 6.957 0 0 1-2.501-1.053 7.066 7.066 0 0 1-1.037-.855l-1.414 1.414A8.985 8.985 0 0 0 13 21a9.05 9.05 0 0 0 3.503-.707 9.009 9.009 0 0 0 3.959-3.26A8.968 8.968 0 0 0 22 12a8.928 8.928 0 0 0-.708-3.503z"}))});YX.displayName="History";var C0=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"}),x.createElement("path",{d:"M11 11h2v6h-2zm0-4h2v2h-2z"}))});C0.displayName="InfoCircle";var QX=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M3 3v17a1 1 0 0 0 1 1h17v-2H5V3H3z"}),x.createElement("path",{d:"M15.293 14.707a.999.999 0 0 0 1.414 0l5-5-1.414-1.414L16 12.586l-2.293-2.293a.999.999 0 0 0-1.414 0l-5 5 1.414 1.414L13 12.414l2.293 2.293z"}))});QX.displayName="LineChart";var JX=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"}))});JX.displayName="Menu";var ZX=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M13.4 2.096a10.08 10.08 0 0 0-8.937 3.331A10.054 10.054 0 0 0 2.096 13.4c.53 3.894 3.458 7.207 7.285 8.246a9.982 9.982 0 0 0 2.618.354l.142-.001a3.001 3.001 0 0 0 2.516-1.426 2.989 2.989 0 0 0 .153-2.879l-.199-.416a1.919 1.919 0 0 1 .094-1.912 2.004 2.004 0 0 1 2.576-.755l.412.197c.412.198.85.299 1.301.299A3.022 3.022 0 0 0 22 12.14a9.935 9.935 0 0 0-.353-2.76c-1.04-3.826-4.353-6.754-8.247-7.284zm5.158 10.909-.412-.197c-1.828-.878-4.07-.198-5.135 1.494-.738 1.176-.813 2.576-.204 3.842l.199.416a.983.983 0 0 1-.051.961.992.992 0 0 1-.844.479h-.112a8.061 8.061 0 0 1-2.095-.283c-3.063-.831-5.403-3.479-5.826-6.586-.321-2.355.352-4.623 1.893-6.389a8.002 8.002 0 0 1 7.16-2.664c3.107.423 5.755 2.764 6.586 5.826.198.73.293 1.474.282 2.207-.012.807-.845 1.183-1.441.894z"}),x.createElement("circle",{cx:7.5,cy:14.5,r:1.5}),x.createElement("circle",{cx:7.5,cy:10.5,r:1.5}),x.createElement("circle",{cx:10.5,cy:7.5,r:1.5}),x.createElement("circle",{cx:14.5,cy:7.5,r:1.5}))});ZX.displayName="Palette";var eY=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M10 11H7.101l.001-.009a4.956 4.956 0 0 1 .752-1.787 5.054 5.054 0 0 1 2.2-1.811c.302-.128.617-.226.938-.291a5.078 5.078 0 0 1 2.018 0 4.978 4.978 0 0 1 2.525 1.361l1.416-1.412a7.036 7.036 0 0 0-2.224-1.501 6.921 6.921 0 0 0-1.315-.408 7.079 7.079 0 0 0-2.819 0 6.94 6.94 0 0 0-1.316.409 7.04 7.04 0 0 0-3.08 2.534 6.978 6.978 0 0 0-1.054 2.505c-.028.135-.043.273-.063.41H2l4 4 4-4zm4 2h2.899l-.001.008a4.976 4.976 0 0 1-2.103 3.138 4.943 4.943 0 0 1-1.787.752 5.073 5.073 0 0 1-2.017 0 4.956 4.956 0 0 1-1.787-.752 5.072 5.072 0 0 1-.74-.61L7.05 16.95a7.032 7.032 0 0 0 2.225 1.5c.424.18.867.317 1.315.408a7.07 7.07 0 0 0 2.818 0 7.031 7.031 0 0 0 4.395-2.945 6.974 6.974 0 0 0 1.053-2.503c.027-.135.043-.273.063-.41H22l-4-4-4 4z"}))});eY.displayName="Refresh";var tY=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M12 16c1.671 0 3-1.331 3-3s-1.329-3-3-3-3 1.331-3 3 1.329 3 3 3z"}),x.createElement("path",{d:"M20.817 11.186a8.94 8.94 0 0 0-1.355-3.219 9.053 9.053 0 0 0-2.43-2.43 8.95 8.95 0 0 0-3.219-1.355 9.028 9.028 0 0 0-1.838-.18V2L8 5l3.975 3V6.002c.484-.002.968.044 1.435.14a6.961 6.961 0 0 1 2.502 1.053 7.005 7.005 0 0 1 1.892 1.892A6.967 6.967 0 0 1 19 13a7.032 7.032 0 0 1-.55 2.725 7.11 7.11 0 0 1-.644 1.188 7.2 7.2 0 0 1-.858 1.039 7.028 7.028 0 0 1-3.536 1.907 7.13 7.13 0 0 1-2.822 0 6.961 6.961 0 0 1-2.503-1.054 7.002 7.002 0 0 1-1.89-1.89A6.996 6.996 0 0 1 5 13H3a9.02 9.02 0 0 0 1.539 5.034 9.096 9.096 0 0 0 2.428 2.428A8.95 8.95 0 0 0 12 22a9.09 9.09 0 0 0 1.814-.183 9.014 9.014 0 0 0 3.218-1.355 8.886 8.886 0 0 0 1.331-1.099 9.228 9.228 0 0 0 1.1-1.332A8.952 8.952 0 0 0 21 13a9.09 9.09 0 0 0-.183-1.814z"}))});tY.displayName="Reset";var OA=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"m6 20 4-4H7V4H5v12H2zm5-12h9v2h-9zm0 4h7v2h-7zm0-8h11v2H11zm0 12h5v2h-5z"}))});OA.displayName="SortDown";var nY=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"}),x.createElement("path",{d:"M13 7h-2v6h6v-2h-4z"}))});nY.displayName="Time";var kA=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M5 20a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V8h2V6h-4V4a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v2H3v2h2zM9 4h6v2H9zM8 8h9v12H7V8z"}),x.createElement("path",{d:"M9 10h2v8H9zm4 0h2v8h-2z"}))});kA.displayName="Trash";var T0=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M9 10h6c1.654 0 3 1.346 3 3s-1.346 3-3 3h-3v2h3c2.757 0 5-2.243 5-5s-2.243-5-5-5H9V5L4 9l5 4v-3z"}))});T0.displayName="Undo";var rY=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zM4 12c0-.899.156-1.762.431-2.569L6 11l2 2v2l2 2 1 1v1.931C7.061 19.436 4 16.072 4 12zm14.33 4.873C17.677 16.347 16.687 16 16 16v-1a2 2 0 0 0-2-2h-4v-3a2 2 0 0 0 2-2V7h1a2 2 0 0 0 2-2v-.411C17.928 5.778 20 8.65 20 12a7.947 7.947 0 0 1-1.67 4.873z"}))});rY.displayName="World";const NA=20,Iw=1e3,DCe=Mo.object({email:Mo.string().email({tlds:{allow:!1}}).messages({"string.base":"Please enter an email address, it is required","string.email":"Please enter a valid email address"}),message:Mo.string().min(NA).max(Iw).trim().required().messages({"string.min":`Please enter at least ${NA} symbols`,"string.max":`Please enter a message shorter than ${Iw} characters`,"string.trim":"Please enter a message","string.empty":"Please enter a message"})}),iY=U.div.withConfig({displayName:"FeedbackDialog__FormControl"})([`
  display: grid;
  gap: 1rem;
  width: 100%;

  [data-lastpass-icon-root],
  span[data-np-uid] {
    display: none !important;
  }
`]),oY=U.label.withConfig({displayName:"FeedbackDialog__Label"})([`
  color: `,`;
`],({theme:e})=>e.color.foreground),FCe=U(RX).withConfig({displayName:"FeedbackDialog__ChatIcon"})([`
  color: `,`;
`],({theme:e})=>e.color.foreground),UCe=U(Jl.Content).withConfig({displayName:"FeedbackDialog__StyledDialogContent"})([`
  display: grid;
  gap: 1rem;
  background: #282a36;
`]),zCe=U(cp.Content).withConfig({displayName:"FeedbackDialog__StyledCardContent"})([`
  display: grid;
  gap: 2rem;
  width: 100%;
  `,`
`],({withAfterMessage:e})=>!e&&"padding-bottom: 0"),BCe=U(OX).withConfig({displayName:"FeedbackDialog__StyledTextArea"})([`
  min-height: 100px;
  max-height: 250px;
`]),$Ce=({message:e,isSubmitting:t,onConfirm:n})=>v.jsxs(Jl.ActionButtons,{children:[v.jsx(Jl.Cancel,{asChild:!0,children:v.jsx(vn,{skin:"transparent",prefixIcon:v.jsx(T0,{size:18}),onClick:n,children:"Dismiss"})}),v.jsx(Jl.Action,{asChild:!0,children:v.jsx(eo,{children:v.jsx(vn,{type:"submit",disabled:t||e.length===0,skin:"success",prefixIcon:t?v.jsx(wf,{size:18}):v.jsx(LX,{size:18}),dataHook:"form-submit-button",children:t?"Sending...":"Send"})})})]}),HCe=({withEmailInput:e,trigger:t,title:n,subtitle:r,initialMessage:i,afterMessage:o,onSubmit:a,open:s,onOpenChange:l})=>{const[c,u]=x.useState({}),[d,f]=x.useState(i??""),[p,g]=x.useState(s),[h,y]=x.useState(!1),b=(w,S,E)=>{const _={...c},m=w.validate(S,{abortEarly:!1}),C={};return m.error?(m.error.details.forEach(T=>{const O=T.path[0];C[O]=T.message}),E.forEach(T=>{const O=C[T]||"";_[T]=O}),u(_),_):(E.forEach(T=>{delete _[T]}),u(_),_)};return x.useEffect(()=>{g(s)},[s]),v.jsxs(Jl.Root,{open:p,onOpenChange:l,children:[t&&v.jsx(Jl.Trigger,{asChild:!0,children:v.jsx(eo,{children:t({setOpen:g})})}),v.jsxs(Jl.Portal,{children:[v.jsx(eo,{children:v.jsx(Zl,{primitive:Jl.Overlay})}),v.jsx(UCe,{children:v.jsx("form",{name:"feedback-dialog",onSubmit:async w=>{w.preventDefault();const S=w.target,E=S.message,_=S.email,m=b(DCe,{message:E.value,email:_.value},["email","message"]);if(Object.keys(m).length===0)try{y(!0),await a({email:e?_.value:void 0,message:E.value}),g(!1),l(!1)}finally{y(!1)}},children:v.jsxs(cp,{children:[v.jsx(cp.Header,{title:v.jsx(Jl.Title,{color:"foreground",children:n??"Get In Touch"}),subtitle:v.jsx(st,{color:"foreground",children:r??"Drop a message and we will come back to you soon"}),beforeTitle:v.jsx(FCe,{size:24}),afterTitle:v.jsx(vn,{type:"button",skin:"transparent",onClick:()=>{g(!1),l(!1)},children:v.jsx(IA,{size:18})})}),v.jsxs(zCe,{withAfterMessage:o!==void 0,children:[e&&v.jsxs(iY,{children:[v.jsx(oY,{htmlFor:"email",children:"Email"}),v.jsx(cs,{name:"email",type:"email",placeholder:"email@address.com",autoFocus:!0,autoComplete:"off"}),v.jsx(st,{color:"gray2",children:"Optional, if you want us to get back to you"}),c&&c.email&&v.jsx(st,{color:"red",children:c.email})]}),v.jsxs(iY,{children:[v.jsx(oY,{htmlFor:"message",children:"Message"}),v.jsx(BCe,{name:"message",rows:4,placeholder:"It would be great if I could...",resize:"vertical",defaultValue:d,onChange:w=>{f(w.target.value)}}),c&&c.message&&v.jsx(st,{color:"red",children:c.message})]}),v.jsxs(tt,{justifyContent:"flex-end",style:{color:d.length<NA||d.length>Iw?"rgb(152, 79, 79)":"#33874b"},children:[d.length,"/",Iw]}),o]}),v.jsx($Ce,{isSubmitting:h,message:d,onConfirm:()=>{u({}),f(""),g(!1),l(!1)}})]})})})]})]})};var A0=e=>e.type==="checkbox",xf=e=>e instanceof Date,vs=e=>e==null;const aY=e=>typeof e=="object";var Vo=e=>!vs(e)&&!Array.isArray(e)&&aY(e)&&!xf(e),VCe=e=>Vo(e)&&e.target?A0(e.target)?e.target.checked:e.target.value:e,qCe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,WCe=(e,t)=>e.has(qCe(t)),GCe=e=>{const t=e.constructor&&e.constructor.prototype;return Vo(t)&&t.hasOwnProperty("isPrototypeOf")},RA=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function po(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(RA&&(e instanceof Blob||t))return e;const n=Array.isArray(e);if(!n&&!(Vo(e)&&GCe(e)))return e;const r=n?[]:Object.create(Object.getPrototypeOf(e));for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=po(e[i]));return r}var Ow=e=>/^\w*$/.test(e),ao=e=>e===void 0,kw=e=>Array.isArray(e)?e.filter(Boolean):[],jA=e=>kw(e.replace(/["|']|\]/g,"").split(/\.|\[/)),wn=(e,t,n)=>{if(!t||!Vo(e))return n;const r=(Ow(t)?[t]:jA(t)).reduce((i,o)=>vs(i)?i:i[o],e);return ao(r)||r===e?ao(e[t])?n:e[t]:r},Oc=e=>typeof e=="boolean",zl=e=>typeof e=="function",Ii=(e,t,n)=>{let r=-1;const i=Ow(t)?[t]:jA(t),o=i.length,a=o-1;for(;++r<o;){const s=i[r];let l=n;if(r!==a){const c=e[s];l=Vo(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(s==="__proto__"||s==="constructor"||s==="prototype")return;e[s]=l,e=e[s]}};const sY={BLUR:"blur",FOCUS_OUT:"focusout"},al={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},hu={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},LA=ie.createContext(null);LA.displayName="HookFormContext";const kc=()=>ie.useContext(LA),KCe=e=>{const{children:t,...n}=e;return ie.createElement(LA.Provider,{value:n},t)};var XCe=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const a=o;return t._proxyFormState[a]!==al.all&&(t._proxyFormState[a]=!r||al.all),e[a]}});return i};const lY=typeof window<"u"?ie.useLayoutEffect:ie.useEffect;var Us=e=>typeof e=="string",YCe=(e,t,n,r,i)=>Us(e)?(r&&t.watch.add(e),wn(n,e,i)):Array.isArray(e)?e.map(o=>(r&&t.watch.add(o),wn(n,o))):(r&&(t.watchAll=!0),n),MA=e=>vs(e)||!aY(e);function ad(e,t,n=new WeakSet){if(MA(e)||MA(t))return Object.is(e,t);if(xf(e)&&xf(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const o of r){const a=e[o];if(!i.includes(o))return!1;if(o!=="ref"){const s=t[o];if(xf(a)&&xf(s)||Vo(a)&&Vo(s)||Array.isArray(a)&&Array.isArray(s)?!ad(a,s,n):!Object.is(a,s))return!1}}return!0}var cY=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},bs=e=>Array.isArray(e)?e:[e],uY=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(n=>n!==t)}}),unsubscribe:()=>{e=[]}}};function dY(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r],o=t[r];if(i&&Vo(i)&&o){const a=dY(i,o);Vo(a)&&(n[r]=a)}else e[r]&&(n[r]=o)}return n}var Ua=e=>Vo(e)&&!Object.keys(e).length,PA=e=>e.type==="file",Nw=e=>{if(!RA)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},fY=e=>e.type==="select-multiple",DA=e=>e.type==="radio",QCe=e=>DA(e)||A0(e),FA=e=>Nw(e)&&e.isConnected;function JCe(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=ao(e)?r++:e[t[r++]];return e}function ZCe(e){for(const t in e)if(e.hasOwnProperty(t)&&!ao(e[t]))return!1;return!0}function Do(e,t){const n=Array.isArray(t)?t:Ow(t)?[t]:jA(t),r=n.length===1?e:JCe(e,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(Vo(r)&&Ua(r)||Array.isArray(r)&&ZCe(r))&&Do(e,n.slice(0,-1)),e}var e4e=e=>{for(const t in e)if(zl(e[t]))return!0;return!1};function hY(e){return Array.isArray(e)||Vo(e)&&!e4e(e)}function UA(e,t={}){for(const n in e){const r=e[n];hY(r)?(t[n]=Array.isArray(r)?[]:{},UA(r,t[n])):ao(r)||(t[n]=!0)}return t}function up(e,t,n){n||(n=UA(t));for(const r in e){const i=e[r];if(hY(i))ao(t)||MA(n[r])?n[r]=UA(i,Array.isArray(i)?[]:{}):up(i,vs(t)?{}:t[r],n[r]);else{const o=t[r];n[r]=!ad(i,o)}}return n}const pY={value:!1,isValid:!1},mY={value:!0,isValid:!0};var gY=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ao(e[0].attributes.value)?ao(e[0].value)||e[0].value===""?mY:{value:e[0].value,isValid:!0}:mY:pY}return pY},yY=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>ao(e)?e:t?e===""?NaN:e&&+e:n&&Us(e)?new Date(e):r?r(e):e;const vY={isValid:!1,value:null};var bY=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,vY):vY;function wY(e){const t=e.ref;return PA(t)?t.files:DA(t)?bY(e.refs).value:fY(t)?[...t.selectedOptions].map(({value:n})=>n):A0(t)?gY(e.refs).value:yY(ao(t.value)?e.ref.value:t.value,e)}var t4e=(e,t,n,r)=>{const i={};for(const o of e){const a=wn(t,o);a&&Ii(i,o,a._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},Rw=e=>e instanceof RegExp,I0=e=>ao(e)?e:Rw(e)?e.source:Vo(e)?Rw(e.value)?e.value.source:e.value:e,dp=e=>({isOnSubmit:!e||e===al.onSubmit,isOnBlur:e===al.onBlur,isOnChange:e===al.onChange,isOnAll:e===al.all,isOnTouch:e===al.onTouched});const xY="AsyncFunction";var n4e=e=>!!e&&!!e.validate&&!!(zl(e.validate)&&e.validate.constructor.name===xY||Vo(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===xY)),r4e=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),zA=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const fp=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const o=wn(e,i);if(o){const{_f:a,...s}=o;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],i)&&!r||a.ref&&t(a.ref,a.name)&&!r)return!0;if(fp(s,t))break}else if(Vo(s)&&fp(s,t))break}}};function _Y(e,t,n){const r=wn(e,n);if(r||Ow(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),a=wn(t,o),s=wn(e,o);if(a&&!Array.isArray(a)&&n!==o)return{name:n};if(s&&s.type)return{name:o,error:s};if(s&&s.root&&s.root.type)return{name:`${o}.root`,error:s.root};i.pop()}return{name:n}}var i4e=(e,t,n,r)=>{n(e);const{name:i,...o}=e;return Ua(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(a=>t[a]===(!r||al.all))},o4e=(e,t,n)=>!e||!t||e===t||bs(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),a4e=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,s4e=(e,t)=>!kw(wn(e,t)).length&&Do(e,t),EY=(e,t,n)=>{const r=bs(wn(e,n));return Ii(r,"root",t[n]),Ii(e,n,r),e};function SY(e,t,n="validate"){if(Us(e)||Array.isArray(e)&&e.every(Us)||Oc(e)&&!e)return{type:n,message:Us(e)?e:"",ref:t}}var hp=e=>Vo(e)&&!Rw(e)?e:{value:e,message:""},BA=async(e,t,n,r,i,o)=>{const{ref:a,refs:s,required:l,maxLength:c,minLength:u,min:d,max:f,pattern:p,validate:g,name:h,valueAsNumber:y,mount:b}=e._f,w=wn(n,h);if(!b||t.has(h))return{};const S=s?s[0]:a,E=D=>{i&&S.reportValidity&&(S.setCustomValidity(Oc(D)?"":D||""),S.reportValidity())},_={},m=DA(a),C=A0(a),T=m||C,O=(y||PA(a))&&ao(a.value)&&ao(w)||Nw(a)&&a.value===""||w===""||Array.isArray(w)&&!w.length,R=cY.bind(null,h,r,_),j=(D,L,V,z=hu.maxLength,B=hu.minLength)=>{const H=D?L:V;_[h]={type:D?z:B,message:H,ref:a,...R(D?z:B,H)}};if(o?!Array.isArray(w)||!w.length:l&&(!T&&(O||vs(w))||Oc(w)&&!w||C&&!gY(s).isValid||m&&!bY(s).isValid)){const{value:D,message:L}=Us(l)?{value:!!l,message:l}:hp(l);if(D&&(_[h]={type:hu.required,message:L,ref:S,...R(hu.required,L)},!r))return E(L),_}if(!O&&(!vs(d)||!vs(f))){let D,L;const V=hp(f),z=hp(d);if(!vs(w)&&!isNaN(w)){const B=a.valueAsNumber||w&&+w;vs(V.value)||(D=B>V.value),vs(z.value)||(L=B<z.value)}else{const B=a.valueAsDate||new Date(w),H=q=>new Date(new Date().toDateString()+" "+q),J=a.type=="time",ne=a.type=="week";Us(V.value)&&w&&(D=J?H(w)>H(V.value):ne?w>V.value:B>new Date(V.value)),Us(z.value)&&w&&(L=J?H(w)<H(z.value):ne?w<z.value:B<new Date(z.value))}if((D||L)&&(j(!!D,V.message,z.message,hu.max,hu.min),!r))return E(_[h].message),_}if((c||u)&&!O&&(Us(w)||o&&Array.isArray(w))){const D=hp(c),L=hp(u),V=!vs(D.value)&&w.length>+D.value,z=!vs(L.value)&&w.length<+L.value;if((V||z)&&(j(V,D.message,L.message),!r))return E(_[h].message),_}if(p&&!O&&Us(w)){const{value:D,message:L}=hp(p);if(Rw(D)&&!w.match(D)&&(_[h]={type:hu.pattern,message:L,ref:a,...R(hu.pattern,L)},!r))return E(L),_}if(g){if(zl(g)){const D=await g(w,n),L=SY(D,S);if(L&&(_[h]={...L,...R(hu.validate,L.message)},!r))return E(L.message),_}else if(Vo(g)){let D={};for(const L in g){if(!Ua(D)&&!r)break;const V=SY(await g[L](w,n),S,L);V&&(D={...V,...R(L,V.message)},E(V.message),r&&(_[h]=D))}if(!Ua(D)&&(_[h]={ref:S,...D},!r))return _}}return E(!0),_};const l4e={mode:al.onSubmit,reValidateMode:al.onChange,shouldFocusError:!0};function c4e(e={}){let t={...l4e,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:zl(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=Vo(t.defaultValues)||Vo(t.values)?po(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:po(i),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},s={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={...u};let f={...d};const p={array:uY(),state:uY()},g=t.criteriaMode===al.all,h=se=>we=>{clearTimeout(c),c=setTimeout(se,we)},y=async se=>{if(!a.keepIsValid&&!t.disabled&&(d.isValid||f.isValid||se)){let we;t.resolver?(we=Ua((await T()).errors),b()):we=await R(r,!0),we!==n.isValid&&p.state.next({isValid:we})}},b=(se,we)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((se||Array.from(s.mount)).forEach(Le=>{Le&&(we?Ii(n.validatingFields,Le,we):Do(n.validatingFields,Le))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Ua(n.validatingFields)}))},w=(se,we=[],Le,ot,_e=!0,Ce=!0)=>{if(ot&&Le&&!t.disabled){if(a.action=!0,Ce&&Array.isArray(wn(r,se))){const dt=Le(wn(r,se),ot.argA,ot.argB);_e&&Ii(r,se,dt)}if(Ce&&Array.isArray(wn(n.errors,se))){const dt=Le(wn(n.errors,se),ot.argA,ot.argB);_e&&Ii(n.errors,se,dt),s4e(n.errors,se)}if((d.touchedFields||f.touchedFields)&&Ce&&Array.isArray(wn(n.touchedFields,se))){const dt=Le(wn(n.touchedFields,se),ot.argA,ot.argB);_e&&Ii(n.touchedFields,se,dt)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=up(i,o)),p.state.next({name:se,isDirty:D(se,we),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ii(o,se,we)},S=(se,we)=>{Ii(n.errors,se,we),p.state.next({errors:n.errors})},E=se=>{n.errors=se,p.state.next({errors:n.errors,isValid:!1})},_=(se,we,Le,ot)=>{const _e=wn(r,se);if(_e){const Ce=wn(o,se,ao(Le)?wn(i,se):Le);ao(Ce)||ot&&ot.defaultChecked||we?Ii(o,se,we?Ce:wY(_e._f)):z(se,Ce),a.mount&&!a.action&&y()}},m=(se,we,Le,ot,_e)=>{let Ce=!1,dt=!1;const Ne={name:se};if(!t.disabled){if(!Le||ot){(d.isDirty||f.isDirty)&&(dt=n.isDirty,n.isDirty=Ne.isDirty=D(),Ce=dt!==Ne.isDirty);const Ye=ad(wn(i,se),we);dt=!!wn(n.dirtyFields,se),Ye?Do(n.dirtyFields,se):Ii(n.dirtyFields,se,!0),Ne.dirtyFields=n.dirtyFields,Ce=Ce||(d.dirtyFields||f.dirtyFields)&&dt!==!Ye}if(Le){const Ye=wn(n.touchedFields,se);Ye||(Ii(n.touchedFields,se,Le),Ne.touchedFields=n.touchedFields,Ce=Ce||(d.touchedFields||f.touchedFields)&&Ye!==Le)}Ce&&_e&&p.state.next(Ne)}return Ce?Ne:{}},C=(se,we,Le,ot)=>{const _e=wn(n.errors,se),Ce=(d.isValid||f.isValid)&&Oc(we)&&n.isValid!==we;if(t.delayError&&Le?(l=h(()=>S(se,Le)),l(t.delayError)):(clearTimeout(c),l=null,Le?Ii(n.errors,se,Le):Do(n.errors,se)),(Le?!ad(_e,Le):_e)||!Ua(ot)||Ce){const dt={...ot,...Ce&&Oc(we)?{isValid:we}:{},errors:n.errors,name:se};n={...n,...dt},p.state.next(dt)}},T=async se=>(b(se,!0),await t.resolver(o,t.context,t4e(se||s.mount,r,t.criteriaMode,t.shouldUseNativeValidation))),O=async se=>{const{errors:we}=await T(se);if(b(se),se)for(const Le of se){const ot=wn(we,Le);ot?Ii(n.errors,Le,ot):Do(n.errors,Le)}else n.errors=we;return we},R=async(se,we,Le={valid:!0})=>{for(const ot in se){const _e=se[ot];if(_e){const{_f:Ce,...dt}=_e;if(Ce){const Ne=s.array.has(Ce.name),Ye=_e._f&&n4e(_e._f);Ye&&d.validatingFields&&b([Ce.name],!0);const jt=await BA(_e,s.disabled,o,g,t.shouldUseNativeValidation&&!we,Ne);if(Ye&&d.validatingFields&&b([Ce.name]),jt[Ce.name]&&(Le.valid=!1,we))break;!we&&(wn(jt,Ce.name)?Ne?EY(n.errors,jt,Ce.name):Ii(n.errors,Ce.name,jt[Ce.name]):Do(n.errors,Ce.name))}!Ua(dt)&&await R(dt,we,Le)}}return Le.valid},j=()=>{for(const se of s.unMount){const we=wn(r,se);we&&(we._f.refs?we._f.refs.every(Le=>!FA(Le)):!FA(we._f.ref))&&Ie(se)}s.unMount=new Set},D=(se,we)=>!t.disabled&&(se&&we&&Ii(o,se,we),!ad(ee(),i)),L=(se,we,Le)=>YCe(se,s,{...a.mount?o:ao(we)?i:Us(se)?{[se]:we}:we},Le,we),V=se=>kw(wn(a.mount?o:i,se,t.shouldUnregister?wn(i,se,[]):[])),z=(se,we,Le={})=>{const ot=wn(r,se);let _e=we;if(ot){const Ce=ot._f;Ce&&(!Ce.disabled&&Ii(o,se,yY(we,Ce)),_e=Nw(Ce.ref)&&vs(we)?"":we,fY(Ce.ref)?[...Ce.ref.options].forEach(dt=>dt.selected=_e.includes(dt.value)):Ce.refs?A0(Ce.ref)?Ce.refs.forEach(dt=>{(!dt.defaultChecked||!dt.disabled)&&(Array.isArray(_e)?dt.checked=!!_e.find(Ne=>Ne===dt.value):dt.checked=_e===dt.value||!!_e)}):Ce.refs.forEach(dt=>dt.checked=dt.value===_e):PA(Ce.ref)?Ce.ref.value="":(Ce.ref.value=_e,Ce.ref.type||p.state.next({name:se,values:po(o)})))}(Le.shouldDirty||Le.shouldTouch)&&m(se,_e,Le.shouldTouch,Le.shouldDirty,!0),Le.shouldValidate&&q(se)},B=(se,we,Le)=>{for(const ot in we){if(!we.hasOwnProperty(ot))return;const _e=we[ot],Ce=se+"."+ot,dt=wn(r,Ce);(s.array.has(se)||Vo(_e)||dt&&!dt._f)&&!xf(_e)?B(Ce,_e,Le):z(Ce,_e,Le)}},H=(se,we,Le={})=>{const ot=wn(r,se),_e=s.array.has(se),Ce=po(we);Ii(o,se,Ce),_e?(p.array.next({name:se,values:po(o)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Le.shouldDirty&&p.state.next({name:se,dirtyFields:up(i,o),isDirty:D(se,Ce)})):ot&&!ot._f&&!vs(Ce)?B(se,Ce,Le):z(se,Ce,Le),zA(se,s)&&p.state.next({...n,name:se}),p.state.next({name:a.mount?se:void 0,values:po(o)})},J=async se=>{a.mount=!0;const we=se.target;let Le=we.name,ot=!0;const _e=wn(r,Le),Ce=Ye=>{ot=Number.isNaN(Ye)||xf(Ye)&&isNaN(Ye.getTime())||ad(Ye,wn(o,Le,Ye))},dt=dp(t.mode),Ne=dp(t.reValidateMode);if(_e){let Ye,jt;const qt=we.type?wY(_e._f):VCe(se),Jt=se.type===sY.BLUR||se.type===sY.FOCUS_OUT,Ht=!r4e(_e._f)&&!t.resolver&&!wn(n.errors,Le)&&!_e._f.deps||a4e(Jt,wn(n.touchedFields,Le),n.isSubmitted,Ne,dt),en=zA(Le,s,Jt);Ii(o,Le,qt),Jt?(!we||!we.readOnly)&&(_e._f.onBlur&&_e._f.onBlur(se),l&&l(0)):_e._f.onChange&&_e._f.onChange(se);const hn=m(Le,qt,Jt),Zt=!Ua(hn)||en;if(!Jt&&p.state.next({name:Le,type:se.type,values:po(o)}),Ht)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Jt&&y():Jt||y()),Zt&&p.state.next({name:Le,...en?{}:hn});if(!Jt&&en&&p.state.next({...n}),t.resolver){const{errors:Tt}=await T([Le]);if(b([Le]),Ce(qt),ot){const xn=_Y(n.errors,r,Le),Jn=_Y(Tt,r,xn.name||Le);Ye=Jn.error,Le=Jn.name,jt=Ua(Tt)}}else b([Le],!0),Ye=(await BA(_e,s.disabled,o,g,t.shouldUseNativeValidation))[Le],b([Le]),Ce(qt),ot&&(Ye?jt=!1:(d.isValid||f.isValid)&&(jt=await R(r,!0)));ot&&(_e._f.deps&&(!Array.isArray(_e._f.deps)||_e._f.deps.length>0)&&q(_e._f.deps),C(Le,jt,Ye,hn))}},ne=(se,we)=>{if(wn(n.errors,we)&&se.focus)return se.focus(),1},q=async(se,we={})=>{let Le,ot;const _e=bs(se);if(t.resolver){const Ce=await O(ao(se)?se:_e);Le=Ua(Ce),ot=se?!_e.some(dt=>wn(Ce,dt)):Le}else se?(ot=(await Promise.all(_e.map(async Ce=>{const dt=wn(r,Ce);return await R(dt&&dt._f?{[Ce]:dt}:dt)}))).every(Boolean),!(!ot&&!n.isValid)&&y()):ot=Le=await R(r);return p.state.next({...!Us(se)||(d.isValid||f.isValid)&&Le!==n.isValid?{}:{name:se},...t.resolver||!se?{isValid:Le}:{},errors:n.errors}),we.shouldFocus&&!ot&&fp(r,ne,se?_e:s.mount),ot},ee=(se,we)=>{let Le={...a.mount?o:i};return we&&(Le=dY(we.dirtyFields?n.dirtyFields:n.touchedFields,Le)),ao(se)?Le:Us(se)?wn(Le,se):se.map(ot=>wn(Le,ot))},te=(se,we)=>({invalid:!!wn((we||n).errors,se),isDirty:!!wn((we||n).dirtyFields,se),error:wn((we||n).errors,se),isValidating:!!wn(n.validatingFields,se),isTouched:!!wn((we||n).touchedFields,se)}),$=se=>{se&&bs(se).forEach(we=>Do(n.errors,we)),p.state.next({errors:se?n.errors:{}})},ae=(se,we,Le)=>{const ot=(wn(r,se,{_f:{}})._f||{}).ref,_e=wn(n.errors,se)||{},{ref:Ce,message:dt,type:Ne,...Ye}=_e;Ii(n.errors,se,{...Ye,...we,ref:ot}),p.state.next({name:se,errors:n.errors,isValid:!1}),Le&&Le.shouldFocus&&ot&&ot.focus&&ot.focus()},ue=(se,we)=>zl(se)?p.state.subscribe({next:Le=>"values"in Le&&se(L(void 0,we),Le)}):L(se,we,!0),me=se=>p.state.subscribe({next:we=>{o4e(se.name,we.name,se.exact)&&i4e(we,se.formState||d,Ve,se.reRenderRoot)&&se.callback({values:{...o},...n,...we,defaultValues:i})}}).unsubscribe,Fe=se=>(a.mount=!0,f={...f,...se.formState},me({...se,formState:{...u,...se.formState}})),Ie=(se,we={})=>{for(const Le of se?bs(se):s.mount)s.mount.delete(Le),s.array.delete(Le),we.keepValue||(Do(r,Le),Do(o,Le)),!we.keepError&&Do(n.errors,Le),!we.keepDirty&&Do(n.dirtyFields,Le),!we.keepTouched&&Do(n.touchedFields,Le),!we.keepIsValidating&&Do(n.validatingFields,Le),!t.shouldUnregister&&!we.keepDefaultValue&&Do(i,Le);p.state.next({values:po(o)}),p.state.next({...n,...we.keepDirty?{isDirty:D()}:{}}),!we.keepIsValid&&y()},Ee=({disabled:se,name:we})=>{(Oc(se)&&a.mount||se||s.disabled.has(we))&&(se?s.disabled.add(we):s.disabled.delete(we))},He=(se,we={})=>{let Le=wn(r,se);const ot=Oc(we.disabled)||Oc(t.disabled);return Ii(r,se,{...Le||{},_f:{...Le&&Le._f?Le._f:{ref:{name:se}},name:se,mount:!0,...we}}),s.mount.add(se),Le?Ee({disabled:Oc(we.disabled)?we.disabled:t.disabled,name:se}):_(se,!0,we.value),{...ot?{disabled:we.disabled||t.disabled}:{},...t.progressive?{required:!!we.required,min:I0(we.min),max:I0(we.max),minLength:I0(we.minLength),maxLength:I0(we.maxLength),pattern:I0(we.pattern)}:{},name:se,onChange:J,onBlur:J,ref:_e=>{if(_e){He(se,we),Le=wn(r,se);const Ce=ao(_e.value)&&_e.querySelectorAll&&_e.querySelectorAll("input,select,textarea")[0]||_e,dt=QCe(Ce),Ne=Le._f.refs||[];if(dt?Ne.find(Ye=>Ye===Ce):Ce===Le._f.ref)return;Ii(r,se,{_f:{...Le._f,...dt?{refs:[...Ne.filter(FA),Ce,...Array.isArray(wn(i,se))?[{}]:[]],ref:{type:Ce.type,name:se}}:{ref:Ce}}}),_(se,!1,void 0,Ce)}else Le=wn(r,se,{}),Le._f&&(Le._f.mount=!1),(t.shouldUnregister||we.shouldUnregister)&&!(WCe(s.array,se)&&a.action)&&s.unMount.add(se)}}},it=()=>t.shouldFocusError&&fp(r,ne,s.mount),St=se=>{Oc(se)&&(p.state.next({disabled:se}),fp(r,(we,Le)=>{const ot=wn(r,Le);ot&&(we.disabled=ot._f.disabled||se,Array.isArray(ot._f.refs)&&ot._f.refs.forEach(_e=>{_e.disabled=ot._f.disabled||se}))},0,!1))},xt=(se,we)=>async Le=>{let ot;Le&&(Le.preventDefault&&Le.preventDefault(),Le.persist&&Le.persist());let _e=po(o);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:Ce,values:dt}=await T();b(),n.errors=Ce,_e=po(dt)}else await R(r);if(s.disabled.size)for(const Ce of s.disabled)Do(_e,Ce);if(Do(n.errors,"root"),Ua(n.errors)){p.state.next({errors:{}});try{await se(_e,Le)}catch(Ce){ot=Ce}}else we&&await we({...n.errors},Le),it(),setTimeout(it);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ua(n.errors)&&!ot,submitCount:n.submitCount+1,errors:n.errors}),ot)throw ot},Ct=(se,we={})=>{wn(r,se)&&(ao(we.defaultValue)?H(se,po(wn(i,se))):(H(se,we.defaultValue),Ii(i,se,po(we.defaultValue))),we.keepTouched||Do(n.touchedFields,se),we.keepDirty||(Do(n.dirtyFields,se),n.isDirty=we.defaultValue?D(se,po(wn(i,se))):D()),we.keepError||(Do(n.errors,se),d.isValid&&y()),p.state.next({...n}))},We=(se,we={})=>{const Le=se?po(se):i,ot=po(Le),_e=Ua(se),Ce=_e?i:ot;if(we.keepDefaultValues||(i=Le),!we.keepValues){if(we.keepDirtyValues){const dt=new Set([...s.mount,...Object.keys(up(i,o))]);for(const Ne of Array.from(dt))wn(n.dirtyFields,Ne)?Ii(Ce,Ne,wn(o,Ne)):H(Ne,wn(Ce,Ne))}else{if(RA&&ao(se))for(const dt of s.mount){const Ne=wn(r,dt);if(Ne&&Ne._f){const Ye=Array.isArray(Ne._f.refs)?Ne._f.refs[0]:Ne._f.ref;if(Nw(Ye)){const jt=Ye.closest("form");if(jt){jt.reset();break}}}}if(we.keepFieldsRef)for(const dt of s.mount)H(dt,wn(Ce,dt));else r={}}o=t.shouldUnregister?we.keepDefaultValues?po(i):{}:po(Ce),p.array.next({values:{...Ce}}),p.state.next({values:{...Ce}})}s={mount:we.keepDirtyValues?s.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!we.keepIsValid||!!we.keepDirtyValues||!t.shouldUnregister&&!Ua(Ce),a.watch=!!t.shouldUnregister,a.keepIsValid=!!we.keepIsValid,a.action=!1,we.keepErrors||(n.errors={}),p.state.next({submitCount:we.keepSubmitCount?n.submitCount:0,isDirty:_e?!1:we.keepDirty?n.isDirty:!!(we.keepDefaultValues&&!ad(se,i)),isSubmitted:we.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:_e?{}:we.keepDirtyValues?we.keepDefaultValues&&o?up(i,o):n.dirtyFields:we.keepDefaultValues&&se?up(i,se):we.keepDirty?n.dirtyFields:{},touchedFields:we.keepTouched?n.touchedFields:{},errors:we.keepErrors?n.errors:{},isSubmitSuccessful:we.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Oe=(se,we)=>We(zl(se)?se(o):se,{...t.resetOptions,...we}),ye=(se,we={})=>{const Le=wn(r,se),ot=Le&&Le._f;if(ot){const _e=ot.refs?ot.refs[0]:ot.ref;_e.focus&&setTimeout(()=>{_e.focus(),we.shouldSelect&&zl(_e.select)&&_e.select()})}},Ve=se=>{n={...n,...se}},Xe={control:{register:He,unregister:Ie,getFieldState:te,handleSubmit:xt,setError:ae,_subscribe:me,_runSchema:T,_updateIsValidating:b,_focusError:it,_getWatch:L,_getDirty:D,_setValid:y,_setFieldArray:w,_setDisabledField:Ee,_setErrors:E,_getFieldArray:V,_reset:We,_resetDefaultValues:()=>zl(t.defaultValues)&&t.defaultValues().then(se=>{Oe(se,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:j,_disableForm:St,_subjects:p,_proxyFormState:d,get _fields(){return r},get _formValues(){return o},get _state(){return a},set _state(se){a=se},get _defaultValues(){return i},get _names(){return s},set _names(se){s=se},get _formState(){return n},get _options(){return t},set _options(se){t={...t,...se}}},subscribe:Fe,trigger:q,register:He,handleSubmit:xt,watch:ue,setValue:H,getValues:ee,reset:Oe,resetField:Ct,clearErrors:$,unregister:Ie,setError:ae,setFocus:ye,getFieldState:te};return{...Xe,formControl:Xe}}var sd=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(Math.random()*16+e)%16|0;return(t=="x"?n:n&3|8).toString(16)})},$A=(e,t,n={})=>n.shouldFocus||ao(n.shouldFocus)?n.focusName||`${e}.${ao(n.focusIndex)?t:n.focusIndex}.`:"",HA=(e,t)=>[...e,...bs(t)],VA=e=>Array.isArray(e)?e.map(()=>{}):void 0;function qA(e,t,n){return[...e.slice(0,t),...bs(n),...e.slice(t)]}var WA=(e,t,n)=>Array.isArray(e)?(ao(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],GA=(e,t)=>[...bs(t),...bs(e)];function u4e(e,t){let n=0;const r=[...e];for(const i of t)r.splice(i-n,1),n++;return kw(r).length?r:[]}var KA=(e,t)=>ao(t)?[]:u4e(e,bs(t).sort((n,r)=>n-r)),XA=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]},CY=(e,t,n)=>(e[t]=n,e);function d4e(e){const t=kc(),{control:n=t.control,name:r,keyName:i="id",shouldUnregister:o,rules:a}=e,[s,l]=ie.useState(n._getFieldArray(r)),c=ie.useRef(n._getFieldArray(r).map(sd)),u=ie.useRef(!1);n._names.array.add(r),ie.useMemo(()=>a&&s.length>=0&&n.register(r,a),[n,r,s.length,a]),lY(()=>n._subjects.array.subscribe({next:({values:E,name:_})=>{if(_===r||!_){const m=wn(E,r);Array.isArray(m)&&(l(m),c.current=m.map(sd))}}}).unsubscribe,[n,r]);const d=ie.useCallback(E=>{u.current=!0,n._setFieldArray(r,E)},[n,r]),f=(E,_)=>{const m=bs(po(E)),C=HA(n._getFieldArray(r),m);n._names.focus=$A(r,C.length-1,_),c.current=HA(c.current,m.map(sd)),d(C),l(C),n._setFieldArray(r,C,HA,{argA:VA(E)})},p=(E,_)=>{const m=bs(po(E)),C=GA(n._getFieldArray(r),m);n._names.focus=$A(r,0,_),c.current=GA(c.current,m.map(sd)),d(C),l(C),n._setFieldArray(r,C,GA,{argA:VA(E)})},g=E=>{const _=KA(n._getFieldArray(r),E);c.current=KA(c.current,E),d(_),l(_),!Array.isArray(wn(n._fields,r))&&Ii(n._fields,r,void 0),n._setFieldArray(r,_,KA,{argA:E})},h=(E,_,m)=>{const C=bs(po(_)),T=qA(n._getFieldArray(r),E,C);n._names.focus=$A(r,E,m),c.current=qA(c.current,E,C.map(sd)),d(T),l(T),n._setFieldArray(r,T,qA,{argA:E,argB:VA(_)})},y=(E,_)=>{const m=n._getFieldArray(r);XA(m,E,_),XA(c.current,E,_),d(m),l(m),n._setFieldArray(r,m,XA,{argA:E,argB:_},!1)},b=(E,_)=>{const m=n._getFieldArray(r);WA(m,E,_),WA(c.current,E,_),d(m),l(m),n._setFieldArray(r,m,WA,{argA:E,argB:_},!1)},w=(E,_)=>{const m=po(_),C=CY(n._getFieldArray(r),E,m);c.current=[...C].map((T,O)=>!T||O===E?sd():c.current[O]),d(C),l([...C]),n._setFieldArray(r,C,CY,{argA:E,argB:m},!0,!1)},S=E=>{const _=bs(po(E));c.current=_.map(sd),d([..._]),l([..._]),n._setFieldArray(r,[..._],m=>m,{},!0,!1)};return ie.useEffect(()=>{if(n._state.action=!1,zA(r,n._names)&&n._subjects.state.next({...n._formState}),u.current&&(!dp(n._options.mode).isOnSubmit||n._formState.isSubmitted)&&!dp(n._options.reValidateMode).isOnSubmit)if(n._options.resolver)n._runSchema([r]).then(E=>{n._updateIsValidating([r]);const _=wn(E.errors,r),m=wn(n._formState.errors,r);(m?!_&&m.type||_&&(m.type!==_.type||m.message!==_.message):_&&_.type)&&(_?Ii(n._formState.errors,r,_):Do(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const E=wn(n._fields,r);E&&E._f&&!(dp(n._options.reValidateMode).isOnSubmit&&dp(n._options.mode).isOnSubmit)&&BA(E,n._names.disabled,n._formValues,n._options.criteriaMode===al.all,n._options.shouldUseNativeValidation,!0).then(_=>!Ua(_)&&n._subjects.state.next({errors:EY(n._formState.errors,_,r)}))}n._subjects.state.next({name:r,values:po(n._formValues)}),n._names.focus&&fp(n._fields,(E,_)=>{if(n._names.focus&&_.startsWith(n._names.focus)&&E.focus)return E.focus(),1}),n._names.focus="",n._setValid(),u.current=!1},[s,r,n]),ie.useEffect(()=>(!wn(n._formValues,r)&&n._setFieldArray(r),()=>{const E=(_,m)=>{const C=wn(n._fields,_);C&&C._f&&(C._f.mount=m)};n._options.shouldUnregister||o?n.unregister(r):E(r,!1)}),[r,n,i,o]),{swap:ie.useCallback(y,[d,r,n]),move:ie.useCallback(b,[d,r,n]),prepend:ie.useCallback(p,[d,r,n]),append:ie.useCallback(f,[d,r,n]),remove:ie.useCallback(g,[d,r,n]),insert:ie.useCallback(h,[d,r,n]),update:ie.useCallback(w,[d,r,n]),replace:ie.useCallback(S,[d,r,n]),fields:ie.useMemo(()=>s.map((E,_)=>({...E,[i]:c.current[_]||sd()})),[s,i])}}function f4e(e={}){const t=ie.useRef(void 0),n=ie.useRef(void 0),[r,i]=ie.useState({isDirty:!1,isValidating:!1,isLoading:zl(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:zl(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!zl(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...s}=c4e(e);t.current={...s,formState:r}}const o=t.current.control;return o._options=e,lY(()=>{const a=o._subscribe({formState:o._proxyFormState,callback:()=>i({...o._formState}),reRenderRoot:!0});return i(s=>({...s,isReady:!0})),o._formState.isReady=!0,a},[o]),ie.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),ie.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),ie.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),ie.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),ie.useEffect(()=>{if(o._proxyFormState.isDirty){const a=o._getDirty();a!==r.isDirty&&o._subjects.state.next({isDirty:a})}},[o,r.isDirty]),ie.useEffect(()=>{var a;e.values&&!ad(e.values,n.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),!((a=o._options.resetOptions)===null||a===void 0)&&a.keepIsValid||o._setValid(),n.current=e.values,i(s=>({...s}))):o._resetDefaultValues()},[o,e.values]),ie.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=XCe(r,o),t.current}const TY=(e,t,n)=>{if(e&&"reportValidity"in e){const r=wn(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},AY=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?TY(r.ref,n,e):r&&r.refs&&r.refs.forEach(i=>TY(i,n,e))}},h4e=(e,t)=>{t.shouldUseNativeValidation&&AY(e,t);const n={};for(const r in e){const i=wn(t.fields,r),o=Object.assign(e[r]||{},{ref:i&&i.ref});if(p4e(t.names||Object.keys(e),r)){const a=Object.assign({},wn(n,r));Ii(a,"root",o),Ii(n,r,a)}else Ii(n,r,o)}return n},p4e=(e,t)=>{const n=IY(t);return e.some(r=>IY(r).match(`^${n}\\.\\d+`))};function IY(e){return e.replace(/\]|\[/g,"")}var m4e=function(e,t,n){return t===void 0&&(t={abortEarly:!1}),n===void 0&&(n={}),function(r,i,o){try{var a=function(){return l.error?{values:{},errors:h4e((u=l.error,d=!o.shouldUseNativeValidation&&o.criteriaMode==="all",u.details.length?u.details.reduce(function(f,p){var g=p.path.join(".");if(f[g]||(f[g]={message:p.message,type:p.type}),d){var h=f[g].types,y=h&&h[p.type];f[g]=cY(g,d,f,p.type,y?[].concat(y,p.message):p.message)}return f},{}):{}),o)}:(o.shouldUseNativeValidation&&AY({},o),{errors:{},values:l.value});var u,d},s=Object.assign({},t,{context:i}),l={},c=(function(){if(n.mode==="sync")l=e.validate(r,s);else{var u=(function(d,f){try{var p=d()}catch(g){return f(g)}return p&&p.then?p.then(void 0,f):p})(function(){return Promise.resolve(e.validateAsync(r,s)).then(function(d){l.value=d})},function(d){l.error=d});if(u&&u.then)return u.then(function(){})}})();return Promise.resolve(c&&c.then?c.then(a):a())}catch(u){return Promise.reject(u)}}};const g4e=U.div.withConfig({displayName:"FormItem__Root"})([`
  display: grid;
  gap: 1rem;
  white-space: normal;
  width: 100%;

  `,`
`],({border:e,theme:t})=>e&&`
    border-bottom: 1px ${t.color.background} solid;
  `),y4e=U.div.withConfig({displayName:"FormItem__Control"})([`
  display: grid;
  gap: 1rem;
  `,`
`],e=>e.disabled&&"opacity: 0.7;"),v4e=U.div.withConfig({displayName:"FormItem__LabelWrapper"})([`
  display: flex;
  align-self: center;
  justify-content: space-between;
  align-items: baseline;
  width: 100%;
`]),b4e=U.label.withConfig({displayName:"FormItem__Label"})([`
  color: `,`;
`],({theme:e})=>e.color.gray2),w4e=U.span.withConfig({displayName:"FormItem__AfterLabel"})([`
  color: `,`;
`],({theme:e})=>e.color.gray2),x4e=U(g4).withConfig({displayName:"FormItem__ErrorIcon"})([`
  color: `,`;
`],({theme:e})=>e.color.red),_4e=({name:e,label:t,afterLabel:n,helperText:r,children:i,className:o,disabled:a,border:s,required:l})=>{const{formState:{errors:c}}=kc(),u=c[e];return v.jsxs(g4e,{className:o,disabled:a,border:s,children:[v.jsxs(y4e,{disabled:a,children:[t&&e&&v.jsxs(v4e,{children:[v.jsxs(b4e,{htmlFor:e,children:[t,l?v.jsx(st,{color:"red",children:" *"}):""]}),v.jsx(w4e,{children:n})]}),i]}),e&&!u&&r&&(typeof r=="string"?v.jsx(st,{color:"comment",size:"sm",children:r}):r),e&&u&&v.jsxs(tt,{align:"center",gap:"1rem",children:[v.jsx(x4e,{size:"20px"}),v.jsx(st,{color:"red",size:"sm",children:u.message})]})]})},E4e=U.div.withConfig({displayName:"FormInput__Wrapper"})([`
  display: flex;
  width: 100%;
  position: relative;
  align-items: center;
  `,`
  `,`
  input:-webkit-autofill,
  input:-webkit-autofill:hover,
  input:-webkit-autofill:focus,
  input:-webkit-autofill:active {
    -webkit-transition: "color 9999s ease-out, background-color 9999s ease-out";
    -webkit-transition-delay: 9999s;
  }
`],e=>e.autoComplete==="off"&&`
    // Hide the LastPass+NordPass icons
    [data-lastpass-icon-root],
    span[data-np-uid] {
      display: none !important;
    }
  `,e=>e.type==="password"&&`
    border-radius: 8px;
  `),S4e=U(cs).withConfig({displayName:"FormInput__Input"})([`
  `,`
  `,`
`],e=>e.disabled&&"opacity: 0.7;",({$inputType:e})=>e==="password"&&Vn([`
      width: calc(100% + 3.2rem);
      padding-right: 4.2rem !important;
    `])),C4e=U(vn).withConfig({displayName:"FormInput__ToggleButton"})([`
  cursor: pointer;
  border-radius: 0;
  position: absolute;
  right: 1.2rem;
  padding: 0;

  &:hover {
    background: transparent !important;

    svg {
      color: `,`;
    }
  }
`],({theme:e})=>e.color.foreground),T4e=({name:e,placeholder:t,type:n="text",disabled:r,showPassword:i,autoFocus:o,autoComplete:a,...s})=>{const{register:l,setFocus:c}=kc(),[u,d]=x.useState(i),f=x.useCallback(()=>{d(!u)},[u,d]);return x.useEffect(()=>{o&&c(e)},[]),v.jsxs(E4e,{autoComplete:a,type:n,children:[v.jsx(S4e,{...l(e,{valueAsNumber:n==="number"}),name:e,placeholder:t,type:u?"text":n,$inputType:n,disabled:r,showPassword:i,autoComplete:a,...s}),n==="password"&&v.jsx(C4e,{skin:"transparent",onClick:f,title:"Toggle password visibility",type:"button",children:u?v.jsx(KU,{size:"20px"}):v.jsx(XU,{size:"20px"})})]})},A4e=({name:e,...t})=>{const{register:n}=kc();return v.jsx("div",{style:{width:"100%",display:"flex"},children:v.jsx(rp,{...t,...n(e)})})},I4e=U.div.withConfig({displayName:"Select__Root"})([`
  position: relative;
  width: 100%;

  `,`

  .prefixIcon {
    position: absolute;
    left: 10px;
    top: 50%;
    transform: translate(0, -50%);
    pointer-events: none;
  }

  .arrowDownIcon {
    position: absolute;
    right: 0;
    top: 50%;
    transform: translate(0, -50%);
    pointer-events: none;
    fill: `,`;
  }
`],({disabled:e})=>e&&Vn([`
      .prefixIcon,
      .arrowDownIcon {
        opacity: 0.5;
        color: `,`;
      }
    `],({theme:t})=>t.color.selection),({theme:e})=>e.color.white),O4e=U(cs).attrs({as:"select"}).withConfig({displayName:"Select__StyledSelect"})([`
  position: relative;
  appearance: none;
  cursor: pointer;
  width: 100%;
  padding-right: 2.4rem;

  `,`

  &:focus {
    border-color: `,`;
    background: `,`;
  }

  `,`
`],({withPrefixIcon:e})=>e&&"padding-left: 3rem;",({theme:e})=>e.color.pink,({theme:e})=>e.color.selection,e=>e.disabled&&Vn([`
      cursor: default;
      background: `,`;
      border-color: `,`;
      color: `,`;
    `],({theme:t})=>t.color.selection,({theme:t})=>t.color.gray1,({theme:t})=>t.color.gray1)),_f=ie.forwardRef(({options:e,prefixIcon:t,...n},r)=>v.jsxs(I4e,{disabled:n.disabled,children:[v.jsx(O4e,{ref:r,withPrefixIcon:typeof t<"u",...n,children:e.map(({label:i,value:o})=>v.jsx("option",{value:o,children:i},`${i}-${o}`))}),t?v.jsx("span",{className:"prefixIcon",children:t}):null,v.jsx(a4,{className:"arrowDownIcon",size:"28"})]}));_f.displayName="Select";const k4e=({name:e,...t})=>{const{register:n}=kc();return v.jsx(_f,{...n(e),...t})},N4e=U.div.withConfig({displayName:"FormGroup__Root"})([`
  width: 100%;
  display: grid;
  grid-template-columns: repeat(`,`, minmax(0, 1fr));
  gap: `,`;
`],({columns:e})=>e,({gap:e})=>e),R4e=({children:e,columns:t,gap:n="2rem"})=>v.jsx(N4e,{columns:t??ie.Children.count(ie.Children.toArray(e)),gap:n,children:e}),j4e=({children:e,disabled:t,variant:n,prefixIcon:r,...i})=>v.jsx(vn,{type:"submit",disabled:t,skin:n??"primary",prefixIcon:r,dataHook:"form-submit-button",...i,children:e}),L4e=({children:e,disabled:t,variant:n,prefixIcon:r,defaultValues:i,onClick:o})=>{const{reset:a}=kc();return v.jsx(vn,{type:"button",onClick:()=>{a(i),o&&o()},disabled:t,skin:n??"secondary",prefixIcon:r,dataHook:"form-cancel-button",children:e})},M4e=U(cs).attrs({as:"textarea"}).withConfig({displayName:"FormTextArea__TextArea"})([`
  width: 100%;
  height: inherit;
`]),P4e=({name:e,placeholder:t,rows:n,autoFocus:r,...i})=>{const{register:o,setFocus:a}=kc();return x.useEffect(()=>{r&&a(e)},[]),v.jsx(M4e,{...o(e),rows:n??4,placeholder:t,...i})},wr=({name:e,method:t="post",onSubmit:n,onChange:r,onDirtyChange:i,children:o,validationSchema:a,defaultValues:s,preventSubmitOnEnter:l})=>{const c={};s&&(c.defaultValues=s),a&&(c.resolver=m4e(a));const u=f4e(c),d=p=>{p.key==="Enter"&&l&&p.preventDefault()};x.useEffect(()=>{r&&u.watch(r)},[]),x.useEffect(()=>{i&&i(u.formState.isDirty,u.formState.dirtyFields)},[u.formState]);const f=async p=>{p.stopPropagation(),await u.handleSubmit(n)(p)};return Object.keys(u.formState.errors).length>0&&console.warn("Schema validation errors",u.formState.errors),v.jsx(KCe,{...u,children:v.jsx("form",{name:e,onSubmit:f,method:t,onKeyDown:d,children:o})})};wr.Item=_4e,wr.Input=T4e,wr.Checkbox=A4e,wr.Select=k4e,wr.Group=R4e,wr.Submit=j4e,wr.Cancel=L4e,wr.TextArea=P4e;const Aa=({icon:e,tooltip:t,placement:n,textAlign:r})=>v.jsx(mi,{placement:n,trigger:e,children:v.jsx(_i,{textAlign:r,children:t})});var OY=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("g",{"data-name":"Layer 2"},x.createElement("path",{d:"M20 6a1 1 0 0 0-1-1 1 1 0 0 0-1 1v5a1 1 0 0 1-.29.71A1 1 0 0 1 17 12H8.08l2.69-3.39a1 1 0 0 0-1.52-1.17l-4 5a1 1 0 0 0 0 1.25l4 5a1 1 0 0 0 .78.37 1 1 0 0 0 .62-.22 1 1 0 0 0 .15-1.41l-2.66-3.36h8.92a3 3 0 0 0 3-3z","data-name":"corner-down-left"})))});OY.displayName="CornerDownLeft";let kY,NY,RY,pp;kY=U(tt).attrs({alignItems:"center",justifyContent:"center"}).withConfig({displayName:"Key__StyledKey"})([`
  padding: 0 0.4rem;
  background: `,`;
  border: 0.5px solid `,`;
  border-radius: 0.2rem;
  font-size: 1.2rem;
  height: 1.8rem;
  min-width: 2rem;
  color: `,`;
  position: relative;
  display: flex;
  box-shadow:
    0px 12px 16px -4px rgba(0, 0, 0, 0.2),
    0px 4px 6px -2px rgba(0, 0, 0, 0.2),
    0px 2px 2px -1px rgba(0, 0, 0, 0.2),
    0 0 4px 0 rgba(96, 96, 96, 0.2) inset;
  transition: color 0.2s ease;

  &:hover {
    color: `,`;
  }

  svg {
    color: `,`;
    fill: `,`;
  }

  &:hover svg {
    color: `,`;
    fill: `,`;
  }

  &:not(:last-child) {
    margin-right: 0.25rem;
  }
`],vt("backgroundDarker"),vt("midnight"),({$color:e,theme:t})=>typeof e=="function"?e({theme:t})||t.color.foreground:e||t.color.foreground,({$hoverColor:e,$color:t,theme:n})=>{if(typeof e=="function"){const i=e({theme:n}),o=typeof t=="function"?t({theme:n}):t;return i||o||n.color.foreground}const r=typeof t=="function"?t({theme:n}):t;return e||r||n.color.foreground},({$color:e,theme:t})=>typeof e=="function"?e({theme:t})||t.color.foreground:e||t.color.foreground,({$color:e,theme:t})=>typeof e=="function"?e({theme:t})||t.color.foreground:e||t.color.foreground,({$hoverColor:e,$color:t,theme:n})=>{if(typeof e=="function"){const i=e({theme:n}),o=typeof t=="function"?t({theme:n}):t;return i||o||n.color.foreground}const r=typeof t=="function"?t({theme:n}):t;return e||r||n.color.foreground},({$hoverColor:e,$color:t,theme:n})=>{if(typeof e=="function"){const i=e({theme:n}),o=typeof t=="function"?t({theme:n}):t;return i||o||n.color.foreground}const r=typeof t=="function"?t({theme:n}):t;return e||r||n.color.foreground}),$c=({keyString:e,color:t,hoverColor:n})=>{const r=e.toLowerCase()==="enter";return v.jsx(kY,{$color:t,$hoverColor:n||t,children:r?v.jsx(OY,{size:"16px"}):e})},NY=st.defaultProps,RY=U.a.withConfig({displayName:"Link__Wrapper"})([`
  `,`;
  text-decoration: none;
  line-height: 1;

  &:hover:not([disabled]),
  &:focus:not([disabled]) {
    color: `,`;
  }
`],e4,e=>e.hoverColor?vt(e.hoverColor):"inherit"),pp=e=>v.jsx(RY,{...e}),pp.defaultProps=NY;const jY=x.createContext(null),LY=()=>x.useContext(jY)||{handleNext:()=>{},handlePrevious:()=>{},handleClose:()=>{},currentStep:0,isFirstStep:!0,isLastStep:!1},D4e=Vn([`
  @keyframes dialogShow {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`]),F4e=Vn([`
  @keyframes dialogHide {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }
`]),U4e=U(Yy).withConfig({displayName:"MultiStepModal__StyledContent"})([`
  background-color: `,`;
  border-radius: `,`;
  box-shadow: 0 0.7rem 3rem -1rem `,`;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 90vw;
  max-width: `,`;
  max-height: 85vh;
  padding: 0;
  border: 0.1rem solid `,`;
  z-index: 101;
  display: flex;
  flex-direction: column;

  `,`
  `,`

  &[data-state="open"] {
    animation: dialogShow 0.25s cubic-bezier(0.16, 1, 0.3, 1);
  }

  &[data-state="closed"] {
    animation: dialogHide 0.25s cubic-bezier(0.16, 1, 0.3, 1);
  }

  &:focus {
    outline: none;
  }
`],({theme:e})=>e.color.backgroundDarker,({theme:e})=>e.borderRadius,({theme:e})=>e.color.black,({maxwidth:e})=>e??"50rem",({theme:e})=>e.color.selection,D4e,F4e),z4e=U(tt).attrs({gap:"1rem",align:"center"}).withConfig({displayName:"MultiStepModal__StepIndicatorContainer"})([`
  backdrop-filter: blur(0.6rem);
  background: rgba(255, 255, 255, 0.06);
  padding: 0.4rem;
  border-radius: 10rem;
  box-shadow: 0 0.1rem 0.2rem rgba(0, 0, 0, 0.08);
  width: fit-content;
`]),B4e=U.div.withConfig({displayName:"MultiStepModal__StepBadge"})([`
  backdrop-filter: blur(0.6rem);
  padding: 0.2rem 0.8rem;
  border-radius: 10rem;
  background: rgba(255, 255, 255, 0.16);
`]),$4e=U(st).withConfig({displayName:"MultiStepModal__StepBadgeText"})([`
  font-size: 1.2rem;
  font-weight: 500;
  text-transform: uppercase;
  color: `,`;
  padding: 0.2rem 0.8rem;
`],({theme:e})=>e.color.cyan),H4e=U(vC).withConfig({displayName:"MultiStepModal__StepBadgeLabel"})([`
  font-size: 1.2rem;
  font-weight: 400;
  line-height: 1.5;
  color: `,`;
  margin: 0;
`],({theme:e})=>e.color.white),V4e=U.div.withConfig({displayName:"MultiStepModal__Content"})([`
  flex: 1;
  overflow-y: auto;
`]),q4e=U(tt).attrs({flexDirection:"column",gap:"1.2rem"}).withConfig({displayName:"MultiStepModal__FooterSection"})([`
  padding: 2.4rem;
  width: 100%;
  border-top: 0.1rem solid `,`;
`],({theme:e})=>e.color.selection),W4e=U(tt).attrs({justifyContent:"flex-end",align:"center",gap:"1.6rem"}).withConfig({displayName:"MultiStepModal__FooterButtons"})([`
  width: 100%;
`]),G4e=U(st).withConfig({displayName:"MultiStepModal__ValidationError"})([`
  color: `,`;
  font-size: 1.3rem;
  text-align: right;
  width: 100%;
`],({theme:e})=>e.color.red),K4e=U(vn).withConfig({displayName:"MultiStepModal__CancelButton"})([`
  flex: 1;
  padding: 1.1rem 1.2rem;
  display: flex;
  align-items: center;
  gap: 0.4rem;
  font-size: 1.4rem;
  font-weight: 500;
  width: 100%;
  height: 4rem;
`]),X4e=U(vn).withConfig({displayName:"MultiStepModal__NextButton"})([`
  padding: 1.1rem 1.2rem;
  font-size: 1.4rem;
  font-weight: 500;
  flex: 1;
  height: 4rem;
  width: 100%;
`]),Y4e=({open:e,onOpenChange:t,steps:n,maxWidth:r,onComplete:i,onCancel:o,canProceed:a,completeButtonText:s="Complete",onStepChange:l,showValidationError:c=!0})=>{var C,T,O,R,j,D;const[u,d]=x.useState(0),[f,p]=x.useState(null),[g,h]=x.useState(!1),y=L=>{!L&&o&&o(),t==null||t(L),L||(d(0),p(null),h(!1))},b=async()=>{const L=n[u];if(!a||await a(u)){if(L!=null&&L.validate){p(null),h(!0);try{const V=await L.validate();if(typeof V=="string"){p(V);return}else if(V===!1){p("Validation failed");return}}catch(V){const z=V instanceof Error?V.message:"Validation failed";p(z);return}finally{h(!1)}}if(u<n.length-1){p(null);const V=u+1;l==null||l(V,"next"),d(V)}else await(i==null?void 0:i()),y(!1)}},w=()=>{if(u>0){p(null),h(!1);const L=u-1;l==null||l(L,"previous"),d(L)}},S=()=>{y(!1)},E=u===n.length-1,_=u===0,m={handleNext:b,handlePrevious:w,handleClose:S,currentStep:u,isFirstStep:_,isLastStep:E};return v.jsx(Pm,{open:e,onOpenChange:y,children:v.jsxs(Dm,{children:[v.jsx(eo,{children:v.jsx(Zl,{primitive:Fm})}),v.jsx(U4e,{maxwidth:r,"aria-describedby":`step-${u}-description`,children:v.jsxs(jY.Provider,{value:m,children:[n.length>1&&v.jsx(tt,{flexDirection:"column",gap:"1.6rem",style:{padding:"2.4rem",paddingBottom:"1.6rem",width:"100%"},children:v.jsxs(z4e,{children:[v.jsxs($4e,{children:["Step ",u+1," of ",n.length]}),v.jsx(B4e,{children:v.jsx(H4e,{children:((C=n[u])==null?void 0:C.stepName)||((T=n[u])==null?void 0:T.title)})})]})}),v.jsx(V4e,{children:typeof((O=n[u])==null?void 0:O.content)=="function"?(R=n[u])==null?void 0:R.content():(j=n[u])==null?void 0:j.content},(D=n[u])==null?void 0:D.id),v.jsxs(q4e,{children:[c&&f&&v.jsx(G4e,{children:f}),v.jsxs(W4e,{children:[v.jsxs(K4e,{"data-hook":"multi-step-modal-cancel-button",onClick:_?S:w,skin:"transparent",children:[!_&&v.jsx(s4,{size:"1.4rem"}),_?"Cancel":"Back"]}),v.jsx(X4e,{skin:"primary","data-hook":"multi-step-modal-next-button",disabled:g||(a?!a(u):!1),onClick:b,children:g?v.jsxs(tt,{gap:"0.8rem",align:"center",children:[v.jsx(wv,{size:"1.6rem"}),v.jsx("span",{children:"Validating..."})]}):E?s:"Next"})]})]})]})})]})})},Ef=U.div.withConfig({displayName:"PaneContent"})([`
  display: flex;
  flex-direction: column;
  flex: 1;
  background: `,`;
  overflow: auto;
`],vt("backgroundLighter")),MY=U.div.withConfig({displayName:"PaneMenu"})([`
  position: relative;
  display: flex;
  justify-content: space-between;
  height: 4.5rem;
  padding: 0 1rem;
  align-items: center;
  background: `,`;
  border-top: 1px solid transparent;
`],vt("backgroundLighter")),Sf=U.div.withConfig({displayName:"PaneWrapper"})([`
  display: flex;
  flex-direction: column;
  flex: 1;
`]);var PY=function(e){return e.reduce(function(t,n){var r=n[0],i=n[1];return t[r]=i,t},{})},DY=typeof window<"u"&&window.document&&window.document.createElement?x.useLayoutEffect:x.useEffect;function O0(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function Nc(e){if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t?t.defaultView:window}return e}function YA(e){var t=Nc(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function k0(e){var t=Nc(e).Element;return e instanceof t||e instanceof Element}function Rc(e){var t=Nc(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Q4e(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function J4e(e){return e===Nc(e)||!Rc(e)?YA(e):Q4e(e)}function pu(e){return e?(e.nodeName||"").toLowerCase():null}function ld(e){return(k0(e)?e.ownerDocument:e.document).documentElement}function QA(e){return O0(ld(e)).left+YA(e).scrollLeft}function Cf(e){return Nc(e).getComputedStyle(e)}function JA(e){var t=Cf(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Z4e(e,t,n){n===void 0&&(n=!1);var r=ld(t),i=O0(e),o=Rc(t),a={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(o||!o&&!n)&&((pu(t)!=="body"||JA(r))&&(a=J4e(t)),Rc(t)?(s=O0(t),s.x+=t.clientLeft,s.y+=t.clientTop):r&&(s.x=QA(r))),{x:i.left+a.scrollLeft-s.x,y:i.top+a.scrollTop-s.y,width:i.width,height:i.height}}function ZA(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}function eI(e){return pu(e)==="html"?e:e.assignedSlot||e.parentNode||e.host||ld(e)}function FY(e){return["html","body","#document"].indexOf(pu(e))>=0?e.ownerDocument.body:Rc(e)&&JA(e)?e:FY(eI(e))}function N0(e,t){t===void 0&&(t=[]);var n=FY(e),r=pu(n)==="body",i=Nc(n),o=r?[i].concat(i.visualViewport||[],JA(n)?n:[]):n,a=t.concat(o);return r?a:a.concat(N0(eI(o)))}function eTe(e){return["table","td","th"].indexOf(pu(e))>=0}function UY(e){return!Rc(e)||Cf(e).position==="fixed"?null:e.offsetParent}function tTe(e){for(var t=eI(e);Rc(t)&&["html","body"].indexOf(pu(t))<0;){var n=Cf(t);if(n.transform!=="none"||n.perspective!=="none"||n.willChange!=="auto")return t;t=t.parentNode}return null}function R0(e){for(var t=Nc(e),n=UY(e);n&&eTe(n)&&Cf(n).position==="static";)n=UY(n);return n&&pu(n)==="body"&&Cf(n).position==="static"?t:n||tTe(e)||t}var sl="top",Bl="bottom",$l="right",ll="left",tI="auto",j0=[sl,Bl,$l,ll],mp="start",nI="end",nTe="clippingParents",zY="viewport",L0="popper",rTe="reference",BY=j0.reduce(function(e,t){return e.concat([t+"-"+mp,t+"-"+nI])},[]),$Y=[].concat(j0,[tI]).reduce(function(e,t){return e.concat([t,t+"-"+mp,t+"-"+nI])},[]),iTe="beforeRead",oTe="read",aTe="afterRead",sTe="beforeMain",lTe="main",cTe="afterMain",uTe="beforeWrite",dTe="write",fTe="afterWrite",hTe=[iTe,oTe,aTe,sTe,lTe,cTe,uTe,dTe,fTe];function pTe(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!n.has(s)){var l=t.get(s);l&&i(l)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function mTe(e){var t=pTe(e);return hTe.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function gTe(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function jc(e){return e.split("-")[0]}function yTe(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign(Object.assign(Object.assign({},i),r),{},{options:Object.assign(Object.assign({},i.options),r.options),data:Object.assign(Object.assign({},i.data),r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var HY={placement:"bottom",modifiers:[],strategy:"absolute"};function VY(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function vTe(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?HY:i;return function(a,s,l){l===void 0&&(l=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign(Object.assign({},HY),o),modifiersData:{},elements:{reference:a,popper:s},attributes:{},styles:{}},u=[],d=!1,f={state:c,setOptions:function(h){g(),c.options=Object.assign(Object.assign(Object.assign({},o),c.options),h),c.scrollParents={reference:k0(a)?N0(a):a.contextElement?N0(a.contextElement):[],popper:N0(s)};var y=mTe(yTe([].concat(r,c.options.modifiers)));return c.orderedModifiers=y.filter(function(b){return b.enabled}),p(),f.update()},forceUpdate:function(){if(!d){var h=c.elements,y=h.reference,b=h.popper;if(VY(y,b)){c.rects={reference:Z4e(y,R0(b),c.options.strategy==="fixed"),popper:ZA(b)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(T){return c.modifiersData[T.name]=Object.assign({},T.data)});for(var w=0;w<c.orderedModifiers.length;w++){if(c.reset===!0){c.reset=!1,w=-1;continue}var S=c.orderedModifiers[w],E=S.fn,_=S.options,m=_===void 0?{}:_,C=S.name;typeof E=="function"&&(c=E({state:c,options:m,name:C,instance:f})||c)}}}},update:gTe(function(){return new Promise(function(h){f.forceUpdate(),h(c)})}),destroy:function(){g(),d=!0}};if(!VY(a,s))return f;f.setOptions(l).then(function(h){!d&&l.onFirstUpdate&&l.onFirstUpdate(h)});function p(){c.orderedModifiers.forEach(function(h){var y=h.name,b=h.options,w=b===void 0?{}:b,S=h.effect;if(typeof S=="function"){var E=S({state:c,name:y,instance:f,options:w}),_=function(){};u.push(E||_)}})}function g(){u.forEach(function(h){return h()}),u=[]}return f}}var jw={passive:!0};function bTe(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,s=a===void 0?!0:a,l=Nc(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",n.update,jw)}),s&&l.addEventListener("resize",n.update,jw),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",n.update,jw)}),s&&l.removeEventListener("resize",n.update,jw)}}const wTe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:bTe,data:{}};function M0(e){return e.split("-")[1]}function rI(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function qY(e){var t=e.reference,n=e.element,r=e.placement,i=r?jc(r):null,o=r?M0(r):null,a=t.x+t.width/2-n.width/2,s=t.y+t.height/2-n.height/2,l;switch(i){case sl:l={x:a,y:t.y-n.height};break;case Bl:l={x:a,y:t.y+t.height};break;case $l:l={x:t.x+t.width,y:s};break;case ll:l={x:t.x-n.width,y:s};break;default:l={x:t.x,y:t.y}}var c=i?rI(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case mp:l[c]=Math.floor(l[c])-Math.floor(t[u]/2-n[u]/2);break;case nI:l[c]=Math.floor(l[c])+Math.ceil(t[u]/2-n[u]/2);break}}return l}function xTe(e){var t=e.state,n=e.name;t.modifiersData[n]=qY({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const _Te={name:"popperOffsets",enabled:!0,phase:"read",fn:xTe,data:{}};var ETe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function STe(e){var t=e.x,n=e.y,r=window,i=r.devicePixelRatio||1;return{x:Math.round(t*i)/i||0,y:Math.round(n*i)/i||0}}function WY(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.offsets,a=e.position,s=e.gpuAcceleration,l=e.adaptive,c=STe(o),u=c.x,d=c.y,f=o.hasOwnProperty("x"),p=o.hasOwnProperty("y"),g=ll,h=sl,y=window;if(l){var b=R0(n);b===Nc(n)&&(b=ld(n)),i===sl&&(h=Bl,d-=b.clientHeight-r.height,d*=s?1:-1),i===ll&&(g=$l,u-=b.clientWidth-r.width,u*=s?1:-1)}var w=Object.assign({position:a},l&&ETe);if(s){var S;return Object.assign(Object.assign({},w),{},(S={},S[h]=p?"0":"",S[g]=f?"0":"",S.transform=(y.devicePixelRatio||1)<2?"translate("+u+"px, "+d+"px)":"translate3d("+u+"px, "+d+"px, 0)",S))}return Object.assign(Object.assign({},w),{},(t={},t[h]=p?d+"px":"",t[g]=f?u+"px":"",t.transform="",t))}function CTe(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,a=o===void 0?!0:o,s={placement:jc(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign(Object.assign({},t.styles.popper),WY(Object.assign(Object.assign({},s),{},{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign(Object.assign({},t.styles.arrow),WY(Object.assign(Object.assign({},s),{},{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1})))),t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-placement":t.placement})}const TTe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:CTe,data:{}};function ATe(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},o=t.elements[n];!Rc(o)||!pu(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function ITe(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),s=a.reduce(function(l,c){return l[c]="",l},{});!Rc(i)||!pu(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const OTe={name:"applyStyles",enabled:!0,phase:"write",fn:ATe,effect:ITe,requires:["computeStyles"]};function kTe(e,t,n){var r=jc(e),i=[ll,sl].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign(Object.assign({},t),{},{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[ll,$l].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}function NTe(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,a=$Y.reduce(function(u,d){return u[d]=kTe(d,t.rects,o),u},{}),s=a[t.placement],l=s.x,c=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}const RTe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:NTe};var jTe={left:"right",right:"left",bottom:"top",top:"bottom"};function Lw(e){return e.replace(/left|right|bottom|top/g,function(t){return jTe[t]})}var LTe={start:"end",end:"start"};function GY(e){return e.replace(/start|end/g,function(t){return LTe[t]})}function MTe(e){var t=Nc(e),n=ld(e),r=t.visualViewport,i=n.clientWidth,o=n.clientHeight,a=0,s=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,s=r.offsetTop)),{width:i,height:o,x:a+QA(e),y:s}}function PTe(e){var t=ld(e),n=YA(e),r=e.ownerDocument.body,i=Math.max(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=Math.max(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-n.scrollLeft+QA(e),s=-n.scrollTop;return Cf(r||t).direction==="rtl"&&(a+=Math.max(t.clientWidth,r?r.clientWidth:0)-i),{width:i,height:o,x:a,y:s}}function KY(e,t){var n=!!(t.getRootNode&&t.getRootNode().host);if(e.contains(t))return!0;if(n){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function iI(e){return Object.assign(Object.assign({},e),{},{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function DTe(e){var t=O0(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function XY(e,t){return t===zY?iI(MTe(e)):Rc(t)?DTe(t):iI(PTe(ld(e)))}function FTe(e){var t=N0(e),n=["absolute","fixed"].indexOf(Cf(e).position)>=0,r=n&&Rc(e)?R0(e):e;return k0(r)?t.filter(function(i){return k0(i)&&KY(i,r)}):[]}function UTe(e,t,n){var r=t==="clippingParents"?FTe(e):[].concat(t),i=[].concat(r,[n]),o=i[0],a=i.reduce(function(s,l){var c=XY(e,l);return s.top=Math.max(c.top,s.top),s.right=Math.min(c.right,s.right),s.bottom=Math.min(c.bottom,s.bottom),s.left=Math.max(c.left,s.left),s},XY(e,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function YY(){return{top:0,right:0,bottom:0,left:0}}function QY(e){return Object.assign(Object.assign({},YY()),e)}function JY(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}function P0(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,o=n.boundary,a=o===void 0?nTe:o,s=n.rootBoundary,l=s===void 0?zY:s,c=n.elementContext,u=c===void 0?L0:c,d=n.altBoundary,f=d===void 0?!1:d,p=n.padding,g=p===void 0?0:p,h=QY(typeof g!="number"?g:JY(g,j0)),y=u===L0?rTe:L0,b=e.elements.reference,w=e.rects.popper,S=e.elements[f?y:u],E=UTe(k0(S)?S:S.contextElement||ld(e.elements.popper),a,l),_=O0(b),m=qY({reference:_,element:w,placement:i}),C=iI(Object.assign(Object.assign({},w),m)),T=u===L0?C:_,O={top:E.top-T.top+h.top,bottom:T.bottom-E.bottom+h.bottom,left:E.left-T.left+h.left,right:T.right-E.right+h.right},R=e.modifiersData.offset;if(u===L0&&R){var j=R[i];Object.keys(O).forEach(function(D){var L=[$l,Bl].indexOf(D)>=0?1:-1,V=[sl,Bl].indexOf(D)>=0?"y":"x";O[D]+=j[V]*L})}return O}function zTe(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?$Y:l,u=M0(r),d=(u?s?BY:BY.filter(function(p){return M0(p)===u}):j0).filter(function(p){return c.indexOf(p)>=0}),f=d.reduce(function(p,g){return p[g]=P0(e,{placement:g,boundary:i,rootBoundary:o,padding:a})[jc(g)],p},{});return Object.keys(f).sort(function(p,g){return f[p]-f[g]})}function BTe(e){if(jc(e)===tI)return[];var t=Lw(e);return[GY(e),t,GY(t)]}function $Te(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!0:a,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,g=p===void 0?!0:p,h=n.allowedAutoPlacements,y=t.options.placement,b=jc(y),w=b===y,S=l||(w||!g?[Lw(y)]:BTe(y)),E=[y].concat(S).reduce(function(ae,ue){return ae.concat(jc(ue)===tI?zTe(t,{placement:ue,boundary:u,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:h}):ue)},[]),_=t.rects.reference,m=t.rects.popper,C=new Map,T=!0,O=E[0],R=0;R<E.length;R++){var j=E[R],D=jc(j),L=M0(j)===mp,V=[sl,Bl].indexOf(D)>=0,z=V?"width":"height",B=P0(t,{placement:j,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),H=V?L?$l:ll:L?Bl:sl;_[z]>m[z]&&(H=Lw(H));var J=Lw(H),ne=[];if(o&&ne.push(B[D]<=0),s&&ne.push(B[H]<=0,B[J]<=0),ne.every(function(ae){return ae})){O=j,T=!1;break}C.set(j,ne)}if(T)for(var q=g?3:1,ee=function(ae){var ue=E.find(function(me){var Fe=C.get(me);if(Fe)return Fe.slice(0,ae).every(function(Ie){return Ie})});if(ue)return O=ue,"break"},te=q;te>0;te--){var $=ee(te);if($==="break")break}t.placement!==O&&(t.modifiersData[r]._skip=!0,t.placement=O,t.reset=!0)}}const HTe={name:"flip",enabled:!0,phase:"main",fn:$Te,requiresIfExists:["offset"],data:{_skip:!1}};function VTe(e){return e==="x"?"y":"x"}function Mw(e,t,n){return Math.max(e,Math.min(t,n))}function qTe(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!1:a,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,p=f===void 0?!0:f,g=n.tetherOffset,h=g===void 0?0:g,y=P0(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),b=jc(t.placement),w=M0(t.placement),S=!w,E=rI(b),_=VTe(E),m=t.modifiersData.popperOffsets,C=t.rects.reference,T=t.rects.popper,O=typeof h=="function"?h(Object.assign(Object.assign({},t.rects),{},{placement:t.placement})):h,R={x:0,y:0};if(m){if(o){var j=E==="y"?sl:ll,D=E==="y"?Bl:$l,L=E==="y"?"height":"width",V=m[E],z=m[E]+y[j],B=m[E]-y[D],H=p?-T[L]/2:0,J=w===mp?C[L]:T[L],ne=w===mp?-T[L]:-C[L],q=t.elements.arrow,ee=p&&q?ZA(q):{width:0,height:0},te=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:YY(),$=te[j],ae=te[D],ue=Mw(0,C[L],ee[L]),me=S?C[L]/2-H-ue-$-O:J-ue-$-O,Fe=S?-C[L]/2+H+ue+ae+O:ne+ue+ae+O,Ie=t.elements.arrow&&R0(t.elements.arrow),Ee=Ie?E==="y"?Ie.clientTop||0:Ie.clientLeft||0:0,He=t.modifiersData.offset?t.modifiersData.offset[t.placement][E]:0,it=m[E]+me-He-Ee,St=m[E]+Fe-He,xt=Mw(p?Math.min(z,it):z,V,p?Math.max(B,St):B);m[E]=xt,R[E]=xt-V}if(s){var Ct=E==="x"?sl:ll,We=E==="x"?Bl:$l,Oe=m[_],ye=Oe+y[Ct],Ve=Oe-y[We],Xe=Mw(ye,Oe,Ve);m[_]=Xe,R[_]=Xe-Oe}t.modifiersData[r]=R}}const WTe={name:"preventOverflow",enabled:!0,phase:"main",fn:qTe,requiresIfExists:["offset"]};function GTe(e){var t,n=e.state,r=e.name,i=n.elements.arrow,o=n.modifiersData.popperOffsets,a=jc(n.placement),s=rI(a),l=[ll,$l].indexOf(a)>=0,c=l?"height":"width";if(!(!i||!o)){var u=n.modifiersData[r+"#persistent"].padding,d=ZA(i),f=s==="y"?sl:ll,p=s==="y"?Bl:$l,g=n.rects.reference[c]+n.rects.reference[s]-o[s]-n.rects.popper[c],h=o[s]-n.rects.reference[s],y=R0(i),b=y?s==="y"?y.clientHeight||0:y.clientWidth||0:0,w=g/2-h/2,S=u[f],E=b-d[c]-u[p],_=b/2-d[c]/2+w,m=Mw(S,_,E),C=s;n.modifiersData[r]=(t={},t[C]=m,t.centerOffset=m-_,t)}}function KTe(e){var t=e.state,n=e.options,r=e.name,i=n.element,o=i===void 0?"[data-popper-arrow]":i,a=n.padding,s=a===void 0?0:a;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||KY(t.elements.popper,o)&&(t.elements.arrow=o,t.modifiersData[r+"#persistent"]={padding:QY(typeof s!="number"?s:JY(s,j0))}))}const XTe={name:"arrow",enabled:!0,phase:"main",fn:GTe,effect:KTe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ZY(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function eQ(e){return[sl,$l,Bl,ll].some(function(t){return e[t]>=0})}function YTe(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=P0(t,{elementContext:"reference"}),s=P0(t,{altBoundary:!0}),l=ZY(a,r),c=ZY(s,i,o),u=eQ(l),d=eQ(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var QTe=[wTe,_Te,TTe,OTe,RTe,HTe,WTe,XTe,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:YTe}],JTe=vTe({defaultModifiers:QTe}),oI,tQ;function ZTe(){if(tQ)return oI;tQ=1;var e=typeof Element<"u",t=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(o,a){if(o===a)return!0;if(o&&a&&typeof o=="object"&&typeof a=="object"){if(o.constructor!==a.constructor)return!1;var s,l,c;if(Array.isArray(o)){if(s=o.length,s!=a.length)return!1;for(l=s;l--!==0;)if(!i(o[l],a[l]))return!1;return!0}var u;if(t&&o instanceof Map&&a instanceof Map){if(o.size!==a.size)return!1;for(u=o.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;for(u=o.entries();!(l=u.next()).done;)if(!i(l.value[1],a.get(l.value[0])))return!1;return!0}if(n&&o instanceof Set&&a instanceof Set){if(o.size!==a.size)return!1;for(u=o.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(a)){if(s=o.length,s!=a.length)return!1;for(l=s;l--!==0;)if(o[l]!==a[l])return!1;return!0}if(o.constructor===RegExp)return o.source===a.source&&o.flags===a.flags;if(o.valueOf!==Object.prototype.valueOf&&typeof o.valueOf=="function"&&typeof a.valueOf=="function")return o.valueOf()===a.valueOf();if(o.toString!==Object.prototype.toString&&typeof o.toString=="function"&&typeof a.toString=="function")return o.toString()===a.toString();if(c=Object.keys(o),s=c.length,s!==Object.keys(a).length)return!1;for(l=s;l--!==0;)if(!Object.prototype.hasOwnProperty.call(a,c[l]))return!1;if(e&&o instanceof Element)return!1;for(l=s;l--!==0;)if(!((c[l]==="_owner"||c[l]==="__v"||c[l]==="__o")&&o.$$typeof)&&!i(o[c[l]],a[c[l]]))return!1;return!0}return o!==o&&a!==a}return oI=function(o,a){try{return i(o,a)}catch(s){if((s.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw s}},oI}var e5e=ZTe();const t5e=Ga(e5e);var n5e=[],aI=function(e,t,n){n===void 0&&(n={});var r=x.useRef(null),i={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||n5e},o=x.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"}},attributes:{}}),a=o[0],s=o[1],l=x.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(d){var f=d.state,p=Object.keys(f.elements);s({styles:PY(p.map(function(g){return[g,f.styles[g]||{}]})),attributes:PY(p.map(function(g){return[g,f.attributes[g]]}))})},requires:["computeStyles"]}},[]),c=x.useMemo(function(){var d={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[l,{name:"applyStyles",enabled:!1}])};return t5e(r.current,d)?r.current||d:(r.current=d,d)},[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,l]),u=x.useRef();return DY(function(){u.current&&u.current.setOptions(c)},[c]),DY(function(){if(!(e==null||t==null)){var d=n.createPopper||JTe,f=d(e,t,c);return u.current=f,function(){f.destroy(),u.current=null}}},[e,t,n.createPopper]),{state:u.current?u.current.state:null,styles:a.styles,attributes:a.attributes,update:u.current?u.current.update:null,forceUpdate:u.current?u.current.forceUpdate:null}};function sI(e,t){return sI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},sI(e,t)}function nQ(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,sI(e,t)}function r5e(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function i5e(e,t){e.classList?e.classList.add(t):r5e(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function rQ(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function o5e(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=rQ(e.className,t):e.setAttribute("class",rQ(e.className&&e.className.baseVal||"",t))}const iQ={disabled:!1},oQ=ie.createContext(null);var D0="unmounted",Tf="exited",Af="entering",gp="entered",lI="exiting",mu=(function(e){nQ(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var a=i,s=a&&!a.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?s?(l=Tf,o.appearStatus=Af):l=gp:r.unmountOnExit||r.mountOnEnter?l=D0:l=Tf,o.state={status:l},o.nextCallback=null,o}t.getDerivedStateFromProps=function(r,i){var o=r.in;return o&&i.status===D0?{status:Tf}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(r){var i=null;if(r!==this.props){var o=this.state.status;this.props.in?o!==Af&&o!==gp&&(i=Af):(o===Af||o===gp)&&(i=lI)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var r=this.props.timeout,i,o,a;return i=o=a=r,r!=null&&typeof r!="number"&&(i=r.exit,o=r.enter,a=r.appear!==void 0?r.appear:o),{exit:i,enter:o,appear:a}},n.updateStatus=function(r,i){r===void 0&&(r=!1),i!==null?(this.cancelNextCallback(),i===Af?this.performEnter(r):this.performExit()):this.props.unmountOnExit&&this.state.status===Tf&&this.setState({status:D0})},n.performEnter=function(r){var i=this,o=this.props.enter,a=this.context?this.context.isMounting:r,s=this.props.nodeRef?[a]:[ku.findDOMNode(this),a],l=s[0],c=s[1],u=this.getTimeouts(),d=a?u.appear:u.enter;if(!r&&!o||iQ.disabled){this.safeSetState({status:gp},function(){i.props.onEntered(l)});return}this.props.onEnter(l,c),this.safeSetState({status:Af},function(){i.props.onEntering(l,c),i.onTransitionEnd(d,function(){i.safeSetState({status:gp},function(){i.props.onEntered(l,c)})})})},n.performExit=function(){var r=this,i=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:ku.findDOMNode(this);if(!i||iQ.disabled){this.safeSetState({status:Tf},function(){r.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:lI},function(){r.props.onExiting(a),r.onTransitionEnd(o.exit,function(){r.safeSetState({status:Tf},function(){r.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(r,i){i=this.setNextCallback(i),this.setState(r,i)},n.setNextCallback=function(r){var i=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,i.nextCallback=null,r(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(r,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:ku.findDOMNode(this),a=r==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var s=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],l=s[0],c=s[1];this.props.addEndListener(l,c)}r!=null&&setTimeout(this.nextCallback,r)},n.render=function(){var r=this.state.status;if(r===D0)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=rN(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ie.createElement(oQ.Provider,{value:null},typeof o=="function"?o(r,a):ie.cloneElement(ie.Children.only(o),a))},t})(ie.Component);mu.contextType=oQ,mu.propTypes={};function yp(){}mu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:yp,onEntering:yp,onEntered:yp,onExit:yp,onExiting:yp,onExited:yp},mu.UNMOUNTED=D0,mu.EXITED=Tf,mu.ENTERING=Af,mu.ENTERED=gp,mu.EXITING=lI;var a5e=function(e,t){return e&&t&&t.split(" ").forEach(function(n){return i5e(e,n)})},cI=function(e,t){return e&&t&&t.split(" ").forEach(function(n){return o5e(e,n)})},Lc=(function(e){nQ(t,e);function t(){for(var r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(s,l){var c=r.resolveArguments(s,l),u=c[0],d=c[1];r.removeClasses(u,"exit"),r.addClass(u,d?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(s,l)},r.onEntering=function(s,l){var c=r.resolveArguments(s,l),u=c[0],d=c[1],f=d?"appear":"enter";r.addClass(u,f,"active"),r.props.onEntering&&r.props.onEntering(s,l)},r.onEntered=function(s,l){var c=r.resolveArguments(s,l),u=c[0],d=c[1],f=d?"appear":"enter";r.removeClasses(u,f),r.addClass(u,f,"done"),r.props.onEntered&&r.props.onEntered(s,l)},r.onExit=function(s){var l=r.resolveArguments(s),c=l[0];r.removeClasses(c,"appear"),r.removeClasses(c,"enter"),r.addClass(c,"exit","base"),r.props.onExit&&r.props.onExit(s)},r.onExiting=function(s){var l=r.resolveArguments(s),c=l[0];r.addClass(c,"exit","active"),r.props.onExiting&&r.props.onExiting(s)},r.onExited=function(s){var l=r.resolveArguments(s),c=l[0];r.removeClasses(c,"exit"),r.addClass(c,"exit","done"),r.props.onExited&&r.props.onExited(s)},r.resolveArguments=function(s,l){return r.props.nodeRef?[r.props.nodeRef.current,s]:[s,l]},r.getClassNames=function(s){var l=r.props.classNames,c=typeof l=="string",u=c&&l?l+"-":"",d=c?""+u+s:l[s],f=c?d+"-active":l[s+"Active"],p=c?d+"-done":l[s+"Done"];return{baseClassName:d,activeClassName:f,doneClassName:p}},r}var n=t.prototype;return n.addClass=function(r,i,o){var a=this.getClassNames(i)[o+"ClassName"],s=this.getClassNames("enter"),l=s.doneClassName;i==="appear"&&o==="done"&&l&&(a+=" "+l),o==="active"&&r&&r.scrollTop,a&&(this.appliedClasses[i][o]=a,a5e(r,a))},n.removeClasses=function(r,i){var o=this.appliedClasses[i],a=o.base,s=o.active,l=o.done;this.appliedClasses[i]={},a&&cI(r,a),s&&cI(r,s),l&&cI(r,l)},n.render=function(){var r=this.props;r.classNames;var i=rN(r,["classNames"]);return ie.createElement(mu,Dt({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t})(ie.Component);Lc.defaultProps={classNames:""},Lc.propTypes={};const aQ=(e,t)=>{const n=x.useRef(!0);x.useEffect(()=>{if(n.current){n.current=!1;return}return e()},t??[])},s5e=(e=1e3)=>{const[t,n]=x.useState(!0),r=x.useRef(null),i=x.useRef(null),o=x.useRef(null),a=x.useRef(Date.now()),s=x.useCallback(()=>{const l=Date.now(),c=l-a.current;a.current=l;const u=c>e*2;u!==!t&&n(!u),o.current=requestAnimationFrame(s)},[e,t]);return x.useEffect(()=>{i.current=new IntersectionObserver(c=>{c.forEach(u=>{n(u.isIntersecting)})},{threshold:.1});const l=()=>{n(!document.hidden)};return r.current&&i.current.observe(r.current),document.addEventListener("visibilitychange",l),o.current=requestAnimationFrame(s),()=>{i.current&&i.current.disconnect(),document.removeEventListener("visibilitychange",l),o.current&&cancelAnimationFrame(o.current)}},[s]),[r,t]},l5e=e=>{const[t,n]=x.useState(!1);return x.useEffect(()=>{const r=new IntersectionObserver(([i])=>n(i.isIntersecting));return e.current&&r.observe(e.current),()=>{r.disconnect()}},[e]),t},gu=(e,t)=>{const[n,r]=x.useState(!1),i=a=>{a.key===e&&r(!0)},o=a=>{a.key===e&&r(!1)};return x.useEffect(()=>(window.addEventListener("keydown",i),window.addEventListener("keyup",o),()=>{window.removeEventListener("keydown",i),window.removeEventListener("keyup",o)})),n},sQ=(e,t)=>{x.useEffect(()=>{const n=Object.entries(t).reduce((r,[i,o])=>`${r} ${i}: ${o};`,"z-index: 1000;");e.setAttribute("style",n)},[e,t])};function c5e(e,t,n,r){var i,o=!1,a=0;function s(){i&&clearTimeout(i)}function l(){s(),o=!0}typeof t!="boolean"&&(r=n,n=t,t=void 0);function c(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var p=this,g=Date.now()-a;if(o)return;function h(){a=Date.now(),n.apply(p,d)}function y(){i=void 0}r&&!i&&h(),s(),r===void 0&&g>e?h():t!==!0&&(i=setTimeout(r?y:h,r===void 0?e-g:e))}return c.cancel=l,c}const lQ=x.createContext({sm:window.innerWidth<=767}),u5e=({children:e})=>{const[t,n]=x.useState({sm:window.innerWidth<=767}),[r,i]=x.useState();return x.useEffect(()=>{const o=c5e(16,()=>{i({sm:window.innerWidth<=767})});return window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}},[]),x.useEffect(()=>{r&&!p7e(r,t)&&n(r)},[t,r]),v.jsx(lQ.Provider,{value:t,children:e})},uI=()=>x.useContext(lQ);var Io=(e=>(e[e.SLOW=1500]="SLOW",e[e.REG=200]="REG",e[e.FAST=70]="FAST",e))(Io||{});const cQ=(e,t)=>b_([`
  .`,`-enter {
    opacity: 0;
  }

  .`,`-enter-active {
    opacity: 1;
    transition: all `,`ms;
  }

  .`,`-exit {
    opacity: 1;
  }

  .`,`-exit-active {
    opacity: 0;
    transition: all `,`ms;
  }
`],e,e,t,e,e,t),d5e=Vn([`
  .collapse-enter {
    max-height: 0;
  }

  .collapse-enter-active {
    max-height: `,`px;
    transition: all `,`ms;
  }

  .collapse-exit {
    max-height: `,`px;
  }

  .collapse-exit-active {
    max-height: 0;
    transition: all `,`ms;
  }
`],({_height:e})=>e,({duration:e})=>e||200,({_height:e})=>e,({duration:e})=>e||200),dI=Vn([`
  transition: all `,`ms cubic-bezier(0, 0, 0.38, 0.9);
`],70),uQ=(e,t,n,r)=>{x.useEffect(()=>{if(clearTimeout(n.current),t&&!document.body.contains(e)){document.body.appendChild(e),r==null||r();return}t||(n.current=window.setTimeout(()=>{document.body.contains(e)&&document.body.removeChild(e)},Io.REG))},[t,e,n,r])},mi=({children:e,delay:t,modifiers:n,placement:r,trigger:i})=>{const[o]=x.useState(document.createElement("div")),a=x.useRef(),s=x.useRef(),[l,c]=x.useState(!1),[u,d]=x.useState(null),[f,p]=x.useState(null),{attributes:g,styles:h,forceUpdate:y}=aI(u,o,{modifiers:[{name:"arrow",options:{element:f}},{name:"offset",options:{offset:[0,6]}},{name:"eventListeners",enabled:l},...n],placement:r}),b=x.useCallback(()=>{t?a.current=window.setTimeout(()=>{c(!0)},t):c(!0)},[t]),w=x.useCallback(()=>{clearTimeout(a.current),c(!1)},[]);return x.useEffect(()=>()=>{clearTimeout(s.current),clearTimeout(a.current),document.body.contains(o)&&document.body.removeChild(o)},[o]),sQ(o,h.popper),uQ(o,l,s,y),v.jsxs(v.Fragment,{children:[ie.isValidElement(i)&&ie.cloneElement(i,{onMouseEnter:b,onMouseLeave:w,ref:d}),ku.createPortal(v.jsx(Lc,{classNames:"fade-reg",in:l,timeout:Io.REG,unmountOnExit:!0,children:ie.isValidElement(e)&&ie.cloneElement(e,{...g.popper,arrow:{setArrowElement:p,styles:h.arrow}})}),o)]})};mi.defaultProps={modifiers:[],placement:"auto"};const If=({active:e,children:t,modifiers:n,onToggle:r,placement:i,trigger:o})=>{const[a]=x.useState(document.createElement("div")),s=x.useRef(),[l,c]=x.useState(!1),[u,d]=x.useState(null),{attributes:f,styles:p}=aI(u,a,{modifiers:[...n,{name:"eventListeners",enabled:l}],placement:i}),g=x.useCallback(()=>{const b=!l;c(b),r&&r(b)},[l,r]),h=x.useCallback(b=>{const w=b.target;a.contains(w)||u!=null&&u.contains(w)||l&&(c(!1),r&&r(!1))},[a,r,u,l]),y=x.useCallback(b=>{b.key==="Escape"&&l&&(c(!1),r&&r(!1))},[l,r]);return sQ(a,p.popper),uQ(a,l,s),x.useEffect(()=>{typeof e<"u"&&c(e)},[e]),x.useEffect(()=>(document.body.appendChild(a),()=>{clearTimeout(s.current),document.body.contains(a)&&document.body.removeChild(a)}),[a]),x.useEffect(()=>(document.addEventListener("mousedown",h),document.addEventListener("touchstart",h),document.addEventListener("keydown",y),()=>{document.removeEventListener("mousedown",h),document.removeEventListener("touchstart",h),document.removeEventListener("keydown",y)}),[h,y]),v.jsxs(v.Fragment,{children:[ie.isValidElement(o)&&ie.cloneElement(o,{onClick:g,ref:d}),ie.isValidElement(t)&&v.jsx(Lc,{classNames:"fade-reg",in:l,timeout:Io.REG,unmountOnExit:!0,children:v.jsx(v.Fragment,{children:ku.createPortal(ie.cloneElement(t,{...f.popper}),a)})})]})};If.defaultProps={modifiers:[],placement:"auto"};var Pw="Popover",[dQ]=lc(Pw,[xw]),F0=xw(),[f5e,cd]=dQ(Pw),fQ=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:a=!1}=e,s=F0(t),l=x.useRef(null),[c,u]=x.useState(!1),[d,f]=Mm({prop:r,defaultProp:i??!1,onChange:o,caller:Pw});return v.jsx(vK,{...s,children:v.jsx(f5e,{scope:t,contentId:Wd(),triggerRef:l,open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(p=>!p),[f]),hasCustomAnchor:c,onCustomAnchorAdd:x.useCallback(()=>u(!0),[]),onCustomAnchorRemove:x.useCallback(()=>u(!1),[]),modal:a,children:n})})};fQ.displayName=Pw;var hQ="PopoverAnchor",h5e=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=cd(hQ,n),o=F0(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:s}=i;return x.useEffect(()=>(a(),()=>s()),[a,s]),v.jsx(yA,{...o,...r,ref:t})});h5e.displayName=hQ;var pQ="PopoverTrigger",mQ=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=cd(pQ,n),o=F0(n),a=wo(t,i.triggerRef),s=v.jsx(to.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":xQ(i.open),...r,ref:a,onClick:tr(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?s:v.jsx(yA,{asChild:!0,...o,children:s})});mQ.displayName=pQ;var fI="PopoverPortal",[p5e,m5e]=dQ(fI,{forceMount:void 0}),gQ=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,o=cd(fI,t);return v.jsx(p5e,{scope:t,forceMount:n,children:v.jsx(uc,{present:n||o.open,children:v.jsx(Fy,{asChild:!0,container:i,children:r})})})};gQ.displayName=fI;var vp="PopoverContent",yQ=x.forwardRef((e,t)=>{const n=m5e(vp,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,o=cd(vp,e.__scopePopover);return v.jsx(uc,{present:r||o.open,children:o.modal?v.jsx(y5e,{...i,ref:t}):v.jsx(v5e,{...i,ref:t})})});yQ.displayName=vp;var g5e=ph("PopoverContent.RemoveScroll"),y5e=x.forwardRef((e,t)=>{const n=cd(vp,e.__scopePopover),r=x.useRef(null),i=wo(t,r),o=x.useRef(!1);return x.useEffect(()=>{const a=r.current;if(a)return hC(a)},[]),v.jsx(qy,{as:g5e,allowPinchZoom:!0,children:v.jsx(vQ,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:tr(e.onCloseAutoFocus,a=>{var s;a.preventDefault(),o.current||((s=n.triggerRef.current)==null||s.focus())}),onPointerDownOutside:tr(e.onPointerDownOutside,a=>{const s=a.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0,c=s.button===2||l;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:tr(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),v5e=x.forwardRef((e,t)=>{const n=cd(vp,e.__scopePopover),r=x.useRef(!1),i=x.useRef(!1);return v.jsx(vQ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,s;(a=e.onCloseAutoFocus)==null||a.call(e,o),o.defaultPrevented||(r.current||((s=n.triggerRef.current)==null||s.focus()),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var s,l;(s=e.onInteractOutside)==null||s.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;(l=n.triggerRef.current)!=null&&l.contains(a)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),vQ=x.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...d}=e,f=cd(vp,n),p=F0(n);return sC(),v.jsx(Dy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:v.jsx(Py,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:u,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>f.onOpenChange(!1),children:v.jsx(bK,{"data-state":xQ(f.open),role:"dialog",id:f.contentId,...p,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),bQ="PopoverClose",wQ=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=cd(bQ,n);return v.jsx(to.button,{type:"button",...r,ref:t,onClick:tr(e.onClick,()=>i.onOpenChange(!1))})});wQ.displayName=bQ;var b5e="PopoverArrow",w5e=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=F0(n);return v.jsx(wK,{...i,...r,ref:t})});w5e.displayName=b5e;function xQ(e){return e?"open":"closed"}var x5e=fQ,_5e=mQ,E5e=gQ,S5e=yQ,C5e=wQ;const T5e=U(S5e).withConfig({displayName:"Popover__StyledPopoverContent"})([`
  display: flex;
  flex-direction: column;
  background: `,`;
  border: 1px solid `,`;
  box-shadow: 0 7px 30px -10px `,`;
  outline: none;
  z-index: 1000;
`],({theme:e})=>e.color.backgroundLighter,({theme:e})=>e.color.selection,({theme:e})=>e.color.black),A5e=U(C5e).attrs({"aria-label":"Close",asChild:!0}).withConfig({displayName:"Popover__StyledPopoverClose"})([`
  appearance: initial;
  margin-left: auto;
  cursor: pointer;
`]),I5e=U.div.withConfig({displayName:"Popover__Header"})([`
  display: flex;
  padding: 2rem;
  align-items: center;
  justify-content: space-between;
  border-bottom: 0.1rem `,` solid;
`],({theme:e})=>e.color.background),O5e=U.div.withConfig({displayName:"Popover__ContentWrapper"})([`
  width: 100%;
`]),hI=({children:e,withCloseButton:t=!1,width:n,trigger:r,title:i,open:o,onOpenChange:a,align:s})=>v.jsxs(x5e,{onOpenChange:a,open:o,children:[v.jsx(_5e,{asChild:!0,children:r}),v.jsx(E5e,{children:v.jsxs(T5e,{style:{width:n??"auto"},align:s,sideOffset:10,children:[(i||t)&&v.jsxs(I5e,{children:[i&&v.jsx(bf,{level:5,children:i}),t&&v.jsx(A5e,{children:v.jsx(IA,{size:"18px"})})]}),v.jsx(O5e,{children:e})]})})]}),k5e=U.div.withConfig({displayName:"AIAssistantPromo__TooltipContainer"})([`
  position: relative;
  z-index: 1000;

  visibility: `,`;
`],({$positionReady:e})=>e?"visible":"hidden"),N5e=U.div.withConfig({displayName:"AIAssistantPromo__Arrow"})([`
  position: absolute;
  width: 1.6rem;
  height: 0.6rem;
  top: -0.6rem;
  left: 50%;
  transform: translateX(-50%) rotate(180deg);
  pointer-events: none;

  &::before {
    content: "";
    position: absolute;
    width: 1.6rem;
    height: 0.6rem;
    background: linear-gradient(
      to bottom,
      rgba(255, 255, 255, 0) 0%,
      rgba(255, 255, 255, 0.2) 100%
    );
    clip-path: polygon(50% 100%, 0% 0%, 100% 0%);
    transform: rotate(180deg);
  }

  &::after {
    content: "";
    position: absolute;
    width: 0;
    height: 0;
    top: 0.1rem;
    left: 50%;
    transform: translateX(-50%);
    border-left: 0.7rem solid transparent;
    border-right: 0.7rem solid transparent;
    border-bottom: 0.5rem solid `,`;
  }
`],({theme:e})=>e.color.backgroundDarker),R5e=U.div.withConfig({displayName:"AIAssistantPromo__Content"})([`
  background: `,`;
  border: 0.1rem solid transparent;
  border-radius: 0.4rem;
  width: 38.3rem;
  padding: 1.2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`],({theme:e})=>e.color.backgroundDarker),j5e=U(tt).attrs({align:"center",justifyContent:"space-between"}).withConfig({displayName:"AIAssistantPromo__Header"})([`
  width: 100%;
`]),L5e=U(tt).attrs({align:"center",gap:"1rem"}).withConfig({displayName:"AIAssistantPromo__AssistantTitle"})([`
  flex: 1;
`]),M5e=U(st).withConfig({displayName:"AIAssistantPromo__TitleText"})([`
  font-family: `,`;
  font-size: 1.6rem;
  text-transform: uppercase;
  color: `,`;
  line-height: 2.25rem;
`],({theme:e})=>e.fontMonospace,({theme:e})=>e.color.foreground),P5e=U.button.withConfig({displayName:"AIAssistantPromo__CloseButton"})([`
  background: transparent;
  border: none;
  cursor: pointer;
  padding: 0.4rem;
  display: flex;
  align-items: center;
  justify-content: center;
  color: `,`;
  width: 2.8rem;
  height: 2.8rem;
  flex-shrink: 0;

  &:hover {
    color: `,`;
  }
`],({theme:e})=>e.color.gray2,({theme:e})=>e.color.foreground),D5e=U(st).withConfig({displayName:"AIAssistantPromo__Description"})([`
  font-size: 1.3rem;
  line-height: 1.857rem;
  color: `,`;
  padding-right: 0.8rem;
`],({theme:e})=>e.color.foreground),F5e=U(tt).attrs({flexDirection:"column",gap:"1rem"}).withConfig({displayName:"AIAssistantPromo__AssistantModes"})([`
  padding-top: 1.4rem;
`]),Dw=U(tt).attrs({gap:"1rem",align:"flex-start"}).withConfig({displayName:"AIAssistantPromo__AssistantMode"})([`
  width: 100%;
`]),Fw=U(tt).attrs({align:"center",justifyContent:"center"}).withConfig({displayName:"AIAssistantPromo__IconContainer"})([`
  background: `,`;
  border-radius: 0.4rem;
  padding: 0.8rem;
  width: 4.8rem;
  height: 4rem;
  flex-shrink: 0;
`],({theme:e})=>e.color.selectionDarker),Uw=U.img.withConfig({displayName:"AIAssistantPromo__ModeIcon"})([`
  width: 2.4rem;
  height: 2.4rem;
  color: `,`;
`],({theme:e})=>e.color.pink),zw=U(tt).attrs({flexDirection:"column",gap:"0.5rem",align:"flex-start"}).withConfig({displayName:"AIAssistantPromo__ModeContent"})([`
  flex: 1;
`]),_Q=U(tt).attrs({align:"center",gap:"1rem"}).withConfig({displayName:"AIAssistantPromo__ModeTitleRow"})([`
  width: 100%;
`]),Bw=U(st).withConfig({displayName:"AIAssistantPromo__ModeTitle"})([`
  font-weight: 600;
  font-size: 1.4rem;
  line-height: 1.8rem;
  text-align: left;
  color: `,`;
`],({theme:e})=>e.color.white),$w=U(st).withConfig({displayName:"AIAssistantPromo__ModeDescription"})([`
  font-size: 1.3rem;
  line-height: 1.857rem;
  color: `,`;
`],({theme:e})=>e.color.foreground),U5e=U(tt).attrs({align:"center",justifyContent:"space-between"}).withConfig({displayName:"AIAssistantPromo__Footer"})([`
  padding-top: 1.4rem;
  width: 100%;
`]),z5e=U(vn).attrs({skin:"primary"}).withConfig({displayName:"AIAssistantPromo__SetupButton"})([`
  background: `,`;
  margin-left: auto;
`],({theme:e})=>e.color.pinkDarker),B5e=({triggerRef:e,onSetupClick:t,showPromo:n,setShowPromo:r})=>{const[i]=x.useState(document.createElement("div")),o=x.useRef(),[a,s]=x.useState(null),[l,c]=x.useState(null),[u,d]=x.useState(!1),f=x.useRef(0),{attributes:p,styles:g,forceUpdate:h}=aI(e.current||void 0,l||void 0,{modifiers:[{name:"arrow",options:{element:a||void 0}},{name:"offset",options:{offset:[0,10]}},{name:"eventListeners",enabled:n}],placement:"bottom-end"}),y=x.useCallback(()=>{r(!1)},[]),b=x.useCallback(()=>{r(!1),t()},[t]);return x.useEffect(()=>(document.body.appendChild(i),()=>{clearTimeout(o.current),document.body.contains(i)&&document.body.removeChild(i)}),[i]),x.useEffect(()=>{n?(f.current+=1,d(!1)):(d(!1),c(null),s(null))},[n]),x.useEffect(()=>{l&&g.popper&&n&&!u&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{d(!0)})})},[l,g.popper,u,n]),x.useEffect(()=>{n&&h&&e.current&&l&&requestAnimationFrame(()=>{h()})},[n,h,e,l]),x.useEffect(()=>{if(!n)return;const w=S=>{const E=S.target,_=l&&l.contains(E),m=e.current&&e.current.contains(E);!_&&!m&&r(!1)};return document.addEventListener("mousedown",w,!0),()=>{document.removeEventListener("mousedown",w,!0)}},[n,l,e]),!e.current&&!n||!n?null:v.jsx(v.Fragment,{children:ku.createPortal(v.jsx(Lc,{classNames:"fade-reg",in:u,timeout:Io.REG,unmountOnExit:!1,children:v.jsxs(k5e,{ref:c,...p.popper,style:{zIndex:1e3,...g.popper},$positionReady:u,children:[v.jsx(N5e,{ref:s,style:g.arrow,"data-popper-arrow":!0}),v.jsxs(R5e,{"data-hook":"ai-promo-modal",children:[v.jsxs(j5e,{children:[v.jsxs(L5e,{children:[v.jsx(Cd,{size:28,variant:"filled"}),v.jsx(M5e,{children:"Meet QuestDB Assistant"})]}),v.jsx(P5e,{onClick:y,"aria-label":"Close","data-hook":"ai-promo-close",children:v.jsx(Xc,{size:"2rem"})})]}),v.jsx(D5e,{children:"Our AI Assistant is a specialized programming and support agent that makes you more effective and helps you solve problems as you interface with your QuestDB database. It can help you in the following ways:"}),v.jsxs(F5e,{children:[v.jsxs(Dw,{children:[v.jsx(Fw,{children:v.jsx(Uw,{src:"/assets/icon-generate-queries.svg",alt:"Generate Queries"})}),v.jsxs(zw,{children:[v.jsx(_Q,{children:v.jsx(Bw,{children:"Generate Queries"})}),v.jsx($w,{children:"Create SQL queries from natural language, with schema-aware context."})]})]}),v.jsxs(Dw,{children:[v.jsx(Fw,{children:v.jsx(Uw,{src:"/assets/icon-explain-queries.svg",alt:"Explain Queries"})}),v.jsxs(zw,{children:[v.jsx(_Q,{children:v.jsx(Bw,{children:"Explain Queries"})}),v.jsx($w,{children:"Get an inline explanation of your query."})]})]}),v.jsxs(Dw,{children:[v.jsx(Fw,{children:v.jsx(Uw,{src:"/assets/icon-fix-queries.svg",alt:"Fix Queries"})}),v.jsxs(zw,{children:[v.jsx(Bw,{children:"Fix Queries"}),v.jsx($w,{children:"Documentation-referenced suggestions to fix query errors."})]})]}),v.jsxs(Dw,{children:[v.jsx(Fw,{children:v.jsx(Uw,{src:"/assets/icon-explain-schema.svg",alt:"Explain Schema"})}),v.jsxs(zw,{children:[v.jsx(Bw,{children:"Explain Schema"}),v.jsx($w,{children:"Detailed overview and structure of tables."})]})]})]}),v.jsx(U5e,{children:v.jsx(z5e,{onClick:b,"data-hook":"ai-promo-continue",children:"Setup Assistant"})})]})]})},f.current),i)})};function $5e(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Hw="Switch",[H5e]=lc(Hw),[V5e,q5e]=H5e(Hw),EQ=x.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:a,disabled:s,value:l="on",onCheckedChange:c,form:u,...d}=e,[f,p]=x.useState(null),g=wo(t,S=>p(S)),h=x.useRef(!1),y=f?u||!!f.closest("form"):!0,[b,w]=Mm({prop:i,defaultProp:o??!1,onChange:c,caller:Hw});return v.jsxs(V5e,{scope:n,checked:b,disabled:s,children:[v.jsx(to.button,{type:"button",role:"switch","aria-checked":b,"aria-required":a,"data-state":AQ(b),"data-disabled":s?"":void 0,disabled:s,value:l,...d,ref:g,onClick:tr(e.onClick,S=>{w(E=>!E),y&&(h.current=S.isPropagationStopped(),h.current||S.stopPropagation())})}),y&&v.jsx(TQ,{control:f,bubbles:!h.current,name:r,value:l,checked:b,required:a,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});EQ.displayName=Hw;var SQ="SwitchThumb",CQ=x.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=q5e(SQ,n);return v.jsx(to.span,{"data-state":AQ(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});CQ.displayName=SQ;var W5e="SwitchBubbleInput",TQ=x.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},o)=>{const a=x.useRef(null),s=wo(a,o),l=$5e(n),c=lK(t);return x.useEffect(()=>{const u=a.current;if(!u)return;const d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==n&&f){const p=new Event("click",{bubbles:r});f.call(u,n),u.dispatchEvent(p)}},[l,n,r]),v.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});TQ.displayName=W5e;function AQ(e){return e?"checked":"unchecked"}var G5e=EQ,K5e=CQ;const X5e=U(G5e).withConfig({displayName:"Switch__Root"})([`
  display: inline-flex;
  align-items: center;
  justify-content: flex-start;
  padding: 1px;
  width: 36px;
  height: 18px;
  border-radius: 20px;
  border: 0;
  background: transparent;
  appearance: none;
  position: relative;
  transition: 0.2s ease-out;
  cursor: pointer;
  background: `,`;

  &:focus {
    border-color: #878eb6;
  }

  &[data-state="checked"] {
    background: `,`;
  }

  &[data-disabled],
  &[data-state="checked"][data-disabled] {
    filter: grayscale(0.8) contrast(0.4);
  }
`],({theme:e})=>e.color.selection,({theme:e})=>e.color.greenDarker),Y5e=U(K5e).withConfig({displayName:"Switch__StyledThumb"})([`
  display: block;
  width: 16px;
  height: 16px;
  background-color: `,`;
  border-radius: 100%;
  transition: transform 100ms linear;
  transform: translateX(0);
  will-change: transform;

  &[data-state="checked"] {
    transform: translateX(18px);
  }

  &[data-disabled] {
    filter: brightness(0.5);
  }

  &[data-state="checked"][data-disabled] {
    filter: brightness(0.8);
  }
`],({theme:e})=>e.color.foreground),pI=({checked:e,className:t,disabled:n,onChange:r,dataHook:i})=>v.jsx(X5e,{"data-hook":i,className:t,disabled:n,onCheckedChange:r,checked:e,children:v.jsx(Y5e,{})});function IQ(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=IQ(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function ud(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=IQ(e))&&(r&&(r+=" "),r+=t);return r}const U0=e=>typeof e=="number"&&!isNaN(e),Of=e=>typeof e=="string",ws=e=>typeof e=="function",Vw=e=>Of(e)||ws(e)?e:null,mI=e=>x.isValidElement(e)||Of(e)||ws(e)||U0(e);function Q5e(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function qw(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:o=300}=e;return function(a){let{children:s,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:f}=a;const p=r?`${t}--${l}`:t,g=r?`${n}--${l}`:n,h=x.useRef(0);return x.useLayoutEffect(()=>{const y=d.current,b=p.split(" "),w=S=>{S.target===d.current&&(y.dispatchEvent(new Event("d")),y.removeEventListener("animationend",w),y.removeEventListener("animationcancel",w),h.current===0&&S.type!=="animationcancel"&&y.classList.remove(...b))};y.classList.add(...b),y.addEventListener("animationend",w),y.addEventListener("animationcancel",w)},[]),x.useEffect(()=>{const y=d.current,b=()=>{y.removeEventListener("animationend",b),i?Q5e(y,u,o):u()};f||(c?b():(h.current=1,y.className+=` ${g}`,y.addEventListener("animationend",b)))},[f]),ie.createElement(ie.Fragment,null,s)}}function OQ(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const cl={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(r=>r!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},Ww=e=>{let{theme:t,type:n,...r}=e;return ie.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},gI={info:function(e){return ie.createElement(Ww,{...e},ie.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return ie.createElement(Ww,{...e},ie.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return ie.createElement(Ww,{...e},ie.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return ie.createElement(Ww,{...e},ie.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return ie.createElement("div",{className:"Toastify__spinner"})}};function J5e(e){const[,t]=x.useReducer(p=>p+1,0),[n,r]=x.useState([]),i=x.useRef(null),o=x.useRef(new Map).current,a=p=>n.indexOf(p)!==-1,s=x.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:a,getToast:p=>o.get(p)}).current;function l(p){let{containerId:g}=p;const{limit:h}=s.props;!h||g&&s.containerId!==g||(s.count-=s.queue.length,s.queue=[])}function c(p){r(g=>p==null?[]:g.filter(h=>h!==p))}function u(){const{toastContent:p,toastProps:g,staleId:h}=s.queue.shift();f(p,g,h)}function d(p,g){let{delay:h,staleId:y,...b}=g;if(!mI(p)||(function(D){return!i.current||s.props.enableMultiContainer&&D.containerId!==s.props.containerId||o.has(D.toastId)&&D.updateId==null})(b))return;const{toastId:w,updateId:S,data:E}=b,{props:_}=s,m=()=>c(w),C=S==null;C&&s.count++;const T={..._,style:_.toastStyle,key:s.toastKey++,...Object.fromEntries(Object.entries(b).filter(D=>{let[L,V]=D;return V!=null})),toastId:w,updateId:S,data:E,closeToast:m,isIn:!1,className:Vw(b.className||_.toastClassName),bodyClassName:Vw(b.bodyClassName||_.bodyClassName),progressClassName:Vw(b.progressClassName||_.progressClassName),autoClose:!b.isLoading&&(O=b.autoClose,R=_.autoClose,O===!1||U0(O)&&O>0?O:R),deleteToast(){const D=OQ(o.get(w),"removed");o.delete(w),cl.emit(4,D);const L=s.queue.length;if(s.count=w==null?s.count-s.displayedToast:s.count-1,s.count<0&&(s.count=0),L>0){const V=w==null?s.props.limit:1;if(L===1||V===1)s.displayedToast++,u();else{const z=V>L?L:V;s.displayedToast=z;for(let B=0;B<z;B++)u()}}else t()}};var O,R;T.iconOut=(function(D){let{theme:L,type:V,isLoading:z,icon:B}=D,H=null;const J={theme:L,type:V};return B===!1||(ws(B)?H=B(J):x.isValidElement(B)?H=x.cloneElement(B,J):Of(B)||U0(B)?H=B:z?H=gI.spinner():(ne=>ne in gI)(V)&&(H=gI[V](J))),H})(T),ws(b.onOpen)&&(T.onOpen=b.onOpen),ws(b.onClose)&&(T.onClose=b.onClose),T.closeButton=_.closeButton,b.closeButton===!1||mI(b.closeButton)?T.closeButton=b.closeButton:b.closeButton===!0&&(T.closeButton=!mI(_.closeButton)||_.closeButton);let j=p;x.isValidElement(p)&&!Of(p.type)?j=x.cloneElement(p,{closeToast:m,toastProps:T,data:E}):ws(p)&&(j=p({closeToast:m,toastProps:T,data:E})),_.limit&&_.limit>0&&s.count>_.limit&&C?s.queue.push({toastContent:j,toastProps:T,staleId:y}):U0(h)?setTimeout(()=>{f(j,T,y)},h):f(j,T,y)}function f(p,g,h){const{toastId:y}=g;h&&o.delete(h);const b={content:p,props:g};o.set(y,b),r(w=>[...w,y].filter(S=>S!==h)),cl.emit(4,OQ(b,b.props.updateId==null?"added":"updated"))}return x.useEffect(()=>(s.containerId=e.containerId,cl.cancelEmit(3).on(0,d).on(1,p=>i.current&&c(p)).on(5,l).emit(2,s),()=>{o.clear(),cl.emit(3,s)}),[]),x.useEffect(()=>{s.props=e,s.isToastActive=a,s.displayedToast=n.length}),{getToastToRender:function(p){const g=new Map,h=Array.from(o.values());return e.newestOnTop&&h.reverse(),h.forEach(y=>{const{position:b}=y.props;g.has(b)||g.set(b,[]),g.get(b).push(y)}),Array.from(g,y=>p(y[0],y[1]))},containerRef:i,isToastActive:a}}function kQ(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function NQ(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function Z5e(e){const[t,n]=x.useState(!1),[r,i]=x.useState(!1),o=x.useRef(null),a=x.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,s=x.useRef(e),{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:f}=e;function p(E){if(e.draggable){E.nativeEvent.type==="touchstart"&&E.nativeEvent.preventDefault(),a.didMove=!1,document.addEventListener("mousemove",b),document.addEventListener("mouseup",w),document.addEventListener("touchmove",b),document.addEventListener("touchend",w);const _=o.current;a.canCloseOnClick=!0,a.canDrag=!0,a.boundingRect=_.getBoundingClientRect(),_.style.transition="",a.x=kQ(E.nativeEvent),a.y=NQ(E.nativeEvent),e.draggableDirection==="x"?(a.start=a.x,a.removalDistance=_.offsetWidth*(e.draggablePercent/100)):(a.start=a.y,a.removalDistance=_.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(E){if(a.boundingRect){const{top:_,bottom:m,left:C,right:T}=a.boundingRect;E.nativeEvent.type!=="touchend"&&e.pauseOnHover&&a.x>=C&&a.x<=T&&a.y>=_&&a.y<=m?y():h()}}function h(){n(!0)}function y(){n(!1)}function b(E){const _=o.current;a.canDrag&&_&&(a.didMove=!0,t&&y(),a.x=kQ(E),a.y=NQ(E),a.delta=e.draggableDirection==="x"?a.x-a.start:a.y-a.start,a.start!==a.x&&(a.canCloseOnClick=!1),_.style.transform=`translate${e.draggableDirection}(${a.delta}px)`,_.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function w(){document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",w),document.removeEventListener("touchmove",b),document.removeEventListener("touchend",w);const E=o.current;if(a.canDrag&&a.didMove&&E){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return i(!0),void e.closeToast();E.style.transition="transform 0.2s, opacity 0.2s",E.style.transform=`translate${e.draggableDirection}(0)`,E.style.opacity="1"}}x.useEffect(()=>{s.current=e}),x.useEffect(()=>(o.current&&o.current.addEventListener("d",h,{once:!0}),ws(e.onOpen)&&e.onOpen(x.isValidElement(e.children)&&e.children.props),()=>{const E=s.current;ws(E.onClose)&&E.onClose(x.isValidElement(E.children)&&E.children.props)}),[]),x.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||y(),window.addEventListener("focus",h),window.addEventListener("blur",y)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",h),window.removeEventListener("blur",y))}),[e.pauseOnFocusLoss]);const S={onMouseDown:p,onTouchStart:p,onMouseUp:g,onTouchEnd:g};return l&&c&&(S.onMouseEnter=y,S.onMouseLeave=h),f&&(S.onClick=E=>{d&&d(E),a.canCloseOnClick&&u()}),{playToast:h,pauseToast:y,isRunning:t,preventExitTransition:r,toastRef:o,eventHandlers:S}}function RQ(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return ie.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),t(i)},"aria-label":r},ie.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ie.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function eAe(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:o,className:a,style:s,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:f}=e;const p=o||l&&c===0,g={...s,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:p?0:1};l&&(g.transform=`scaleX(${c})`);const h=ud("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":u}),y=ws(a)?a({rtl:u,type:i,defaultClassName:h}):ud(h,a);return ie.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:y,style:g,[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&r()}})}const tAe=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i}=Z5e(e),{closeButton:o,children:a,autoClose:s,onClick:l,type:c,hideProgressBar:u,closeToast:d,transition:f,position:p,className:g,style:h,bodyClassName:y,bodyStyle:b,progressClassName:w,progressStyle:S,updateId:E,role:_,progress:m,rtl:C,toastId:T,deleteToast:O,isIn:R,isLoading:j,iconOut:D,closeOnClick:L,theme:V}=e,z=ud("Toastify__toast",`Toastify__toast-theme--${V}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":L}),B=ws(g)?g({rtl:C,position:p,type:c,defaultClassName:z}):ud(z,g),H=!!m||!s,J={closeToast:d,type:c,theme:V};let ne=null;return o===!1||(ne=ws(o)?o(J):x.isValidElement(o)?x.cloneElement(o,J):RQ(J)),ie.createElement(f,{isIn:R,done:O,position:p,preventExitTransition:n,nodeRef:r},ie.createElement("div",{id:T,onClick:l,className:B,...i,style:h,ref:r},ie.createElement("div",{...R&&{role:_},className:ws(y)?y({type:c}):ud("Toastify__toast-body",y),style:b},D!=null&&ie.createElement("div",{className:ud("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!j})},D),ie.createElement("div",null,a)),ne,ie.createElement(eAe,{...E&&!H?{key:`pb-${E}`}:{},rtl:C,theme:V,delay:s,isRunning:t,isIn:R,closeToast:d,hide:u,type:c,style:S,className:w,controlledProgress:H,progress:m||0})))},Gw=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},nAe=qw(Gw("bounce",!0)),rAe=qw(Gw("slide",!0));qw(Gw("zoom")),qw(Gw("flip"));const yI=x.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=J5e(e),{className:o,style:a,rtl:s,containerId:l}=e;function c(u){const d=ud("Toastify__toast-container",`Toastify__toast-container--${u}`,{"Toastify__toast-container--rtl":s});return ws(o)?o({position:u,rtl:s,defaultClassName:d}):ud(d,Vw(o))}return x.useEffect(()=>{t&&(t.current=r.current)},[]),ie.createElement("div",{ref:r,className:"Toastify",id:l},n((u,d)=>{const f=d.length?{...a}:{...a,pointerEvents:"none"};return ie.createElement("div",{className:c(u),style:f,key:`container-${u}`},d.map((p,g)=>{let{content:h,props:y}=p;return ie.createElement(tAe,{...y,isIn:i(y.toastId),style:{...y.style,"--nth":g+1,"--len":d.length},key:`toast-${y.key}`},h)}))}))});yI.displayName="ToastContainer",yI.defaultProps={position:"top-right",transition:nAe,autoClose:5e3,closeButton:RQ,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let vI,kf=new Map,z0=[],iAe=1;function jQ(){return""+iAe++}function oAe(e){return e&&(Of(e.toastId)||U0(e.toastId))?e.toastId:jQ()}function B0(e,t){return kf.size>0?cl.emit(0,e,t):z0.push({content:e,options:t}),t.toastId}function Kw(e,t){return{...t,type:t&&t.type||e,toastId:oAe(t)}}function Xw(e){return(t,n)=>B0(t,Kw(e,n))}function Oi(e,t){return B0(e,Kw("default",t))}Oi.loading=(e,t)=>B0(e,Kw("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Oi.promise=function(e,t,n){let r,{pending:i,error:o,success:a}=t;i&&(r=Of(i)?Oi.loading(i,n):Oi.loading(i.render,{...n,...i}));const s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,f)=>{if(d==null)return void Oi.dismiss(r);const p={type:u,...s,...n,data:f},g=Of(d)?{render:d}:d;return r?Oi.update(r,{...p,...g}):Oi(g.render,{...p,...g}),f},c=ws(e)?e():e;return c.then(u=>l("success",a,u)).catch(u=>l("error",o,u)),c},Oi.success=Xw("success"),Oi.info=Xw("info"),Oi.error=Xw("error"),Oi.warning=Xw("warning"),Oi.warn=Oi.warning,Oi.dark=(e,t)=>B0(e,Kw("default",{theme:"dark",...t})),Oi.dismiss=e=>{kf.size>0?cl.emit(1,e):z0=z0.filter(t=>e!=null&&t.options.toastId!==e)},Oi.clearWaitingQueue=function(e){return e===void 0&&(e={}),cl.emit(5,e)},Oi.isActive=e=>{let t=!1;return kf.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},Oi.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=(function(r,i){let{containerId:o}=i;const a=kf.get(o||vI);return a&&a.getToast(r)})(e,t);if(n){const{props:r,content:i}=n,o={delay:100,...r,...t,toastId:t.toastId||e,updateId:jQ()};o.toastId!==e&&(o.staleId=e);const a=o.render||i;delete o.render,B0(a,o)}},0)},Oi.done=e=>{Oi.update(e,{progress:1})},Oi.onChange=e=>(cl.on(4,e),()=>{cl.off(4,e)}),Oi.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Oi.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},cl.on(2,e=>{vI=e.containerId||e,kf.set(vI,e),z0.forEach(t=>{cl.emit(0,t.content,t.options)}),z0=[]}).on(3,e=>{kf.delete(e.containerId||e),kf.size===0&&cl.off(0).off(1).off(5)});var rs=(e=>(e.SUCCESS="success",e.INFO="info",e.WARNING="warning",e.ERROR="error",e))(rs||{});let $0,LQ,bp,wp,bI,wI,xI,_I,EI,SI,MQ,H0,V0,PQ,Yw,DQ,FQ,CI,TI,UQ,zQ,BQ,$Q,HQ,VQ,qQ,WQ,GQ,KQ,XQ,YQ,QQ,JQ,ZQ,eJ,tJ,nJ,rJ,iJ,oJ,aJ,sJ,lJ,cJ,uJ,dJ,fJ,hJ,pJ,mJ,gJ,Qw,AI,yJ,vJ,bJ,wJ,xJ,_J,EJ,SJ,CJ,TJ,AJ,II,IJ,OJ,kJ,NJ,RJ,jJ,LJ,MJ,PJ,DJ,Jw,FJ,UJ,zJ,BJ,$J,HJ,VJ,qJ,WJ,GJ,KJ,XJ,YJ,QJ,JJ,ZJ,eZ,tZ,nZ,rZ,iZ,oZ,aZ,sZ,lZ,cZ,uZ,dZ,fZ,hZ,pZ,mZ,q0,OI,gZ,yZ,kI,xp,vZ,_i,bZ,NI,wZ,xZ,_Z,EZ,SZ,CZ,TZ,AZ,IZ,OZ,Zw,RI,kZ,NZ,RZ,jI,LI,MI,PI,jZ,LZ,MZ,PZ,ul;$0=({type:e,size:t=18,...n})=>{switch(e){case rs.SUCCESS:return v.jsx(Z1,{...n,size:t,color:To.color.green});case rs.WARNING:return v.jsx(l4,{...n,size:t,color:To.color.orange});case rs.ERROR:return v.jsx($U,{...n,size:t,color:To.color.red});case rs.INFO:default:return v.jsx(hc,{...n,size:t,color:To.color.cyan})}},Ro={info:(e,t)=>Oi.info(e,{icon:v.jsx($0,{type:rs.INFO}),className:"toast-info-container",progressStyle:{background:To.color.cyan},style:{borderColor:To.color.cyan,background:To.color.backgroundLighter},...t}),success:(e,t)=>Oi.success(e,{icon:v.jsx($0,{type:rs.SUCCESS}),className:"toast-success-container",progressStyle:{background:To.color.green},style:{borderColor:To.color.green,background:To.color.backgroundLighter},...t}),warning:(e,t)=>Oi.warning(e,{icon:v.jsx($0,{type:rs.WARNING}),className:"toast-warning-container",progressStyle:{background:To.color.orange},style:{borderColor:To.color.orange,background:To.color.backgroundLighter},...t}),error:(e,t)=>Oi.error(e,{icon:v.jsx($0,{type:rs.ERROR}),progressStyle:{background:To.color.red},className:"toast-error-container",style:{borderColor:To.color.red,background:To.color.backgroundLighter},...t}),dismiss:Oi.dismiss,isActive:Oi.isActive},LQ=e=>{const t={autoClose:3e3,draggable:!1,position:"top-right",theme:"dark",transition:rAe,hideProgressBar:!1,closeButton:!0,closeOnClick:!0,pauseOnHover:!0,pauseOnFocusLoss:!1,...e};return v.jsx(yI,{...t})},bp=e=>v.jsxs("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[v.jsx("g",{id:"images",clipPath:"url(#clip0_0_115)",children:v.jsx("path",{id:"Vector",d:"M18.3088 8.07211C18.7562 6.72912 18.6022 5.25794 17.8866 4.03636C16.8105 2.16271 14.6472 1.19877 12.5344 1.65239C11.5945 0.593528 10.2441 -0.00862864 8.82835 1.94188e-08C6.66872 -0.00493064 4.75254 1.38552 4.08814 3.44037C2.70077 3.7245 1.50324 4.59291 0.802465 5.82373C-0.281664 7.69245 -0.0345147 10.0481 1.41387 11.6505C0.96641 12.9935 1.12049 14.4647 1.83606 15.6863C2.91217 17.5599 5.0755 18.5239 7.18829 18.0703C8.12758 19.1291 9.47858 19.7313 10.8943 19.722C13.0552 19.7276 14.972 18.3359 15.6364 16.2792C17.0237 15.9951 18.2213 15.1267 18.922 13.8958C20.0049 12.0271 19.7572 9.67334 18.3094 8.07088L18.3088 8.07211ZM10.8955 18.4333C10.0308 18.4345 9.19322 18.1319 8.52943 17.5778C8.55963 17.5618 8.61202 17.5328 8.64592 17.5119L12.5732 15.2438C12.7741 15.1297 12.8974 14.9159 12.8961 14.6847V9.14823L14.5559 10.1066C14.5738 10.1153 14.5855 10.1325 14.588 10.1522V14.7371C14.5855 16.776 12.9344 18.429 10.8955 18.4333ZM2.9547 15.0416C2.52142 14.2934 2.36549 13.4163 2.51402 12.5652C2.54299 12.5824 2.59414 12.6139 2.63051 12.6348L6.55778 14.9029C6.75686 15.0194 7.00339 15.0194 7.20308 14.9029L11.9975 12.1344V14.0512C11.9988 14.0709 11.9895 14.09 11.9741 14.1023L8.00431 16.3945C6.23606 17.4126 3.97781 16.8074 2.95532 15.0416H2.9547ZM1.92111 6.46903C2.35254 5.71957 3.03359 5.14638 3.84468 4.84869C3.84468 4.88259 3.84284 4.94237 3.84284 4.98428V9.52111C3.8416 9.75162 3.96487 9.96548 4.16518 10.0795L8.95963 12.8475L7.29985 13.8059C7.28321 13.8169 7.26225 13.8188 7.24376 13.8108L3.27334 11.5168C1.50878 10.4949 0.903544 8.23729 1.92049 6.46965L1.92111 6.46903ZM15.5581 9.64253L10.7636 6.87396L12.4234 5.91618C12.4401 5.90508 12.461 5.90324 12.4795 5.91125L16.4499 8.20339C18.2176 9.22465 18.8234 11.486 17.8022 13.2536C17.3701 14.0018 16.6897 14.575 15.8792 14.8733V10.2009C15.881 9.97042 15.7584 9.75716 15.5587 9.64253H15.5581ZM17.2099 7.15624C17.1809 7.13837 17.1297 7.10755 17.0934 7.0866L13.1661 4.81849C12.967 4.702 12.7205 4.702 12.5208 4.81849L7.72635 7.58706V5.67026C7.72512 5.65054 7.73436 5.63143 7.74977 5.61911L11.7196 3.32881C13.4878 2.30878 15.7485 2.91587 16.768 4.68475C17.1988 5.43174 17.3547 6.30632 17.2086 7.15624H17.2099ZM6.82404 10.5726L5.16364 9.61418C5.14576 9.60555 5.13405 9.58829 5.13159 9.56857V4.98367C5.13282 2.94237 6.78891 1.28814 8.8302 1.28937C9.69368 1.28937 10.5294 1.5926 11.1932 2.14484C11.163 2.16086 11.1112 2.18983 11.0767 2.21079L7.14946 4.47889C6.94854 4.59291 6.82527 4.80616 6.8265 5.03729L6.82404 10.5713V10.5726ZM7.72573 8.62866L9.86133 7.39538L11.9969 8.62804V11.094L9.86133 12.3267L7.72573 11.094V8.62866Z",fill:"currentColor"})}),v.jsx("defs",{children:v.jsx("clipPath",{id:"clip0_0_115",children:v.jsx("rect",{width:"20",height:"20",fill:"currentColor"})})})]}),wp=e=>v.jsx("svg",{width:"40",height:"28",viewBox:"0 0 40 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:v.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.045 0H29.05L40 27.4667H33.995L23.045 0ZM10.9483 0H17.2267L28.1767 27.4667H22.0533L19.815 21.6983H8.36167L6.12167 27.465H0L10.95 0.00333349L10.9483 0ZM17.835 16.5983L14.0883 6.945L10.3417 16.6H17.8333L17.835 16.5983Z",fill:"currentColor"})}),ih=e=>v.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",...e,children:v.jsx("path",{d:"M13.1254 5.4664C13.1248 4.88689 12.9602 4.3194 12.6505 3.82958C12.3408 3.33977 11.8987 2.94768 11.3754 2.69867V2.62265C11.3749 2.05894 11.1929 1.51037 10.8565 1.0581C10.52 0.605836 10.0468 0.273902 9.50706 0.111415C8.96727 -0.0510722 8.38952 -0.0354796 7.85929 0.155885C7.32906 0.34725 6.87451 0.704221 6.56291 1.17398C6.25131 0.704221 5.79676 0.34725 5.26653 0.155885C4.7363 -0.0354796 4.15855 -0.0510722 3.61876 0.111415C3.07898 0.273902 2.60584 0.605836 2.26936 1.0581C1.93287 1.51037 1.75091 2.05894 1.75041 2.62265V2.69867C1.22669 2.94699 0.784189 3.33885 0.474336 3.82869C0.164484 4.31853 0 4.88624 0 5.46585C0 6.04547 0.164484 6.61318 0.474336 7.10302C0.784189 7.59286 1.22669 7.98471 1.75041 8.23304V8.31015C1.75091 8.87386 1.93287 9.42243 2.26936 9.8747C2.60584 10.327 3.07898 10.6589 3.61876 10.8214C4.15855 10.9839 4.7363 10.9683 5.26653 10.7769C5.79676 10.5856 6.25131 10.2286 6.56291 9.75882C6.87451 10.2286 7.32906 10.5856 7.85929 10.7769C8.38952 10.9683 8.96727 10.9839 9.50706 10.8214C10.0468 10.6589 10.52 10.327 10.8565 9.8747C11.1929 9.42243 11.3749 8.87386 11.3754 8.31015V8.23304C11.8986 7.98422 12.3406 7.59231 12.6503 7.10269C12.96 6.61307 13.1248 6.04575 13.1254 5.4664ZM4.37541 10.0602C3.9439 10.0601 3.52762 9.9006 3.20653 9.61232C2.88545 9.32404 2.68219 8.92729 2.6358 8.49828C2.77728 8.51846 2.92 8.52869 3.06291 8.5289H3.50041C3.61644 8.5289 3.72772 8.48281 3.80977 8.40076C3.89182 8.31871 3.93791 8.20743 3.93791 8.0914C3.93791 7.97537 3.89182 7.86409 3.80977 7.78204C3.72772 7.69999 3.61644 7.6539 3.50041 7.6539H3.06291C2.54642 7.6545 2.04637 7.47233 1.6513 7.13964C1.25624 6.80695 0.991627 6.3452 0.904328 5.83614C0.817029 5.32708 0.91267 4.80355 1.17432 4.35824C1.43597 3.91293 1.84674 3.57456 2.33393 3.40304C2.41917 3.37286 2.49296 3.31701 2.54516 3.24317C2.59736 3.16933 2.6254 3.08112 2.62541 2.9907V2.62265C2.62541 2.15852 2.80978 1.7134 3.13797 1.38521C3.46616 1.05702 3.91128 0.87265 4.37541 0.87265C4.83954 0.87265 5.28466 1.05702 5.61285 1.38521C5.94104 1.7134 6.12541 2.15852 6.12541 2.62265V6.35562C5.64499 5.92353 5.02156 5.68467 4.37541 5.68515C4.25938 5.68515 4.1481 5.73124 4.06605 5.81329C3.984 5.89534 3.93791 6.00662 3.93791 6.12265C3.93791 6.23868 3.984 6.34996 4.06605 6.43201C4.1481 6.51406 4.25938 6.56015 4.37541 6.56015C4.83954 6.56015 5.28466 6.74452 5.61285 7.07271C5.94104 7.4009 6.12541 7.84602 6.12541 8.31015C6.12541 8.77428 5.94104 9.2194 5.61285 9.54759C5.28466 9.87578 4.83954 10.0602 4.37541 10.0602ZM10.0629 7.6539H9.62541C9.50938 7.6539 9.3981 7.69999 9.31605 7.78204C9.234 7.86409 9.18791 7.97537 9.18791 8.0914C9.18791 8.20743 9.234 8.31871 9.31605 8.40076C9.3981 8.48281 9.50938 8.5289 9.62541 8.5289H10.0629C10.2058 8.52869 10.3485 8.51846 10.49 8.49828C10.4537 8.83442 10.3207 9.15284 10.1073 9.41504C9.89379 9.67723 9.60894 9.87198 9.28715 9.97573C8.96536 10.0795 8.6204 10.0878 8.29398 9.99965C7.96756 9.91151 7.67367 9.73071 7.44783 9.47909C7.22198 9.22748 7.07386 8.91583 7.02138 8.58182C6.96889 8.24781 7.01428 7.90575 7.15206 7.597C7.28985 7.28824 7.51412 7.02601 7.79777 6.842C8.08142 6.658 8.4123 6.5601 8.75041 6.56015C8.86644 6.56015 8.97772 6.51406 9.05977 6.43201C9.14182 6.34996 9.18791 6.23868 9.18791 6.12265C9.18791 6.00662 9.14182 5.89534 9.05977 5.81329C8.97772 5.73124 8.86644 5.68515 8.75041 5.68515C8.10426 5.68467 7.48083 5.92353 7.00041 6.35562V2.62265C7.00041 2.15852 7.18478 1.7134 7.51297 1.38521C7.84116 1.05702 8.28628 0.87265 8.75041 0.87265C9.21454 0.87265 9.65966 1.05702 9.98785 1.38521C10.316 1.7134 10.5004 2.15852 10.5004 2.62265V2.9907C10.5004 3.08112 10.5285 3.16933 10.5807 3.24317C10.6329 3.31701 10.7067 3.37286 10.7919 3.40304C11.2791 3.57456 11.6899 3.91293 11.9515 4.35824C12.2131 4.80355 12.3088 5.32708 12.2215 5.83614C12.1342 6.3452 11.8696 6.80695 11.4745 7.13964C11.0794 7.47233 10.5794 7.6545 10.0629 7.6539ZM10.9379 4.81015C10.9379 4.92618 10.8918 5.03746 10.8098 5.11951C10.7277 5.20156 10.6164 5.24765 10.5004 5.24765H10.2817C9.75951 5.24765 9.25876 5.04023 8.88954 4.67102C8.52033 4.3018 8.31291 3.80105 8.31291 3.2789V3.06015C8.31291 2.94412 8.359 2.83284 8.44105 2.75079C8.5231 2.66874 8.63438 2.62265 8.75041 2.62265C8.86644 2.62265 8.97772 2.66874 9.05977 2.75079C9.14182 2.83284 9.18791 2.94412 9.18791 3.06015V3.2789C9.18791 3.56898 9.30314 3.84718 9.50826 4.0523C9.71338 4.25742 9.99158 4.37265 10.2817 4.37265H10.5004C10.6164 4.37265 10.7277 4.41874 10.8098 4.50079C10.8918 4.58284 10.9379 4.69412 10.9379 4.81015ZM2.84416 5.24765H2.62541C2.50938 5.24765 2.3981 5.20156 2.31605 5.11951C2.234 5.03746 2.18791 4.92618 2.18791 4.81015C2.18791 4.69412 2.234 4.58284 2.31605 4.50079C2.3981 4.41874 2.50938 4.37265 2.62541 4.37265H2.84416C3.13424 4.37265 3.41244 4.25742 3.61756 4.0523C3.82268 3.84718 3.93791 3.56898 3.93791 3.2789V3.06015C3.93791 2.94412 3.984 2.83284 4.06605 2.75079C4.1481 2.66874 4.25938 2.62265 4.37541 2.62265C4.49144 2.62265 4.60272 2.66874 4.68477 2.75079C4.76682 2.83284 4.81291 2.94412 4.81291 3.06015V3.2789C4.81291 3.80105 4.60549 4.3018 4.23628 4.67102C3.86706 5.04023 3.3663 5.24765 2.84416 5.24765Z",fill:"#9CA3AF",transform:"translate(0.5, 1.5)"})}),bI=U.div.withConfig({displayName:"ConfigurationModal__ModalContent"})([`
  display: flex;
  flex-direction: column;
  width: 100%;
`]),wI=U(tt).attrs({flexDirection:"column",gap:"1.6rem"}).withConfig({displayName:"ConfigurationModal__HeaderSection"})([`
  padding: 2.4rem;
  padding-top: 0;
  width: 100%;
`]),xI=U(tt).attrs({justifyContent:"space-between",align:"flex-start",gap:"1rem"}).withConfig({displayName:"ConfigurationModal__HeaderTitleRow"})([`
  width: 100%;
`]),_I=U(tt).attrs({flexDirection:"column",gap:"1.2rem",align:"flex-start"}).withConfig({displayName:"ConfigurationModal__HeaderText"})([`
  flex: 1;
`]),EI=U(pr.Title).withConfig({displayName:"ConfigurationModal__ModalTitle"})([`
  font-size: 2.4rem;
  font-weight: 600;
  margin: 0;
  padding: 0;
  color: `,`;
  border: 0;
`],({theme:e})=>e.color.foreground),SI=U(pr.Description).withConfig({displayName:"ConfigurationModal__ModalSubtitle"})([`
  color: `,`;
  margin: 0;
  padding: 0;
`],({theme:e})=>e.color.gray2),MQ=U.button.withConfig({displayName:"ConfigurationModal__StyledCloseButton"})([`
  background: transparent;
  border: none;
  cursor: pointer;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  color: `,`;
  border-radius: 0.4rem;
  flex-shrink: 0;
  width: 2.2rem;
  height: 2.2rem;

  &:hover {
    color: `,`;
  }
`],({theme:e})=>e.color.gray1,({theme:e})=>e.color.foreground),H0=U.div.withConfig({displayName:"ConfigurationModal__Separator"})([`
  height: 0.1rem;
  width: 100%;
  background: `,`;
`],({theme:e})=>e.color.selection),V0=U(tt).attrs({flexDirection:"column",gap:"2rem"}).withConfig({displayName:"ConfigurationModal__ContentSection"})([`
  padding: 2.4rem;
  width: 100%;
`]),PQ=U(st).withConfig({displayName:"ConfigurationModal__SectionTitle"})([`
  font-size: 1.8rem;
  font-weight: 600;
  color: `,`;
`],({theme:e})=>e.color.foreground),Yw=U(st).withConfig({displayName:"ConfigurationModal__SectionDescription"})([`
  font-size: 1.3rem;
  font-weight: 300;
  color: `,`;
`],({theme:e})=>e.color.gray2),DQ=U(tt).attrs({gap:"4rem",align:"center"}).withConfig({displayName:"ConfigurationModal__ProviderSelectionContainer"})([`
  width: 100%;
`]),FQ=U(tt).attrs({gap:"2rem"}).withConfig({displayName:"ConfigurationModal__ProviderCardsContainer"})([`
  height: 8.5rem;
`]),CI=U.button.withConfig({displayName:"ConfigurationModal__ProviderCard"})([`
  background: #262833;
  border: 0.1rem solid `,`;
  border-radius: 0.8rem;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.6rem;
  padding: 1.2rem 2rem;
  width: 10rem;
  height: 8.5rem;
  transition: all 0.2s;

  `,`

  &:hover {
    border-color: `,`;
  }

  &:focus-visible {
    outline: 0.2rem solid `,`;
    outline-offset: 0.2rem;
  }
`],({theme:e})=>e.color.selection,({$selected:e,theme:t})=>e&&`
    border-color: ${t.color.foreground};
    box-shadow: 0 0 0 0.1rem ${t.color.foreground};
    background: ${t.color.midnight};
  `,({theme:e})=>e.color.foreground,({theme:e})=>e.color.foreground),TI=U(st).withConfig({displayName:"ConfigurationModal__ProviderName"})([`
  font-size: 1.3rem;
  font-weight: 400;
  color: rgba(249, 250, 251, 0.8);
  text-align: center;
`]),UQ=U(tt).attrs({flexDirection:"column",gap:"0.6rem",align:"flex-start"}).withConfig({displayName:"ConfigurationModal__ComingSoonContainer"})([`
  width: 13.2rem;
`]),zQ=U(tt).attrs({align:"center"}).withConfig({displayName:"ConfigurationModal__ComingSoonIcons"})([`
  width: 100%;
  padding-left: 0;
  padding-right: 1.2rem;
`]),BQ=U.img.withConfig({displayName:"ConfigurationModal__ComingSoonIcon"})([`
  width: 100%;
  height: auto;
  object-fit: contain;
`]),$Q=U(st).withConfig({displayName:"ConfigurationModal__ComingSoonText"})([`
  font-size: 1.3rem;
  font-weight: 300;
  color: `,`;
`],({theme:e})=>e.color.gray2),HQ=U(tt).attrs({flexDirection:"column",gap:"1.2rem"}).withConfig({displayName:"ConfigurationModal__InputSection"})([`
  width: 100%;
`]),VQ=U(st).withConfig({displayName:"ConfigurationModal__InputLabel"})([`
  font-size: 1.6rem;
  font-weight: 600;
  color: `,`;
`],({theme:e})=>e.color.gray2),qQ=U(cs).withConfig({displayName:"ConfigurationModal__StyledInput"})([`
  width: 100%;
  background: #262833;
  border: 0.1rem solid
    `,`;
  border-radius: 0.8rem;
  cursor: `,`;
  font-size: 1.4rem;
  min-height: 3rem;
  text-security: disc;
  -webkit-text-security: disc;
  -moz-text-security: disc;

  &::placeholder {
    color: `,`;
    font-family: inherit;
  }

  `,`
`],({theme:e,$hasError:t})=>t?e.color.red:"#6b7280",({disabled:e})=>e?"not-allowed":"text",({theme:e})=>e.color.gray2,({disabled:e})=>e&&Vn([`
      opacity: 0.6;
      cursor: not-allowed;
    `])),WQ=U(st).withConfig({displayName:"ConfigurationModal__ErrorText"})([`
  color: `,`;
  font-size: 1.3rem;
`],({theme:e})=>e.color.red),GQ=U(tt).attrs({flexDirection:"column",gap:"1.2rem"}).withConfig({displayName:"ConfigurationModal__ModelList"})([`
  width: 100%;
`]),KQ=U(rp).withConfig({displayName:"ConfigurationModal__StyledCheckbox"})([`
  font-size: 1.4rem;
  display: inline;
`]),XQ=U(tt).attrs({flexDirection:"column",gap:"1.6rem"}).withConfig({displayName:"ConfigurationModal__FormGroup"})([`
  width: 100%;
  align-items: flex-start;
`]),YQ=U(tt).attrs({gap:"0.6rem",align:"center"}).withConfig({displayName:"ConfigurationModal__ProviderBadge"})([`
  background: #2d303e;
  padding: 0.6rem 0.8rem;
  border-radius: 0.4rem;
  box-shadow: inset 0 0.1rem 0.4rem rgba(0, 0, 0, 0.1);
`]),QQ=U(st).withConfig({displayName:"ConfigurationModal__ProviderBadgeText"})([`
  font-size: 1.3rem;
  font-weight: 400;
  color: `,`;
  font-family: "Open Sans", sans-serif;
`],({theme:e})=>e.color.foreground),JQ=U(tt).attrs({flexDirection:"column",gap:"2rem"}).withConfig({displayName:"ConfigurationModal__EnableModelsSection"})([`
  width: 100%;
`]),ZQ=U(tt).attrs({justifyContent:"space-between",align:"center",gap:"1rem"}).withConfig({displayName:"ConfigurationModal__EnableModelsHeader"})([`
  width: 100%;
`]),eJ=U(st).withConfig({displayName:"ConfigurationModal__EnableModelsTitle"})([`
  font-size: 1.8rem;
  font-weight: 600;
  color: `,`;
`],({theme:e})=>e.color.foreground),tJ=U(tt).attrs({justifyContent:"space-between",align:"center",gap:"2.4rem"}).withConfig({displayName:"ConfigurationModal__ModelToggleRow"})([`
  width: 100%;
`]),nJ=U(tt).attrs({flexDirection:"column",gap:"0.8rem"}).withConfig({displayName:"ConfigurationModal__ModelInfoColumn"})([`
  flex: 1;
  align-items: flex-start;
`]),rJ=U(tt).attrs({gap:"0.8rem",align:"center"}).withConfig({displayName:"ConfigurationModal__ModelInfoRow"})([`
  width: 100%;
`]),iJ=U(st).withConfig({displayName:"ConfigurationModal__ModelDescriptionText"})([`
  font-size: 1.1rem;
  color: `,`;
  flex: 1;
`],({theme:e})=>e.color.gray2),oJ=U(st).withConfig({displayName:"ConfigurationModal__ModelNameText"})([`
  font-size: 1.4rem;
  font-weight: 400;
  color: `,`;
`],({theme:e})=>e.color.foreground),aJ=U(tt).attrs({flexDirection:"column",gap:"1.6rem"}).withConfig({displayName:"ConfigurationModal__SchemaAccessSection"})([`
  width: 100%;
`]),sJ=U(tt).attrs({justifyContent:"space-between",align:"center",gap:"1rem"}).withConfig({displayName:"ConfigurationModal__SchemaAccessHeader"})([`
  width: 100%;
`]),lJ=U(st).withConfig({displayName:"ConfigurationModal__SchemaAccessTitle"})([`
  font-size: 1.6rem;
  font-weight: 600;
  color: `,`;
  flex: 1;
`],({theme:e})=>e.color.gray2),cJ=U(tt).attrs({gap:"1.5rem",align:"flex-start"}).withConfig({displayName:"ConfigurationModal__SchemaCheckboxContainer"})([`
  background: rgba(68, 71, 90, 0.56);
  padding: 0.75rem;
  border-radius: 0.4rem;
  width: 100%;
`]),uJ=U(tt).attrs({gap:"1.5rem",align:"center"}).withConfig({displayName:"ConfigurationModal__SchemaCheckboxInner"})([`
  flex: 1;
  padding: 0.75rem;
  border-radius: 0.5rem;
`]),dJ=U.div.withConfig({displayName:"ConfigurationModal__SchemaCheckboxWrapper"})([`
  flex-shrink: 0;
  display: flex;
  align-items: center;
`]),fJ=U(tt).attrs({flexDirection:"column",gap:"0.6rem"}).withConfig({displayName:"ConfigurationModal__SchemaCheckboxContent"})([`
  flex: 1;
`]),hJ=U(st).withConfig({displayName:"ConfigurationModal__SchemaCheckboxLabel"})([`
  font-size: 1.4rem;
  font-weight: 500;
  color: `,`;
`],({theme:e})=>e.color.foreground),pJ=U(st).withConfig({displayName:"ConfigurationModal__SchemaCheckboxDescription"})([`
  font-size: 1.3rem;
  font-weight: 400;
  color: `,`;
`],({theme:e})=>e.color.gray2),mJ=U.span.withConfig({displayName:"ConfigurationModal__SchemaCheckboxDescriptionBold"})([`
  font-weight: 500;
  color: `,`;
`],({theme:e})=>e.color.foreground),gJ=U(st).withConfig({displayName:"ConfigurationModal__WarningText"})([`
  font-size: 1.3rem;
  font-weight: 400;
  color: `,`;
  padding: 2.4rem;
  text-align: left;
`],({theme:e})=>e.color.gray2),Qw=e=>e?e==="openai"?"OpenAI":"Anthropic":"",AI=({onClick:e})=>v.jsx(MQ,{onClick:e,children:v.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{d:"M15 5L5 15M5 5L15 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),yJ=({selectedProvider:e,apiKey:t,error:n,providerName:r,onProviderSelect:i,onApiKeyChange:o})=>{const a=LY().handleClose;return v.jsxs(bI,{"data-hook":"ai-settings-modal-step-one",children:[v.jsx(wI,{children:v.jsxs(xI,{children:[v.jsxs(_I,{children:[v.jsx(EI,{children:"Add a model provider"}),v.jsx(SI,{id:"step-0-description",children:"Select an AI model provider and enter your API key. You'll be able to configure and switch between multiple providers later."})]}),v.jsx(AI,{onClick:a})]})}),v.jsx(H0,{}),v.jsx(V0,{align:"flex-start",children:v.jsxs(tt,{flexDirection:"column",gap:"2rem",children:[v.jsxs(tt,{flexDirection:"column",gap:"0.8rem",align:"flex-start",children:[v.jsx(PQ,{children:"Select Provider"}),v.jsx(Yw,{children:"We currently only support two model providers, with support for more coming soon."})]}),v.jsxs(DQ,{children:[v.jsxs(FQ,{children:[v.jsxs(CI,{$selected:e==="openai",onClick:()=>i("openai"),type:"button","data-hook":"ai-settings-provider-openai",children:[v.jsx(bp,{width:"40",height:"40",color:To.color.foreground}),v.jsx(TI,{children:"OpenAI"})]}),v.jsxs(CI,{$selected:e==="anthropic",onClick:()=>i("anthropic"),type:"button","data-hook":"ai-settings-provider-anthropic",children:[v.jsx(wp,{width:"40",height:"40",color:To.color.foreground}),v.jsx(TI,{children:"Anthropic"})]})]}),v.jsxs(UQ,{children:[v.jsx(zQ,{children:v.jsx(BQ,{src:"/assets/models-group-icon.svg",alt:"Coming soon providers"})}),v.jsx($Q,{children:"Coming soon..."})]})]})]})}),v.jsx(H0,{}),v.jsx(V0,{children:v.jsxs(HQ,{align:"flex-start",children:[v.jsx(VQ,{children:"API Key"}),v.jsx(qQ,{type:"text",value:t,onChange:s=>o(s.target.value),placeholder:`Enter${r?` ${r}`:""} API key`,$hasError:!!n,disabled:!e,"data-hook":"ai-settings-api-key"}),n&&v.jsx(WQ,{"data-hook":"ai-settings-api-key-error",children:n}),v.jsx(Yw,{children:"Stored locally in your browser and never sent to QuestDB servers. This API key is used to authenticate your requests to the model provider."})]})})]})},vJ=({selectedProvider:e,enabledModels:t,grantSchemaAccess:n,modelsByProvider:r,onModelToggle:i,onSchemaAccessChange:o})=>{const a=LY().handleClose,s=e,l=c=>c==="openai"?r.openai:r.anthropic;return v.jsxs(bI,{"data-hook":"ai-settings-modal-step-two",children:[v.jsx(wI,{children:v.jsxs(xI,{children:[v.jsxs(_I,{children:[v.jsx(EI,{children:"Setup your model preferences"}),v.jsx(SI,{id:"step-1-description",children:"Enable and disable each of the models QuestDB currently supports from this provider, and a level of data access. You'll be able to update these settings any time."})]}),v.jsx(AI,{onClick:a})]})}),v.jsx(H0,{}),v.jsx(V0,{children:s?v.jsx(XQ,{children:v.jsxs(JQ,{children:[v.jsxs(ZQ,{children:[v.jsx(eJ,{children:"Enable Models"}),v.jsxs(YQ,{children:[s==="openai"?v.jsx(bp,{width:"16",height:"16",color:"#fff"}):v.jsx(wp,{width:"16",height:"16",color:"#fff"}),v.jsx(QQ,{children:Qw(s)})]})]}),v.jsx(GQ,{children:l(s).map(c=>{const u=t.includes(c.value);return v.jsxs(tJ,{"data-model":c.label,"data-model-enabled":u,children:[v.jsxs(nJ,{children:[v.jsx(oJ,{children:c.label}),c.isSlow&&v.jsxs(rJ,{children:[v.jsx(ih,{color:"#bbb"}),v.jsx(iJ,{children:"Due to advanced reasoning & thinking capabilities, responses using this model can be slow."})]})]}),v.jsx(pI,{checked:u,onChange:()=>i(c.value),"data-checked":u})]},c.value)})})]})}):v.jsx(Yw,{children:"Please configure at least one provider in step 1 before enabling models."})}),v.jsx(H0,{}),v.jsx(V0,{children:s&&v.jsxs(aJ,{children:[v.jsx(sJ,{children:v.jsx(lJ,{children:"Schema Access"})}),v.jsx(cJ,{children:v.jsxs(uJ,{children:[v.jsx(dJ,{children:v.jsx(KQ,{id:`schema-access-${s}`,checked:n,onChange:c=>o(c.target.checked),"data-hook":"ai-settings-schema-access"})}),v.jsxs(fJ,{align:"flex-start",children:[v.jsxs(hJ,{children:["Grant schema access to ",Qw(s)]}),v.jsxs(pJ,{children:["When enabled, the AI assistant can access your database schema information to provide more accurate suggestions and explanations. Schema information helps the AI understand your table structures, column names, and relationships."," ",v.jsx(mJ,{children:"The AI model will not have access to your database store."})]})]})]})})]})}),v.jsx(gJ,{children:"The AI assistant may occasionally produce incorrect information. Please verify important details and review all generated queries before execution."})]})},bJ=({open:e,onOpenChange:t})=>{const{aiAssistantSettings:n,updateSettings:r}=vc(),[i,o]=x.useState(null),a=x.useMemo(()=>Qw(i),[i]),[s,l]=x.useState(""),[c,u]=x.useState(null),[d,f]=x.useState([]),[p,g]=x.useState(!0),h=x.useMemo(()=>{const j=[],D=[];return da.forEach(L=>{L.provider==="anthropic"?j.push(L):D.push(L)}),{anthropic:j,openai:D}},[]),y=x.useCallback(j=>{o(j),u(null),l("")},[]),b=x.useCallback(j=>{l(j),u(null)},[]),w=x.useCallback(j=>{f(D=>D.includes(j)?D.filter(L=>L!==j):[...D,j])},[]),S=x.useCallback(j=>{g(j)},[]),E=()=>{if(!i||d.length===0)return;const j=d.find(L=>{var V;return(V=da.find(z=>z.value===L))==null?void 0:V.default})??d[0],D={...n,selectedModel:j,providers:{...n.providers,[i]:{apiKey:s,enabledModels:d,grantSchemaAccess:p}}};r(Mn.AI_ASSISTANT_SETTINGS,D),Ro.success("AI Assistant activated successfully"),t==null||t(!1)},_=j=>j===0?i?!!s:!1:!0,m=x.useCallback(async()=>{var D;if(!i)return"Please select a provider";if(!s)return"Please enter an API key";const j=((D=da.find(L=>L.isTestModel&&L.provider===i))==null?void 0:D.value)??h[i][0].value;try{const L=await t5(s,j);if(!L.valid){const z=L.error||"Invalid API key";return u(z),z}const V=da.filter(z=>z.defaultEnabled&&z.provider===i).map(z=>z.value);return V.length>0&&f(V),u(null),!0}catch(L){const V=L instanceof Error?L.message:"Failed to validate API key";return u(V),V}},[i,s,h]),C=x.useCallback(()=>i?d.length===0?"Please enable at least one model":!0:"Please select a provider",[d,i]),T=x.useCallback((j,D)=>{j===0&&D==="previous"&&(f([]),g(!0))},[]),O=x.useCallback(()=>{o(null),l(""),u(null),f([]),g(!0)},[]),R=x.useMemo(()=>[{id:"provider",title:"Add a model provider",stepName:"Add model provider",content:v.jsx(yJ,{selectedProvider:i,apiKey:s,error:c,providerName:a,onProviderSelect:y,onApiKeyChange:b}),validate:m},{id:"models",title:"Configure Models",stepName:"Configure provider settings",content:v.jsx(vJ,{selectedProvider:i,enabledModels:d,grantSchemaAccess:p,modelsByProvider:h,onModelToggle:w,onSchemaAccessChange:S}),validate:C}],[i,s,c,a,y,b,d,p,h,w,S,m,C]);return v.jsx(Y4e,{open:e,onOpenChange:j=>{j||O(),t==null||t(j)},onStepChange:T,steps:R,maxWidth:"64rem",onComplete:E,canProceed:_,completeButtonText:"Activate Assistant",showValidationError:!1})},wJ=U.div.withConfig({displayName:"SettingsModal__ModalContent"})([`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  min-height: 0;
`]),xJ=U(pr.Content).attrs({maxwidth:"72rem"}).withConfig({displayName:"SettingsModal__StyledContent"})([`
  display: flex;
  flex-direction: column;
  max-height: 85vh;
  overflow: hidden;
`]),_J=U(tt).attrs({flexDirection:"column",gap:"1.6rem"}).withConfig({displayName:"SettingsModal__HeaderSection"})([`
  padding: 2.4rem;
  width: 100%;
  flex-shrink: 0;
`]),EJ=U(tt).attrs({justifyContent:"space-between",align:"flex-start",gap:"1rem"}).withConfig({displayName:"SettingsModal__HeaderTitleRow"})([`
  width: 100%;
`]),SJ=U(tt).attrs({flexDirection:"column",gap:"1.2rem",align:"flex-start"}).withConfig({displayName:"SettingsModal__HeaderText"})([`
  flex: 1;
`]),CJ=U(pr.Title).withConfig({displayName:"SettingsModal__ModalTitle"})([`
  font-size: 2.4rem;
  font-weight: 600;
  margin: 0;
  padding: 0;
  color: `,`;
  border: 0;
`],({theme:e})=>e.color.foreground),TJ=U(pr.Description).withConfig({displayName:"SettingsModal__ModalSubtitle"})([`
  color: `,`;
  margin: 0;
  padding: 0;
`],({theme:e})=>e.color.gray2),AJ=U.button.withConfig({displayName:"SettingsModal__CloseButton"})([`
  background: transparent;
  border: none;
  cursor: pointer;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  color: `,`;
  border-radius: 0.4rem;
  flex-shrink: 0;
  width: 2.2rem;
  height: 2.2rem;

  &:hover {
    color: `,`;
  }
`],({theme:e})=>e.color.gray1,({theme:e})=>e.color.foreground),II=U.div.withConfig({displayName:"SettingsModal__Separator"})([`
  height: 0.1rem;
  width: 100%;
  background: `,`;
`],({theme:e})=>e.color.selection),IJ=U(tt).withConfig({displayName:"SettingsModal__MainContentArea"})([`
  display: flex;
  flex-direction: row;
  width: 100%;
  align-items: stretch;
  min-height: 0;
  flex: 1;
  gap: 0;
  overflow: hidden;
`]),OJ=U(tt).attrs({flexDirection:"column",gap:"1.2rem"}).withConfig({displayName:"SettingsModal__Sidebar"})([`
  padding: 0;
  padding-top: 2.4rem;
  width: 15.1rem;
  flex-shrink: 0;
  overflow-y: auto;
`]),kJ=U.button.withConfig({displayName:"SettingsModal__ProviderTab"})([`
  display: flex;
  flex-direction: column;
  gap: 1rem;
  padding: 1.2rem 2.4rem;
  background: `,`;
  border: none;
  border-bottom: `,`;
  cursor: pointer;
  align-items: flex-start;
  width: 100%;

  &:hover {
    background: `,`;
  }
`],({$active:e,theme:t})=>e?t.color.midnight:"transparent",({$active:e,theme:t})=>e?"0.2rem solid "+t.color.pinkPrimary:"none",({$active:e,theme:t})=>e?t.color.midnight:t.color.selection),NJ=U(tt).attrs({gap:"0.6rem",align:"center"}).withConfig({displayName:"SettingsModal__ProviderTabTitle"})([`
  width: 100%;
`]),RJ=U(st).withConfig({displayName:"SettingsModal__ProviderTabName"})([`
  font-size: 1.6rem;
  font-weight: `,`;
  color: `,`;
`],({$active:e})=>e?600:400,({theme:e,$active:t})=>t?e.color.foreground:e.color.gray2),jJ=U(tt).attrs({gap:"0.4rem",align:"center"}).withConfig({displayName:"SettingsModal__StatusBadge"})([`
  background: `,`;
  padding: 0.3rem;
  border-radius: 0.2rem;
`],({$enabled:e})=>e?"transparent":"#2d303e"),LJ=U.div.withConfig({displayName:"SettingsModal__StatusDot"})([`
  width: 0.6rem;
  height: 0.6rem;
  border-radius: 50%;
  background: `,`;
`],({$enabled:e,theme:t})=>e?t.color.green:t.color.gray2),MJ=U(st).withConfig({displayName:"SettingsModal__StatusText"})([`
  font-size: 1rem;
  font-weight: 400;
  color: `,`;
`],({$enabled:e,theme:t})=>e?t.color.green:"#bbbbbb"),PJ=U.div.withConfig({displayName:"SettingsModal__VerticalSeparator"})([`
  width: 0.1rem;
  background: `,`;
  flex-shrink: 0;
  align-self: stretch;
`],({theme:e})=>e.color.selection),DJ=U(tt).attrs({flexDirection:"column",gap:"2.8rem"}).withConfig({displayName:"SettingsModal__ContentPanel"})([`
  flex: 1;
  padding: 2.4rem;
  min-width: 0;
  overflow-y: auto;
  overflow-x: hidden;
  min-height: 0;
`]),Jw=U(tt).attrs({flexDirection:"column",gap:"1.2rem",align:"stretch"}).withConfig({displayName:"SettingsModal__ContentSection"})([`
  width: 100%;
`]),FJ=U(st).withConfig({displayName:"SettingsModal__SectionTitle"})([`
  font-size: 1.6rem;
  font-weight: 600;
  color: `,`;
`],({theme:e})=>e.color.foreground),UJ=U(st).withConfig({displayName:"SettingsModal__SectionDescription"})([`
  font-size: 1.3rem;
  color: `,`;
`],({theme:e})=>e.color.gray2),zJ=U(tt).withConfig({displayName:"SettingsModal__InputWrapper"})([`
  position: relative;
  width: 100%;
`]),BJ=U(cs).withConfig({displayName:"SettingsModal__StyledInput"})([`
  width: 100%;
  background: `,`;
  border: 0.1rem solid
    `,`;
  border-radius: 0.8rem;
  padding: 1.2rem;
  padding-right: `,`;
  color: `,`;
  font-size: 1.4rem;

  &::placeholder {
    color: `,`;
    font-family: inherit;
  }
`],({theme:e})=>e.color.background,({theme:e,$hasError:t})=>t?e.color.red:"#6b7280",({$showEditButton:e})=>e?"4rem":"1.2rem",({theme:e})=>e.color.foreground,({theme:e})=>e.color.gray2),$J=U.button.withConfig({displayName:"SettingsModal__EditButton"})([`
  position: absolute;
  right: 1.2rem;
  top: 50%;
  transform: translateY(-50%);
  background: transparent;
  border: none;
  cursor: pointer;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  color: `,`;
  width: 2rem;
  height: 2rem;

  &:hover {
    color: `,`;
  }
`],({theme:e})=>e.color.gray1,({theme:e})=>e.color.foreground),HJ=U(wC).attrs({type:U7.SUCCESS}).withConfig({displayName:"SettingsModal__ValidatedBadge"})([`
  font-size: 1rem;
  margin-right: auto;
  padding: 0.3rem 0.6rem;
  height: 2rem;
  border: 0;
`]),VJ=U.a.withConfig({displayName:"SettingsModal__APIKeyLink"})([`
  color: `,`;

  &:hover {
    text-decoration: underline;
    color: `,`;
  }
`],({theme:e})=>e.color.gray2,({theme:e})=>e.color.foreground),qJ=U(st).withConfig({displayName:"SettingsModal__ErrorText"})([`
  color: `,`;
  font-size: 1.3rem;
`],({theme:e})=>e.color.red),WJ=U.button.withConfig({displayName:"SettingsModal__ValidateRemoveButton"})([`
  height: 3rem;
  border: 0.1rem solid `,`;
  background: `,`;
  color: `,`;
  border-radius: 0.4rem;
  padding: 0.6rem 1.2rem;
  font-size: 1.4rem;
  font-weight: 500;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.8rem;

  &:hover:not(:disabled) {
    background: `,`;
    color: `,`;
  }

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
`],({theme:e})=>e.color.pinkDarker,({theme:e})=>e.color.background,({theme:e})=>e.color.foreground,({theme:e})=>e.color.pinkDarker,({theme:e})=>e.color.foreground),GJ=U(tt).attrs({flexDirection:"column",gap:"1rem"}).withConfig({displayName:"SettingsModal__ModelsPlaceholder"})([`
  background: rgba(68, 71, 90, 0.56);
  padding: 0.75rem;
  border-radius: 0.4rem;
  width: 100%;
`]),KJ=U(st).withConfig({displayName:"SettingsModal__ModelsPlaceholderText"})([`
  font-size: 1.3rem;
  color: `,`;
`],({theme:e})=>e.color.gray2),XJ=U(tt).attrs({flexDirection:"column",gap:"1.6rem"}).withConfig({displayName:"SettingsModal__ModelList"})([`
  width: 100%;
`]),YJ=U(tt).attrs({justifyContent:"space-between",align:"center",gap:"2.4rem"}).withConfig({displayName:"SettingsModal__ModelToggleRow"})([`
  width: 100%;
`]),QJ=U(tt).attrs({flexDirection:"column",gap:"0.8rem"}).withConfig({displayName:"SettingsModal__ModelInfoColumn"})([`
  flex: 1;
  align-items: flex-start;
`]),JJ=U(tt).attrs({gap:"0.8rem",align:"center"}).withConfig({displayName:"SettingsModal__ModelInfoRow"})([`
  width: 100%;
`]),ZJ=U(st).withConfig({displayName:"SettingsModal__ModelDescriptionText"})([`
  font-size: 1.1rem;
  color: `,`;
  flex: 1;
`],({theme:e})=>e.color.gray2),eZ=U(st).withConfig({displayName:"SettingsModal__ModelNameText"})([`
  font-size: 1.4rem;
  font-weight: 400;
  color: `,`;
`],({theme:e})=>e.color.foreground),tZ=U(st).withConfig({displayName:"SettingsModal__EnableModelsTitle"})([`
  font-size: 1.6rem;
  font-weight: 600;
  color: `,`;
`],({theme:e})=>e.color.foreground),nZ=U(tt).attrs({flexDirection:"column",gap:"1.6rem"}).withConfig({displayName:"SettingsModal__SchemaAccessSection"})([`
  width: 100%;
`]),rZ=U(tt).attrs({justifyContent:"space-between",align:"center",gap:"1rem"}).withConfig({displayName:"SettingsModal__SchemaAccessHeader"})([`
  width: 100%;
`]),iZ=U(st).withConfig({displayName:"SettingsModal__SchemaAccessTitle"})([`
  font-size: 1.6rem;
  font-weight: 600;
  color: `,`;
  flex: 1;
`],({theme:e})=>e.color.foreground),oZ=U(tt).attrs({gap:"1.5rem",align:"flex-start"}).withConfig({displayName:"SettingsModal__SchemaCheckboxContainer"})([`
  background: rgba(68, 71, 90, 0.56);
  padding: 0.75rem;
  border-radius: 0.4rem;
  width: 100%;
`]),aZ=U(tt).attrs({gap:"1.5rem",align:"center"}).withConfig({displayName:"SettingsModal__SchemaCheckboxInner"})([`
  flex: 1;
  padding: 0.75rem;
  border-radius: 0.5rem;
`]),sZ=U.div.withConfig({displayName:"SettingsModal__SchemaCheckboxWrapper"})([`
  flex-shrink: 0;
  display: flex;
  align-items: center;
`]),lZ=U(tt).attrs({flexDirection:"column",gap:"0.6rem"}).withConfig({displayName:"SettingsModal__SchemaCheckboxContent"})([`
  flex: 1;
`]),cZ=U(st).withConfig({displayName:"SettingsModal__SchemaCheckboxLabel"})([`
  font-size: 1.4rem;
  font-weight: 500;
  color: `,`;
`],({theme:e})=>e.color.foreground),uZ=U(st).withConfig({displayName:"SettingsModal__SchemaCheckboxDescription"})([`
  font-size: 1.3rem;
  font-weight: 400;
  color: `,`;
`],({theme:e})=>e.color.gray2),dZ=U.span.withConfig({displayName:"SettingsModal__SchemaCheckboxDescriptionBold"})([`
  font-weight: 500;
  color: `,`;
`],({theme:e})=>e.color.foreground),fZ=U(tt).attrs({flexDirection:"column",gap:"2rem"}).withConfig({displayName:"SettingsModal__FooterSection"})([`
  padding: 2.4rem 2.4rem 0.4rem 2.4rem;
  width: 100%;
  flex-shrink: 0;
`]),hZ=U(tt).attrs({justifyContent:"flex-end",align:"center",gap:"1.6rem"}).withConfig({displayName:"SettingsModal__FooterButtons"})([`
  width: 100%;
`]),pZ=U(vn).withConfig({displayName:"SettingsModal__CancelButton"})([`
  flex: 1;
  padding: 1.1rem 1.2rem;
  display: flex;
  align-items: center;
  gap: 0.4rem;
  font-size: 1.4rem;
  font-weight: 500;
  width: 100%;
  height: 4rem;
`]),mZ=U(vn).withConfig({displayName:"SettingsModal__SaveButton"})([`
  padding: 1.1rem 1.2rem;
  font-size: 1.4rem;
  font-weight: 500;
  flex: 1;
  height: 4rem;
  width: 100%;
`]),q0=e=>e==="openai"?"OpenAI":"Anthropic",OI=e=>da.filter(t=>t.provider===e),gZ=e=>{var r,i;const t=[],n=lf();for(const o of n)(i=(r=e.providers)==null?void 0:r[o])!=null&&i.apiKey&&t.push(o);return t},yZ=({open:e,onOpenChange:t})=>{const{aiAssistantSettings:n,updateSettings:r}=vc(),i=x.useCallback((ae,ue)=>{const me=lf(),Fe={};for(const Ie of me)Fe[Ie]=ae(Ie)??ue;return Fe},[]),[o,a]=x.useState(()=>gZ(n)[0]||lf()[0]),[s,l]=x.useState(()=>i(ae=>{var ue,me;return((me=(ue=n.providers)==null?void 0:ue[ae])==null?void 0:me.apiKey)||""},"")),[c,u]=x.useState(()=>i(ae=>{var ue,me;return((me=(ue=n.providers)==null?void 0:ue[ae])==null?void 0:me.enabledModels)||[]},[])),[d,f]=x.useState(()=>i(ae=>{var ue,me;return((me=(ue=n.providers)==null?void 0:ue[ae])==null?void 0:me.grantSchemaAccess)!==!1},!0)),[p,g]=x.useState(()=>i(ae=>{var ue,me;return!!((me=(ue=n.providers)==null?void 0:ue[ae])!=null&&me.apiKey)},!1)),[h,y]=x.useState(()=>i(()=>"idle","idle")),[b,w]=x.useState(()=>i(()=>null,null)),[S,E]=x.useState(()=>i(()=>!1,!1)),_=x.useRef(null),m=x.useCallback(ae=>{a(ae),w(ue=>({...ue,[ae]:null}))},[]),C=x.useCallback((ae,ue)=>{l(me=>({...me,[ae]:ue})),w(me=>({...me,[ae]:null})),p[ae]&&g(me=>({...me,[ae]:!1}))},[p]),T=x.useCallback(async ae=>{const ue=s[ae];if(!ue){w(Ie=>({...Ie,[ae]:"Please enter an API key"}));return}y(Ie=>({...Ie,[ae]:"validating"})),w(Ie=>({...Ie,[ae]:null}));const me=OI(ae);if(me.length===0){y(Ie=>({...Ie,[ae]:"error"})),w(Ie=>({...Ie,[ae]:"No models available for this provider"}));return}const Fe=(me.find(Ie=>Ie.isTestModel)??me[0]).value;try{const Ie=await t5(ue,Fe);if(!Ie.valid)y(Ee=>({...Ee,[ae]:"error"})),w(Ee=>({...Ee,[ae]:Ie.error||"Invalid API key"}));else{const Ee=da.filter(He=>He.defaultEnabled&&He.provider===ae).map(He=>He.value);Ee.length>0&&u(He=>({...He,[ae]:Ee})),y(He=>({...He,[ae]:"validated"})),g(He=>({...He,[ae]:!0})),w(He=>({...He,[ae]:null}))}}catch(Ie){y(He=>({...He,[ae]:"error"}));const Ee=Ie instanceof Error?Ie.message:"Failed to validate API key";w(He=>({...He,[ae]:Ee}))}},[s]),O=x.useCallback(ae=>{l(ue=>({...ue,[ae]:""})),g(ue=>({...ue,[ae]:!1})),y(ue=>({...ue,[ae]:"idle"})),w(ue=>({...ue,[ae]:null})),E(ue=>({...ue,[ae]:!1}))},[]),R=x.useCallback((ae,ue)=>{u(me=>{const Fe=me[ae],Ie=Fe.includes(ue);return{...me,[ae]:Ie?Fe.filter(Ee=>Ee!==ue):[...Fe,ue]}})},[]),j=x.useCallback((ae,ue)=>{f(me=>({...me,[ae]:ue}))},[]),D=x.useCallback(()=>{const ae={...n.providers},ue=lf();for(const Ie of ue)p[Ie]?ae[Ie]={apiKey:s[Ie],enabledModels:c[Ie],grantSchemaAccess:d[Ie]}:delete ae[Ie];const me={...n,providers:ae},Fe=Qbe(me.selectedModel,c);me.selectedModel=Fe||void 0,r(Mn.AI_ASSISTANT_SETTINGS,me),Ro.success("Settings saved successfully"),t==null||t(!1)},[n,s,c,d,p,r,t]),L=x.useCallback(()=>{t==null||t(!1)},[t]),V=p[o],z=s[o],B=h[o],H=b[o],J=S[o],ne=!!(z&&!J),q=x.useMemo(()=>OI(o),[o]),ee=x.useMemo(()=>c[o],[c,o]),te=x.useMemo(()=>lf(),[]),$=(ae,ue)=>{const me=ue?"#f8f8f2":"#9ca3af";return ae==="openai"?v.jsx(bp,{width:"20",height:"20",color:me}):v.jsx(wp,{width:"20",height:"20",color:me})};return v.jsx(Pm,{open:e,onOpenChange:t,children:v.jsxs(Dm,{children:[v.jsx(eo,{children:v.jsx(Zl,{primitive:Fm})}),v.jsx(xJ,{"aria-describedby":"ai-settings-modal-description",children:v.jsxs(wJ,{children:[v.jsx(_J,{children:v.jsxs(EJ,{children:[v.jsxs(SJ,{children:[v.jsx(CJ,{children:"Assistant Settings"}),v.jsx(TJ,{id:"ai-settings-modal-description",children:"Modify settings for your AI assistant, set up new providers, and review access."})]}),v.jsx(AJ,{onClick:L,children:v.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{d:"M15 5L5 15M5 5L15 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})}),v.jsx(II,{}),v.jsxs(IJ,{children:[v.jsx(OJ,{children:te.map(ae=>{const ue=o===ae;return v.jsxs(kJ,{$active:ue,onClick:()=>m(ae),"data-hook":`ai-settings-provider-${ae}`,children:[v.jsxs(NJ,{children:[$(ae,ue),v.jsx(RJ,{$active:ue,children:q0(ae)})]}),v.jsxs(jJ,{$enabled:p[ae],children:[v.jsx(LJ,{$enabled:p[ae]}),v.jsx(MJ,{"data-hook":"ai-settings-provider-status",$enabled:p[ae],children:p[ae]?"Enabled":"Inactive"})]})]},ae)})}),v.jsx(PJ,{}),v.jsxs(DJ,{children:[v.jsx(Jw,{children:v.jsxs(tt,{flexDirection:"column",gap:"1.2rem",align:"flex-start",children:[v.jsxs(tt,{justifyContent:"space-between",align:"center",gap:"1rem",style:{width:"100%"},children:[v.jsx(FJ,{children:"API Key"}),p[o]&&v.jsx(HJ,{icon:v.jsx(Nu,{size:"13px"}),"data-hook":"ai-settings-validated-badge",children:"Validated"}),v.jsxs(st,{size:"sm",color:"gray2",children:["Get your API key from"," ",v.jsx(VJ,{href:o==="openai"?"https://platform.openai.com/api-keys":"https://console.anthropic.com/settings/keys",target:"_blank",rel:"noopener noreferrer",children:q0(o)}),"."]})]}),v.jsxs(zJ,{children:[v.jsx(BJ,{ref:_,type:"text",value:ne?"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022":z,autoComplete:"off",onChange:ae=>{C(o,ae.target.value)},placeholder:`Enter ${q0(o)} API key`,$hasError:!!H,$showEditButton:ne,readOnly:ne,onFocus:()=>{E(ae=>({...ae,[o]:!0}))},onBlur:()=>{E(ae=>({...ae,[o]:!1})),_.current&&_.current.blur()},onMouseDown:ae=>{ne&&ae.preventDefault()},tabIndex:ne?-1:0,style:{cursor:ne?"default":"text"},"data-hook":"ai-settings-api-key"}),ne&&v.jsx($J,{type:"button",onClick:()=>{var ae;(ae=_.current)==null||ae.focus()},title:"Edit API key",children:v.jsx(Qd,{size:"20px"})})]}),H&&v.jsx(qJ,{children:H}),!H&&v.jsx(UJ,{children:"Stored locally in your browser and never sent to QuestDB servers. This API key is used to authenticate your requests to the model provider."}),v.jsx(WJ,{onClick:()=>V?O(o):T(o),disabled:B==="validating"||!V&&!z,"data-hook":"ai-settings-test-api",children:B==="validating"?v.jsxs(tt,{gap:"0.8rem",align:"center",children:[v.jsx(wv,{size:"1.6rem"}),v.jsx("span",{children:"Validating..."})]}):V?"Remove API Key":"Validate API Key"})]})}),v.jsx(Jw,{children:v.jsxs(tt,{flexDirection:"column",gap:"1.6rem",align:"flex-start",children:[v.jsx(tZ,{children:"Enable Models"}),V?v.jsx(XJ,{children:q.map(ae=>{const ue=ee.includes(ae.value);return v.jsxs(YJ,{"data-model":ae.label,"data-enabled":ue,children:[v.jsxs(QJ,{children:[v.jsx(eZ,{children:ae.label}),ae.isSlow&&v.jsxs(JJ,{children:[v.jsx(ih,{color:"#bbb"}),v.jsx(ZJ,{children:"Due to advanced reasoning & thinking capabilities, responses using this model can be slow."})]})]}),v.jsx(pI,{checked:ue,onChange:()=>R(o,ae.value)})]},ae.value)})}):v.jsx(GJ,{children:v.jsx(KJ,{children:"When you've entered and validated your API key, you'll be able to select and enable available models."})})]})}),v.jsx(Jw,{children:v.jsxs(nZ,{children:[v.jsx(rZ,{children:v.jsx(iZ,{children:"Schema Access"})}),v.jsx(oZ,{children:v.jsxs(aZ,{children:[v.jsx(sZ,{children:v.jsx(rp,{id:`schema-access-${o}`,checked:o==="openai"?d.openai:d.anthropic,onChange:ae=>j(o,ae.target.checked),disabled:!V,"data-hook":"ai-settings-schema-access"})}),v.jsxs(lZ,{align:"flex-start",children:[v.jsxs(cZ,{children:["Grant schema access to"," ",q0(o)]}),v.jsxs(uZ,{children:["When enabled, the AI assistant can access your database schema information to provide more accurate suggestions and explanations. Schema information helps the AI understand your table structures, column names, and relationships."," ",v.jsx(dZ,{children:"The AI model will not have access to your data."})]})]})]})})]})})]})]}),v.jsx(II,{}),v.jsx(fZ,{children:v.jsxs(hZ,{children:[v.jsx(pZ,{onClick:L,skin:"transparent","data-hook":"ai-settings-cancel",children:"Cancel"}),v.jsx(mZ,{onClick:D,skin:"primary","data-hook":"ai-settings-save",children:"Save Settings"})]})})]})})]})})},kI=Vn([`
  position: absolute;
  width: 7px;
  height: 7px;
`]),xp=U.div.withConfig({displayName:"Tooltip__TooltipArrow"})([`
  `,`;

  &::before {
    `,`;
    top: 0;
    left: 0;
    content: "";
    transform: rotate(45deg);
    background: `,`;
    border: 1px solid `,`;
    border-radius: 1px;
  }
`],kI,kI,vt("backgroundDarker"),vt("gray1")),vZ=U.div.withConfig({displayName:"Tooltip__Wrapper"})([`
  position: relative;
  max-width: 460px;
  padding: 1rem;
  background: `,`;
  border: 1px solid `,`;
  border-radius: 1px;

  &[data-popper-placement^="right"] `,` {
    left: -4px;

    &::before {
      border-right: none;
      border-top: none;
    }
  }

  &[data-popper-placement^="left"] `,` {
    right: -4px;

    &::before {
      border-left: none;
      border-bottom: none;
    }
  }

  &[data-popper-placement^="top"] `,` {
    bottom: -4px;

    &::before {
      border-left: none;
      border-top: none;
    }
  }

  &[data-popper-placement^="bottom"] `,` {
    top: -4px;

    &::before {
      border-right: none;
      border-bottom: none;
    }
  }
`],vt("backgroundDarker"),vt("gray1"),xp,xp,xp,xp),_i=({arrow:e,children:t,textAlign:n="left",...r})=>v.jsxs(vZ,{...r,"data-hook":"tooltip",style:{textAlign:n},children:[v.jsx(st,{color:"foreground",children:t}),e&&v.jsx(xp,{ref:e.setArrowElement,style:e.styles})]}),bZ=()=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"7",height:"12",viewBox:"0 0 7 12",fill:"none",children:v.jsx("path",{d:"M3.06 1.88667L5.17333 4L6.11333 3.06L3.06 0L0 3.06L0.946667 4L3.06 1.88667ZM3.06 10.1133L0.946667 8L0.00666682 8.94L3.06 12L6.12 8.94L5.17333 8L3.06 10.1133Z",fill:"currentColor"})}),NI=U.button.withConfig({displayName:"ModelDropdown__DropdownTrigger"})([`
  display: flex;
  align-items: center;
  gap: 0.8rem;
  padding: 0.75rem 1rem;
  background: `,`;
  border-radius: 0.4rem;
  border: none;
  color: `,`;
  font-size: 1.2rem;
  white-space: nowrap;
  height: 3rem;
  min-width: 17rem;
  justify-content: space-between;
  cursor: pointer;

  `,`

  &:focus-visible {
    outline: none;
  }
  &:focus {
    outline: none;
  }

  &:hover {
    background: `,`;
    color: `,`;
  }

  `,`

  > * {
    color: inherit;
  }
`],({theme:e})=>e.color.background,({theme:e})=>e.color.gray2,({disabled:e})=>e&&Vn([`
      cursor: not-allowed;
      gap: 0.5rem;
      min-width: unset;
    `]),({theme:e})=>e.color.comment,({theme:e})=>e.color.foreground,({disabled:e})=>e&&Vn([`
      &:hover {
        background: `,`;
        color: `,`;
      }
    `],({theme:t})=>t.color.background,({theme:t})=>t.color.gray2)),wZ=U(bZ).withConfig({displayName:"ModelDropdown__DropdownIcon"})([`
  width: 1.6rem;
  height: 1.6rem;
  flex-shrink: 0;
  color: inherit;
`]),xZ=U.div.withConfig({displayName:"ModelDropdown__DropdownContent"})([`
  display: flex;
  flex-direction: column;
  background: `,`;
  border: 1px solid rgba(255, 255, 255, 0.12);
  border-radius: 0.6rem;
  padding: 1.2rem;
  box-shadow: 0 0.5rem 0.5rem 0 `,`;
  min-width: 22.8rem;
  gap: 0.4rem;
  z-index: 9999;
`],({theme:e})=>e.color.backgroundDarker,({theme:e})=>e.color.black40),_Z=U(st).withConfig({displayName:"ModelDropdown__Title"})([`
  font-size: 1.3rem;
  color: `,`;
  margin: 0;
  margin-bottom: 0.4rem;
`],({theme:e})=>e.color.gray2),EZ=U.div.withConfig({displayName:"ModelDropdown__ModelItem"})([`
  display: flex;
  align-items: center;
  gap: 0.6rem;
  padding: 0.5rem 0.8rem;
  border-radius: 0.4rem;
  cursor: pointer;
  background: `,`;
  color: `,`;
  font-size: 1.2rem;
  line-height: 1.5;
  position: relative;
  margin: 0;
  box-shadow: inset 0px 1px 4px 0px rgba(0, 0, 0, 0.1);
  border: none;
  width: 100%;

  `,`

  &:hover {
    background: `,`;
    color: `,`;
  }
`],({theme:e})=>e.color.backgroundDarker,({theme:e})=>e.color.gray2,({$selected:e})=>e&&Vn([`
      background: `,`;
      color: `,`;
    `],({theme:t})=>t.color.background,({theme:t})=>t.color.foreground),({theme:e})=>e.color.background,({theme:e})=>e.color.foreground),SZ=U(tt).withConfig({displayName:"ModelDropdown__ModelIconTitle"})([`
  flex: 1;
  gap: 0.6rem;
  align-items: center;
`]),CZ=U(st).withConfig({displayName:"ModelDropdown__ModelLabel"})([`
  font-size: 1.2rem;
  color: inherit;
`]),TZ=U(UU).withConfig({displayName:"ModelDropdown__CheckIcon"})([`
  width: 1.8rem;
  height: 1.8rem;
  color: `,`;
  flex-shrink: 0;
`],({theme:e})=>e.color.green),AZ=()=>{const{aiAssistantSettings:e,updateSettings:t}=vc(),{isConfigured:n,models:r,currentModel:i}=kd(),[o,a]=x.useState(!1),s=x.useMemo(()=>da.filter(u=>r.includes(u.value)),[r]),l=u=>{t(Mn.AI_ASSISTANT_SETTINGS,{...e,selectedModel:u}),a(!1)};if(!n)return null;const c=i?s.find(u=>u.value===i)??s[0]:s[0]??null;return c?v.jsx(If,{active:o,onToggle:a,placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,8]}}],trigger:v.jsxs(NI,{"data-hook":"ai-settings-model-dropdown",children:[c.provider==="openai"?v.jsx(bp,{width:"16",height:"16"}):v.jsx(wp,{width:"16",height:"16"}),v.jsx(st,{size:"sm",color:"foreground",margin:"0 auto 0 0",children:c.label}),v.jsx(wZ,{})]}),children:v.jsxs(xZ,{children:[v.jsx(_Z,{children:"Select Model"}),s.map(u=>{const d=i===u.value;return v.jsxs(EZ,{"data-hook":"ai-settings-model-item",onClick:()=>l(u.value),$selected:d,children:[v.jsxs(SZ,{children:[u.provider==="openai"?v.jsx(bp,{width:"16",height:"16",color:"#bbb"}):v.jsx(wp,{width:"16",height:"16",color:"#bbb"}),v.jsx(CZ,{"data-hook":"ai-settings-model-item-label",children:u.label}),u.isSlow&&v.jsx(ih,{color:"#bbb"})]}),d&&v.jsx(TZ,{})]},u.value)})]})}):v.jsxs(NI,{disabled:!0,children:[v.jsx(mi,{trigger:v.jsx(Ic,{size:"16"}),placement:"bottom",modifiers:[{name:"offset",options:{offset:[0,8]}}],children:v.jsx(_i,{children:v.jsx(st,{size:"sm",color:"foreground",margin:"0",children:"You can enable models in the AI Assistant settings"})})}),v.jsx(st,{size:"sm",color:"foreground",margin:"0",children:"No models enabled"})]})},IZ=U(vn).withConfig({displayName:"SetupAIAssistant__SettingsButton"})([`
  padding: 0.6rem;

  &:focus-visible {
    outline: 2px solid `,`;
  }
`],({theme:e})=>e.color.cyan),OZ=()=>{const[e,t]=x.useState(!1),[n,r]=x.useState(!1),[i,o]=x.useState(!1),a=x.useRef(null),{isConfigured:s}=kd(),l=()=>{s?r(!0):i?(o(!1),t(!0)):o(!0)};return v.jsxs(v.Fragment,{children:[v.jsxs(tt,{gap:"0.8rem",align:"center",children:[v.jsx(AZ,{}),v.jsx("div",{ref:a,children:v.jsx(IZ,{skin:s?"secondary":"gradient",gradientStyle:"vertical",gradientWeight:"thick",onClick:l,prefixIcon:v.jsx(Cd,{size:16,variant:"hollow"}),"data-hook":"ai-assistant-settings-button",title:"AI Assistant Settings",children:s?"Settings":"Configure"})})]}),v.jsx(B5e,{triggerRef:a,showPromo:i,setShowPromo:o,onSetupClick:()=>{o(!1),t(!0)}}),v.jsx(bJ,{open:e,onOpenChange:t}),n&&v.jsx(yZ,{open:!0,onOpenChange:r})]})},Zw=(e,t)=>typeof e=="number"||typeof e=="string"?e:t,RI=Vn([`
  `,`
`],({width:e})=>e?`width: ${e};`:""),kZ=Vn([`
  `,`
`],({align:e})=>e?`justify-content: ${e};`:""),NZ=U.th.withConfig({displayName:"Table__Th"})([`
  `,`
`],RI),RZ=U.td.withConfig({displayName:"Table__Td"})([`
  `,`
`],RI),jI=U.div.withConfig({displayName:"Table__TdChild"})([`
  display: flex;
  `,`
`],kZ),LI=({row:e,columns:t,index:n})=>t.map((r,i)=>v.jsx(RZ,{width:r.width,children:v.jsx(jI,{align:r.align,children:r.render({data:e,index:n})})},Zw(r.id,i))),MI=({columns:e,rows:t,className:n,rowRender:r})=>{const i=e.filter(({header:o})=>o).length>0;return v.jsxs("table",{className:n,children:[i&&v.jsx("thead",{children:v.jsx("tr",{children:e.map((o,a)=>v.jsx(NZ,{width:o.width,children:v.jsx(jI,{align:o.align,children:o.header})},Zw(o.header,a)))})}),v.jsx("tbody",{children:t.map((o,a)=>{const s=Zw(o.id,a);return v.jsx("tr",{children:r?r({row:o,columns:e,index:a,defaultRowRender:LI}):LI({row:o,columns:e,index:a})},s)})})]})},PI={direction:"bottom",fontSize:"md",readOnly:!1,selected:!1,size:"md",type:"button"},jZ=Vn([`
  display: flex;
  align-items: center;
  justify-content: center;
  background: `,`;
  border: none;
  outline: 0;
  font-size: `,`;
  font-weight: 400;
  line-height: 1.15;
  width: 3.5rem;
  height: 3.5rem;
  border-radius: 0.4rem;
  cursor: pointer;
  `,`;
  `,`;
  color: `,`;

  svg + span,
  img + span {
    margin-left: 1rem;
  }
`],({selected:e})=>e?"#2d303e":"transparent",({fontSize:e,theme:t})=>e?t.fontSize[e]:t.fontSize.md,dI,({disabled:e})=>e&&"cursor: default; pointer-events: none;",({selected:e,theme:t})=>t.color[e?"green":"offWhite"]),LZ=(e,t)=>Vn([`
  &:hover:not([disabled]) {
    background: `,`;
    opacity: 1;
  }

  &:active:not([disabled]) {
    filter: brightness(90%);
  }

  `,`
`],vt(t.background),({readOnly:n})=>n&&`
      filter: brightness(0.5);
      cursor: default;
    `),MZ=U.button.withConfig({displayName:"ToggleButton__PrimaryToggleButtonStyled"})([`
  `,`;
  `,`;
`],jZ,LZ({},{background:"comment"})),PZ=(e,t)=>v.jsx(MZ,{...PI,...e,ref:t,"data-selected":e.selected}),ul=x.forwardRef(PZ),ul.defaultProps=PI;var ex=0,dd=1,_p=2,DZ=4;function W0(e,t){return function(n){return e(t(n))}}function aAe(e,t){return t(e)}function FZ(e,t){return function(n){return e(t,n)}}function UZ(e,t){return function(){return e(t)}}function tx(e,t){return t(e),e}function mo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}function sAe(e){e()}function zZ(e){return function(){return e}}function lAe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){t.map(sAe)}}function Nf(){}function gi(e,t){return e(dd,t)}function Ei(e,t){e(ex,t)}function DI(e){e(_p)}function Mc(e){return e(DZ)}function rr(e,t){return gi(e,FZ(t,ex))}function Rf(e,t){var n=e(dd,function(r){n(),t(r)});return n}function cr(){var e=[];return function(t,n){switch(t){case _p:e.splice(0,e.length);return;case dd:return e.push(n),function(){var r=e.indexOf(n);r>-1&&e.splice(r,1)};case ex:e.slice().forEach(function(r){r(n)});return;default:throw new Error("unrecognized action "+t)}}}function _n(e){var t=e,n=cr();return function(r,i){switch(r){case dd:var o=i;o(t);break;case ex:t=i;break;case DZ:return t}return n(r,i)}}function cAe(e){var t,n,r=function(){return t&&t()};return function(i,o){switch(i){case dd:return o?n===o?void 0:(r(),n=o,t=gi(e,o),t):(r(),Nf);case _p:r(),n=null;return;default:throw new Error("unrecognized action "+i)}}}function zs(e){return tx(cr(),function(t){return rr(e,t)})}function is(e,t){return tx(_n(t),function(n){return rr(e,n)})}function uAe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(aAe,r)}}function rn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=uAe.apply(void 0,n);return function(o,a){switch(o){case dd:return gi(e,i(a));case _p:DI(e);return;default:throw new Error("unrecognized action "+o)}}}function BZ(e,t){return e===t}function _o(e){e===void 0&&(e=BZ);var t;return function(n){return function(r){e(t,r)||(t=r,n(r))}}}function $r(e){return function(t){return function(n){e(n)&&t(n)}}}function Pn(e){return function(t){return W0(t,e)}}function fd(e){return function(t){return function(){return t(e)}}}function yu(e,t){return function(n){return function(r){return n(t=e(t,r))}}}function nx(e){return function(t){return function(n){e>0?e--:t(n)}}}function Ep(e){var t,n;return function(r){return function(i){t=i,!n&&(n=setTimeout(function(){n=void 0,r(t)},e))}}}function $Z(e){var t,n;return function(r){return function(i){t=i,n&&clearTimeout(n),n=setTimeout(function(){r(t)},e)}}}function Zr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new Array(t.length),i=0,o=null,a=Math.pow(2,t.length)-1;return t.forEach(function(s,l){var c=Math.pow(2,l);gi(s,function(u){var d=i;i=i|c,r[l]=u,d!==a&&i===a&&o&&(o(),o=null)})}),function(s){return function(l){var c=function(){return s([l].concat(r))};i===a?c():o=c}}}function HZ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r,i){switch(r){case dd:return lAe.apply(void 0,t.map(function(o){return gi(o,i)}));case _p:return;default:throw new Error("unrecognized action "+r)}}}function ei(e,t){return t===void 0&&(t=BZ),rn(e,_o(t))}function za(){for(var e=cr(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=new Array(n.length),o=0,a=Math.pow(2,n.length)-1;return n.forEach(function(s,l){var c=Math.pow(2,l);gi(s,function(u){i[l]=u,o=o|c,o===a&&Ei(e,i)})}),function(s,l){switch(s){case dd:return o===a&&l(i),gi(e,l);case _p:return DI(e);default:throw new Error("unrecognized action "+s)}}}function Si(e,t,n){t===void 0&&(t=[]);var r=n===void 0?{singleton:!0}:n,i=r.singleton;return{id:dAe(),constructor:e,dependencies:t,singleton:i}}var dAe=function(){return Symbol()};function fAe(e){var t=new Map,n=function r(i){var o=i.id,a=i.constructor,s=i.dependencies,l=i.singleton;if(l&&t.has(o))return t.get(o);var c=a(s.map(function(u){return r(u)}));return l&&t.set(o,c),c};return n(e)}function hAe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function pAe(e,t){if(e){if(typeof e=="string")return VZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VZ(e,t)}}function VZ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FI(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=pAe(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var mAe=["children"];function gAe(e,t){for(var n={},r={},i=0,o=e.length;i<o;)r[e[i]]=1,i+=1;for(var a in t)r.hasOwnProperty(a)||(n[a]=t[a]);return n}var rx=typeof document<"u"?x.useLayoutEffect:x.useEffect;function UI(e,t,n){var r=Object.keys(t.required||{}),i=Object.keys(t.optional||{}),o=Object.keys(t.methods||{}),a=Object.keys(t.events||{}),s=x.createContext({});function l(h,y){h.propsReady&&Ei(h.propsReady,!1);for(var b=FI(r),w;!(w=b()).done;){var S=w.value,E=h[t.required[S]];Ei(E,y[S])}for(var _=FI(i),m;!(m=_()).done;){var C=m.value;if(C in y){var T=h[t.optional[C]];Ei(T,y[C])}}h.propsReady&&Ei(h.propsReady,!0)}function c(h){return o.reduce(function(y,b){return y[b]=function(w){var S=h[t.methods[b]];Ei(S,w)},y},{})}function u(h){return a.reduce(function(y,b){return y[b]=cAe(h[t.events[b]]),y},{})}var d=x.forwardRef(function(h,y){var b=h.children,w=hAe(h,mAe),S=x.useState(function(){return tx(fAe(e),function(C){return l(C,w)})}),E=S[0],_=x.useState(UZ(u,E)),m=_[0];return rx(function(){for(var C=FI(a),T;!(T=C()).done;){var O=T.value;O in w&&gi(m[O],w[O])}return function(){Object.values(m).map(DI)}},[w,m,E]),rx(function(){l(E,w)}),x.useImperativeHandle(y,zZ(c(E))),x.createElement(s.Provider,{value:E},n?x.createElement(n,gAe([].concat(r,i,a),w),b):b)}),f=function(h){return x.useCallback(FZ(Ei,x.useContext(s)[h]),[h])},p=function(h){var y=x.useContext(s),b=y[h],w=x.useState(UZ(Mc,b)),S=w[0],E=w[1];return rx(function(){return gi(b,function(_){_!==S&&E(zZ(_))})},[b,S]),S},g=function(h,y){var b=x.useContext(s),w=b[h];rx(function(){return gi(w,y)},[y,w])};return{Component:d,usePublisher:f,useEmitterValue:p,useEmitter:g}}function xr(){return xr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xr.apply(this,arguments)}function Sp(e,t){if(e==null)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}function qZ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jf(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=(function(i,o){if(i){if(typeof i=="string")return qZ(i,o);var a=Object.prototype.toString.call(i).slice(8,-1);return a==="Object"&&i.constructor&&(a=i.constructor.name),a==="Map"||a==="Set"?Array.from(i):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?qZ(i,o):void 0}})(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var G0,qo,yAe=typeof document<"u"?x.useLayoutEffect:x.useEffect;(function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR"})(qo||(qo={}));var vAe=((G0={})[qo.DEBUG]="debug",G0[qo.INFO]="log",G0[qo.WARN]="warn",G0[qo.ERROR]="error",G0),hd=Si(function(){var e=_n(qo.ERROR);return{log:_n(function(t,n,r){var i;r===void 0&&(r=qo.INFO),r>=((i=(typeof globalThis>"u"?window:globalThis).VIRTUOSO_LOG_LEVEL)!=null?i:Mc(e))&&console[vAe[r]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,n)}),logLevel:e}},[],{singleton:!0});function zI(e,t){t===void 0&&(t=!0);var n=x.useRef(null),r=function(o){};if(typeof ResizeObserver<"u"){var i=new ResizeObserver(function(o){var a=o[0].target;a.offsetParent!==null&&e(a)});r=function(o){o&&t?(i.observe(o),n.current=o):(n.current&&i.unobserve(n.current),n.current=null)}}return{ref:n,callbackRef:r}}function pd(e,t){return t===void 0&&(t=!0),zI(e,t).callbackRef}function WZ(e,t,n,r,i,o,a){return zI(function(s){for(var l=(function(g,h,y,b){var w=g.length;if(w===0)return null;for(var S=[],E=0;E<w;E++){var _=g.item(E);if(_&&_.dataset.index!==void 0){var m=parseInt(_.dataset.index),C=parseFloat(_.dataset.knownSize),T=h(_,"offsetHeight");if(T===0&&b("Zero-sized element, this should not happen",{child:_},qo.ERROR),T!==C){var O=S[S.length-1];S.length===0||O.size!==T||O.endIndex!==m-1?S.push({startIndex:m,endIndex:m,size:T}):S[S.length-1].endIndex++}}}return S})(s.children,t,0,i),c=s.parentElement;!c.dataset.virtuosoScroller;)c=c.parentElement;var u=c.firstElementChild.dataset.viewportType==="window",d=a?a.scrollTop:u?window.pageYOffset||document.documentElement.scrollTop:c.scrollTop,f=a?a.scrollHeight:u?document.documentElement.scrollHeight:c.scrollHeight,p=a?a.offsetHeight:u?window.innerHeight:c.offsetHeight;r({scrollTop:Math.max(d,0),scrollHeight:f,viewportHeight:p}),o==null||o((function(g,h,y){return h==="normal"||h!=null&&h.endsWith("px")||y("row-gap was not resolved to pixel value correctly",h,qo.WARN),h==="normal"?0:parseInt(h??"0",10)})(0,getComputedStyle(s).rowGap,i)),l!==null&&e(l)},n)}function vu(e,t){return Math.round(e.getBoundingClientRect()[t])}function GZ(e,t){return Math.abs(e-t)<1.01}function KZ(e,t,n,r,i){r===void 0&&(r=Nf);var o=x.useRef(null),a=x.useRef(null),s=x.useRef(null),l=x.useRef(!1),c=x.useCallback(function(u){var d=u.target,f=d===window||d===document,p=f?window.pageYOffset||document.documentElement.scrollTop:d.scrollTop,g=f?document.documentElement.scrollHeight:d.scrollHeight,h=f?window.innerHeight:d.offsetHeight,y=function(){e({scrollTop:Math.max(p,0),scrollHeight:g,viewportHeight:h})};l.current?w_.flushSync(y):y(),l.current=!1,a.current!==null&&(p===a.current||p<=0||p===g-h)&&(a.current=null,t(!0),s.current&&(clearTimeout(s.current),s.current=null))},[e,t]);return x.useEffect(function(){var u=i||o.current;return r(i||o.current),c({target:u}),u.addEventListener("scroll",c,{passive:!0}),function(){r(null),u.removeEventListener("scroll",c)}},[o,c,n,r,i]),{scrollerRef:o,scrollByCallback:function(u){l.current=!0,o.current.scrollBy(u)},scrollToCallback:function(u){var d=o.current;if(d&&(!("offsetHeight"in d)||d.offsetHeight!==0)){var f,p,g,h=u.behavior==="smooth";if(d===window?(p=Math.max(vu(document.documentElement,"height"),document.documentElement.scrollHeight),f=window.innerHeight,g=document.documentElement.scrollTop):(p=d.scrollHeight,f=vu(d,"height"),g=d.scrollTop),u.top=Math.ceil(Math.max(Math.min(p-f,u.top),0)),GZ(f,p)||u.top===g)return e({scrollTop:g,scrollHeight:p,viewportHeight:f}),void(h&&t(!0));h?(a.current=u.top,s.current&&clearTimeout(s.current),s.current=setTimeout(function(){s.current=null,a.current=null,t(!0)},1e3)):a.current=null,d.scrollTo(u)}}}}var xs=Si(function(){var e=cr(),t=cr(),n=_n(0),r=cr(),i=_n(0),o=cr(),a=cr(),s=_n(0),l=_n(0),c=_n(0),u=_n(0),d=cr(),f=cr(),p=_n(!1),g=_n(!1);return rr(rn(e,Pn(function(h){return h.scrollTop})),t),rr(rn(e,Pn(function(h){return h.scrollHeight})),a),rr(t,i),{scrollContainerState:e,scrollTop:t,viewportHeight:o,headerHeight:s,fixedHeaderHeight:l,fixedFooterHeight:c,footerHeight:u,scrollHeight:a,smoothScrollTargetReached:r,react18ConcurrentRendering:g,scrollTo:d,scrollBy:f,statefulScrollTop:i,deviation:n,scrollingInProgress:p}},[],{singleton:!0}),K0={lvl:0};function XZ(e,t,n,r,i){return r===void 0&&(r=K0),i===void 0&&(i=K0),{k:e,v:t,lvl:n,l:r,r:i}}function so(e){return e===K0}function X0(){return K0}function BI(e,t){if(so(e))return K0;var n=e.k,r=e.l,i=e.r;if(t===n){if(so(r))return i;if(so(i))return r;var o=YZ(r);return VI(Ia(e,{k:o[0],v:o[1],l:QZ(r)}))}return VI(Ia(e,t<n?{l:BI(r,t)}:{r:BI(i,t)}))}function Pc(e,t,n){if(n===void 0&&(n="k"),so(e))return[-1/0,void 0];if(e[n]===t)return[e.k,e.v];if(e[n]<t){var r=Pc(e.r,t,n);return r[0]===-1/0?[e.k,e.v]:r}return Pc(e.l,t,n)}function Dc(e,t,n){return so(e)?XZ(t,n,1):t===e.k?Ia(e,{k:t,v:n}):(function(r){return qI(ZZ(r))})(Ia(e,t<e.k?{l:Dc(e.l,t,n)}:{r:Dc(e.r,t,n)}))}function $I(e,t,n){if(so(e))return[];var r=e.k,i=e.v,o=e.r,a=[];return r>t&&(a=a.concat($I(e.l,t,n))),r>=t&&r<=n&&a.push({k:r,v:i}),r<=n&&(a=a.concat($I(o,t,n))),a}function ix(e){return so(e)?[]:[].concat(ix(e.l),[{k:e.k,v:e.v}],ix(e.r))}function YZ(e){return so(e.r)?[e.k,e.v]:YZ(e.r)}function QZ(e){return so(e.r)?e.l:VI(Ia(e,{r:QZ(e.r)}))}function Ia(e,t){return XZ(t.k!==void 0?t.k:e.k,t.v!==void 0?t.v:e.v,t.lvl!==void 0?t.lvl:e.lvl,t.l!==void 0?t.l:e.l,t.r!==void 0?t.r:e.r)}function HI(e){return so(e)||e.lvl>e.r.lvl}function VI(e){var t=e.l,n=e.r,r=e.lvl;if(n.lvl>=r-1&&t.lvl>=r-1)return e;if(r>n.lvl+1){if(HI(t))return ZZ(Ia(e,{lvl:r-1}));if(so(t)||so(t.r))throw new Error("Unexpected empty nodes");return Ia(t.r,{l:Ia(t,{r:t.r.l}),r:Ia(e,{l:t.r.r,lvl:r-1}),lvl:r})}if(HI(e))return qI(Ia(e,{lvl:r-1}));if(so(n)||so(n.l))throw new Error("Unexpected empty nodes");var i=n.l,o=HI(i)?n.lvl-1:n.lvl;return Ia(i,{l:Ia(e,{r:i.l,lvl:r-1}),r:qI(Ia(n,{l:i.r,lvl:o})),lvl:i.lvl+1})}function ox(e,t,n){return so(e)?[]:JZ($I(e,Pc(e,t)[0],n),function(r){return{index:r.k,value:r.v}})}function JZ(e,t){var n=e.length;if(n===0)return[];for(var r=t(e[0]),i=r.index,o=r.value,a=[],s=1;s<n;s++){var l=t(e[s]),c=l.index,u=l.value;a.push({start:i,end:c-1,value:o}),i=c,o=u}return a.push({start:i,end:1/0,value:o}),a}function qI(e){var t=e.r,n=e.lvl;return so(t)||so(t.r)||t.lvl!==n||t.r.lvl!==n?e:Ia(t,{l:Ia(e,{r:t.l}),lvl:n+1})}function ZZ(e){var t=e.l;return so(t)||t.lvl!==e.lvl?e:Ia(t,{r:Ia(e,{l:t.r})})}function ax(e,t,n,r){r===void 0&&(r=0);for(var i=e.length-1;r<=i;){var o=Math.floor((r+i)/2),a=n(e[o],t);if(a===0)return o;if(a===-1){if(i-r<2)return o-1;i=o-1}else{if(i===r)return o;r=o+1}}throw new Error("Failed binary finding record in array - "+e.join(",")+", searched for "+t)}function eee(e,t,n){return e[ax(e,t,n)]}var WI=Si(function(){return{recalcInProgress:_n(!1)}},[],{singleton:!0});function bAe(e){var t=e.size,n=e.startIndex,r=e.endIndex;return function(i){return i.start===n&&(i.end===r||i.end===1/0)&&i.value===t}}function GI(e,t){var n=e.index;return t===n?0:t<n?-1:1}function wAe(e,t){var n=e.offset;return t===n?0:t<n?-1:1}function xAe(e){return{index:e.index,value:e}}function tee(e,t,n,r){var i=e,o=0,a=0,s=0,l=0;if(t!==0){s=i[l=ax(i,t-1,GI)].offset;var c=Pc(n,t-1);o=c[0],a=c[1],i.length&&i[l].size===Pc(n,t)[1]&&(l-=1),i=i.slice(0,l+1)}else i=[];for(var u,d=jf(ox(n,t,1/0));!(u=d()).done;){var f=u.value,p=f.start,g=f.value,h=p-o,y=h*a+s+h*r;i.push({offset:y,size:g,index:p}),o=p,s=y,a=g}return{offsetTree:i,lastIndex:o,lastOffset:s,lastSize:a}}function _Ae(e,t){var n=t[0],r=t[1],i=t[3];n.length>0&&(0,t[2])("received item sizes",n,qo.DEBUG);var o=e.sizeTree,a=o,s=0;if(r.length>0&&so(o)&&n.length===2){var l=n[0].size,c=n[1].size;a=r.reduce(function(p,g){return Dc(Dc(p,g,l),g+1,c)},a)}else{var u=(function(p,g){for(var h,y=so(p)?0:1/0,b=jf(g);!(h=b()).done;){var w=h.value,S=w.size,E=w.startIndex,_=w.endIndex;if(y=Math.min(y,E),so(p))p=Dc(p,0,S);else{var m=ox(p,E-1,_+1);if(!m.some(bAe(w))){for(var C,T=!1,O=!1,R=jf(m);!(C=R()).done;){var j=C.value,D=j.start,L=j.end,V=j.value;T?(_>=D||S===V)&&(p=BI(p,D)):(O=V!==S,T=!0),L>_&&_>=D&&V!==S&&(p=Dc(p,_+1,V))}O&&(p=Dc(p,E,S))}}}return[p,y]})(a,n);a=u[0],s=u[1]}if(a===o)return e;var d=tee(e.offsetTree,s,a,i),f=d.offsetTree;return{sizeTree:a,offsetTree:f,lastIndex:d.lastIndex,lastOffset:d.lastOffset,lastSize:d.lastSize,groupOffsetTree:r.reduce(function(p,g){return Dc(p,g,Y0(g,f,i))},X0()),groupIndices:r}}function Y0(e,t,n){if(t.length===0)return 0;var r=eee(t,e,GI),i=e-r.index,o=r.size*i+(i-1)*n+r.offset;return o>0?o+n:o}function nee(e,t,n){if((function(i){return i.groupIndex!==void 0})(e))return t.groupIndices[e.groupIndex]+1;var r=ree(e.index==="LAST"?n:e.index,t);return Math.max(0,r,Math.min(n,r))}function ree(e,t){if(!sx(t))return e;for(var n=0;t.groupIndices[n]<=e+n;)n++;return e+n}function sx(e){return!so(e.groupOffsetTree)}var EAe={offsetHeight:"height",offsetWidth:"width"},bu=Si(function(e){var t=e[0].log,n=e[1].recalcInProgress,r=cr(),i=cr(),o=is(i,0),a=cr(),s=cr(),l=_n(0),c=_n([]),u=_n(void 0),d=_n(void 0),f=_n(function(_,m){return vu(_,EAe[m])}),p=_n(void 0),g=_n(0),h={offsetTree:[],sizeTree:X0(),groupOffsetTree:X0(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]},y=is(rn(r,Zr(c,t,g),yu(_Ae,h),_o()),h);rr(rn(c,$r(function(_){return _.length>0}),Zr(y,g),Pn(function(_){var m=_[0],C=_[1],T=_[2],O=m.reduce(function(R,j,D){return Dc(R,j,Y0(j,C.offsetTree,T)||D)},X0());return xr({},C,{groupIndices:m,groupOffsetTree:O})})),y),rr(rn(i,Zr(y),$r(function(_){return _[0]<_[1].lastIndex}),Pn(function(_){var m=_[1];return[{startIndex:_[0],endIndex:m.lastIndex,size:m.lastSize}]})),r),rr(u,d);var b=is(rn(u,Pn(function(_){return _===void 0})),!0);rr(rn(d,$r(function(_){return _!==void 0&&so(Mc(y).sizeTree)}),Pn(function(_){return[{startIndex:0,endIndex:0,size:_}]})),r);var w=zs(rn(r,Zr(y),yu(function(_,m){var C=m[1];return{changed:C!==_.sizes,sizes:C}},{changed:!1,sizes:h}),Pn(function(_){return _.changed})));gi(rn(l,yu(function(_,m){return{diff:_.prev-m,prev:m}},{diff:0,prev:0}),Pn(function(_){return _.diff})),function(_){_>0?(Ei(n,!0),Ei(a,_)):_<0&&Ei(s,_)}),gi(rn(l,Zr(t)),function(_){_[0]<0&&(0,_[1])("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:l},qo.ERROR)});var S=zs(a);rr(rn(a,Zr(y),Pn(function(_){var m=_[0],C=_[1];if(C.groupIndices.length>0)throw new Error("Virtuoso: prepending items does not work with groups");return ix(C.sizeTree).reduce(function(T,O){var R=O.k,j=O.v;return{ranges:[].concat(T.ranges,[{startIndex:T.prevIndex,endIndex:R+m-1,size:T.prevSize}]),prevIndex:R+m,prevSize:j}},{ranges:[],prevIndex:0,prevSize:C.lastSize}).ranges})),r);var E=zs(rn(s,Zr(y,g),Pn(function(_){return Y0(-_[0],_[1].offsetTree,_[2])})));return rr(rn(s,Zr(y,g),Pn(function(_){var m=_[0],C=_[1],T=_[2];if(C.groupIndices.length>0)throw new Error("Virtuoso: shifting items does not work with groups");var O=ix(C.sizeTree).reduce(function(R,j){var D=j.v;return Dc(R,Math.max(0,j.k+m),D)},X0());return xr({},C,{sizeTree:O},tee(C.offsetTree,0,O,T))})),y),{data:p,totalCount:i,sizeRanges:r,groupIndices:c,defaultItemSize:d,fixedItemSize:u,unshiftWith:a,shiftWith:s,shiftWithOffset:E,beforeUnshiftWith:S,firstItemIndex:l,gap:g,sizes:y,listRefresh:w,statefulTotalCount:o,trackItemSizes:b,itemSize:f}},mo(hd,WI),{singleton:!0}),SAe=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function iee(e){var t=typeof e=="number"?{index:e}:e;return t.align||(t.align="start"),t.behavior&&SAe||(t.behavior="auto"),t.offset||(t.offset=0),t}var Q0=Si(function(e){var t=e[0],n=t.sizes,r=t.totalCount,i=t.listRefresh,o=t.gap,a=e[1],s=a.scrollingInProgress,l=a.viewportHeight,c=a.scrollTo,u=a.smoothScrollTargetReached,d=a.headerHeight,f=a.footerHeight,p=a.fixedHeaderHeight,g=a.fixedFooterHeight,h=e[2].log,y=cr(),b=_n(0),w=null,S=null,E=null;function _(){w&&(w(),w=null),E&&(E(),E=null),S&&(clearTimeout(S),S=null),Ei(s,!1)}return rr(rn(y,Zr(n,l,r,b,d,f,h),Zr(o,p,g),Pn(function(m){var C=m[0],T=C[0],O=C[1],R=C[2],j=C[3],D=C[4],L=C[5],V=C[6],z=C[7],B=m[1],H=m[2],J=m[3],ne=iee(T),q=ne.align,ee=ne.behavior,te=ne.offset,$=j-1,ae=nee(ne,O,$),ue=Y0(ae,O.offsetTree,B)+L;q==="end"?(ue+=H+Pc(O.sizeTree,ae)[1]-R+J,ae===$&&(ue+=V)):q==="center"?ue+=(H+Pc(O.sizeTree,ae)[1]-R+J)/2:ue-=D,te&&(ue+=te);var me=function(Ie){_(),Ie?(z("retrying to scroll to",{location:T},qo.DEBUG),Ei(y,T)):z("list did not change, scroll successful",{},qo.DEBUG)};if(_(),ee==="smooth"){var Fe=!1;E=gi(i,function(Ie){Fe=Fe||Ie}),w=Rf(u,function(){me(Fe)})}else w=Rf(rn(i,function(Ie){var Ee=setTimeout(function(){Ie(!1)},150);return function(He){He&&(Ie(!0),clearTimeout(Ee))}}),me);return S=setTimeout(function(){_()},1200),Ei(s,!0),z("scrolling from index to",{index:ae,top:ue,behavior:ee},qo.DEBUG),{top:ue,behavior:ee}})),c),{scrollToIndex:y,topListHeight:b}},mo(bu,xs,hd),{singleton:!0}),J0="up",CAe={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},Z0=Si(function(e){var t=e[0],n=t.scrollContainerState,r=t.scrollTop,i=t.viewportHeight,o=t.headerHeight,a=t.footerHeight,s=t.scrollBy,l=_n(!1),c=_n(!0),u=cr(),d=cr(),f=_n(4),p=_n(0),g=is(rn(HZ(rn(ei(r),nx(1),fd(!0)),rn(ei(r),nx(1),fd(!1),$Z(100))),_o()),!1),h=is(rn(HZ(rn(s,fd(!0)),rn(s,fd(!1),$Z(200))),_o()),!1);rr(rn(za(ei(r),ei(p)),Pn(function(E){return E[0]<=E[1]}),_o()),c),rr(rn(c,Ep(50)),d);var y=zs(rn(za(n,ei(i),ei(o),ei(a),ei(f)),yu(function(E,_){var m,C,T=_[0],O=T.scrollTop,R=T.scrollHeight,j=_[1],D={viewportHeight:j,scrollTop:O,scrollHeight:R};return O+j-R>-_[4]?(O>E.state.scrollTop?(m="SCROLLED_DOWN",C=E.state.scrollTop-O):(m="SIZE_DECREASED",C=E.state.scrollTop-O||E.scrollTopDelta),{atBottom:!0,state:D,atBottomBecause:m,scrollTopDelta:C}):{atBottom:!1,notAtBottomBecause:D.scrollHeight>E.state.scrollHeight?"SIZE_INCREASED":j<E.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":O<E.state.scrollTop?"SCROLLING_UPWARDS":"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",state:D}},CAe),_o(function(E,_){return E&&E.atBottom===_.atBottom}))),b=is(rn(n,yu(function(E,_){var m=_.scrollTop,C=_.scrollHeight,T=_.viewportHeight;return GZ(E.scrollHeight,C)?{scrollTop:m,scrollHeight:C,jump:0,changed:!1}:E.scrollTop!==m&&C-(m+T)<1?{scrollHeight:C,scrollTop:m,jump:E.scrollTop-m,changed:!0}:{scrollHeight:C,scrollTop:m,jump:0,changed:!0}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),$r(function(E){return E.changed}),Pn(function(E){return E.jump})),0);rr(rn(y,Pn(function(E){return E.atBottom})),l),rr(rn(l,Ep(50)),u);var w=_n("down");rr(rn(n,Pn(function(E){return E.scrollTop}),_o(),yu(function(E,_){return Mc(h)?{direction:E.direction,prevScrollTop:_}:{direction:_<E.prevScrollTop?J0:"down",prevScrollTop:_}},{direction:"down",prevScrollTop:0}),Pn(function(E){return E.direction})),w),rr(rn(n,Ep(50),fd("none")),w);var S=_n(0);return rr(rn(g,$r(function(E){return!E}),fd(0)),S),rr(rn(r,Ep(100),Zr(g),$r(function(E){return!!E[1]}),yu(function(E,_){return[E[1],_[0]]},[0,0]),Pn(function(E){return E[1]-E[0]})),S),{isScrolling:g,isAtTop:c,isAtBottom:l,atBottomState:y,atTopStateChange:d,atBottomStateChange:u,scrollDirection:w,atBottomThreshold:f,atTopThreshold:p,scrollVelocity:S,lastJumpDueToItemResize:b}},mo(xs)),Lf=Si(function(e){var t=e[0].log,n=_n(!1),r=zs(rn(n,$r(function(i){return i}),_o()));return gi(n,function(i){i&&Mc(t)("props updated",{},qo.DEBUG)}),{propsReady:n,didMount:r}},mo(hd),{singleton:!0}),KI=Si(function(e){var t=e[0],n=t.sizes,r=t.listRefresh,i=t.defaultItemSize,o=e[1].scrollTop,a=e[2].scrollToIndex,s=e[3].didMount,l=_n(!0),c=_n(0);return rr(rn(s,Zr(c),$r(function(u){return!!u[1]}),fd(!1)),l),gi(rn(za(r,s),Zr(l,n,i),$r(function(u){var d=u[1],f=u[3];return u[0][1]&&(!so(u[2].sizeTree)||f!==void 0)&&!d}),Zr(c)),function(u){var d=u[1];setTimeout(function(){Rf(o,function(){Ei(l,!0)}),Ei(a,d)})}),{scrolledToInitialItem:l,initialTopMostItemIndex:c}},mo(bu,xs,Q0,Lf),{singleton:!0});function oee(e){return!!e&&(e==="smooth"?"smooth":"auto")}var TAe=Si(function(e){var t=e[0],n=t.totalCount,r=t.listRefresh,i=e[1],o=i.isAtBottom,a=i.atBottomState,s=e[2].scrollToIndex,l=e[3].scrolledToInitialItem,c=e[4],u=c.propsReady,d=c.didMount,f=e[5].log,p=e[6].scrollingInProgress,g=_n(!1),h=cr(),y=null;function b(S){Ei(s,{index:"LAST",align:"end",behavior:S})}function w(S){var E=Rf(a,function(_){!S||_.atBottom||_.notAtBottomBecause!=="SIZE_INCREASED"||y||(Mc(f)("scrolling to bottom due to increased size",{},qo.DEBUG),b("auto"))});setTimeout(E,100)}return gi(rn(za(rn(ei(n),nx(1)),d),Zr(ei(g),o,l,p),Pn(function(S){var E=S[0],_=E[0],m=E[1]&&S[3],C="auto";return m&&(C=(function(T,O){return typeof T=="function"?oee(T(O)):O&&oee(T)})(S[1],S[2]||S[4]),m=m&&!!C),{totalCount:_,shouldFollow:m,followOutputBehavior:C}}),$r(function(S){return S.shouldFollow})),function(S){var E=S.totalCount,_=S.followOutputBehavior;y&&(y(),y=null),y=Rf(r,function(){Mc(f)("following output to ",{totalCount:E},qo.DEBUG),b(_),y=null})}),gi(rn(za(ei(g),n,u),$r(function(S){return S[0]&&S[2]}),yu(function(S,E){var _=E[1];return{refreshed:S.value===_,value:_}},{refreshed:!1,value:0}),$r(function(S){return S.refreshed}),Zr(g,n)),function(S){w(S[1]!==!1)}),gi(h,function(){w(Mc(g)!==!1)}),gi(za(ei(g),a),function(S){var E=S[1];S[0]&&!E.atBottom&&E.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&b("auto")}),{followOutput:g,autoscrollToBottom:h}},mo(bu,Z0,Q0,KI,Lf,hd,xs));function AAe(e){return e.reduce(function(t,n){return t.groupIndices.push(t.totalCount),t.totalCount+=n+1,t},{totalCount:0,groupIndices:[]})}var aee=Si(function(e){var t=e[0],n=t.totalCount,r=t.groupIndices,i=t.sizes,o=e[1],a=o.scrollTop,s=o.headerHeight,l=cr(),c=cr(),u=zs(rn(l,Pn(AAe)));return rr(rn(u,Pn(function(d){return d.totalCount})),n),rr(rn(u,Pn(function(d){return d.groupIndices})),r),rr(rn(za(a,i,s),$r(function(d){return sx(d[1])}),Pn(function(d){return Pc(d[1].groupOffsetTree,Math.max(d[0]-d[2],0),"v")[0]}),_o(),Pn(function(d){return[d]})),c),{groupCounts:l,topItemsIndexes:c}},mo(bu,xs));function e1(e,t){return!(!e||e[0]!==t[0]||e[1]!==t[1])}function see(e,t){return!(!e||e.startIndex!==t.startIndex||e.endIndex!==t.endIndex)}function lee(e,t,n){return typeof e=="number"?n===J0&&t==="top"||n==="down"&&t==="bottom"?e:0:n===J0?t==="top"?e.main:e.reverse:t==="bottom"?e.main:e.reverse}function cee(e,t){return typeof e=="number"?e:e[t]||0}var XI=Si(function(e){var t=e[0],n=t.scrollTop,r=t.viewportHeight,i=t.deviation,o=t.headerHeight,a=t.fixedHeaderHeight,s=cr(),l=_n(0),c=_n(0),u=_n(0),d=is(rn(za(ei(n),ei(r),ei(o),ei(s,e1),ei(u),ei(l),ei(a),ei(i),ei(c)),Pn(function(f){var p=f[0],g=f[1],h=f[2],y=f[3],b=y[0],w=y[1],S=f[4],E=f[6],_=f[7],m=f[8],C=p-_,T=f[5]+E,O=Math.max(h-C,0),R="none",j=cee(m,"top"),D=cee(m,"bottom");return b-=_,w+=h+E,(b+=h+E)>p+T-j&&(R=J0),(w-=_)<p-O+g+D&&(R="down"),R!=="none"?[Math.max(C-h-lee(S,"top",R)-j,0),C-O-E+g+lee(S,"bottom",R)+D]:null}),$r(function(f){return f!=null}),_o(e1)),[0,0]);return{listBoundary:s,overscan:u,topListHeight:l,increaseViewportBy:c,visibleRange:d}},mo(xs),{singleton:!0}),uee={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function dee(e,t,n){if(e.length===0)return[];if(!sx(t))return e.map(function(u){return xr({},u,{index:u.index+n,originalIndex:u.index})});for(var r,i=[],o=ox(t.groupOffsetTree,e[0].index,e[e.length-1].index),a=void 0,s=0,l=jf(e);!(r=l()).done;){var c=r.value;(!a||a.end<c.index)&&(a=o.shift(),s=t.groupIndices.indexOf(a.start)),i.push(xr({},c.index===a.start?{type:"group",index:s}:{index:c.index-(s+1)+n,groupIndex:s},{size:c.size,offset:c.offset,originalIndex:c.index,data:c.data}))}return i}function lx(e,t,n,r,i,o){var a=0,s=0;if(e.length>0){a=e[0].offset;var l=e[e.length-1];s=l.offset+l.size}var c=n-i.lastIndex,u=a,d=i.lastOffset+c*i.lastSize+(c-1)*r-s;return{items:dee(e,i,o),topItems:dee(t,i,o),topListHeight:t.reduce(function(f,p){return p.size+f},0),offsetTop:a,offsetBottom:d,top:u,bottom:s,totalCount:n,firstItemIndex:o}}var Cp=Si(function(e){var t=e[0],n=t.sizes,r=t.totalCount,i=t.data,o=t.firstItemIndex,a=t.gap,s=e[1],l=e[2],c=l.visibleRange,u=l.listBoundary,d=l.topListHeight,f=e[3],p=f.scrolledToInitialItem,g=f.initialTopMostItemIndex,h=e[4].topListHeight,y=e[5],b=e[6].didMount,w=e[7].recalcInProgress,S=_n([]),E=cr();rr(s.topItemsIndexes,S);var _=is(rn(za(b,w,ei(c,e1),ei(r),ei(n),ei(g),p,ei(S),ei(o),ei(a),i),$r(function(m){return m[0]&&!m[1]}),Pn(function(m){var C=m[2],T=C[0],O=C[1],R=m[3],j=m[5],D=m[6],L=m[7],V=m[8],z=m[9],B=m[10],H=m[4],J=H.sizeTree,ne=H.offsetTree;if(R===0||T===0&&O===0)return xr({},uee,{totalCount:R});if(so(J))return lx((function(Ct,We,Oe){if(sx(We)){var ye=ree(Ct,We);return[{index:Pc(We.groupOffsetTree,ye)[0],size:0,offset:0},{index:ye,size:0,offset:0,data:Oe&&Oe[0]}]}return[{index:Ct,size:0,offset:0,data:Oe&&Oe[0]}]})((function(Ct,We){return typeof Ct=="number"?Ct:Ct.index==="LAST"?We-1:Ct.index})(j,R),H,B),[],R,z,H,V);var q=[];if(L.length>0)for(var ee,te=L[0],$=L[L.length-1],ae=0,ue=jf(ox(J,te,$));!(ee=ue()).done;)for(var me=ee.value,Fe=me.value,Ie=Math.max(me.start,te),Ee=Math.min(me.end,$),He=Ie;He<=Ee;He++)q.push({index:He,size:Fe,offset:ae,data:B&&B[He]}),ae+=Fe;if(!D)return lx([],q,R,z,H,V);var it=L.length>0?L[L.length-1]+1:0,St=(function(Ct,We,Oe,ye){return ye===void 0&&(ye=0),ye>0&&(We=Math.max(We,eee(Ct,ye,GI).offset)),JZ((Xe=Oe,we=ax(Ve=Ct,We,se=wAe),Le=ax(Ve,Xe,se,we),Ve.slice(we,Le+1)),xAe);var Ve,Xe,se,we,Le})(ne,T,O,it);if(St.length===0)return null;var xt=R-1;return lx(tx([],function(Ct){for(var We,Oe=jf(St);!(We=Oe()).done;){var ye=We.value,Ve=ye.value,Xe=Ve.offset,se=ye.start,we=Ve.size;if(Ve.offset<T){var Le=(se+=Math.floor((T-Ve.offset+z)/(we+z)))-ye.start;Xe+=Le*we+Le*z}se<it&&(Xe+=(it-se)*we,se=it);for(var ot=Math.min(ye.end,xt),_e=se;_e<=ot&&!(Xe>=O);_e++)Ct.push({index:_e,size:we,offset:Xe,data:B&&B[_e]}),Xe+=we+z}}),q,R,z,H,V)}),$r(function(m){return m!==null}),_o()),uee);return rr(rn(i,$r(function(m){return m!==void 0}),Pn(function(m){return m.length})),r),rr(rn(_,Pn(function(m){return m.topListHeight})),h),rr(h,d),rr(rn(_,Pn(function(m){return[m.top,m.bottom]})),u),rr(rn(_,Pn(function(m){return m.items})),E),xr({listState:_,topItemsIndexes:S,endReached:zs(rn(_,$r(function(m){return m.items.length>0}),Zr(r,i),$r(function(m){var C=m[0].items;return C[C.length-1].originalIndex===m[1]-1}),Pn(function(m){return[m[1]-1,m[2]]}),_o(e1),Pn(function(m){return m[0]}))),startReached:zs(rn(_,Ep(200),$r(function(m){var C=m.items;return C.length>0&&C[0].originalIndex===m.topItems.length}),Pn(function(m){return m.items[0].index}),_o())),rangeChanged:zs(rn(_,$r(function(m){return m.items.length>0}),Pn(function(m){for(var C=m.items,T=0,O=C.length-1;C[T].type==="group"&&T<O;)T++;for(;C[O].type==="group"&&O>T;)O--;return{startIndex:C[T].index,endIndex:C[O].index}}),_o(see))),itemsRendered:E},y)},mo(bu,aee,XI,KI,Q0,Z0,Lf,WI),{singleton:!0}),IAe=Si(function(e){var t=e[0],n=t.sizes,r=t.firstItemIndex,i=t.data,o=t.gap,a=e[1].listState,s=e[2].didMount,l=_n(0);return rr(rn(s,Zr(l),$r(function(c){return c[1]!==0}),Zr(n,r,o,i),Pn(function(c){var u=c[0][1],d=c[1],f=c[2],p=c[3],g=c[4],h=g===void 0?[]:g,y=0;if(d.groupIndices.length>0)for(var b,w=jf(d.groupIndices);!((b=w()).done||b.value-y>=u);)y++;var S=u+y;return lx(Array.from({length:S}).map(function(E,_){return{index:_,size:0,offset:0,data:h[_]}}),[],S,p,d,f)})),a),{initialItemCount:l}},mo(bu,Cp,Lf),{singleton:!0}),fee=Si(function(e){var t=e[0].scrollVelocity,n=_n(!1),r=cr(),i=_n(!1);return rr(rn(t,Zr(i,n,r),$r(function(o){return!!o[1]}),Pn(function(o){var a=o[0],s=o[1],l=o[2],c=o[3],u=s.enter;if(l){if((0,s.exit)(a,c))return!1}else if(u(a,c))return!0;return l}),_o()),n),gi(rn(za(n,t,r),Zr(i)),function(o){var a=o[0],s=o[1];return a[0]&&s&&s.change&&s.change(a[1],a[2])}),{isSeeking:n,scrollSeekConfiguration:i,scrollVelocity:t,scrollSeekRangeChanged:r}},mo(Z0),{singleton:!0}),OAe=Si(function(e){var t=e[0].topItemsIndexes,n=_n(0);return rr(rn(n,$r(function(r){return r>0}),Pn(function(r){return Array.from({length:r}).map(function(i,o){return o})})),t),{topItemCount:n}},mo(Cp)),YI=Si(function(e){var t=e[0],n=t.footerHeight,r=t.headerHeight,i=t.fixedHeaderHeight,o=t.fixedFooterHeight,a=e[1].listState,s=cr(),l=is(rn(za(n,o,r,i,a),Pn(function(c){var u=c[4];return c[0]+c[1]+c[2]+c[3]+u.offsetBottom+u.bottom})),0);return rr(ei(l),s),{totalListHeight:l,totalListHeightChanged:s}},mo(xs,Cp),{singleton:!0});function hee(e){var t,n=!1;return function(){return n||(n=!0,t=e()),t}}var kAe=hee(function(){return/iP(ad|hone|od).+Version\/[\d.]+.*Safari/i.test(navigator.userAgent)}),NAe=Si(function(e){var t=e[0],n=t.scrollBy,r=t.scrollTop,i=t.deviation,o=t.scrollingInProgress,a=e[1],s=a.isScrolling,l=a.isAtBottom,c=a.scrollDirection,u=e[3],d=u.beforeUnshiftWith,f=u.shiftWithOffset,p=u.sizes,g=u.gap,h=e[4].log,y=e[5].recalcInProgress,b=zs(rn(e[2].listState,Zr(a.lastJumpDueToItemResize),yu(function(S,E){var _=S[1],m=E[0],C=m.items,T=m.totalCount,O=m.bottom+m.offsetBottom,R=0;return S[2]===T&&_.length>0&&C.length>0&&(C[0].originalIndex===0&&_[0].originalIndex===0||(R=O-S[3])!=0&&(R+=E[1])),[R,C,T,O]},[0,[],0,0]),$r(function(S){return S[0]!==0}),Zr(r,c,o,l,h),$r(function(S){return!S[3]&&S[1]!==0&&S[2]===J0}),Pn(function(S){var E=S[0][0];return(0,S[5])("Upward scrolling compensation",{amount:E},qo.DEBUG),E})));function w(S){S>0?(Ei(n,{top:-S,behavior:"auto"}),Ei(i,0)):(Ei(i,0),Ei(n,{top:-S,behavior:"auto"}))}return gi(rn(b,Zr(i,s)),function(S){var E=S[0],_=S[1];S[2]&&kAe()?Ei(i,_-E):w(-E)}),gi(rn(za(is(s,!1),i,y),$r(function(S){return!S[0]&&!S[2]&&S[1]!==0}),Pn(function(S){return S[1]}),Ep(1)),w),rr(rn(f,Pn(function(S){return{top:-S}})),n),gi(rn(d,Zr(p,g),Pn(function(S){var E=S[0];return E*S[1].lastSize+E*S[2]})),function(S){Ei(i,S),requestAnimationFrame(function(){Ei(n,{top:S}),requestAnimationFrame(function(){Ei(i,0),Ei(y,!1)})})}),{deviation:i}},mo(xs,Z0,Cp,bu,hd,WI)),RAe=Si(function(e){var t=e[0].totalListHeight,n=e[1].didMount,r=e[2].scrollTo,i=_n(0);return gi(rn(n,Zr(i),$r(function(o){return o[1]!==0}),Pn(function(o){return{top:o[1]}})),function(o){Rf(rn(t,$r(function(a){return a!==0})),function(){setTimeout(function(){Ei(r,o)})})}),{initialScrollTop:i}},mo(YI,Lf,xs),{singleton:!0}),jAe=Si(function(e){var t=e[0].viewportHeight,n=e[1].totalListHeight,r=_n(!1);return{alignToBottom:r,paddingTopAddition:is(rn(za(r,t,n),$r(function(i){return i[0]}),Pn(function(i){return Math.max(0,i[1]-i[2])}),_o()),0)}},mo(xs,YI),{singleton:!0}),pee=Si(function(e){var t=e[0],n=t.scrollTo,r=t.scrollContainerState,i=cr(),o=cr(),a=cr(),s=_n(!1),l=_n(void 0);return rr(rn(za(i,o),Pn(function(c){var u=c[0],d=u.viewportHeight,f=u.scrollHeight;return{scrollTop:Math.max(0,u.scrollTop-c[1].offsetTop),scrollHeight:f,viewportHeight:d}})),r),rr(rn(n,Zr(o),Pn(function(c){var u=c[0];return xr({},u,{top:u.top+c[1].offsetTop})})),a),{useWindowScroll:s,customScrollParent:l,windowScrollContainerState:i,windowViewportRect:o,windowScrollTo:a}},mo(xs)),LAe=["done","behavior","align"],MAe=Si(function(e){var t=e[0],n=t.sizes,r=t.totalCount,i=t.gap,o=e[1],a=o.scrollTop,s=o.viewportHeight,l=o.headerHeight,c=o.fixedHeaderHeight,u=o.fixedFooterHeight,d=o.scrollingInProgress,f=e[2].scrollToIndex,p=cr();return rr(rn(p,Zr(n,s,r,l,c,u,a),Zr(i),Pn(function(g){var h=g[0],y=h[0],b=h[1],w=h[2],S=h[3],E=h[4],_=h[5],m=h[6],C=h[7],T=g[1],O=y.done,R=y.behavior,j=y.align,D=Sp(y,LAe),L=null,V=nee(y,b,S-1),z=Y0(V,b.offsetTree,T)+E+_;return z<C+_?L=xr({},D,{behavior:R,align:j??"start"}):z+Pc(b.sizeTree,V)[1]>C+w-m&&(L=xr({},D,{behavior:R,align:j??"end"})),L?O&&Rf(rn(d,nx(1),$r(function(B){return B===!1})),O):O&&O(),L}),$r(function(g){return g!==null})),f),{scrollIntoView:p}},mo(bu,xs,Q0,Cp,hd),{singleton:!0}),PAe=["listState","topItemsIndexes"],DAe=Si(function(e){return xr({},e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},mo(XI,IAe,Lf,fee,YI,RAe,jAe,pee,MAe)),mee=Si(function(e){var t=e[0],n=t.totalCount,r=t.sizeRanges,i=t.fixedItemSize,o=t.defaultItemSize,a=t.trackItemSizes,s=t.itemSize,l=t.data,c=t.firstItemIndex,u=t.groupIndices,d=t.statefulTotalCount,f=t.gap,p=e[1],g=p.initialTopMostItemIndex,h=p.scrolledToInitialItem,y=e[2],b=e[3],w=e[4],S=w.listState,E=w.topItemsIndexes,_=Sp(w,PAe),m=e[5].scrollToIndex,C=e[7].topItemCount,T=e[8].groupCounts,O=e[9],R=e[10];return rr(_.rangeChanged,O.scrollSeekRangeChanged),rr(rn(O.windowViewportRect,Pn(function(j){return j.visibleHeight})),y.viewportHeight),xr({totalCount:n,data:l,firstItemIndex:c,sizeRanges:r,initialTopMostItemIndex:g,scrolledToInitialItem:h,topItemsIndexes:E,topItemCount:C,groupCounts:T,fixedItemHeight:i,defaultItemHeight:o,gap:f},b,{statefulTotalCount:d,listState:S,scrollToIndex:m,trackItemSizes:a,itemSize:s,groupIndices:u},_,O,y,R)},mo(bu,KI,xs,TAe,Cp,Q0,NAe,OAe,aee,DAe,hd)),gee=hee(function(){if(typeof document>"u")return"sticky";var e=document.createElement("div");return e.style.position="-webkit-sticky",e.style.position==="-webkit-sticky"?"-webkit-sticky":"sticky"});function QI(e,t){var n=x.useRef(null),r=x.useCallback(function(l){if(l!==null&&l.offsetParent){var c,u,d=l.getBoundingClientRect(),f=d.width;if(t){var p=t.getBoundingClientRect(),g=d.top-p.top;c=p.height-Math.max(0,g),u=g+t.scrollTop}else c=window.innerHeight-Math.max(0,d.top),u=d.top+window.pageYOffset;n.current={offsetTop:u,visibleHeight:c,visibleWidth:f},e(n.current)}},[e,t]),i=zI(r),o=i.callbackRef,a=i.ref,s=x.useCallback(function(){r(a.current)},[r,a]);return x.useEffect(function(){if(t){t.addEventListener("scroll",s);var l=new ResizeObserver(s);return l.observe(t),function(){t.removeEventListener("scroll",s),l.unobserve(t)}}return window.addEventListener("scroll",s),window.addEventListener("resize",s),function(){window.removeEventListener("scroll",s),window.removeEventListener("resize",s)}},[s,t]),o}var cx=x.createContext(void 0),FAe=["placeholder"],UAe=["style","children"],zAe=["style","children"];function JI(e){return e}var BAe=Si(function(){var e=_n(function(l){return"Item "+l}),t=_n(null),n=_n(function(l){return"Group "+l}),r=_n({}),i=_n(JI),o=_n("div"),a=_n(Nf),s=function(l,c){return c===void 0&&(c=null),is(rn(r,Pn(function(u){return u[l]}),_o()),c)};return{context:t,itemContent:e,groupContent:n,components:r,computeItemKey:i,headerFooterTag:o,scrollerRef:a,FooterComponent:s("Footer"),HeaderComponent:s("Header"),TopItemListComponent:s("TopItemList"),ListComponent:s("List","div"),ItemComponent:s("Item","div"),GroupComponent:s("Group","div"),ScrollerComponent:s("Scroller","div"),EmptyPlaceholder:s("EmptyPlaceholder"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder")}});function Tp(e,t){var n=cr();return gi(n,function(){return console.warn("react-virtuoso: You are using a deprecated property. "+t,"color: red;","color: inherit;","color: blue;")}),rr(n,e),n}var $Ae=Si(function(e){var t=e[0],n=e[1],r={item:Tp(n.itemContent,"Rename the %citem%c prop to %citemContent."),group:Tp(n.groupContent,"Rename the %cgroup%c prop to %cgroupContent."),topItems:Tp(t.topItemCount,"Rename the %ctopItems%c prop to %ctopItemCount."),itemHeight:Tp(t.fixedItemHeight,"Rename the %citemHeight%c prop to %cfixedItemHeight."),scrollingStateChange:Tp(t.isScrolling,"Rename the %cscrollingStateChange%c prop to %cisScrolling."),adjustForPrependedItems:cr(),maxHeightCacheSize:cr(),footer:cr(),header:cr(),HeaderContainer:cr(),FooterContainer:cr(),ItemContainer:cr(),ScrollContainer:cr(),GroupContainer:cr(),ListContainer:cr(),emptyComponent:cr(),scrollSeek:cr()};function i(o,a,s){rr(rn(o,Zr(n.components),Pn(function(l){var c,u=l[0],d=l[1];return console.warn("react-virtuoso: "+s+" property is deprecated. Pass components."+a+" instead."),xr({},d,((c={})[a]=u,c))})),n.components)}return gi(r.adjustForPrependedItems,function(){console.warn("react-virtuoso: adjustForPrependedItems is no longer supported. Use the firstItemIndex property instead - https://virtuoso.dev/prepend-items.","color: red;","color: inherit;","color: blue;")}),gi(r.maxHeightCacheSize,function(){console.warn("react-virtuoso: maxHeightCacheSize is no longer necessary. Setting it has no effect - remove it from your code.")}),gi(r.HeaderContainer,function(){console.warn("react-virtuoso: HeaderContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the header component and pass components.Header to change its contents.")}),gi(r.FooterContainer,function(){console.warn("react-virtuoso: FooterContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the footer component and pass components.Footer to change its contents.")}),gi(r.scrollSeek,function(o){var a=o.placeholder,s=Sp(o,FAe);console.warn("react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead."),Ei(n.components,xr({},Mc(n.components),{ScrollSeekPlaceholder:a})),Ei(t.scrollSeekConfiguration,s)}),i(r.footer,"Footer","footer"),i(r.header,"Header","header"),i(r.ItemContainer,"Item","ItemContainer"),i(r.ListContainer,"List","ListContainer"),i(r.ScrollContainer,"Scroller","ScrollContainer"),i(r.emptyComponent,"EmptyPlaceholder","emptyComponent"),i(r.GroupContainer,"Group","GroupContainer"),xr({},t,n,r)},mo(mee,BAe)),HAe=function(e){return x.createElement("div",{style:{height:e.height}})},VAe={position:gee(),zIndex:1,overflowAnchor:"none"},qAe={overflowAnchor:"none"},yee=x.memo(function(e){var t=e.showTopList,n=t!==void 0&&t,r=si("listState"),i=dl("sizeRanges"),o=si("useWindowScroll"),a=si("customScrollParent"),s=dl("windowScrollContainerState"),l=dl("scrollContainerState"),c=a||o?s:l,u=si("itemContent"),d=si("context"),f=si("groupContent"),p=si("trackItemSizes"),g=si("itemSize"),h=si("log"),y=dl("gap"),b=WZ(i,g,p,n?Nf:c,h,y,a).callbackRef,w=x.useState(0),S=w[0],E=w[1];tO("deviation",function(z){S!==z&&E(z)});var _=si("EmptyPlaceholder"),m=si("ScrollSeekPlaceholder")||HAe,C=si("ListComponent"),T=si("ItemComponent"),O=si("GroupComponent"),R=si("computeItemKey"),j=si("isSeeking"),D=si("groupIndices").length>0,L=si("paddingTopAddition"),V=n?{}:{boxSizing:"border-box",paddingTop:r.offsetTop+L,paddingBottom:r.offsetBottom,marginTop:S};return!n&&r.totalCount===0&&_?x.createElement(_,ea(_,d)):x.createElement(C,xr({},ea(C,d),{ref:b,style:V,"data-test-id":n?"virtuoso-top-item-list":"virtuoso-item-list"}),(n?r.topItems:r.items).map(function(z){var B=z.originalIndex,H=R(B+r.firstItemIndex,z.data,d);return j?x.createElement(m,xr({},ea(m,d),{key:H,index:z.index,height:z.size,type:z.type||"item"},z.type==="group"?{}:{groupIndex:z.groupIndex})):z.type==="group"?x.createElement(O,xr({},ea(O,d),{key:H,"data-index":B,"data-known-size":z.size,"data-item-index":z.index,style:VAe}),f(z.index)):x.createElement(T,xr({},ea(T,d),{key:H,"data-index":B,"data-known-size":z.size,"data-item-index":z.index,"data-item-group-index":z.groupIndex,style:qAe}),D?u(z.index,z.groupIndex,z.data,d):u(z.index,z.data,d))}))}),WAe={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},Ap={width:"100%",height:"100%",position:"absolute",top:0},GAe={width:"100%",position:gee(),top:0};function ea(e,t){if(typeof e!="string")return{context:t}}var KAe=x.memo(function(){var e=si("HeaderComponent"),t=dl("headerHeight"),n=si("headerFooterTag"),r=pd(function(o){return t(vu(o,"height"))}),i=si("context");return e?x.createElement(n,{ref:r},x.createElement(e,ea(e,i))):null}),XAe=x.memo(function(){var e=si("FooterComponent"),t=dl("footerHeight"),n=si("headerFooterTag"),r=pd(function(o){return t(vu(o,"height"))}),i=si("context");return e?x.createElement(n,{ref:r},x.createElement(e,ea(e,i))):null});function ZI(e){var t=e.usePublisher,n=e.useEmitter,r=e.useEmitterValue;return x.memo(function(i){var o=i.style,a=i.children,s=Sp(i,UAe),l=t("scrollContainerState"),c=r("ScrollerComponent"),u=t("smoothScrollTargetReached"),d=r("scrollerRef"),f=r("context"),p=KZ(l,u,c,d),g=p.scrollerRef,h=p.scrollByCallback;return n("scrollTo",p.scrollToCallback),n("scrollBy",h),x.createElement(c,xr({ref:g,style:xr({},WAe,o),"data-test-id":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0},s,ea(c,f)),a)})}function eO(e){var t=e.usePublisher,n=e.useEmitter,r=e.useEmitterValue;return x.memo(function(i){var o=i.style,a=i.children,s=Sp(i,zAe),l=t("windowScrollContainerState"),c=r("ScrollerComponent"),u=t("smoothScrollTargetReached"),d=r("totalListHeight"),f=r("deviation"),p=r("customScrollParent"),g=r("context"),h=KZ(l,u,c,Nf,p),y=h.scrollerRef,b=h.scrollByCallback,w=h.scrollToCallback;return yAe(function(){return y.current=p||window,function(){y.current=null}},[y,p]),n("windowScrollTo",w),n("scrollBy",b),x.createElement(c,xr({style:xr({position:"relative"},o,d!==0?{height:d+f}:{}),"data-virtuoso-scroller":!0},s,ea(c,g)),a)})}var YAe=function(e){var t=e.children,n=x.useContext(cx),r=dl("viewportHeight"),i=dl("fixedItemHeight"),o=pd(W0(r,function(a){return vu(a,"height")}));return x.useEffect(function(){n&&(r(n.viewportHeight),i(n.itemHeight))},[n,r,i]),x.createElement("div",{style:Ap,ref:o,"data-viewport-type":"element"},t)},QAe=function(e){var t=e.children,n=x.useContext(cx),r=dl("windowViewportRect"),i=dl("fixedItemHeight"),o=si("customScrollParent"),a=QI(r,o);return x.useEffect(function(){n&&(i(n.itemHeight),r({offsetTop:0,visibleHeight:n.viewportHeight,visibleWidth:100}))},[n,r,i]),x.createElement("div",{ref:a,style:Ap,"data-viewport-type":"window"},t)},JAe=function(e){var t=e.children,n=si("TopItemListComponent"),r=si("headerHeight"),i=xr({},GAe,{marginTop:r+"px"}),o=si("context");return x.createElement(n||"div",{style:i,context:o},t)},ux=UI($Ae,{required:{},optional:{context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",react18ConcurrentRendering:"react18ConcurrentRendering",item:"item",group:"group",topItems:"topItems",itemHeight:"itemHeight",scrollingStateChange:"scrollingStateChange",maxHeightCacheSize:"maxHeightCacheSize",footer:"footer",header:"header",ItemContainer:"ItemContainer",ScrollContainer:"ScrollContainer",ListContainer:"ListContainer",GroupContainer:"GroupContainer",emptyComponent:"emptyComponent",HeaderContainer:"HeaderContainer",FooterContainer:"FooterContainer",scrollSeek:"scrollSeek"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",adjustForPrependedItems:"adjustForPrependedItems",autoscrollToBottom:"autoscrollToBottom"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},x.memo(function(e){var t=si("useWindowScroll"),n=si("topItemsIndexes").length>0,r=si("customScrollParent"),i=r||t?QAe:YAe;return x.createElement(r||t?tIe:eIe,xr({},e),x.createElement(i,null,x.createElement(KAe,null),x.createElement(yee,null),x.createElement(XAe,null)),n&&x.createElement(JAe,null,x.createElement(yee,{showTopList:!0})))})),ZAe=ux.Component,dl=ux.usePublisher,si=ux.useEmitterValue,tO=ux.useEmitter,eIe=ZI({usePublisher:dl,useEmitterValue:si,useEmitter:tO}),tIe=eO({usePublisher:dl,useEmitterValue:si,useEmitter:tO}),vee={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},nIe={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},bee=Math.round,wee=Math.ceil,nO=Math.floor,rO=Math.min,t1=Math.max;function xee(e,t){return Array.from({length:t-e+1}).map(function(n,r){return{index:r+e}})}function rIe(e,t){return e&&e.column===t.column&&e.row===t.row}var iIe=Si(function(e){var t=e[0],n=t.overscan,r=t.visibleRange,i=t.listBoundary,o=e[1],a=o.scrollTop,s=o.viewportHeight,l=o.scrollBy,c=o.scrollTo,u=o.smoothScrollTargetReached,d=o.scrollContainerState,f=e[2],p=e[3],g=e[4],h=g.propsReady,y=g.didMount,b=e[5],w=b.windowViewportRect,S=b.windowScrollTo,E=b.useWindowScroll,_=b.customScrollParent,m=b.windowScrollContainerState,C=e[6],T=_n(0),O=_n(0),R=_n(vee),j=_n({height:0,width:0}),D=_n({height:0,width:0}),L=cr(),V=cr(),z=_n(0),B=_n({row:0,column:0});rr(rn(y,Zr(O),$r(function(ee){return ee[1]!==0}),Pn(function(ee){return{items:xee(0,ee[1]-1),top:0,bottom:0,offsetBottom:0,offsetTop:0,itemHeight:0,itemWidth:0}})),R),rr(rn(za(ei(T),r,ei(B,rIe),ei(D,function(ee,te){return ee&&ee.width===te.width&&ee.height===te.height})),Zr(j),Pn(function(ee){var te=ee[0],$=te[0],ae=te[1],ue=ae[0],me=ae[1],Fe=te[2],Ie=te[3],Ee=ee[1],He=Fe.row,it=Ie.height,St=Ie.width,xt=Ee.width;if($===0||xt===0)return vee;if(St===0)return nIe;var Ct=Eee(xt,St,Fe.column),We=Ct*nO((ue+He)/(it+He)),Oe=Ct*wee((me+He)/(it+He))-1;Oe=t1(0,rO($-1,Oe));var ye=xee(We=rO(Oe,t1(0,We)),Oe),Ve=_ee(Ee,Fe,Ie,ye),Xe=Ve.top,se=Ve.bottom,we=wee($/Ct);return{items:ye,offsetTop:Xe,offsetBottom:we*it+(we-1)*He-se,top:Xe,bottom:se,itemHeight:it,itemWidth:St}})),R),rr(rn(j,Pn(function(ee){return ee.height})),s),rr(rn(za(j,D,R,B),Pn(function(ee){var te=_ee(ee[0],ee[3],ee[1],ee[2].items);return[te.top,te.bottom]}),_o(e1)),i);var H=zs(rn(ei(R),$r(function(ee){return ee.items.length>0}),Zr(T),$r(function(ee){var te=ee[0].items;return te[te.length-1].index===ee[1]-1}),Pn(function(ee){return ee[1]-1}),_o())),J=zs(rn(ei(R),$r(function(ee){var te=ee.items;return te.length>0&&te[0].index===0}),fd(0),_o())),ne=zs(rn(ei(R),$r(function(ee){return ee.items.length>0}),Pn(function(ee){var te=ee.items;return{startIndex:te[0].index,endIndex:te[te.length-1].index}}),_o(see)));rr(ne,p.scrollSeekRangeChanged),rr(rn(L,Zr(j,D,T,B),Pn(function(ee){var te=ee[1],$=ee[2],ae=ee[3],ue=ee[4],me=iee(ee[0]),Fe=me.align,Ie=me.behavior,Ee=me.offset,He=me.index;He==="LAST"&&(He=ae-1);var it=iO(te,ue,$,He=t1(0,He,rO(ae-1,He)));return Fe==="end"?it=bee(it-te.height+$.height):Fe==="center"&&(it=bee(it-te.height/2+$.height/2)),Ee&&(it+=Ee),{top:it,behavior:Ie}})),c);var q=is(rn(R,Pn(function(ee){return ee.offsetBottom+ee.bottom})),0);return rr(rn(w,Pn(function(ee){return{width:ee.visibleWidth,height:ee.visibleHeight}})),j),xr({totalCount:T,viewportDimensions:j,itemDimensions:D,scrollTop:a,scrollHeight:V,overscan:n,scrollBy:l,scrollTo:c,scrollToIndex:L,smoothScrollTargetReached:u,windowViewportRect:w,windowScrollTo:S,useWindowScroll:E,customScrollParent:_,windowScrollContainerState:m,deviation:z,scrollContainerState:d,initialItemCount:O,gap:B},p,{gridState:R,totalListHeight:q},f,{startReached:J,endReached:H,rangeChanged:ne,propsReady:h},C)},mo(XI,xs,Z0,fee,Lf,pee,hd));function _ee(e,t,n,r){var i=n.height;return i===void 0||r.length===0?{top:0,bottom:0}:{top:iO(e,t,n,r[0].index),bottom:iO(e,t,n,r[r.length-1].index)+i}}function iO(e,t,n,r){var i=Eee(e.width,n.width,t.column),o=nO(r/i),a=o*n.height+t1(0,o-1)*t.row;return a>0?a+t.row:a}function Eee(e,t,n){return t1(1,nO((e+n)/(t+n)))}var oIe=["placeholder"],aIe=Si(function(){var e=_n(function(l){return"Item "+l}),t=_n({}),n=_n(null),r=_n("virtuoso-grid-item"),i=_n("virtuoso-grid-list"),o=_n(JI),a=_n(Nf),s=function(l,c){return is(rn(t,Pn(function(u){return u[l]}),_o()),c)};return{context:n,itemContent:e,components:t,computeItemKey:o,itemClassName:r,listClassName:i,scrollerRef:a,ListComponent:s("List","div"),ItemComponent:s("Item","div"),ScrollerComponent:s("Scroller","div"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder","div")}}),sIe=Si(function(e){var t=e[0],n=e[1],r={item:Tp(n.itemContent,"Rename the %citem%c prop to %citemContent."),ItemContainer:cr(),ScrollContainer:cr(),ListContainer:cr(),emptyComponent:cr(),scrollSeek:cr()};function i(o,a,s){rr(rn(o,Zr(n.components),Pn(function(l){var c,u=l[0],d=l[1];return console.warn("react-virtuoso: "+s+" property is deprecated. Pass components."+a+" instead."),xr({},d,((c={})[a]=u,c))})),n.components)}return gi(r.scrollSeek,function(o){var a=o.placeholder,s=Sp(o,oIe);console.warn("react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead."),Ei(n.components,xr({},Mc(n.components),{ScrollSeekPlaceholder:a})),Ei(t.scrollSeekConfiguration,s)}),i(r.ItemContainer,"Item","ItemContainer"),i(r.ListContainer,"List","ListContainer"),i(r.ScrollContainer,"Scroller","ScrollContainer"),xr({},t,n,r)},mo(iIe,aIe)),lIe=x.memo(function(){var e=Ba("gridState"),t=Ba("listClassName"),n=Ba("itemClassName"),r=Ba("itemContent"),i=Ba("computeItemKey"),o=Ba("isSeeking"),a=Mf("scrollHeight"),s=Ba("ItemComponent"),l=Ba("ListComponent"),c=Ba("ScrollSeekPlaceholder"),u=Ba("context"),d=Mf("itemDimensions"),f=Mf("gap"),p=Ba("log"),g=pd(function(h){a(h.parentElement.parentElement.scrollHeight);var y=h.firstChild;y&&d(y.getBoundingClientRect()),f({row:Cee("row-gap",getComputedStyle(h).rowGap,p),column:Cee("column-gap",getComputedStyle(h).columnGap,p)})});return x.createElement(l,xr({ref:g,className:t},ea(l,u),{style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom}}),e.items.map(function(h){var y=i(h.index);return o?x.createElement(c,xr({key:y},ea(c,u),{index:h.index,height:e.itemHeight,width:e.itemWidth})):x.createElement(s,xr({},ea(s,u),{className:n,"data-index":h.index,key:y}),r(h.index,u))}))}),cIe=function(e){var t=e.children,n=Mf("viewportDimensions"),r=pd(function(i){n(i.getBoundingClientRect())});return x.createElement("div",{style:Ap,ref:r},t)},uIe=function(e){var t=e.children,n=QI(Mf("windowViewportRect"),Ba("customScrollParent"));return x.createElement("div",{ref:n,style:Ap},t)},oO=UI(sIe,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",item:"item",ItemContainer:"ItemContainer",ScrollContainer:"ScrollContainer",ListContainer:"ListContainer",scrollSeek:"scrollSeek"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange"}},x.memo(function(e){var t=xr({},e),n=Ba("useWindowScroll"),r=Ba("customScrollParent"),i=r||n?uIe:cIe;return x.createElement(r||n?fIe:dIe,xr({},t),x.createElement(i,null,x.createElement(lIe,null)))})),Mf=oO.usePublisher,Ba=oO.useEmitterValue,See=oO.useEmitter,dIe=ZI({usePublisher:Mf,useEmitterValue:Ba,useEmitter:See}),fIe=eO({usePublisher:Mf,useEmitterValue:Ba,useEmitter:See});function Cee(e,t,n){return t==="normal"||t!=null&&t.endsWith("px")||n(e+" was not resolved to pixel value correctly",t,qo.WARN),t==="normal"?0:parseInt(t??"0",10)}var hIe=Si(function(){var e=_n(function(l){return x.createElement("td",null,"Item $",l)}),t=_n(null),n=_n(null),r=_n(null),i=_n({}),o=_n(JI),a=_n(Nf),s=function(l,c){return c===void 0&&(c=null),is(rn(i,Pn(function(u){return u[l]}),_o()),c)};return{context:t,itemContent:e,fixedHeaderContent:n,fixedFooterContent:r,components:i,computeItemKey:o,scrollerRef:a,TableComponent:s("Table","table"),TableHeadComponent:s("TableHead","thead"),TableFooterComponent:s("TableFoot","tfoot"),TableBodyComponent:s("TableBody","tbody"),TableRowComponent:s("TableRow","tr"),ScrollerComponent:s("Scroller","div"),EmptyPlaceholder:s("EmptyPlaceholder"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder"),FillerRow:s("FillerRow")}}),pIe=Si(function(e){return xr({},e[0],e[1])},mo(mee,hIe)),mIe=function(e){return x.createElement("tr",null,x.createElement("td",{style:{height:e.height}}))},gIe=function(e){return x.createElement("tr",null,x.createElement("td",{style:{height:e.height,padding:0,border:0}}))},yIe=x.memo(function(){var e=ki("listState"),t=Hl("sizeRanges"),n=ki("useWindowScroll"),r=ki("customScrollParent"),i=Hl("windowScrollContainerState"),o=Hl("scrollContainerState"),a=r||n?i:o,s=ki("itemContent"),l=ki("trackItemSizes"),c=WZ(t,ki("itemSize"),l,a,ki("log"),void 0,r),u=c.callbackRef,d=c.ref,f=x.useState(0),p=f[0],g=f[1];sO("deviation",function(z){p!==z&&(d.current.style.marginTop=z+"px",g(z))});var h=ki("EmptyPlaceholder"),y=ki("ScrollSeekPlaceholder")||mIe,b=ki("FillerRow")||gIe,w=ki("TableBodyComponent"),S=ki("TableRowComponent"),E=ki("computeItemKey"),_=ki("isSeeking"),m=ki("paddingTopAddition"),C=ki("firstItemIndex"),T=ki("statefulTotalCount"),O=ki("context");if(T===0&&h)return x.createElement(h,ea(h,O));var R=e.offsetTop+m+p,j=e.offsetBottom,D=R>0?x.createElement(b,{height:R,key:"padding-top"}):null,L=j>0?x.createElement(b,{height:j,key:"padding-bottom"}):null,V=e.items.map(function(z){var B=z.originalIndex,H=E(B+C,z.data,O);return _?x.createElement(y,xr({},ea(y,O),{key:H,index:z.index,height:z.size,type:z.type||"item"})):x.createElement(S,xr({},ea(S,O),{key:H,"data-index":B,"data-known-size":z.size,"data-item-index":z.index,style:{overflowAnchor:"none"}}),s(z.index,z.data,O))});return x.createElement(w,xr({ref:u,"data-test-id":"virtuoso-item-list"},ea(w,O)),[D].concat(V,[L]))}),vIe=function(e){var t=e.children,n=x.useContext(cx),r=Hl("viewportHeight"),i=Hl("fixedItemHeight"),o=pd(W0(r,function(a){return vu(a,"height")}));return x.useEffect(function(){n&&(r(n.viewportHeight),i(n.itemHeight))},[n,r,i]),x.createElement("div",{style:Ap,ref:o,"data-viewport-type":"element"},t)},bIe=function(e){var t=e.children,n=x.useContext(cx),r=Hl("windowViewportRect"),i=Hl("fixedItemHeight"),o=ki("customScrollParent"),a=QI(r,o);return x.useEffect(function(){n&&(i(n.itemHeight),r({offsetTop:0,visibleHeight:n.viewportHeight,visibleWidth:100}))},[n,r,i]),x.createElement("div",{ref:a,style:Ap,"data-viewport-type":"window"},t)},aO=UI(pIe,{required:{},optional:{context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",fixedHeaderContent:"fixedHeaderContent",fixedFooterContent:"fixedFooterContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",react18ConcurrentRendering:"react18ConcurrentRendering"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},x.memo(function(e){var t=ki("useWindowScroll"),n=ki("customScrollParent"),r=Hl("fixedHeaderHeight"),i=Hl("fixedFooterHeight"),o=ki("fixedHeaderContent"),a=ki("fixedFooterContent"),s=ki("context"),l=pd(W0(r,function(b){return vu(b,"height")})),c=pd(W0(i,function(b){return vu(b,"height")})),u=n||t?xIe:wIe,d=n||t?bIe:vIe,f=ki("TableComponent"),p=ki("TableHeadComponent"),g=ki("TableFooterComponent"),h=o?x.createElement(p,xr({key:"TableHead",style:{zIndex:1,position:"sticky",top:0},ref:l},ea(p,s)),o()):null,y=a?x.createElement(g,xr({key:"TableFoot",style:{zIndex:1,position:"sticky",bottom:0},ref:c},ea(g,s)),a()):null;return x.createElement(u,xr({},e),x.createElement(d,null,x.createElement(f,xr({style:{borderSpacing:0}},ea(f,s)),[h,x.createElement(yIe,{key:"TableBody"}),y])))})),Hl=aO.usePublisher,ki=aO.useEmitterValue,sO=aO.useEmitter,wIe=ZI({usePublisher:Hl,useEmitterValue:ki,useEmitter:sO}),xIe=eO({usePublisher:Hl,useEmitterValue:ki,useEmitter:sO}),lO=ZAe;const _Ie=({height:e,...t})=>v.jsx(lO,{style:e?{height:e}:{},...t}),EIe=U.div.withConfig({displayName:"CtaBanner__Wrapper"})([`
  box-sizing: content-box;
  position: fixed;
  display: flex;
  bottom: 1.6rem;
  left: 50%;
  transform: translateX(-50%);
  padding: 0.4rem 1.5rem;
  align-items: center;
  justify-content: center;
  background: `,`;
  overflow: hidden;
  border-radius: 10rem;
  max-width: none;
  white-space: nowrap;
  min-width: fit-content;
`],vt("pinkPrimary")),SIe=U.p.withConfig({displayName:"CtaBanner__Text"})([`
  font-size: 1.5rem;
  color: `,`;
  margin: 0 5rem 0 0;

  @media (max-width: 700px) {
    display: none;
  }
`],vt("white")),CIe=U.a.withConfig({displayName:"CtaBanner__DownloadLink"})([`
  display: inline-flex;
  height: 3rem;
  padding: 0 1.3rem;
  align-items: center;
  justify-content: center;
  background: `,`;
  border-radius: 4px;
  border: 1px solid `,`;
  outline: 0;
  font-weight: 700;
  line-height: 1.15;
  cursor: pointer;
  text-decoration: none;
  margin-right: 2rem;
  font-size: 13.13px;
  color: `,`;

  &:hover {
    background: `,` !important;
    border-color: `,` !important;
    text-decoration: underline;
    color: `,` !important;
  }

  @media (max-width: 700px) {
    margin-left: 1rem;
  }
`],vt("white"),vt("white"),vt("black"),vt("white"),vt("white"),vt("black")),Tee=U.a.withConfig({displayName:"CtaBanner__EnterpriseLink"})([`
  font-size: 13.13px;
  font-weight: 700;
  color: `,`;
  text-decoration: none;
  margin-right: 2rem;

  &:hover {
    text-decoration: underline;
  }

  @media (max-width: 700px) {
    display: none;
  }
`],vt("white")),TIe=U(Tee).withConfig({displayName:"CtaBanner__EnterpriseLinkSmall"})([`
  display: none;

  @media (max-width: 700px) {
    display: block;
  }
`]),AIe=U(Xc).withConfig({displayName:"CtaBanner__CloseIcon"})([`
  color: `,`;
  cursor: pointer;
`],vt("white")),IIe=({onClick:e})=>v.jsxs(EIe,{children:[v.jsx(SIe,{children:"Ready to get started?"}),v.jsx(CIe,{href:"https://questdb.com/download",target:"_blank",rel:"noopener noreferrer",children:"Download"}),v.jsx(Tee,{href:"https://questdb.com/enterprise",target:"_blank",rel:"noopener noreferrer",children:"Learn more about QuestDB Enterprise \u2192"}),v.jsx(TIe,{href:"https://questdb.com/enterprise",target:"_blank",rel:"noopener noreferrer",children:"QuestDB Enterprise \u2192"}),v.jsx(AIe,{onClick:e,size:"22px"})]});var Aee=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M7 16a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm1 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm-1-5a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm1-4a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM7 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm7-2.75V5h4.75C19.99 5 21 6 21 7.25v13.5c0 .41-.34.75-.75.75h-3v-2.75a.5.5 0 0 0-.5-.5h-2.5a.5.5 0 0 0-.5.5v2.75h-10a.75.75 0 0 1-.75-.75V4.25C3 3.01 4 2 5.25 2h6.5C12.99 2 14 3 14 4.25ZM5.25 3.5a.75.75 0 0 0-.75.75V20H10V7.25C10 6.01 11 5 12.25 5h.25v-.75a.75.75 0 0 0-.75-.75h-6.5ZM18 15a1 1 0 1 0-2 0 1 1 0 0 0 2 0Zm-4 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm4-4a1 1 0 1 0-2 0 1 1 0 0 0 2 0Zm-4 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm4-4a1 1 0 1 0-2 0 1 1 0 0 0 2 0Zm-4 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"}))});Aee.displayName="BuildingMultiple";var Iee=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 28 28"},e,{ref:t}),x.createElement("path",{d:"M23.5 21.25c0 1.24-1 2.25-2.25 2.25H17v-5h-6V25h10.25A3.75 3.75 0 0 0 25 21.25V6.75A3.75 3.75 0 0 0 21.25 3H11v6.5h6v-5h4.25c1.24 0 2.25 1 2.25 2.25v14.5ZM6.75 3H9.5v6.5H3V6.75A3.75 3.75 0 0 1 6.75 3ZM3 17v-6h6.5v6H3Zm0 4.25V18.5h6.5V25H6.75A3.75 3.75 0 0 1 3 21.25ZM11 11v6h6v-6h-6Z"}))});Iee.displayName="TableFreezeColumn";let Oee,kee,Nee,cO,uO,dO,Ree,jee,fO,hO,pO,Lee,Mee,Pee,Dee,Fee,Uee,zee,mO,Bee,$ee,Hee,Vee,qee,Wee,Gee,Kee,Xee,Yee,Qee,gO,Pf,dx,fx,wu,yO,Jee,Zee,ete,tte,nte,Vl,rte,vO,hx,bO,ite,ote,ate,wO,xO,_O,ste,lte,cte,Ip,Op,EO,ute,dte,fte,hte,kp,pte,SO,mte,CO,md,gte,yte,TO,n1,vte,AO,bte;Oee=(e,t)=>{const n=cO(e),r=cO(t),i=n.pop(),o=r.pop(),a=fO(n,r);return a!==0?a:i&&o?fO(i.split("."),o.split(".")):i||o?i?-1:1:0},kee=(e,t,n)=>{Lee(n);const r=Oee(e,t);return hO[n].includes(r)},Nee=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,cO=e=>{if(typeof e!="string")throw new TypeError("Invalid argument expected string");const t=e.match(Nee);if(!t)throw new Error(`Invalid argument not valid semver ('${e}' received)`);return t.shift(),t},uO=e=>e==="*"||e==="x"||e==="X",dO=e=>{const t=parseInt(e,10);return isNaN(t)?e:t},Ree=(e,t)=>typeof e!=typeof t?[String(e),String(t)]:[e,t],jee=(e,t)=>{if(uO(e)||uO(t))return 0;const[n,r]=Ree(dO(e),dO(t));return n>r?1:n<r?-1:0},fO=(e,t)=>{for(let n=0;n<Math.max(e.length,t.length);n++){const r=jee(e[n]||"0",t[n]||"0");if(r!==0)return r}return 0},hO={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]},pO=Object.keys(hO),Lee=e=>{if(pO.indexOf(e)===-1)throw new Error(`Invalid operator, expected one of ${pO.join("|")}`)},Mee=(e,t)=>{if(typeof t>"u")return!1;const n=e.type.includes("enterprise");try{if(e.version){const r=kee(e.version,t,"<");return!n&&r}return!1}catch{return!1}},Pee=U.div.withConfig({displayName:"BuildVersion__Wrapper"})([`
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: center;

  & > :not(:last-child) {
    margin-right: 1rem;
  }
`]),Dee=U(vn).withConfig({displayName:"BuildVersion__ReleaseNotesButton"})([`
  position: relative;
  `,`
  gap: 0.5rem;
`],({enterprise:e})=>e?"background: #322733;":""),Fee=U.a.withConfig({displayName:"BuildVersion__ReleaseLink"})([`
  text-decoration: none;
`]),Uee=U(MU).withConfig({displayName:"BuildVersion__UpgradeIcon"})([`
  color: `,`;
`],({theme:e})=>e.color.green),zee=U.span.withConfig({displayName:"BuildVersion__NewestRelease"})([`
  color: `,`;
  font-size: `,`;
`],({theme:e})=>e.color.green,({theme:e})=>e.fontSize.xs),mO={dev:{label:"QuestDB Dev"},oss:{label:"QuestDB"},enterprise:{icon:v.jsx(rz,{size:"18px"}),label:"QuestDB Enterprise"},"enterprise pro":{icon:v.jsx(Aee,{size:"18px"}),label:"QuestDB Enterprise Pro"},"enterprise ultimate":{icon:v.jsx(zX,{size:"18px"}),label:"QuestDB Enterprise Ultimate"}},Bee=()=>{const{quest:e,buildVersion:t,commitHash:n}=x.useContext(Xa),[r,i]=x.useState(null);if(x.useEffect(()=>{t.version&&t.type.includes("oss")&&e.getLatestRelease().then(u=>{u.name&&i(u)}).catch(u=>{console.error(u)})},[t]),t.version===""&&!n.length)return null;const o=t.type.includes("enterprise"),a=Mee(t,r==null?void 0:r.name),s=a?r==null?void 0:r.html_url:`https://github.com/questdb/questdb${t?`/releases/tag/${t.version}`:`/commit/${n}`}`,{label:l,icon:c}=mO[t.type]??mO.dev;return v.jsx(Pee,{children:v.jsx(Fee,{href:o?"https://questdb.io/enterprise":s,rel:"noopener noreferrer",target:"_blank",children:v.jsxs(Dee,{skin:"secondary",enterprise:o,title:["dev","oss"].includes(t.type)?`Show ${t?"release notes":"commit details"}`:"",children:[c,l,t.version?` ${t.version}`:"",!o&&v.jsx(Oh,{size:"16px"}),a&&v.jsxs(v.Fragment,{children:[v.jsx(Uee,{size:"18px"}),v.jsx(zee,{children:r==null?void 0:r.name})]})]})})})},$ee=U.div.withConfig({displayName:"ConnectionStatus__Wrapper"})([`
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: center;
`]),Hee=U.div.withConfig({displayName:"ConnectionStatus__StatusIcon"})([`
  display: block;
  width: 0.6rem;
  height: 0.6rem;
  border-radius: 50%;
  background-color: `,`;
  margin-right: 0.6rem;
`],e=>e.isConnected?vt("green"):vt("red")),Vee=()=>{const[e,t]=x.useState(!0);return x.useEffect(()=>{Bn.subscribe(zn.MSG_CONNECTION_OK,()=>{t(!0)}),Bn.subscribe(zn.MSG_CONNECTION_ERROR,()=>{t(!1)})},[e]),v.jsxs($ee,{children:[v.jsx(Hee,{isConnected:e}),e?v.jsx(st,{color:"white",children:"Connected"}):v.jsx(st,{color:"white",children:"Error connecting to QuestDB"})]})},qee=U.div.withConfig({displayName:"Footer__Wrapper"})([`
  position: absolute;
  display: flex;
  height: 4rem;
  bottom: 0;
  left: 0;
  right: 0;
  padding-left: 45px;
`]),Wee=U.div.withConfig({displayName:"Footer__LeftContainer"})([`
  display: flex;
  padding-left: 1rem;
  align-items: center;
  flex: 1;
`]),Gee=U.div.withConfig({displayName:"Footer__RightContainer"})([`
  display: flex;
  padding-right: 1rem;
  align-items: center;

  & > *:not(:last-child) {
    margin-right: 1rem;
  }
`]),Kee=b_([`
  .cta-banner-enter {
    bottom: -10rem;
    opacity: 0;
  }

  .cta-banner-enter-active {
    bottom: 1.6rem;
    opacity: 1;
    transition: bottom `,"ms ease-out, opacity ",`ms ease-out;
  }

  .cta-banner-exit,
  .cta-banner-enter-done {
    bottom: 1.6rem;
    opacity: 1;
  }

  .cta-banner-exit-active {
    bottom: -10rem;
    opacity: 0;
    transition: bottom `,"ms ease-in, opacity ",`ms ease-in;
  }
`],Io.REG,Io.REG,Io.REG,Io.REG),Xee=()=>{const[e,t]=x.useState(!1),[n,r]=x.useState(!0),i=x.useCallback(()=>{t(!1)},[]),{consoleConfig:o}=Rl();return x.useEffect(()=>{setTimeout(()=>{t(!0)},2e3),Bn.subscribe(zn.MSG_CONNECTION_ERROR,()=>{r(!1)}),Bn.subscribe(zn.MSG_CONNECTION_OK,()=>{r(!0)})},[]),v.jsxs(qee,{id:"footer",children:[v.jsx(Wee,{children:v.jsxs(st,{color:"foreground",children:["Copyright \xA9 ",new Date().getFullYear()," QuestDB"]})}),v.jsxs(Gee,{children:[v.jsx(Vee,{}),n&&v.jsx(Bee,{}),v.jsx(pp,{color:"foreground",hoverColor:"cyan",href:"https://github.com/questdb/questdb",rel:"noreferrer",target:"_blank",children:v.jsx(sz,{size:"18px"})})]}),v.jsx(Kee,{}),v.jsx(Lc,{classNames:"cta-banner",in:e&&o.ctaBanner,timeout:Io.REG,unmountOnExit:!0,children:v.jsx(IIe,{onClick:i})})]})},Yee=U.div.withConfig({displayName:"QueryResult__Wrapper"})([`
  display: flex;
  align-items: center;
  overflow: hidden;
  `,`;

  svg {
    margin-right: 0.2rem;
    color: `,`;
  }
`],d5e,vt("foreground")),Qee=U.div.withConfig({displayName:"QueryResult__Details"})([`
  display: flex;
`]),gO=U.div.withConfig({displayName:"QueryResult__DetailsColumn"})([`
  margin-left: 1rem;
`]),Pf=U(st).withConfig({displayName:"QueryResult__DetailsText"})([`
  margin-right: 0.5rem;
`]),dx=e=>Math.round((e+Number.EPSILON)*100)/100,fx=e=>e==="0"?v.jsx(st,{color:"gray2",children:"0"}):v.jsx(st,{color:"orange",children:e}),wu=e=>e===0?"0":e>1e9?`${dx(e/1e9)}s`:e>1e6?`${dx(e/1e6)}ms`:e>1e3?`${dx(e/1e3)}\u03BCs`:`${e}ns`,yO=({compiler:e,authentication:t,count:n,execute:r,fetch:i,rowCount:o})=>v.jsxs(Yee,{_height:95,duration:Io.FAST,children:[v.jsx("div",{children:v.jsxs(st,{color:"gray2",children:[o.toLocaleString()," row",o>1||o===0?"s":""," in\xA0",wu(i)]})}),v.jsxs(Qee,{children:[v.jsxs(gO,{children:[v.jsxs(Pf,{color:"foreground",children:["Execute: ",fx(wu(r))]}),v.jsxs(Pf,{color:"foreground",children:["Network:\xA0",fx(wu(i-r))]}),v.jsxs(Pf,{color:"foreground",children:["Total:\xA0",fx(wu(i))]})]}),v.jsxs(gO,{children:[v.jsxs(Pf,{align:"right",color:"gray2",size:"sm",children:["Count: ",wu(n)]}),v.jsxs(Pf,{align:"right",color:"gray2",size:"sm",children:["Authentication: ",wu(t)]}),v.jsxs(Pf,{align:"right",color:"gray2",size:"sm",children:["Compile: ",wu(e)]})]})]})]}),Jee=X1([`
  0% {
    background-position: left bottom;
  }

  100% {
    background-position: right bottom;
  }
`]),Zee=U.div.withConfig({displayName:"Loader__Wrapper"})([`
  position: fixed;
  height: 0.4rem;
  top: 0;
  left: 0;
  right: 0;
  z-index: 15;
  background: linear-gradient(
      to left,
      `,` 30%,
      `,` 80%,
      `,` 100%
    )
    repeat;
  background-size: 50% 100%;
  animation-name: `,`;
  animation-duration: 1s;
  animation-iteration-count: infinite;
  animation-timing-function: linear;
`],vt("selection"),vt("foreground"),vt("selection"),Jee),ete=({show:e})=>{const[t,n]=x.useState(!1),r=x.useRef();return x.useEffect(()=>()=>{clearTimeout(r.current)},[]),x.useEffect(()=>{clearTimeout(r.current),e?r.current=window.setTimeout(()=>{n(!0)},500):n(!1)},[e]),v.jsx(v.Fragment,{children:v.jsx(Lc,{classNames:"fade-slow",in:t&&e,timeout:Io.SLOW,unmountOnExit:!0,children:v.jsx(Zee,{})})})},tte=({editor:e,insertTextAtCursor:t,toggleRunning:n})=>(Bn.subscribe(zn.MSG_EDITOR_INSERT_COLUMN,r=>{r&&t(r)}),Bn.subscribe(zn.MSG_QUERY_FIND_N_EXEC,r=>{if(r){const i=`${r.query};`;ky(e,i,r.options),n()}}),Bn.subscribe(zn.MSG_QUERY_EXEC,()=>{n(dr.REFRESH)}),Bn.subscribe(zn.MSG_EDITOR_FOCUS,()=>{const r=e.getPosition();r&&e.setPosition({lineNumber:r.lineNumber+1,column:r==null?void 0:r.column}),e.focus()}),()=>{Bn.unsubscribe(zn.MSG_EDITOR_INSERT_COLUMN),Bn.unsubscribe(zn.MSG_QUERY_FIND_N_EXEC),Bn.unsubscribe(zn.MSG_QUERY_EXEC),Bn.unsubscribe(zn.MSG_EDITOR_FOCUS)}),nte=U(st).withConfig({displayName:"query-in-notification__StyledText"})([`
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`]),Vl=({query:e})=>e?v.jsxs(tt,{gap:"1rem",align:"center",children:[v.jsx(AG,{text:e,iconOnly:!0}),v.jsx(nte,{color:"foreground",title:e,children:e})]}):null,rte=U.div.withConfig({displayName:"ButtonBar__ButtonBarWrapper"})([`
  `,`
`],({$searchWidgetType:e})=>Vn([`
    position: absolute;
    top: `,`;
    right: 2.4rem;
    z-index: 1;
    transition: top 0.1s linear;
    display: flex;
    gap: 1rem;
    align-items: center;
  `],e==="replace"?"8.2rem":e==="find"?"5.3rem":"1rem")),vO=U.div.withConfig({displayName:"ButtonBar__ButtonGroup"})([`
  display: flex;
  gap: 0;
  margin-left: auto;
`]),hx=U(vn).withConfig({displayName:"ButtonBar__SuccessButton"})([`
  margin-left: auto;
  background-color: `,`;
  border-color: `,`;
  color: `,`;

  &:hover:not(:disabled) {
    background-color: `,`;
    border-color: `,`;
    color: `,`;
  }

  &:disabled {
    background-color: `,`;
    border-color: `,`;
    color: `,`;
    opacity: 0.6;
  }

  svg {
    color: `,`;
  }

  &:hover:not(:disabled) svg {
    color: `,`;
  }

  &:disabled svg {
    color: `,`;
  }
`],vt("greenDarker"),vt("greenDarker"),vt("foreground"),vt("green"),vt("green"),vt("selectionDarker"),vt("greenDarker"),vt("greenDarker"),vt("foreground"),vt("foreground"),vt("gray1"),vt("foreground")),bO=U(vn).withConfig({displayName:"ButtonBar__StopButton"})([`
  margin-left: auto;
  background-color: `,`;
  border-color: `,`;
  color: `,`;

  &:hover:not(:disabled) {
    background-color: `,`;
    border-color: `,`;
    color: `,`;
    filter: brightness(1.2);
  }

  &:disabled {
    background-color: `,`;
    border-color: `,`;
    color: `,`;
    opacity: 0.6;
  }

  svg {
    color: `,`;
  }

  &:hover:not(:disabled) svg {
    color: `,`;
  }

  &:disabled svg {
    color: `,`;
  }
`],vt("red"),vt("red"),vt("foreground"),vt("red"),vt("red"),vt("foreground"),vt("red"),vt("red"),vt("foreground"),vt("foreground"),vt("foreground"),vt("foreground")),ite=U(hx).withConfig({displayName:"ButtonBar__MainRunButton"})([`
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
`]),ote=U(hx).withConfig({displayName:"ButtonBar__DropdownButton"})([`
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
  padding: 0 0.5rem;
  min-width: auto;
  svg {
    transform: `,`;
  }
`],({$open:e})=>e?"rotate(180deg)":"rotate(0deg)"),ate=U.div.withConfig({displayName:"ButtonBar__DropdownMenu"})([`
  background: `,`;
  border-radius: 0.4rem;
  box-shadow: 0 0.4rem 1.2rem rgba(0, 0, 0, 0.3);
  overflow: hidden;
  transform: translateX(-7rem) translateY(0.5rem);
  padding: 0;
  min-width: unset;
  border: 0;

  > * {
    justify-content: space-between;
    width: 100%;
    font-size: 1.4rem;
  }
`],vt("backgroundDarker")),wO=U(tt).attrs({alignItems:"center",gap:"0"}).withConfig({displayName:"ButtonBar__RunShortcut"})([`
  margin-left: 1rem;
`]),xO=us.isMacintosh||us.isIOS?"\u2318":"Ctrl",_O=us.isMacintosh||us.isIOS?{[dr.QUERY]:"Run query (Cmd+Enter)",[dr.SCRIPT]:"Run all queries (Cmd+Shift+Enter)"}:{[dr.QUERY]:"Run query (Ctrl+Enter)",[dr.SCRIPT]:"Run all queries (Ctrl+Shift+Enter)"},ste=({onTriggerRunScript:e,isTemporary:t})=>{const n=ls(),r=oi(Mr.query.getRunning),i=oi(Mr.query.getQueriesToRun),[o,a]=x.useState(!1),s=x.useRef(null),[l,c]=x.useState(null),u=x.useCallback(()=>{i.length>1?e():n(An.query.toggleRunning())},[n,i,e]),d=x.useCallback(()=>{e(!0),a(!1)},[n,e]),f=x.useCallback(h=>{a(h)},[]);x.useEffect(()=>{const h=()=>{const b=document.querySelector(".find-widget"),w=!!b&&b.classList.contains("visible"),S=!!b&&b.classList.contains("replaceToggled");c(w?S?"replace":"find":null)},y=new MutationObserver(b=>{let w=!1;b.forEach(S=>{S.type==="childList"?S.addedNodes.forEach(E=>{var _,m;if(E.nodeType===Node.ELEMENT_NODE){const C=E;((_=C.classList)!=null&&_.contains("find-widget")||(m=C.querySelector)!=null&&m.call(C,".find-widget"))&&(w=!0)}}):S.type==="attributes"&&S.target instanceof Element&&S.target.classList.contains("find-widget")&&(w=!0)}),w&&h()});return y.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"],attributeOldValue:!1}),s.current=y,()=>{s.current&&(s.current.disconnect(),s.current=null)}},[]);const p=()=>r===dr.SCRIPT?v.jsx(bO,{skin:"error","data-hook":"button-cancel-script",onClick:d,prefixIcon:v.jsx(vv,{size:"18px"}),children:"Cancel"}):v.jsxs(hx,{skin:"success","data-hook":"button-run-script",title:_O[dr.SCRIPT],onClick:d,disabled:r!==dr.NONE||t,children:["Run all queries",v.jsxs(wO,{children:[v.jsx($c,{keyString:xO,color:vt("green"),hoverColor:vt("green")}),v.jsx($c,{keyString:"\u21E7",color:vt("green"),hoverColor:vt("green")}),v.jsx($c,{keyString:"Enter",color:vt("green"),hoverColor:vt("green")})]})]}),g=()=>{if(r!==dr.NONE&&r!==dr.SCRIPT)return v.jsx(vO,{children:v.jsx(bO,{skin:"error","data-hook":"button-cancel-query",onClick:u,prefixIcon:v.jsx(vv,{size:"18px"}),children:"Cancel"})});const h=()=>{const y=i.length;return y===1?i[0].selection?"Run selected query":"Run query":y>1?`Run ${y} selected queries`:"Run query"};return v.jsxs(vO,{children:[v.jsxs(ite,{skin:"success","data-hook":"button-run-query",title:_O[dr.QUERY],onClick:u,disabled:r!==dr.NONE||i.length===0||t,children:[h(),v.jsxs(wO,{children:[v.jsx($c,{keyString:xO,color:vt("green"),hoverColor:vt("green")}),v.jsx($c,{keyString:"Enter",color:vt("green"),hoverColor:vt("green")})]})]}),v.jsx(If,{active:o,onToggle:f,placement:"bottom",trigger:v.jsx(ote,{skin:"success","data-hook":"button-run-query-dropdown",$open:o,title:"More run options",children:v.jsx(bv,{size:"16px"})}),children:v.jsx(ate,{children:p()})})]})};return v.jsx(rte,{$searchWidgetType:l,children:r===dr.SCRIPT?p():g()})},lte=({size:e=24,color:t="currentColor"})=>v.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:t,xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{d:"M6 2v20l16-10z"})}),cte=U(ha.Content).withConfig({displayName:"QueryDropdown__StyledDropdownContent"})([`
  background-color: #343846;
  border-radius: 0.5rem;
  padding: 0.4rem;
  box-shadow: 0 0.2rem 0.8rem rgba(0, 0, 0, 0.36);
  z-index: 9999;
  min-width: 160px;
  gap: 0;
`]),Ip=U(ha.Item).withConfig({displayName:"QueryDropdown__StyledDropdownItem"})([`
  font-size: 1.3rem;
  height: 3rem;
  font-family: "system-ui", sans-serif;
  cursor: pointer;
  color: rgb(248, 248, 242);
  display: flex;
  align-items: center;
  padding: 1rem 1.2rem;
  border-radius: 0.4rem;
  margin: 0;
  gap: 0;
  border: 1px solid transparent;

  &[data-highlighted] {
    background: #043c5c;
    border: 1px solid #8be9fd;
  }

  &[data-disabled] {
    opacity: 0.5;
  }
`]),Op=U.span.withConfig({displayName:"QueryDropdown__IconWrapper"})([`
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 1.2rem;
`]),EO=U(lte).withConfig({displayName:"QueryDropdown__StyledPlayFilled"})([`
  transform: scale(1.3);
`]),ute=U.div.withConfig({displayName:"QueryDropdown__HiddenTrigger"})([`
  position: fixed;
  width: 1px;
  height: 1px;
  opacity: 0;
  pointer-events: none;
  top: `,`;
  left: `,`;
  z-index: 9998;
`],e=>{var t;return((t=e.style)==null?void 0:t.top)||"0px"},e=>{var t;return((t=e.style)==null?void 0:t.left)||"0px"}),dte=({open:e,onOpenChange:t,positionRef:n,queriesRef:r,isContextMenuRef:i,isAIDropdownRef:o,onRunQuery:a,onExplainQuery:s,onAskAIRef:l})=>{var f,p;const c=g=>{t(g)},u=g=>{if(!g)return"query";const h=g.selection?g.selection.queryText:g.query;return h.length>30?`"${h.substring(0,30)}..."`:`"${h}"`},d=g=>{if(!g)return!1;const h=g.selection?g.selection.queryText:g.query;return h.startsWith("EXPLAIN")||h.startsWith("explain")};return v.jsxs(ha.Root,{open:e,onOpenChange:c,children:[v.jsx(ha.Trigger,{asChild:!0,children:v.jsx(ute,{style:{top:(f=n.current)!=null&&f.y?`${n.current.y}px`:"0px",left:(p=n.current)!=null&&p.x?`${n.current.x}px`:"0px"}})}),v.jsx(ha.Portal,{children:v.jsx(cte,{children:o.current?r.current.map((g,h)=>v.jsxs(Ip,{onClick:()=>l.current(g),"data-hook":`dropdown-item-ask-ai-${h}`,children:[v.jsx(Op,{children:v.jsx(Cd,{size:18,variant:"filled"})}),"Ask AI about ",u(g)]},`ask-ai-${g.query}-${h}`)):r.current.length>1?r.current.map((g,h)=>{const y=[v.jsxs(Ip,{onClick:()=>a(g),"data-hook":`dropdown-item-run-query-${h}`,children:[v.jsx(Op,{children:v.jsx(EO,{size:18,color:"#fff"})}),"Run ",u(g)]},`run-${g.query}-${h}`)];return i.current&&y.push(v.jsxs(Ip,{disabled:d(g),onClick:()=>s(g),"data-hook":`dropdown-item-explain-query-${h}`,children:[v.jsx(Op,{children:v.jsx(hc,{size:18})}),"Get query plan for ",u(g)]},`explain-${g.query}-${h}`)),y}).flat():[v.jsxs(Ip,{onClick:()=>a(r.current[0]),"data-hook":"dropdown-item-run-query",children:[v.jsx(Op,{children:v.jsx(EO,{size:18,color:"#fff"})}),"Run ",u(r.current[0])]},"run"),v.jsxs(Ip,{disabled:d(r.current[0]),onClick:()=>s(r.current[0]),"data-hook":"dropdown-item-get-query-plan",children:[v.jsx(Op,{children:v.jsx(hc,{size:18})}),"Get query plan for"," ",u(r.current[0])]},"explain")]})})]})},wue=()=>v.jsxs("svg",{viewBox:"0 0 24 24",height:"22px",width:"22px",fill:"#50fa7b",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("path",{fill:"none",d:"M0 0h24v24H0z"}),v.jsx("path",{d:"M16.394 12 10 7.737v8.526L16.394 12zm2.982.416L8.777 19.482A.5.5 0 0 1 8 19.066V4.934a.5.5 0 0 1 .777-.416l10.599 7.066a.5.5 0 0 1 0 .832z"})]}),Eue=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",height:"22px",width:"22px",children:[v.jsx("path",{fill:"none",d:"M0 0h24v24H0z"}),v.jsx("path",{d:"M12 2a1 1 0 0 1 1 1v3a1 1 0 0 1-2 0V3a1 1 0 0 1 1-1zm0 15a1 1 0 0 1 1 1v3a1 1 0 0 1-2 0v-3a1 1 0 0 1 1-1zm8.66-10a1 1 0 0 1-.366 1.366l-2.598 1.5a1 1 0 1 1-1-1.732l2.598-1.5A1 1 0 0 1 20.66 7zM7.67 14.5a1 1 0 0 1-.366 1.366l-2.598 1.5a1 1 0 1 1-1-1.732l2.598-1.5a1 1 0 0 1 1.366.366zM20.66 17a1 1 0 0 1-1.366.366l-2.598-1.5a1 1 0 0 1 1-1.732l2.598 1.5A1 1 0 0 1 20.66 17zM7.67 9.5a1 1 0 0 1-1.366.366l-2.598-1.5a1 1 0 1 1 1-1.732l2.598 1.5A1 1 0 0 1 7.67 9.5z"})]}),xue=()=>v.jsxs("svg",{viewBox:"0 0 24 24",height:"22px",width:"22px",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("defs",{children:v.jsx("clipPath",{id:"errorClip",children:v.jsx("rect",{width:"24",height:"24"})})}),v.jsxs("g",{clipPath:"url(#errorClip)",children:[v.jsx("path",{d:"M8 4.934v14.132c0 .433.466.702.812.484l10.563-7.066a.5.5 0 0 0 0-.832L8.812 4.616A.5.5 0 0 0 8 4.934Z",fill:"#50fa7b"}),v.jsx("circle",{cx:"18",cy:"8",r:"6",fill:"#ff5555"}),v.jsx("rect",{x:"17",y:"4",width:"2",height:"5",fill:"white",rx:"0.5"}),v.jsx("circle",{cx:"18",cy:"11",r:"1",fill:"white"})]})]}),_ue=()=>v.jsxs("svg",{viewBox:"0 0 24 24",height:"22px",width:"22px",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("defs",{children:v.jsx("clipPath",{id:"successClip",children:v.jsx("rect",{width:"24",height:"24"})})}),v.jsxs("g",{clipPath:"url(#successClip)",children:[v.jsx("path",{d:"M8 4.934v14.132c0 .433.466.702.812.484l10.563-7.066a.5.5 0 0 0 0-.832L8.812 4.616A.5.5 0 0 0 8 4.934Z",fill:"#50fa7b"}),v.jsx("circle",{cx:"18",cy:"8",r:"6",fill:"#00aa3b"}),v.jsx("path",{d:"m15 8.5 2 2 4-4",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})]}),bue=()=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"9",height:"16",viewBox:"0 0 7 12",fill:"none",children:v.jsx("path",{d:"M3.06 1.88667L5.17333 4L6.11333 3.06L3.06 0L0 3.06L0.946667 4L3.06 1.88667ZM3.06 10.1133L0.946667 8L0.00666682 8.94L3.06 12L6.12 8.94L5.17333 8L3.06 10.1133Z",fill:"currentColor"})}),fte=e=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.size||24,height:e.size||24,viewBox:"0 0 24 24",fill:"none",...e,children:[v.jsx("path",{d:"M15.75 3.75C17.32 4.48224 18.6482 5.64772 19.5783 7.10926C20.5084 8.57081 21.0016 10.2676 21 12C21 14.3869 20.0518 16.6761 18.364 18.364C16.6761 20.0518 14.387 21 12 21C9.61306 21 7.32387 20.0518 5.63604 18.364C3.94822 16.6761 3 14.3869 3 12C2.99838 10.2676 3.49163 8.57081 4.4217 7.10926C5.35178 5.64772 6.67998 4.48224 8.25 3.75",stroke:"url(#paint0_linear_140_9487)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),v.jsx("defs",{children:v.jsxs("linearGradient",{id:"paint0_linear_140_9487",x1:"12",y1:"3.75",x2:"12",y2:"21",gradientUnits:"userSpaceOnUse",children:[v.jsx("stop",{stopColor:"#D14671"}),v.jsx("stop",{offset:"1",stopColor:"#892C6C"})]})})]}),hte=U(fte).withConfig({displayName:"icons__CircleNotchStyled"})([`
  `,`;
  flex-shrink: 0;
  transform-origin: center;
`],Um),ty=e=>v.jsx(hte,{size:e.size,...e}),kp=(e,t=22)=>{const n=document.createElementNS("http://www.w3.org/2000/svg","svg");switch(e){case"play":{n.setAttribute("viewBox","0 0 24 24"),n.setAttribute("height",`${t}px`),n.setAttribute("width",`${t}px`),n.setAttribute("fill","#50fa7b"),n.innerHTML=`
        <path fill="none" d="M0 0h24v24H0z"/>
        <path d="M16.394 12 10 7.737v8.526L16.394 12zm2.982.416L8.777 19.482A.5.5 0 0 1 8 19.066V4.934a.5.5 0 0 1 .777-.416l10.599 7.066a.5.5 0 0 1 0 .832z"/>
      `;break}case"cancel":{n.setAttribute("viewBox","0 0 24 24"),n.setAttribute("height",`${t}px`),n.setAttribute("width",`${t}px`),n.setAttribute("fill","#ff5555"),n.innerHTML=`
        <path fill="none" d="M0 0h24v24H0z"/>
        <path d="M7 7v10h10V7H7zM6 5h12a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1z"/>
      `;break}case"loading":{n.setAttribute("viewBox","0 0 24 24"),n.setAttribute("height",`${t}px`),n.setAttribute("width",`${t}px`),n.setAttribute("fill","white"),n.innerHTML=`
        <path fill="none" d="M0 0h24v24H0z"/>
        <path d="M12 2a1 1 0 0 1 1 1v3a1 1 0 0 1-2 0V3a1 1 0 0 1 1-1zm0 15a1 1 0 0 1 1 1v3a1 1 0 0 1-2 0v-3a1 1 0 0 1 1-1zm8.66-10a1 1 0 0 1-.366 1.366l-2.598 1.5a1 1 0 1 1-1-1.732l2.598-1.5A1 1 0 0 1 20.66 7zM7.67 14.5a1 1 0 0 1-.366 1.366l-2.598 1.5a1 1 0 1 1-1-1.732l2.598-1.5a1 1 0 0 1 1.366.366zM20.66 17a1 1 0 0 1-1.366.366l-2.598-1.5a1 1 0 0 1 1-1.732l2.598 1.5A1 1 0 0 1 20.66 17zM7.67 9.5a1 1 0 0 1-1.366.366l-2.598-1.5a1 1 0 1 1 1-1.732l2.598 1.5A1 1 0 0 1 7.67 9.5z"/>
      `;break}case"error":{n.setAttribute("viewBox","0 0 24 24"),n.setAttribute("height",`${t}px`),n.setAttribute("width",`${t}px`),n.setAttribute("fill","none"),n.innerHTML=`
        <g>
          <path d="M8 4.934v14.132c0 .433.466.702.812.484l10.563-7.066a.5.5 0 0 0 0-.832L8.812 4.616A.5.5 0 0 0 8 4.934Z" fill="#50fa7b"/>
          <circle cx="18" cy="8" r="6" fill="#ff5555"/>
          <rect x="17" y="4" width="2" height="5" fill="white" rx="0.5"/>
          <circle cx="18" cy="11" r="1" fill="white"/>
        </g>
      `;break}case"success":{n.setAttribute("viewBox","0 0 24 24"),n.setAttribute("height",`${t}px`),n.setAttribute("width",`${t}px`),n.setAttribute("fill","none"),n.innerHTML=`
        <g>
          <path d="M8 4.934v14.132c0 .433.466.702.812.484l10.563-7.066a.5.5 0 0 0 0-.832L8.812 4.616A.5.5 0 0 0 8 4.934Z" fill="#50fa7b"/>
          <circle cx="18" cy="8" r="6" fill="#00aa3b"/>
          <path d="m15 8.5 2 2 4-4" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        </g>
      `;break}case"aiSparkleHollow":{n.setAttribute("viewBox","0 0 15 15"),n.classList.add("ai-sparkle-hollow"),n.setAttribute("height",`${t}px`),n.setAttribute("width",`${t}px`),n.setAttribute("fill","none"),n.innerHTML=`
        <path fill="#d14671" d="m11.69 7.582-3.118-1.15-1.152-3.12a1.245 1.245 0 0 0-2.336 0l-1.15 3.12-3.12 1.15a1.245 1.245 0 0 0 0 2.336l3.118 1.15 1.152 3.12a1.245 1.245 0 0 0 2.336 0l1.15-3.118 3.12-1.152a1.245 1.245 0 0 0 0-2.336M7.727 9.779a.75.75 0 0 0-.444.445l-1.032 2.794-1.03-2.794a.75.75 0 0 0-.444-.445L1.984 8.75l2.794-1.03a.75.75 0 0 0 .444-.444l1.03-2.793 1.03 2.793a.75.75 0 0 0 .444.445l2.793 1.029zm.274-7.529a.75.75 0 0 1 .75-.75h.75V.75a.75.75 0 0 1 1.5 0v.75h.75a.75.75 0 1 1 0 1.5h-.75v.75a.75.75 0 1 1-1.5 0V3h-.75a.75.75 0 0 1-.75-.75m7 3a.75.75 0 0 1-.75.75h-.25v.25a.75.75 0 1 1-1.5 0V6h-.25a.75.75 0 1 1 0-1.5h.25v-.25a.75.75 0 1 1 1.5 0v.25h.25a.75.75 0 0 1 .75.75"/>
      `;break}case"aiSparkleFilled":{const r=`aiSparkleGradient-${Math.random()}`;n.classList.add("ai-sparkle-filled"),n.setAttribute("viewBox","0 0 24 24"),n.setAttribute("height",`${t}px`),n.setAttribute("width",`${t}px`),n.setAttribute("fill","none"),n.innerHTML=`
      <defs>
          <linearGradient id="${r}" x1="12.37" x2="12.37" y1=".75" y2="22.5" gradientUnits="userSpaceOnUse">
            <stop stop-color="#d14671"/>
            <stop offset="1" stop-color="#892c6c"/>
          </linearGradient>
        </defs>
        <path fill="url(#${r})" d="M19.5 13.5a1.48 1.48 0 0 1-.977 1.4l-4.836 1.787-1.78 4.84a1.493 1.493 0 0 1-2.802 0l-1.793-4.84-4.839-1.78a1.492 1.492 0 0 1 0-2.802l4.84-1.793 1.78-4.839a1.492 1.492 0 0 1 2.802 0l1.792 4.84 4.84 1.78A1.48 1.48 0 0 1 19.5 13.5m-5.25-9h1.5V6a.75.75 0 1 0 1.5 0V4.5h1.5a.75.75 0 1 0 0-1.5h-1.5V1.5a.75.75 0 1 0-1.5 0V3h-1.5a.75.75 0 1 0 0 1.5m8.25 3h-.75v-.75a.75.75 0 1 0-1.5 0v.75h-.75a.75.75 0 1 0 0 1.5h.75v.75a.75.75 0 1 0 1.5 0V9h.75a.75.75 0 1 0 0-1.5"/>
        
      `;break}}return n},pte=(e,t=16)=>{const n=document.createElement("span");n.className="glyph-ai-icon",n.classList.add(e);const r=kp("aiSparkleHollow",t),i=kp("aiSparkleFilled",t);return n.appendChild(r),n.appendChild(i),n},SO=(e,t)=>{const{isCancel:n,hasError:r,isSuccessful:i,showAI:o,hasConversation:a,isHighlighted:s}=t,l=[n,r,i,o,a,s].map(c=>c?"1":"0").join("");return`glyph-widget-${e}-${l}`},mte=(e,t)=>{const n=document.createElement("div");if(n.className="glyph-widget-container",n.classList.add(`glyph-widget-${e}`),t.showAI){let a=t.hasConversation?"active":"noChat";t.isHighlighted&&(a="highlight");const s=pte(a,16);s.classList.add("glyph-ai-icon"),t.isHighlighted&&setTimeout(()=>{s.classList.remove("highlight"),s.classList.add("active")},1e3),s.addEventListener("click",l=>{var c;l.stopPropagation(),(c=t.onAIClick)==null||c.call(t)}),n.appendChild(s)}const r=document.createElement("span");r.style.display="inline-flex",r.style.alignItems="center",r.style.justifyContent="center",r.style.width="24px",r.style.position="absolute",r.style.top="0",r.style.right=t.showAI?"0":"20px",r.style.height="100%",r.style.cursor="pointer";let i="play";t.isCancel?i="cancel":t.hasError?i="error":t.isSuccessful&&(i="success"),r.className=`glyph-run-icon ${i}`;const o=kp(i,22);return r.appendChild(o),r.addEventListener("mouseenter",()=>{r.style.filter="brightness(1.3)"}),r.addEventListener("mouseleave",()=>{r.style.filter=""}),r.addEventListener("click",a=>{a.stopPropagation(),t.onRunClick()}),r.addEventListener("contextmenu",a=>{var s;a.preventDefault(),a.stopPropagation(),(s=t.onRunContextMenu)==null||s.call(t)}),n.appendChild(r),{getId:()=>SO(e,t),getDomNode:()=>n,getPosition:()=>({lane:1,zIndex:1,range:{startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1}})}},CO=(e,t)=>{const n=document.querySelector(`.glyph-widget-${e}`);if(!(n instanceof HTMLElement))return;const r=n.querySelector(".glyph-run-icon");if(!(r instanceof HTMLElement))return;const i=["play","cancel","loading","error","success"],o=i.find(a=>r.classList.contains(a))||"play";if(t&&o!=="loading"){r.classList.remove(...i),r.classList.add("loading"),r.dataset.previousIconType=o;const a=kp("loading",22);r.innerHTML="",r.appendChild(a),r.style.animation="glyph-spin 3s linear infinite",r.style.pointerEvents="none"}else if(!t&&o==="loading"){const a=r.dataset.previousIconType||"play";delete r.dataset.previousIconType,r.classList.remove("loading"),r.classList.add(a);const s=kp(a,22);r.innerHTML="",r.appendChild(s),r.style.animation="",r.style.pointerEvents="auto"}},md=99999,gte=U(Ef).withConfig({displayName:"Monaco__Content"})([`
  position: relative;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background: #2c2e3d;
  height: 100%;
  width: 100%;

  `,`
  .monaco-editor .squiggly-error {
    background: none;
    border-bottom: 0.3rem `,` solid;
  }

  .monaco-scrollable-element > .scrollbar > .slider {
    background: `,`;
  }

  .cursorQueryDecoration {
    width: 0.2rem !important;
    background: `,`;
    margin-left: 0.5rem;

    &.hasError {
      background: `,`;
    }
  }

  .glyph-widget-container {
    align-items: center;
    width: 50px !important;
    display: flex;
    align-items: center;
    gap: 5px;
    margin-left: 1rem;
    width: 53px;
    height: 100%;
  }

  .glyph-ai-icon {
    position: absolute;
    top: 50%;
    left: 0;
    transform: translateY(-50%);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    border-radius: 4px;
    cursor: pointer;

    .ai-sparkle-hollow,
    .ai-sparkle-filled {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    .ai-sparkle-hollow {
      visibility: visible;
    }
    .ai-sparkle-filled {
      visibility: hidden;
    }
    &:hover,
    &.highlight {
      .ai-sparkle-hollow {
        visibility: hidden;
      }
      .ai-sparkle-filled {
        visibility: visible;
      }
    }
    &.active {
      border: 1px solid transparent;
      box-shadow: none;
      background:
        linear-gradient(#2c2e3d, #2c2e3d) padding-box,
        linear-gradient(90deg, #d14671 0%, #892c6c 100%) border-box;
    }

    &.highlight {
      border: 1px solid #d14671;
      background: linear-gradient(
        90deg,
        rgba(209, 70, 113, 0.24) 0%,
        rgba(137, 44, 108, 0.24) 100%
      );
      box-shadow: none;
    }
  }

  .selectionErrorHighlight {
    background-color: rgba(255, 85, 85, 0.15);
    border-radius: 2px;
  }

  .selectionSuccessHighlight {
    background-color: rgba(80, 250, 123, 0.15);
    border-radius: 2px;
  }

  .searchHighlight {
    background-color: rgba(255, 184, 108, 0.5);
    border-radius: 2px;
  }

  .aiQueryHighlight {
    background-color: rgba(241, 250, 140, 0.5);
    border-radius: 2px;
  }

  /* Keyframe animation for glyph widget spinner */
  @keyframes glyph-spin {
    from {
      transform: rotate(0);
    }
    to {
      transform: rotate(360deg);
    }
  }
`],({$hidden:e})=>e&&`
    position: absolute;
    width: 0;
    height: 0;
    overflow: hidden;
    visibility: hidden;
  `,vt("red"),vt("selection"),vt("green"),vt("red")),yte=U(vn).withConfig({displayName:"Monaco__CancelButton"})([`
  padding: 1.2rem 0.6rem;
`]),TO=U(pr.Description).withConfig({displayName:"Monaco__StyledDialogDescription"})([`
  font-size: 1.4rem;
`]),n1=U(vn).withConfig({displayName:"Monaco__StyledDialogButton"})([`
  padding: 1.2rem 0.6rem;
  font-size: 1.4rem;

  &:focus {
    outline: 1px solid `,`;
  }
`],({theme:e})=>e.color.foreground),vte=U.div.withConfig({displayName:"Monaco__EditorWrapper"})([`
  flex: 1;
  overflow: hidden;
  position: relative;
`]),AO=e=>e?7:5,bte=({hidden:e=!1})=>{const t=Ys(),{executionRefs:n,cleanupExecutionRefs:r}=t,{buffers:i,setTabsDisabled:o,editorRef:a,monacoRef:s,insertTextAtCursor:l,activeBuffer:c,updateBuffer:u,editorReadyTrigger:d,queryParamProcessedRef:f,isNavigatingFromSearchRef:p}=t,{quest:g}=x.useContext(Xa),{canUse:h,status:y}=kd(),{handleGlyphClick:b,hasConversationForQuery:w,shiftQueryKeysForBuffer:S,findQueryByConversationId:E}=Ad(),[_,m]=x.useState(),[C,T]=x.useState(!1),[O,R]=x.useState(""),[j,D]=x.useState(!1),[L,V]=x.useState(!1),[z,B]=x.useState(!1),[H,J]=x.useState(!1),ne=x.useRef(!1),q=x.useRef(!1),ee=ls(),te=oi(Mr.query.getRunning),$=oi(Mr.query.getAISuggestionRequest),ae=oi(Mr.query.getTables),ue=oi(Mr.query.getColumns),me=oi(Mr.query.getActiveNotification),Fe=oi(Mr.query.getQueryNotificationsForBuffer(c.id)),[Ie,Ee]=x.useState(),He=x.useRef(!1),it=x.useRef([]),St=x.useRef(void 0),xt=x.useRef([]),Ct=x.useRef(!1),We=x.useRef(!0),Oe=x.useRef([]),ye=x.useRef(te),Ve=x.useRef(c),Xe=x.useRef(_),se=x.useRef(Fe),we=x.useRef(me),Le=x.useRef($),ot=x.useRef(h),_e=x.useRef(w),Ce=x.useRef(S),dt=x.useRef(E),Ne=x.useRef(dm(y)??!1),Ye=x.useRef(!1),jt=x.useRef(null),qt=x.useRef(new Map),Jt=x.useRef(null),Ht=x.useRef({startLine:1,endLine:1}),en=x.useRef(null),hn=x.useRef(null),Zt=x.useRef(null),Tt=x.useRef(c.value),xn=x.useRef(null),Jn=x.useRef([]),ir=x.useRef(!1),Bt=x.useRef(!1),Sr=x.useRef([]),_r=Ue=>{var pt,Ut;const lt=(Ut=(pt=a.current)==null?void 0:pt.getModel())==null?void 0:Ut.getLineCount();if(lt&&lt>md){a.current&&Tt.current!==void 0&&a.current.setValue(Tt.current),Ro.error("Maximum line limit reached");return}Tt.current=Ue,u(c.id,{value:Ue})},[mr,ri]=x.useState((h?7:5)+c.value.split(`
`).length.toString().length-1),Hn=Ue=>{ee(An.query.toggleRunning(Ue))},fi=Ue=>{var Ut,Pt;const lt=Le.current;if(lt&&we.current){const In=Ql(Ui(lt.query),lt.startOffset);if(we.current.query===In)return}let pt=null;if(Ue){const In=(Ut=se.current)==null?void 0:Ut[Ue];In&&(pt=In.latest||null)}((Pt=we.current)==null?void 0:Pt.query)!==(pt==null?void 0:pt.query)&&ee(An.query.setActiveNotification(pt))},Ji=Ue=>{const lt=mD(a.current,Ue,it.current||[]),pt=(xt.current||[]).filter(Ut=>Ut.selection&&Ut.row+1===Ue);return[...lt.filter(Ut=>!pt.some(Pt=>Pt.row===Ut.row&&Pt.column===Ut.column&&Pt.endRow===Ut.endRow&&Pt.endColumn===Ut.endColumn)),...pt].sort((Ut,Pt)=>Ut.column-Pt.column)},Lr=Ue=>{const lt=a.current,pt=lt==null?void 0:lt.getModel();if(!(!lt||!pt))if(Ue.selection){const Ut=pt.getPositionAt(Ue.selection.startOffset),Pt=pt.getPositionAt(Ue.selection.endOffset);lt.setSelection({startLineNumber:Ut.lineNumber,startColumn:Ut.column,endLineNumber:Pt.lineNumber,endColumn:Pt.column})}else{const Ut=$d(lt);if(Ut&&sc(lt,Ut)===sc(lt,Ue))return;lt.setPosition({lineNumber:Ue.row+1,column:Ue.column})}},or=(Ue,lt,pt,Ut=!1)=>{var Pt;if(Zt.current=pt,ir.current=Ut,a.current){const In=(Pt=a.current.getDomNode())==null?void 0:Pt.getBoundingClientRect();let mn;if(In){const Xt=pt.lineNumber,un=a.current.getScrollTop(),Ln=In.top+(Xt-1)*24-un+24/2+5;mn={x:In.left+115,y:Ln}}else mn={x:Ue,y:lt};xn.current=mn,ir.current=Ut,V(!0)}},Cr=Ue=>{V(!1),er(Ue,dr.QUERY)},Or=Ue=>{V(!1),er(Ue,dr.EXPLAIN)},er=(Ue,lt)=>{const pt=a.current,Ut=pt==null?void 0:pt.getModel();if(!pt||!Ut)return;const Pt=Hd(pt,Ue),In=Ue.query;if(ye.current===dr.NONE){Lr(Ue),Hn(lt);return}St.current={type:lt,queryText:In,startOffset:Pt},J(!0)},Zn=()=>{const Ue=St.current,lt=a.current,pt=lt==null?void 0:lt.getModel();if(!Ue||!lt||!pt)return;if(St.current=void 0,Ue.type===dr.SCRIPT){xt.current=[],ee(An.query.toggleRunning(dr.SCRIPT));return}if(!jy(lt,Ue.queryText,Ue.startOffset))return;const Ut=pt.getPositionAt(Ue.startOffset);lt.setPosition(Ut),Hn(Ue.type)},yr=async Ue=>{if(V(!1),!Ue||!a.current)return;const lt=sc(a.current,Ue);await b({queryKey:lt,bufferId:Ve.current.id})},Hr=x.useRef(yr);x.useEffect(()=>{Hr.current=yr},[yr]);const Gr=(Ue,lt,pt)=>{const Ut=lt.getModel();if(!lt.getValue()||!Ut)return;const Pt=$d(lt),In=Ve.current.id,mn=[],Xt=n.current[In.toString()]||{};if(Pt){const Ln=sc(lt,Pt),Yt=Xt[Ln],tn=Yt&&Yt.error!==void 0,Fn=Pt.row+1,hr=Pt.endRow+1;if(Yt&&Yt.selection){const dn=Ut.getPositionAt(Yt.selection.startOffset),Dr=Ut.getPositionAt(Yt.selection.endOffset),Ir=Yt.error!==void 0,vi=Yt.success===!0;mn.push({range:new Ue.Range(dn.lineNumber,dn.column,Dr.lineNumber,Dr.column),options:{isWholeLine:!1,className:Ir?"selectionErrorHighlight":vi?"selectionSuccessHighlight":"selectionErrorHighlight"}})}mn.push({range:new Ue.Range(Fn,Pt.column,hr,Pt.endColumn),options:{isWholeLine:!0,linesDecorationsClassName:`cursorQueryDecoration ${tn?"hasError":""}`}})}const un=lt.deltaDecorations(Oe.current,mn);Oe.current=un,!["scroll","script"].includes(pt??"")&&!He.current&&fi(Pt?sc(lt,Pt):void 0),Xt&&AD(Ue,lt,Xt,Pt)},Kr=(Ue,lt,pt)=>{var Yt;const Ut=lt.getModel();if(!lt.getValue()||!Ut)return;let Pt=[];const In=Ht.current;if(!In)Pt=GS(lt);else{const tn=Ut.getLineCount(),Fn=500,hr=Math.max(1,In.startLine-Fn),dn=Math.min(tn,In.endLine+Fn),Dr={lineNumber:hr,column:1},Ir={lineNumber:dn,column:((Yt=lt.getModel())==null?void 0:Yt.getLineMaxColumn(dn))??1};Pt=Oy(lt,Dr,Ir)}const mn=Ve.current.id,Xt=[],un=new Map,Ln=new Set;Pt.length>0&&Pt.forEach(tn=>{var ti,co,Ri,bi,Eo;const Fn={startOffset:Ut.getOffsetAt({lineNumber:tn.row+1,column:tn.column}),endOffset:Ut.getOffsetAt({lineNumber:tn.endRow+1,column:tn.endColumn})};Xt.push(Fn);const hr=n.current[mn.toString()]||{},dn=sc(lt,tn),Dr=hr[dn],Ir=Dr&&Dr.error!==void 0,vi=((Ri=(co=(ti=se.current)==null?void 0:ti[dn])==null?void 0:co.latest)==null?void 0:Ri.type)===ca.SUCCESS,Rn=tn.row+1,Sn=ot.current?_e.current(mn,dn):!1,On=ye.current!==dr.NONE&&((bi=Xe.current)==null?void 0:bi.row)!==void 0&&((Eo=Xe.current)==null?void 0:Eo.row)+1===Rn,kr=()=>{if(On)Hn(dr.NONE);else{const En=Ji(Rn);En.length>1?(Jn.current=En,Bt.current=!1,or(0,0,{lineNumber:Rn,column:1},!1)):En.length===1&&er(En[0],dr.QUERY)}},Cn=()=>{if(Ne.current)return;const En=Ji(Rn);En.length>1?(Jn.current=En,Bt.current=!0,or(0,0,{lineNumber:Rn,column:1},!1)):En.length===1&&Hr.current(En[0])},Ti=()=>{if(Ne.current)return;const En=Ji(Rn);En.length>0&&(Jn.current=En,Bt.current=!1,or(0,0,{lineNumber:Rn,column:1},!0))},gr=Jt.current===Rn,Ar={isHighlighted:gr,isCancel:On,hasError:Ir,isSuccessful:vi,showAI:ot.current,hasConversation:Sn,onRunClick:kr,onRunContextMenu:Ti,onAIClick:Cn},Xr=SO(Rn,Ar),Vr=!qt.current.has(Xr);if(Vr&&!Ln.has(Rn)){const En=mte(Rn,Ar);lt.addGlyphMarginWidget(En),un.set(Xr,En),Ln.add(Rn)}else Vr||(un.set(Xr,qt.current.get(Xr)),Ln.add(Rn));gr&&(Jt.current=null)}),qt.current.forEach((tn,Fn)=>{un.has(Fn)||lt.removeGlyphMarginWidget(tn)}),qt.current=un,it.current=Xt,Gr(Ue,lt,pt)},$i=(Ue,lt)=>{s.current=lt,a.current=Ue,Ue.updateOptions({find:{addExtraSpaceOnTop:!1}}),Ue.setModel(lt.editor.createModel(c.value,ds)),T(!0),d(Ue),p.current=!1,Sr.current.push(tte({editor:Ue,insertTextAtCursor:l,toggleRunning:Hn})),Sr.current.push(tme({editor:Ue,monaco:lt,runQuery:()=>{xt.current.length===1?Cr(xt.current[0]):xt.current.length>1&&Pi()},runScript:()=>{Pi(!0)},deleteBuffer:Xt=>t.deleteBuffer(Xt),addBuffer:()=>t.addBuffer()})),Ue.onDidChangeCursorPosition(Xt=>{Ye.current||(jt.current&&window.clearTimeout(jt.current),jt.current=window.setTimeout(()=>{const un=Ay(Ue,it.current??[]);xt.current=un,ee(An.query.setQueriesToRun(un)),s.current&&a.current&&Gr(lt,Ue,Xt.source),jt.current=null},50))}),Ue.onDidChangeModelContent(async Xt=>{const un=Ue.getModel();if(!un)return;const Ln=un.getLineCount();Ln&&ri(AO(ot.current)+(Ln.toString().length-1)),Ye.current=!0;const Yt=Ve.current.id,tn=n.current[Yt.toString()],Fn=[];if(tn){const Rn=[],Sn=[];Object.keys(tn).forEach(On=>{const kr=On,{queryText:Cn,startOffset:Ti,endOffset:gr}=tn[kr],Ar=Xt.changes.filter(Vr=>Vr.rangeOffset<gr).reduce((Vr,ti)=>Vr+ti.text.length-ti.rangeLength,0);if(Ar===0)return;const Xr=Ti+Ar;if(jy(Ue,Cn,Xr)){const Vr=tn[kr].selection,ti=Vr?{startOffset:Vr.startOffset+Ar,endOffset:Vr.endOffset+Ar}:void 0;Rn.push({oldKey:kr,newKey:Ql(Cn,Xr),data:{...tn[kr],startOffset:Xr,endOffset:gr+Ar,selection:ti}})}else Sn.push(kr),Fn.push(()=>ee(An.query.removeNotification(kr,Yt)))}),Sn.forEach(On=>{delete tn[On]}),Rn.forEach(({oldKey:On,newKey:kr,data:Cn})=>{delete tn[On],tn[kr]=Cn,Fn.push(()=>ee(An.query.updateNotificationKey(On,kr,Yt)))})}const hr=se.current||{},dn=Le.current,Dr=dn?Ql(Ui(dn.query),dn.startOffset):null;Object.keys(hr).forEach(Rn=>{const Sn=Rn;if(Dr&&Sn===Dr)return;const{queryText:On,startOffset:kr,endOffset:Cn}=Od(Sn),Ti=Xt.changes.filter(Ar=>Ar.rangeOffset<Cn).reduce((Ar,Xr)=>Ar+Xr.text.length-Xr.rangeLength,0);if(Ti===0)return;const gr=kr+Ti;if(jy(Ue,On,gr)){const Ar=Ql(On,gr);Fn.push(()=>ee(An.query.updateNotificationKey(Sn,Ar,Yt)))}else Fn.push(()=>ee(An.query.removeNotification(Sn,Yt)))}),tn&&Object.keys(tn).length===0&&r(Yt),n.current[Yt.toString()]=tn;let Ir=!1;if(Xt.changes.length>0){const Rn=Math.min(...Xt.changes.map(On=>On.rangeOffset)),Sn=Xt.changes.reduce((On,kr)=>On+kr.text.length-kr.rangeLength,0);Sn!==0&&(Ir=await Ce.current(Yt,Rn,Sn))}Ir||Kr(lt,Ue);const vi=Ay(Ue,it.current??[]);xt.current=vi,ee(An.query.setQueriesToRun(vi)),Ye.current=!1,Fn.forEach(Rn=>Rn())}),Ue.onDidChangeModel(()=>{qt.current.forEach(Xt=>{Ue.removeGlyphMarginWidget(Xt)}),qt.current.clear(),setTimeout(()=>{s.current&&a.current&&Kr(s.current,a.current)},10)}),Ue.onDidScrollChange(()=>{en.current&&window.clearTimeout(en.current),en.current=window.setTimeout(()=>{const Xt=Ue.getVisibleRanges();if(Xt.length>0){const un=Xt[0],Ln={startLine:un.startLineNumber,endLine:un.endLineNumber},Yt=Ht.current,tn=Math.abs(Ln.startLine-Yt.startLine),Fn=Math.abs(Ln.endLine-Yt.endLine);Ht.current=Ln,(tn>100||Fn>100)&&s.current&&a.current&&Kr(s.current,a.current,"scroll")}en.current=null},200)});const pt=new URLSearchParams(window.location.search),Ut=pt.get("query"),Pt=Ue.getModel();if(Ut&&Pt&&!f.current){const Xt=Ut.trim(),un=YS(Pt,Xt);if(un&&un.length>0)Ue.setSelection(un[0].range),Ue.revealPositionInCenter({lineNumber:un[0].range.startLineNumber,column:un[0].range.startColumn});else{ky(Ue,Xt,{appendAt:"end"});const Ln=Ue.getValue();u(c.id,{value:Ln})}f.current=!0}const In=Ue.getVisibleRanges();if(In.length>0){const Xt=In[0];Ht.current={startLine:Xt.startLineNumber,endLine:Xt.endLineNumber}}Kr(lt,Ue);const mn=Ay(Ue,it.current??[]);xt.current=mn,ee(An.query.setQueriesToRun(mn)),pt.get("executeQuery")&&(mn.length>1?Pi():Hn())},Ni=async(Ue,lt)=>{var un,Ln;const pt=a.current,Ut=(un=a.current)==null?void 0:un.getModel();if(!pt||!Ut)return{success:!1,notification:null,result:void 0};const Pt=Ue.selection?Ue.selection.queryText:Ue.query,In=sc(pt,Ue),mn=c.id;let Xt=null;ee(An.query.setResult(void 0)),ee(An.query.setActiveNotification({type:ca.LOADING,query:`${Ve.current.label}@0-0`,content:v.jsx(tt,{gap:"1rem",align:"center",children:v.jsxs(st,{color:"foreground",children:['Running query "',Pt.length>30?`${Pt.slice(0,30)}...`:Pt,'"']})}),createdAt:new Date}));try{const Yt=await g.queryRaw(Ui(Pt),{limit:"0,1000",explain:!0}),tn=mn.toString();if(n.current[tn]&&(delete n.current[tn][In],Object.keys(n.current[tn]).length===0&&r(mn)),(Yt.type===Xn.DDL||Yt.type===Xn.DML)&&(Xt={query:In,content:v.jsx(Vl,{query:Pt})}),Yt.type===Xn.NOTICE&&(Xt={query:In,content:v.jsxs(st,{color:"foreground",ellipsis:!0,title:Pt,children:[Yt.notice,Pt!==void 0&&Pt!==""&&`: ${Pt}`]}),sideContent:v.jsx(Vl,{query:Pt}),type:ca.NOTICE}),Yt.type===Xn.DQL&&(R(Pt),Xt={query:In,jitCompiled:((Ln=Yt.explain)==null?void 0:Ln.jitCompiled)??!1,content:v.jsx(yO,{...Yt.timings,rowCount:Yt.count}),sideContent:v.jsx(Vl,{query:Pt})}),Ue.selection){const Fn=mn.toString();n.current[Fn]||(n.current[Fn]={});const hr=Hd(pt,Ue);n.current[Fn][In]={success:!0,selection:Ue.selection,queryText:Ue.query,startOffset:hr,endOffset:hr+Ui(Ue.query).length}}return lt&&ee(An.query.setResult(Yt)),{success:!0,notification:Xt,result:Yt}}catch(Yt){const tn=Yt,Fn=mn.toString();n.current[Fn]||(n.current[Fn]={});const hr=Hd(pt,Ue);return n.current[Fn][In]={error:tn,queryText:Ue.query,startOffset:hr,endOffset:hr+Ui(Ue.query).length,selection:Ue.selection},Xt={query:In,content:v.jsx(st,{color:"red",children:tn.error}),sideContent:v.jsx(Vl,{query:Ue.query}),type:ca.ERROR},{success:!1,notification:Xt,result:void 0}}},Pi=Ue=>{if(te===dr.SCRIPT){ee(An.query.toggleRunning());return}const lt=()=>{if(Ue){B(!0);return}xt.current&&xt.current.length>1?ee(An.query.toggleRunning(dr.SCRIPT)):B(!0)};if(ye.current===dr.NONE){lt();return}St.current={type:dr.SCRIPT},B(!0)},ln=()=>{if(B(!1),St.current){ye.current===dr.NONE?Zn():Hn(dr.NONE);return}xt.current=[],ee(An.query.toggleRunning(dr.SCRIPT))},Wn=Ue=>{B(Ue),Ue||setTimeout(()=>{var lt;return(lt=a.current)==null?void 0:lt.focus()})},Tr=()=>{z&&(St.current=void 0,Wn(!1))},Me=()=>{H&&(St.current=void 0,J(!1))},ut=async()=>{var vi;let Ue=0,lt=0;const pt=a.current,Ut=s.current;if(!pt||!Ut)return;const Pt=xt.current&&xt.current.length>1?xt.current:void 0,In=!Pt,mn=c.id;In&&(ee(An.query.cleanupBufferNotifications(mn)),r(mn)),He.current=!0,o(!0);const Xt=Pt??GS(pt),un=[];pt.updateOptions({readOnly:!0});const Ln=Date.now();for(let Rn=0;Rn<Xt.length;Rn++){const Sn=Xt[Rn],On=Sn.row+1;pt.revealPositionInCenterIfOutsideViewport({lineNumber:On,column:Sn.column}),CO(On,!0);const kr=await Ni(Sn,Rn===Xt.length-1);if(CO(On,!1),un.push(kr),kr.success?Ue++:lt++,Ct.current||lt>0&&We.current&&In)break}const Yt=(Date.now()-Ln)*1e6,tn=un[un.length-1];tn&&((vi=tn.result)==null?void 0:vi.type)===Xn.DQL&&(ee(An.query.setResult(tn.result)),Bn.publish(zn.MSG_QUERY_DATASET,tn.result));const Fn=[Xn.DDL,Xn.DML,Xn.NOTICE],hr=un.filter(Rn=>Rn&&Rn.result).find(Rn=>{var Sn;return((Sn=Rn==null?void 0:Rn.result)==null?void 0:Sn.type)&&Fn.includes(Rn.result.type)});hr&&Bn.publish(zn.MSG_QUERY_SCHEMA,hr.result),un.filter(Rn=>Rn&&Rn.notification).map(Rn=>Rn.notification).forEach(Rn=>{ee(An.query.addNotification({...Rn,updateActiveNotification:!1},c.id))});const dn=un.reduce((Rn,Sn,On)=>Sn.success?Rn:On,-1);dn!==-1&&pt.setPosition({lineNumber:Xt[dn].row+1,column:Xt[dn].column},"script"),pt.focus(),pt.revealPositionInCenterIfOutsideViewport(pt.getPosition());const Dr=Xt.length===un.length;(Dr||lt>0&&We.current&&In)&&(He.current=!1,ee(An.query.stopRunning()));const Ir=Dr?`Running completed in ${wu(Yt)} with `:"Stopped after running ";ee(An.query.addNotification({query:`${Ve.current.label}@${md+1}-${md+1}`,content:v.jsxs(st,{color:"foreground",children:[Ir,Ue>0?`${Ue} successful`:"",Ue>0&&lt>0?" and ":"",lt>0?`${lt} failed`:""," ",lt+Ue>1?" queries":" query"]}),type:Dr?ca.SUCCESS:ca.ERROR},Ve.current.id)),o(!1),He.current=!1,We.current=!0,pt.updateOptions({readOnly:!1}),Ct.current&&(Ct.current=!1,!ne.current&&!q.current&&Zn())};x.useEffect(()=>{Object.keys(n.current).forEach(Ue=>{const lt=parseInt(Ue);i.find(pt=>pt.id===lt)||r(lt)})},[i,n,r]),x.useEffect(()=>{var lt,pt;ot.current=h;const Ue=(pt=(lt=a.current)==null?void 0:lt.getModel())==null?void 0:pt.getLineCount();Ue&&ri(AO(ot.current)+(Ue.toString().length-1)),s.current&&a.current&&Kr(s.current,a.current)},[h]),x.useEffect(()=>{we.current=me},[me]),x.useEffect(()=>{Le.current=$},[$]),x.useEffect(()=>{ne.current=H},[H]),x.useEffect(()=>{q.current=z},[z]),x.useEffect(()=>{const Ue=`@${md+1}-${md+1}`;se.current=Fe,s.current&&a.current&&!Ye.current&&!(me!=null&&me.query.endsWith(Ue))&&Kr(s.current,a.current)},[Fe]),x.useEffect(()=>{te===dr.NONE&&_&&(g.abort(),m(void 0))},[_,g,te]),x.useEffect(()=>{var Ue;if(ye.current=te,![dr.NONE,dr.SCRIPT].includes(te)&&(a==null?void 0:a.current)){s!=null&&s.current&&Ny(s.current,a.current),s!=null&&s.current&&(a!=null&&a.current)&&Kr(s.current,a.current);const lt=te===dr.REFRESH?vD(O):te===dr.AI_SUGGESTION&&Le.current?bD(a.current,Le.current):yD(a.current),pt=te===dr.EXPLAIN,Ut=te===dr.AI_SUGGESTION&&Le.current!==null,Pt=Ve.current.id;if(lt!=null&&lt.query){(Ue=a.current)==null||Ue.updateOptions({readOnly:!0});const In=lt.query,mn=Ut?Ql(lt.query,Le.current.startOffset):sc(a.current,lt),Xt=lt.selection?lt.selection.queryText:lt.query;let un=Xt;pt&&(un=`EXPLAIN ${Xt}`),hn.current=window.setTimeout(()=>{ye.current&&Xe.current&&a.current&&ee(An.query.addNotification({type:ca.LOADING,query:mn,isExplain:pt,content:v.jsxs(tt,{gap:"1rem",align:"center",children:[v.jsx(st,{color:"foreground",children:"Running..."}),v.jsx(yte,{skin:"error",onClick:()=>Hn(),children:v.jsx(vv,{size:"18px"})})]}),sideContent:v.jsx(Vl,{query:un})},Pt)),hn.current=null},1e3),g.queryRaw(Ui(un),{limit:"0,1000",explain:!0}).then(Ln=>{var tn;if(hn.current&&(window.clearTimeout(hn.current),hn.current=null),m(void 0),!a.current)return;const Yt=Pt.toString();if(n.current[Yt]&&a.current&&(delete n.current[Yt][mn],Object.keys(n.current[Yt]).length===0&&r(Pt)),lt.selection&&a.current.getModel()){const Fn=Pt.toString();n.current[Fn]||(n.current[Fn]={});const hr=Ut?Le.current.startOffset:Hd(a.current,lt);n.current[Fn][mn]={success:!0,selection:lt.selection,queryText:In,startOffset:hr,endOffset:hr+Ui(In).length}}ee(An.query.stopRunning()),ee(An.query.setResult(Ln)),(Ln.type===Xn.DDL||Ln.type===Xn.DML)&&(ee(An.query.addNotification({query:mn,isExplain:pt,content:v.jsx(Vl,{query:un})},Pt)),Bn.publish(zn.MSG_QUERY_SCHEMA)),Ln.type===Xn.NOTICE&&(ee(An.query.addNotification({query:mn,isExplain:pt,content:v.jsxs(st,{color:"foreground",ellipsis:!0,title:un,children:[Ln.notice,un!==void 0&&un!==""&&`: ${un}`]}),sideContent:v.jsx(Vl,{query:un}),type:ca.NOTICE},Pt)),Bn.publish(zn.MSG_QUERY_SCHEMA)),Ln.type===Xn.DQL&&(R(un),ee(An.query.addNotification({query:mn,isExplain:pt,jitCompiled:((tn=Ln.explain)==null?void 0:tn.jitCompiled)??!1,content:v.jsx(yO,{...Ln.timings,rowCount:Ln.count}),sideContent:v.jsx(Vl,{query:un})},Pt)),Bn.publish(zn.MSG_QUERY_DATASET,Ln))}).catch(Ln=>{if(hn.current&&(window.clearTimeout(hn.current),hn.current=null),m(void 0),ee(An.query.stopRunning()),(a==null?void 0:a.current)&&(s==null?void 0:s.current)){let Yt=Ln.position;pt&&(Yt=Math.max(0,Ln.position-8)),lt.selection&&(Yt+=In.indexOf(lt.selection.queryText));const tn=KS(a.current,lt,Yt),Fn={...Ln,position:Yt},hr=Pt.toString();n.current[hr]||(n.current[hr]={});const dn=Ut?Le.current.startOffset:Hd(a.current,lt);n.current[hr][mn]={error:Fn,selection:lt.selection,queryText:In,startOffset:dn,endOffset:dn+Ui(In).length},tn&&(a==null||a.current.focus(),lt.selection||(a==null||a.current.setPosition({lineNumber:tn.startLineNumber,column:tn.startColumn})),a==null||a.current.revealPosition({lineNumber:tn.startLineNumber,column:tn.endColumn})),ee(An.query.addNotification({query:mn,isExplain:pt,content:v.jsx(st,{color:"red",children:Ln.error}),sideContent:v.jsx(Vl,{query:un}),type:ca.ERROR},Pt))}}).finally(()=>{!ne.current&&!q.current&&Zn()}),m(lt)}else ee(An.query.stopRunning())}else te===dr.SCRIPT?ut():te===dr.NONE&&He.current&&(g.abort(),Ct.current=!0,Bn.publish(zn.MSG_QUERY_SCHEMA))},[te]),x.useEffect(()=>{var Ue;Xe.current=_,s!=null&&s.current&&(a!=null&&a.current)&&Kr(s.current,a.current),(Ue=a.current)==null||Ue.updateOptions({readOnly:!!_})},[_]);const It=x.useCallback(()=>{C&&(s!=null&&s.current)&&(a!=null&&a.current)&&(Ie==null||Ie.dispose(),D(!0),Ee(s.current.languages.registerCompletionItemProvider(ds,OD(a.current,ae,ue))),D(!1))},[C,Ie,ae,ue]);return x.useEffect(()=>{j||It()},[ae,ue,s,C]),x.useEffect(()=>{Ve.current=c,Tt.current=c.value,s.current&&a.current&&(Ny(s.current,a.current),Kr(s.current,a.current))},[c]),x.useEffect(()=>{dt.current=E,Ce.current=S},[E,S]),x.useEffect(()=>{_e.current=w,s.current&&a.current&&Kr(s.current,a.current)},[w]),x.useEffect(()=>{const Ue=Ne.current,lt=dm(y)??!1;Ne.current=lt,s.current&&a.current&&lt!==Ue&&Kr(s.current,a.current)},[y]),x.useEffect(()=>(window.addEventListener("focus",It),()=>{window.removeEventListener("focus",It)}),[It]),x.useEffect(()=>{const Ue=lt=>{if(!a.current)return;const pt=a.current.getModel();if(!pt)return;const Ut=dt.current(lt);if(!Ut)return;const{queryKey:Pt,bufferId:In}=Ut;if(Ve.current.id!==In)return;const mn=Od(Pt).startOffset,Xt=pt.getPositionAt(mn).lineNumber;Jt.current=Xt};return Bn.subscribe(zn.AI_QUERY_HIGHLIGHT,Ue),()=>{Bn.unsubscribe(zn.AI_QUERY_HIGHLIGHT,Ue)}},[]),x.useEffect(()=>()=>{var Ue,lt,pt;Sr.current.forEach(Ut=>Ut()),jt.current&&window.clearTimeout(jt.current),en.current&&window.clearTimeout(en.current),hn.current&&window.clearTimeout(hn.current),qt.current.forEach(Ut=>{var Pt;(Pt=a.current)==null||Pt.removeGlyphMarginWidget(Ut)}),qt.current.clear(),(lt=(Ue=a.current)==null?void 0:Ue.getModel())==null||lt.dispose(),(pt=a.current)==null||pt.dispose(),a.current=null,s.current=null},[]),v.jsxs(v.Fragment,{children:[v.jsxs(gte,{$hidden:e,children:[!e&&v.jsx(ste,{onTriggerRunScript:Pi,isTemporary:c.isTemporary}),v.jsx(vte,{children:v.jsx(Hj,{defaultLanguage:ds,onMount:$i,saveViewState:!1,onChange:_r,options:{model:null,fixedOverflowWidgets:!0,fontSize:14,lineHeight:24,fontFamily:To.fontMonospace,glyphMargin:!0,renderLineHighlight:"gutter",useShadowDOM:!1,minimap:{enabled:!1},stickyScroll:{enabled:!1},selectOnLineNumbers:!1,scrollBeyondLastLine:!1,tabSize:2,lineNumbersMinChars:mr},theme:"dracula"})}),v.jsx(ete,{show:!!_||!ae})]}),v.jsx(dte,{open:L,onOpenChange:Ue=>{V(Ue),Ue||(xn.current=null,Jn.current=[],ir.current=!1,Bt.current=!1)},positionRef:xn,queriesRef:Jn,isContextMenuRef:ir,isAIDropdownRef:Bt,onRunQuery:Cr,onExplainQuery:Or,onAskAIRef:Hr}),v.jsx(pr.Root,{open:z,onOpenChange:Wn,children:v.jsxs(pr.Portal,{children:[v.jsx(eo,{children:v.jsx(Zl,{primitive:pr.Overlay})}),v.jsxs(pr.Content,{onEscapeKeyDown:Tr,onInteractOutside:Tr,children:[v.jsx(pr.Title,{children:"Run all queries"}),v.jsxs(TO,{children:[St.current&&v.jsxs(tt,{margin:"0 0 1rem 0",gap:"0.8rem","data-hook":"run-all-queries-warning",children:[v.jsx(Ic,{size:"16px",color:To.color.orange}),v.jsx(st,{color:"orange",children:"Current query execution will be aborted."})]}),v.jsx(st,{color:"foreground",children:"You are about to run all queries in this tab. This action may modify or delete your data permanently."}),v.jsx(tt,{gap:"1rem",margin:"1.6rem 0",children:v.jsxs("label",{htmlFor:"stop-after-failure",style:{display:"flex",alignItems:"center",gap:"0.8rem",cursor:"pointer"},children:[v.jsx(rp,{defaultChecked:We.current,onChange:Ue=>{We.current=Ue.target.checked},id:"stop-after-failure","data-hook":"stop-after-failure-checkbox"}),v.jsx(st,{color:"foreground",children:"Stop running after a failed query"})]})})]}),v.jsxs(pr.ActionButtons,{children:[v.jsx(pr.Close,{asChild:!0,children:v.jsx(n1,{skin:"secondary",onClick:Tr,children:"Cancel"})}),v.jsx(n1,{skin:"primary","data-hook":"run-all-queries-confirm",onClick:ln,children:"Run all queries"})]})]})]})}),v.jsx(pr.Root,{open:H,onOpenChange:Ue=>{J(Ue)},children:v.jsxs(pr.Portal,{children:[v.jsx(eo,{children:v.jsx(Zl,{primitive:pr.Overlay})}),v.jsxs(pr.Content,{onEscapeKeyDown:Me,onInteractOutside:Me,"data-hook":"abort-confirmation-dialog",children:[v.jsx(pr.Title,{children:"Cancel current query?"}),v.jsx(TO,{children:v.jsx(st,{color:"foreground",children:"A query is currently running. Starting a new query will cancel the current execution."})}),v.jsxs(pr.ActionButtons,{children:[v.jsx(pr.Close,{asChild:!0,children:v.jsx(n1,{skin:"secondary","data-hook":"abort-confirmation-dialog-dismiss",onClick:Me,children:"Dismiss"})}),v.jsx(n1,{skin:"primary","data-hook":"abort-confirmation-dialog-confirm",onClick:()=>{J(!1),ye.current===dr.NONE?Zn():Hn(dr.NONE)},children:"Cancel current query"})]})]})]})})]})};var IO={exports:{}},wte={exports:{}},xte;function OIe(){return xte||(xte=1,(function(e){(function(t,n){e.exports?e.exports=n():t.getSize=n()})(window,function(){function t(o){let a=parseFloat(o);return o.indexOf("%")==-1&&!isNaN(a)&&a}let n=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];function r(){let o={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};return n.forEach(a=>{o[a]=0}),o}function i(o){if(typeof o=="string"&&(o=document.querySelector(o)),!(o&&typeof o=="object"&&o.nodeType))return;let a=getComputedStyle(o);if(a.display=="none")return r();let s={};s.width=o.offsetWidth,s.height=o.offsetHeight;let l=s.isBorderBox=a.boxSizing=="border-box";n.forEach(b=>{let w=a[b],S=parseFloat(w);s[b]=isNaN(S)?0:S});let c=s.paddingLeft+s.paddingRight,u=s.paddingTop+s.paddingBottom,d=s.marginLeft+s.marginRight,f=s.marginTop+s.marginBottom,p=s.borderLeftWidth+s.borderRightWidth,g=s.borderTopWidth+s.borderBottomWidth,h=t(a.width);h!==!1&&(s.width=h+(l?0:c+p));let y=t(a.height);return y!==!1&&(s.height=y+(l?0:u+g)),s.innerWidth=s.width-(c+p),s.innerHeight=s.height-(u+g),s.outerWidth=s.width+d,s.outerHeight=s.height+f,s}return i})})(wte)),wte.exports}var OO={exports:{}},kO={exports:{}},kIe=kO.exports,_te;function NIe(){return _te||(_te=1,(function(e){(function(t,n){e.exports?e.exports=n():t.EvEmitter=n()})(typeof window<"u"?window:kIe,function(){function t(){}let n=t.prototype;return n.on=function(r,i){if(!r||!i)return this;let o=this._events=this._events||{},a=o[r]=o[r]||[];return a.includes(i)||a.push(i),this},n.once=function(r,i){if(!r||!i)return this;this.on(r,i);let o=this._onceEvents=this._onceEvents||{},a=o[r]=o[r]||{};return a[i]=!0,this},n.off=function(r,i){let o=this._events&&this._events[r];if(!o||!o.length)return this;let a=o.indexOf(i);return a!=-1&&o.splice(a,1),this},n.emitEvent=function(r,i){let o=this._events&&this._events[r];if(!o||!o.length)return this;o=o.slice(0),i=i||[];let a=this._onceEvents&&this._onceEvents[r];for(let s of o)a&&a[s]&&(this.off(r,s),delete a[s]),s.apply(this,i);return this},n.allOff=function(){return delete this._events,delete this._onceEvents,this},t})})(kO)),kO.exports}var RIe=OO.exports,Ete;function jIe(){return Ete||(Ete=1,(function(e){(function(t,n){e.exports?e.exports=n(t,NIe()):t.Unidragger=n(t,t.EvEmitter)})(typeof window<"u"?window:RIe,function(t,n){function r(){}let i=r.prototype=Object.create(n.prototype);i.handleEvent=function(c){let u="on"+c.type;this[u]&&this[u](c)};let o,a;"ontouchstart"in t?(o="touchstart",a=["touchmove","touchend","touchcancel"]):t.PointerEvent?(o="pointerdown",a=["pointermove","pointerup","pointercancel"]):(o="mousedown",a=["mousemove","mouseup"]),i.touchActionValue="none",i.bindHandles=function(){this._bindHandles("addEventListener",this.touchActionValue)},i.unbindHandles=function(){this._bindHandles("removeEventListener","")},i._bindHandles=function(c,u){this.handles.forEach(d=>{d[c](o,this),d[c]("click",this),t.PointerEvent&&(d.style.touchAction=u)})},i.bindActivePointerEvents=function(){a.forEach(c=>{t.addEventListener(c,this)})},i.unbindActivePointerEvents=function(){a.forEach(c=>{t.removeEventListener(c,this)})},i.withPointer=function(c,u){u.pointerId===this.pointerIdentifier&&this[c](u,u)},i.withTouch=function(c,u){let d;for(let f of u.changedTouches)f.identifier===this.pointerIdentifier&&(d=f);d&&this[c](u,d)},i.onmousedown=function(c){this.pointerDown(c,c)},i.ontouchstart=function(c){this.pointerDown(c,c.changedTouches[0])},i.onpointerdown=function(c){this.pointerDown(c,c)};const s=["TEXTAREA","INPUT","SELECT","OPTION"],l=["radio","checkbox","button","submit","image","file"];return i.pointerDown=function(c,u){let d=s.includes(c.target.nodeName),f=l.includes(c.target.type),p=!d||f;!this.isPointerDown&&!c.button&&p&&(this.isPointerDown=!0,this.pointerIdentifier=u.pointerId!==void 0?u.pointerId:u.identifier,this.pointerDownPointer={pageX:u.pageX,pageY:u.pageY},this.bindActivePointerEvents(),this.emitEvent("pointerDown",[c,u]))},i.onmousemove=function(c){this.pointerMove(c,c)},i.onpointermove=function(c){this.withPointer("pointerMove",c)},i.ontouchmove=function(c){this.withTouch("pointerMove",c)},i.pointerMove=function(c,u){let d={x:u.pageX-this.pointerDownPointer.pageX,y:u.pageY-this.pointerDownPointer.pageY};this.emitEvent("pointerMove",[c,u,d]),!this.isDragging&&this.hasDragStarted(d)&&this.dragStart(c,u),this.isDragging&&this.dragMove(c,u,d)},i.hasDragStarted=function(c){return Math.abs(c.x)>3||Math.abs(c.y)>3},i.dragStart=function(c,u){this.isDragging=!0,this.isPreventingClicks=!0,this.emitEvent("dragStart",[c,u])},i.dragMove=function(c,u,d){this.emitEvent("dragMove",[c,u,d])},i.onmouseup=function(c){this.pointerUp(c,c)},i.onpointerup=function(c){this.withPointer("pointerUp",c)},i.ontouchend=function(c){this.withTouch("pointerUp",c)},i.pointerUp=function(c,u){this.pointerDone(),this.emitEvent("pointerUp",[c,u]),this.isDragging?this.dragEnd(c,u):this.staticClick(c,u)},i.dragEnd=function(c,u){this.isDragging=!1,setTimeout(()=>delete this.isPreventingClicks),this.emitEvent("dragEnd",[c,u])},i.pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this.unbindActivePointerEvents(),this.emitEvent("pointerDone")},i.onpointercancel=function(c){this.withPointer("pointerCancel",c)},i.ontouchcancel=function(c){this.withTouch("pointerCancel",c)},i.pointerCancel=function(c,u){this.pointerDone(),this.emitEvent("pointerCancel",[c,u])},i.onclick=function(c){this.isPreventingClicks&&c.preventDefault()},i.staticClick=function(c,u){let d=c.type==="mouseup";d&&this.isIgnoringMouseUp||(this.emitEvent("staticClick",[c,u]),d&&(this.isIgnoringMouseUp=!0,setTimeout(()=>{delete this.isIgnoringMouseUp},400)))},r})})(OO)),OO.exports}var LIe=IO.exports,Ste;function MIe(){return Ste||(Ste=1,(function(e){(function(t,n){e.exports?e.exports=n(t,OIe(),jIe()):t.Draggabilly=n(t,t.getSize,t.Unidragger)})(typeof window<"u"?window:LIe,function(t,n,r){function i(){}let o=t.jQuery;function a(p,g){this.element=typeof p=="string"?document.querySelector(p):p,o&&(this.$element=o(this.element)),this.options={},this.option(g),this._create()}let s=a.prototype=Object.create(r.prototype);s.option=function(p){this.options={...this.options,...p}};const l=["relative","absolute","fixed"];s._create=function(){this.position={},this._getPosition(),this.startPoint={x:0,y:0},this.dragPoint={x:0,y:0},this.startPosition={...this.position};let p=getComputedStyle(this.element);l.includes(p.position)||(this.element.style.position="relative"),this.on("pointerDown",this.handlePointerDown),this.on("pointerUp",this.handlePointerUp),this.on("dragStart",this.handleDragStart),this.on("dragMove",this.handleDragMove),this.on("dragEnd",this.handleDragEnd),this.setHandles(),this.enable()},s.setHandles=function(){let{handle:p}=this.options;typeof p=="string"?this.handles=this.element.querySelectorAll(p):typeof p=="object"&&p.length?this.handles=p:p instanceof HTMLElement?this.handles=[p]:this.handles=[this.element]};const c=["dragStart","dragMove","dragEnd"];let u=s.emitEvent;s.emitEvent=function(p,g){if(!this.isEnabled&&c.includes(p))return;u.call(this,p,g);let h=t.jQuery;if(!h||!this.$element)return;let y,b=g;g&&g[0]instanceof Event&&([y,...b]=g);let w=h.Event(y);w.type=p,this.$element.trigger(w,b)},s._getPosition=function(){let p=getComputedStyle(this.element),g=this._getPositionCoord(p.left,"width"),h=this._getPositionCoord(p.top,"height");this.position.x=isNaN(g)?0:g,this.position.y=isNaN(h)?0:h,this._addTransformPosition(p)},s._getPositionCoord=function(p,g){if(p.includes("%")){let h=n(this.element.parentNode);return h?parseFloat(p)/100*h[g]:0}return parseInt(p,10)},s._addTransformPosition=function(p){let g=p.transform;if(!g.startsWith("matrix"))return;let h=g.split(","),y=g.startsWith("matrix3d")?12:4,b=parseInt(h[y],10),w=parseInt(h[y+1],10);this.position.x+=b,this.position.y+=w},s.handlePointerDown=function(p,g){this.isEnabled&&(this.pointerDownPointer={pageX:g.pageX,pageY:g.pageY},p.preventDefault(),document.activeElement.blur(),this.bindActivePointerEvents(p),this.element.classList.add("is-pointer-down"))},s.handleDragStart=function(){this.isEnabled&&(this._getPosition(),this.measureContainment(),this.startPosition.x=this.position.x,this.startPosition.y=this.position.y,this.setLeftTop(),this.dragPoint.x=0,this.dragPoint.y=0,this.element.classList.add("is-dragging"),this.animate())},s.measureContainment=function(){let p=this.getContainer();if(!p)return;let g=n(this.element),h=n(p),{borderLeftWidth:y,borderRightWidth:b,borderTopWidth:w,borderBottomWidth:S}=h,E=this.element.getBoundingClientRect(),_=p.getBoundingClientRect(),m=y+b,C=w+S,T=this.relativeStartPosition={x:E.left-(_.left+y),y:E.top-(_.top+w)};this.containSize={width:h.width-m-T.x-g.width,height:h.height-C-T.y-g.height}},s.getContainer=function(){let p=this.options.containment;return p?p instanceof HTMLElement?p:typeof p=="string"?document.querySelector(p):this.element.parentNode:void 0},s.handleDragMove=function(p,g,h){if(!this.isEnabled)return;let y=h.x,b=h.y,w=this.options.grid,S=w&&w[0],E=w&&w[1];y=d(y,S),b=d(b,E),y=this.containDrag("x",y,S),b=this.containDrag("y",b,E),y=this.options.axis=="y"?0:y,b=this.options.axis=="x"?0:b,this.position.x=this.startPosition.x+y,this.position.y=this.startPosition.y+b,this.dragPoint.x=y,this.dragPoint.y=b};function d(p,g,h){return g?(h=h||"round",Math[h](p/g)*g):p}s.containDrag=function(p,g,h){if(!this.options.containment)return g;let y=p=="x"?"width":"height",b=this.relativeStartPosition[p],w=d(-b,h,"ceil"),S=this.containSize[y];return S=d(S,h,"floor"),Math.max(w,Math.min(S,g))},s.handlePointerUp=function(){this.element.classList.remove("is-pointer-down")},s.handleDragEnd=function(){this.isEnabled&&(this.element.style.transform="",this.setLeftTop(),this.element.classList.remove("is-dragging"))},s.animate=function(){this.isDragging&&(this.positionDrag(),requestAnimationFrame(()=>this.animate()))},s.setLeftTop=function(){let{x:p,y:g}=this.position;this.element.style.left=`${p}px`,this.element.style.top=`${g}px`},s.positionDrag=function(){let{x:p,y:g}=this.dragPoint;this.element.style.transform=`translate3d(${p}px, ${g}px, 0)`},s.setPosition=function(p,g){this.position.x=p,this.position.y=g,this.setLeftTop()},s.enable=function(){this.isEnabled||(this.isEnabled=!0,this.bindHandles())},s.disable=function(){this.isEnabled&&(this.isEnabled=!1,this.isDragging&&this.dragEnd(),this.unbindHandles())};const f=["transform","left","top","position"];return s.destroy=function(){this.disable(),f.forEach(p=>{this.element.style[p]=""}),this.unbindHandles(),this.$element&&this.$element.removeData("draggabilly")},s._init=i,o&&o.bridget&&o.bridget("draggabilly",a),a})})(IO)),IO.exports}var PIe=MIe();const DIe=Ga(PIe),xu=10,Cte=1,Tte=24,Ate=240,FIe=84,UIe=60,zIe=48,Ite=90,BIe=`
    <div class="new-tab-button-wrapper">
      <button class="new-tab-button" data-hook="new-tab-button">\u271A</button>
    </div>
  `,$Ie=(e,t)=>{let n=1/0,r=-1;return t.forEach((i,o)=>{Math.abs(e-i)<n&&(n=Math.abs(e-i),r=o)}),r},HIe=`
      <div class="chrome-tab">
        <div class="chrome-tab-dividers"></div>
        <div class="chrome-tab-background">
          <svg xmlns="http://www.w3.org/2000/svg"><defs><symbol id="chrome-tab-geometry-left" viewBox="0 0 214 36"><path d="M17 0h197v36H0v-2c4.5 0 9-3.5 9-8V8c0-4.5 3.5-8 8-8z"/></symbol><symbol id="chrome-tab-geometry-right" viewBox="0 0 214 36"><use xlink:href="#chrome-tab-geometry-left"/></symbol><clipPath id="crop"><rect class="mask" width="100%" height="100%" x="0"/></clipPath></defs><svg width="52%" height="100%"><use xlink:href="#chrome-tab-geometry-left" width="214" height="36" class="chrome-tab-geometry"/></svg><g transform="scale(-1, 1)"><svg width="52%" height="100%" x="-100%" y="0"><use xlink:href="#chrome-tab-geometry-right" width="214" height="36" class="chrome-tab-geometry"/></svg></g></svg>
        </div>
        <div class="chrome-tab-content">
          <div class="chrome-tab-favicon"></div>
          <div class="chrome-tab-title"></div>
          <input class="chrome-tab-rename" type="text" />
          <div class="chrome-tab-drag-handle"></div>
          <div class="chrome-tab-close"></div>
        </div>
      </div>
    `,VIe={title:"New tab",favicon:!1};let Ote=0;class qIe{constructor(){this.draggabillies=[],this.isDragging=!1,this.draggabillyDragging=null}init(t,n){this.el=t,this.limit=n,this.instanceId=Ote,this.el.setAttribute("data-chrome-tabs-instance-id",this.instanceId+""),Ote+=1,this.setupCustomProperties(),this.setupStyleEl(),this.setupEvents(),this.layoutTabs(),this.setupNewTabButton(),this.setupDraggabilly()}emit(t,n){this.el.dispatchEvent(new CustomEvent(t,{detail:n}))}setupCustomProperties(){this.el.style.setProperty("--tab-content-margin",`${xu}px`)}setupStyleEl(){this.styleEl=document.createElement("style"),this.el.appendChild(this.styleEl)}setupEvents(){window.addEventListener("resize",()=>{this.cleanUpPreviouslyDraggedTabs(),this.layoutTabs()}),new ResizeObserver(()=>{this.cleanUpPreviouslyDraggedTabs(),this.layoutTabs()}).observe(this.el),this.el.addEventListener("click",({target:t})=>{t instanceof Element&&t.classList.contains("new-tab-button")&&(this.emit("newTab",{}),this.setupNewTabButton())}),this.tabEls.forEach(t=>this.setTabCloseEventListener(t)),this.tabEls.forEach(t=>this.setTabRenameConfirmEventListener(t)),document.addEventListener("click",({target:t})=>{t instanceof Element&&!t.classList.contains("chrome-tab-rename")&&!t.classList.contains("chrome-tab-content")&&this.tabEls.forEach(n=>{const r=n.querySelector(".chrome-tab-rename");if(!r)return;const i=r.value;n.getAttribute("is-renaming")!==null&&i.trim()!==""&&i.trim()!==n.getAttribute("data-tab-title")&&(n.setAttribute("data-tab-title",i),this.emit("tabRename",{tabEl:n,title:i})),this.hideRenameTab(n)})})}get tabEls(){return Array.prototype.slice.call(this.el.querySelectorAll(".chrome-tab"))}get tabContentEl(){return this.el.querySelector(".chrome-tabs-content")}get tabContentWidths(){const t=this.tabEls.length,n=this.el.clientWidth-Ite,r=(t-1)*Cte,i=(n-2*xu+r)/t,o=Math.max(Tte,Math.min(Ate,i)),a=Math.floor(o),s=a*t+2*xu-r,l=n-s,c=[];let u=l;for(let d=0;d<t;d+=1){const f=a<Ate&&u>0?1:0;c.push(a+f),u>0&&(u-=1)}return c}get tabContentPositions(){const t=[],n=this.tabContentWidths;let r=xu;return n.forEach((i,o)=>{const a=o*Cte;t.push(r-a),r+=i}),t}get tabPositions(){const t=[];return this.tabContentPositions.forEach(n=>{t.push(n-xu)}),t}layoutTabs(){const t=this.tabContentWidths;this.tabEls.forEach((i,o)=>{const a=t[o],s=a+2*xu;i.style.width=s+"px",i.removeAttribute("is-small"),i.removeAttribute("is-smaller"),i.removeAttribute("is-mini"),a<FIe&&i.setAttribute("is-small",""),a<UIe&&i.setAttribute("is-smaller",""),a<zIe&&i.setAttribute("is-mini","");const l=i.querySelector(".chrome-tab-close");l&&(l.style.display=this.tabEls.length>1?"block":"none")});let n="";this.tabPositions.forEach((i,o)=>{n+=`
            .chrome-tabs[data-chrome-tabs-instance-id="${this.instanceId}"] .chrome-tab:nth-child(${o+1}) {
              transform: translate3d(${i}px, 0, 0)
            }
          `}),this.styleEl.innerHTML=n;const r=this.tabEls.length;this.el.offsetWidth-this.tabContentEl.offsetWidth>Ite+xu/2||r<5?(this.tabContentEl.style.width=`${(this.tabEls[0]?this.tabEls[0].offsetWidth*r:0)-(r>0?r*xu*2-Tte+xu:0)}px`,this.tabContentEl.nextElementSibling.classList.remove("overflow-shadow")):this.tabContentEl.nextElementSibling.classList.add("overflow-shadow")}createNewTabEl(){const t=document.createElement("div");return t.innerHTML=HIe,t.firstElementChild}addTab(t,{animate:n=!0,background:r=!1}={}){const i=this.createNewTabEl();return i.oncontextmenu=o=>{this.emit("contextmenu",{tabEl:i,event:o})},n&&(i.classList.add("chrome-tab-was-just-added"),setTimeout(()=>i.classList.remove("chrome-tab-was-just-added"),500)),t=Object.assign({},VIe,t),this.tabContentEl.appendChild(i),this.setTabCloseEventListener(i),this.setTabRenameConfirmEventListener(i),this.updateTab(i,t),this.emit("tabAdd",{tabEl:i}),r||this.setCurrentTab(i),this.cleanUpPreviouslyDraggedTabs(),this.layoutTabs(),this.setupDraggabilly(),i}setTabCloseEventListener(t){const n=r=>{r.stopImmediatePropagation(),this.emit("tabClose",{tabEl:t}),this.setupNewTabButton()};t.querySelector(".chrome-tab-close").addEventListener("click",n)}setTabRenameConfirmEventListener(t){const n=t.querySelector(".chrome-tab-rename");n.addEventListener("keydown",r=>{r.key==="Enter"&&n.value!==""?(t.setAttribute("data-tab-title",n.value),this.emit("tabRename",{tabEl:t,title:n.value}),this.toggleRenameTab(t)):r.key==="Escape"&&this.toggleRenameTab(t)})}get activeTabEl(){return this.el.querySelector(".chrome-tab[active]")}hasActiveTab(){return!!this.activeTabEl}setCurrentTab(t){const n=this.activeTabEl;n!==t&&(n&&n.removeAttribute("active"),t.setAttribute("active",""),this.emit("activeTabChange",{tabEl:t}))}removeTab(t){t===this.activeTabEl&&(t.nextElementSibling?this.setCurrentTab(t.nextElementSibling):t.previousElementSibling&&this.setCurrentTab(t.previousElementSibling)),t.parentNode.removeChild(t),this.emit("tabRemove",{tabEl:t}),this.cleanUpPreviouslyDraggedTabs(),this.layoutTabs(),this.setupDraggabilly()}updateTab(t,n){t.setAttribute("data-tab-title",n.title),t.querySelector(".chrome-tab-title").textContent=n.title;const r=t.querySelector(".chrome-tab-rename");r.setAttribute("value",n.title),r.setAttribute("placeholder",n.title);const i=t.querySelector(".chrome-tab-favicon"),{favicon:o,faviconClass:a,className:s}=n,l=t.className.split(" ").filter(c=>c.startsWith("chrome-tab")||c==="dragging"||c==="phantom-tab");s?t.className=[...l,...s.split(" ")].join(" "):t.className=l.join(" "),i.className="chrome-tab-favicon",i.style.backgroundImage="",o||a?(a&&(i.className=["chrome-tab-favicon",a].join(" ")),o&&(i.style.backgroundImage=`url('${o}')`),i==null||i.removeAttribute("hidden")):(i==null||i.setAttribute("hidden",""),i==null||i.removeAttribute("style")),n.id&&t.setAttribute("data-tab-id",n.id)}showRenameTab(t){var o;t.setAttribute("is-renaming",""),t.setAttribute("data-tab-title",((o=t.textContent)==null?void 0:o.trim())||"");const n=t.querySelector(".chrome-tab-title"),r=t.querySelector(".chrome-tab-rename"),i=t.querySelector(".chrome-tab-close");n.style.display="none",r.style.display="block",i.style.display="none",r.focus(),r.select()}hideRenameTab(t){t.removeAttribute("is-renaming");const n=t.querySelector(".chrome-tab-title"),r=t.querySelector(".chrome-tab-rename");t.getAttribute("data-tab-title")&&(r.value=t.getAttribute("data-tab-title")||"",n.textContent=t.getAttribute("data-tab-title")||"");const i=t.querySelector(".chrome-tab-close");n.style.display="block",r.style.display="none",i.style.display=this.tabEls.length>1?"block":"none"}toggleRenameTab(t){t.querySelector(".chrome-tab-title").style.display==="none"?this.hideRenameTab(t):this.showRenameTab(t)}cleanUpPreviouslyDraggedTabs(){this.tabEls.forEach(t=>t.classList.remove("chrome-tab-was-just-dragged"))}setupDraggabilly(){const t=this.tabEls;if(this.isDragging&&this.draggabillyDragging){this.isDragging=!1,this.el.classList.remove("chrome-tabs-is-sorting");const n=this.draggabillyDragging;n.element.classList.remove("chrome-tab-is-dragging"),n.element.style.transform="",n.dragEnd(),n.isDragging=!1,n.positionDrag=()=>{},n.destroy(),this.draggabillyDragging=null}this.draggabillies.forEach(n=>n.destroy()),!t.find(n=>n.classList.contains("temporary-tab"))&&t.forEach(n=>{const r=new DIe(n,{axis:"x",handle:".chrome-tab-drag-handle",containment:this.tabContentEl});let i=0,o,a,s=0,l;this.draggabillies.push(r),r.on("pointerDown",(c,u)=>{const d=u.timeStamp;c.target===n.querySelector(".chrome-tab-drag-handle")&&(o===u.clientX&&a===u.clientY&&d-s<500&&l&&(t.forEach(f=>this.hideRenameTab(f)),this.showRenameTab(n),c.stopImmediatePropagation(),l=!1),l=n.hasAttribute("active"),o=u.clientX,a=u.clientY,s=d),this.emit("tabClick",{tabEl:n})}),r.on("dragStart",()=>{this.isDragging=!0,this.draggabillyDragging=r,n.classList.add("chrome-tab-is-dragging"),this.el.classList.add("chrome-tabs-is-sorting");const c=this.tabEls.indexOf(n);i=this.tabPositions[c]??0,this.emit("dragStart",{})}),r.on("dragEnd",()=>{this.isDragging=!1;const c=parseFloat(n.style.left);n.style.transform="translate3d(0, 0, 0)",this.emit("dragEnd",{}),requestAnimationFrame(()=>{n.style.left="0",n.style.transform=`translate3d(${c}px, 0, 0)`,requestAnimationFrame(()=>{n.classList.remove("chrome-tab-is-dragging"),this.el.classList.remove("chrome-tabs-is-sorting"),n.classList.add("chrome-tab-was-just-dragged"),requestAnimationFrame(()=>{n.style.transform="",this.layoutTabs(),this.setupDraggabilly()})})})}),r.on("dragMove",(c,u,d)=>{const f=this.tabEls,p=f.indexOf(n),g=i+d.x,h=$Ie(g,this.tabPositions),y=Math.max(0,Math.min(f.length,h));p!==y&&this.animateTabMove(n,p,y)})})}animateTabMove(t,n,r){r<n?t.parentNode.insertBefore(t,this.tabEls[r]):t.parentNode.insertBefore(t,this.tabEls[r+1]),this.emit("tabReorder",{tabEl:t,originIndex:n,destinationIndex:r}),this.layoutTabs()}setupNewTabButton(){var r,i;const t=(r=this.tabContentEl.parentNode)==null?void 0:r.querySelector(".new-tab-button-wrapper"),n=this.limit&&this.tabEls.length>=this.limit;t&&n?((i=t.parentNode)==null||i.removeChild(t),this.layoutTabs()):t||(this.tabContentEl.insertAdjacentHTML("afterend",BIe),this.layoutTabs())}}const WIe=x.forwardRef((e,t)=>{const n=["chrome-tabs"];return e.darkMode&&n.push("chrome-tabs-dark-theme"),e.className&&n.push(e.className),v.jsx("div",{ref:t,className:n.join(" "),style:{"--tab-content-margin":"9px",paddingBottom:"3px"},children:v.jsx("div",{className:"chrome-tabs-content"})})});function GIe(e,t){const n=x.useRef(null),r=x.useRef(null);x.useEffect(()=>{const l=new qIe;r.current=l,l.init(n.current,t)},[]),x.useEffect(()=>{var d;const l=f=>{var h;const{detail:p}=f,g=p.tabEl.getAttribute("data-tab-id");g&&((h=e.onTabActive)==null||h.call(e,g))},c=f=>{var b;const{detail:p}=f,{tabEl:g,title:h}=p,y=g.getAttribute("data-tab-id");y&&((b=e.onTabRename)==null||b.call(e,y,h))},u=(d=r.current)==null?void 0:d.el;return u==null||u.addEventListener("tabClick",l),u==null||u.addEventListener("tabRename",c),()=>{u==null||u.removeEventListener("tabClick",l),u==null||u.removeEventListener("tabRename",c)}},[e.onTabActive,e.onTabRename]),x.useEffect(()=>{var u;const l=(u=r.current)==null?void 0:u.el,c=d=>{var b;const{detail:f}=d,{tabEl:p,originIndex:g,destinationIndex:h}=f,y=p.getAttribute("data-tab-id");y&&((b=e.onTabReorder)==null||b.call(e,y,g,h))};return l==null||l.addEventListener("tabReorder",c),()=>{l==null||l.removeEventListener("tabReorder",c)}},[e.onTabReorder]),x.useEffect(()=>{var u;const l=(u=r.current)==null?void 0:u.el,c=d=>{var g;const{detail:f}=d,p=f.tabEl.getAttribute("data-tab-id");p&&((g=e.onTabClose)==null||g.call(e,p))};return l==null||l.addEventListener("tabClose",c),()=>{l==null||l.removeEventListener("tabClose",c)}},[e.onTabClose]),x.useEffect(()=>{var u;const l=()=>{var d;(d=e.onDragBegin)==null||d.call(e)},c=(u=r.current)==null?void 0:u.el;return c==null||c.addEventListener("dragBegin",l),()=>{c==null||c.removeEventListener("dragBegin",l)}},[e.onDragBegin]),x.useEffect(()=>{var u;const l=(u=r.current)==null?void 0:u.el,c=d=>{var h;const{detail:f}=d,p=f.tabEl;if(!p)return;const g=p.getAttribute("data-tab-id");g&&((h=e.onContextMenu)==null||h.call(e,g,f.event))};return l==null||l.addEventListener("contextmenu",c),()=>{l==null||l.removeEventListener("contextmenu",c)}},[e.onContextMenu]),x.useEffect(()=>{var u;const l=()=>{var d;(d=e.onDragEnd)==null||d.call(e)},c=(u=r.current)==null?void 0:u.el;return c==null||c.addEventListener("dragEnd",l),()=>{c==null||c.removeEventListener("dragEnd",l)}},[e.onDragEnd]),x.useEffect(()=>{var u;const l=()=>{var d;(d=e.onNewTab)==null||d.call(e)},c=(u=r.current)==null?void 0:u.el;return c==null||c.addEventListener("newTab",l),()=>{c==null||c.removeEventListener("newTab",l)}},[e.onNewTab]);const i=x.useCallback(l=>{var c;(c=r.current)==null||c.addTab(l)},[]),o=x.useCallback(l=>{var u,d;const c=(u=n.current)==null?void 0:u.querySelector(`[data-tab-id="${l}"]`);c&&((d=r.current)==null||d.removeTab(c))},[]),a=x.useCallback(l=>{var u,d,f;const c=(u=n.current)==null?void 0:u.querySelector(`[data-tab-id="${l}"]`);c!==((d=r.current)==null?void 0:d.activeTabEl)&&((f=r.current)==null||f.setCurrentTab(c))},[]),s=x.useCallback((l,c)=>{var d,f,p;const u=(d=n.current)==null?void 0:d.querySelector(`[data-tab-id="${l}"]`);u?(f=r.current)==null||f.updateTab(u,{...c}):(p=r.current)==null||p.addTab(c)},[]);return{ChromeTabs:x.useCallback(function(l){return v.jsx(WIe,{...l,ref:n})},[]),addTab:i,updateTab:s,removeTab:o,activeTab:a}}function KIe({tabs:e,limit:t,className:n,darkMode:r,onTabActive:i,onTabClose:o,onTabRename:a,onTabReorder:s,onContextMenu:l,onNewTab:c}){const u=x.useRef([]),d=x.useRef({tabId:"",fromIndex:-1,toIndex:-1}),f=x.useCallback((S,E,_)=>{const[m]=u.current.splice(E,1);u.current.splice(_,0,m);const C=d.current.fromIndex;d.current={tabId:S,fromIndex:C>-1?C:E,toIndex:_}},[]),p=x.useCallback(()=>{const{tabId:S,fromIndex:E,toIndex:_}=d.current;E>-1&&(s==null||s(S,E,_)),d.current={tabId:"",fromIndex:-1,toIndex:-1}},[s]),{ChromeTabs:g,addTab:h,activeTab:y,removeTab:b,updateTab:w}=GIe({onTabClose:o,onTabActive:i,onTabRename:a,onContextMenu:l,onNewTab:c,onDragEnd:p,onTabReorder:f},t);return x.useEffect(()=>{_v(u.current,e)||(u.current.slice(e.length).forEach(S=>{b(S.id)}),e.forEach((S,E)=>{const _=u.current[E];_?_v(S,_)||w(_.id,S):h(S)}),e.forEach(S=>{S.active&&y(S.id)})),u.current=e},[e]),v.jsx(g,{className:n,darkMode:r})}const XIe=U(tt).attrs({align:"center",justifyContent:"space-between"}).withConfig({displayName:"tabs__Root"})([`
  width: 100%;
  display: flex;
  background: `,`;
  padding-right: 1rem;
  `,`
`],({theme:e})=>e.color.backgroundLighter,({$tabsDisabled:e})=>e&&Vn([`
      opacity: 0.5;
      pointer-events: none;
    `])),YIe=U(vn).withConfig({displayName:"tabs__HistoryButton"})([`
  &.active {
    background: `,`;
  }
`],({theme:e})=>e.color.comment),QIe=U(ha.Content).withConfig({displayName:"tabs__DropdownMenuContent"})([`
  margin-top: 0.5rem;
  z-index: 100;
  background: `,`;
`],({theme:e})=>e.color.backgroundDarker),JIe=e=>e.metricsViewState?"assets/icon-chart.svg":e.isPreviewBuffer?"assets/icon-compare.svg":"assets/icon-file.svg",ZIe=()=>{const{activeBuffer:e,buffers:t,setActiveBuffer:n,addBuffer:r,updateBuffer:i,updateBuffersPositions:o,deleteBuffer:a,archiveBuffer:s,tabsDisabled:l}=Ys(),[c,u]=x.useState(!1),d=x.useMemo(A_,[]),[f,p]=x.useState(!1),g=t.filter(_=>_.archived&&_.archivedAt&&_.position===-1).sort((_,m)=>_.archivedAt&&m.archivedAt?m.archivedAt-_.archivedAt:0),h=async _=>{const m=t.find(C=>C.id===parseInt(_));m&&await n(m)},y=async _=>{const m=t.filter(C=>(!C.archived||C.isTemporary)&&C.id!==parseInt(_)).sort((C,T)=>C.position-T.position).map((C,T)=>({id:C.id,position:T})).filter(C=>C.id!==void 0);m.length>0&&await o(m)},b=async _=>{var C;const m=t.find(T=>T.id===parseInt(_));if(!(!m||t.filter(T=>!T.archived||T.isTemporary).length===1)){if(m.isPreviewBuffer){await a(parseInt(_),!0),await y(_);return}if(m.isTemporary){await i(parseInt(_),{isTemporary:!1},!0);return}(m==null?void 0:m.value)!==""||(C=m.metricsViewState)!=null&&C.metrics&&m.metricsViewState.metrics.length>0?await s(parseInt(_)):await a(parseInt(_)),await y(_),g.length>=10&&await Promise.all(g.slice(9).map(T=>a(T.id)))}},w=async(_,m,C)=>{const T=t.find(j=>j.id===parseInt(_));if(!T)return;const O=t.filter(j=>j.id!==parseInt(_)&&(!j.archived||j.isTemporary)).sort((j,D)=>j.isTemporary?1:D.isTemporary?-1:j.position-D.position);O.splice(C,0,T);const R=O.map((j,D)=>({id:j.id,position:D}));await o(R)},S=async(_,m)=>{await i(parseInt(_),{label:m})},E=async()=>{for(const _ of g)await a(_.id)};return x.useLayoutEffect(()=>{u(!0)},[]),c?v.jsxs(XIe,{$tabsDisabled:l,"data-hook":`editor-tabs${l?"-disabled":""}`,children:[v.jsx(KIe,{limit:40,darkMode:!0,onTabClose:b,onTabReorder:w,onTabActive:h,onTabRename:S,onNewTab:r,tabs:t.filter(_=>!_.archived||_.isTemporary).sort((_,m)=>_.isTemporary?1:m.isTemporary?-1:_.position-m.position).map(_=>{var T;const m=[];_.metricsViewState&&m.push("metrics-tab"),_.isTemporary&&m.push("temporary-tab"),_.isPreviewBuffer&&m.push("preview-tab");const C=m.length>0?m.join(" "):void 0;return{id:(T=_.id)==null?void 0:T.toString(),favicon:JIe(_),title:_.label,active:e.id===_.id,className:C}})}),v.jsxs(ha.Root,{modal:!1,onOpenChange:p,children:[v.jsx(ha.Trigger,{asChild:!0,children:v.jsx(eo,{children:v.jsx(YIe,{skin:"transparent","data-hook":"editor-tabs-history-button",prefixIcon:v.jsx(YX,{size:"20px"}),...f?{className:"active"}:{},children:"History"})})}),v.jsx(ha.Portal,{children:v.jsxs(QIe,{"data-hook":"editor-tabs-history",children:[g.length===0&&v.jsx("div",{style:{padding:"0 1rem"},children:v.jsx(st,{color:"gray2",children:"History is empty"})}),g.map(_=>v.jsx(ha.Item,{"data-hook":"editor-tabs-history-item",onClick:async()=>{await i(_.id,{archived:!1,archivedAt:void 0,position:t.filter(m=>!m.archived||m.isTemporary).length}),await n(_)},children:v.jsxs(tt,{align:"flex-start",justifyContent:"flex-start",gap:"0.5rem",title:_.label,children:[_.metricsViewState?v.jsx(QX,{size:"18px"}):v.jsx(KX,{size:"18px"}),v.jsxs(tt,{flexDirection:"column",align:"flex-start",gap:"0",..._.archivedAt?{title:Om(new Date(_.archivedAt),"P pppp",{locale:ey(d)})}:{},children:[v.jsxs(st,{color:"foreground",ellipsis:!0,children:[_.label.substring(0,30),_.label.length>30?"...":""]}),_.archivedAt&&v.jsxs(st,{color:"gray2",children:[hN(_.archivedAt,new Date().getTime(),{locale:ey(d)})," ago"]})]})]})},_.id)),g.length>0&&v.jsxs(v.Fragment,{children:[v.jsx(ha.Divider,{}),v.jsxs(ha.Item,{onClick:E,"data-hook":"editor-tabs-history-clear",children:[v.jsx(kA,{size:"18px"}),v.jsx(st,{color:"foreground",children:"Clear history"})]})]})]})})]})]}):null},NO="yyyy-MM-dd HH:mm:ss",kte=10080*60;var Np=(e=>(e.WAL_TRANSACTION_THROUGHPUT="TABLE_WAL_TRANSACTION_THROUGHPUT",e.WAL_ROW_THROUGHPUT="TABLE_WAL_ROW_THROUGHPUT",e.WAL_TRANSACTION_LATENCY="TABLE_WAL_TRANSACTION_LATENCY",e.TABLE_WRITE_AMPLIFICATION="TABLE_WRITE_AMPLIFICATION",e.TABLE_AVERAGE_TRANSACTION_SIZE="TABLE_AVERAGE_TRANSACTION_SIZE",e))(Np||{});const RO=[{dateFrom:"now-5m",dateTo:"now",label:"Last 5m"},{dateFrom:"now-15m",dateTo:"now",label:"Last 15m"},{dateFrom:"now-1h",dateTo:"now",label:"Last 1h"},{dateFrom:"now-3h",dateTo:"now",label:"Last 3h"},{dateFrom:"now-6h",dateTo:"now",label:"Last 6h"},{dateFrom:"now-12h",dateTo:"now",label:"Last 12h"},{dateFrom:"now-24h",dateTo:"now",label:"Last 24h"},{dateFrom:"now-3d",dateTo:"now",label:"Last 3 days"},{dateFrom:"now-7d",dateTo:"now",label:"Last 7 days"}];var _u=(e=>(e.LIST="List",e.GRID="Grid",e))(_u||{}),r1=(e=>(e.AUTO="Auto",e.OFF="Off",e.ONE_SECOND="1s",e.FIVE_SECONDS="5s",e.TEN_SECONDS="10s",e.THIRTY_SECONDS="30s",e.ONE_MINUTE="1m",e))(r1||{});const Nte={Auto:0,Off:0,"1s":1,"5s":5,"10s":10,"30s":30,"1m":60},eOe=(e,t)=>{const n=(new Date(Oa(t)).getTime()-new Date(Oa(e)).getTime())/1e3;return n<=300||n<=900?"5s":n<=3600?"10s":n<=3600*3||n<=3600*6||n<=3600*12||n<=3600*24?"30s":"1m"},tOe=(e,t,n)=>{let r;const i=(n-t)/1e3;return i<60?r="HH:mm:ss":i<3600||i<=3600*24?r="HH:mm":r="dd/MM",_S(e,r)},i1=(e,t=2)=>{const n=parseFloat(e);return Number(n.toFixed(t))},Rte=e=>e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+" M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+" k":e.toString(),jte=e=>e instanceof Date?Dd(e):e;function nOe(e){return e?e.replace(/\/\*[\s\S]*?\*\//g,"").replace(/--.*/g,"").replace(/\s+(?=(?:[^'"]|'[^']*'|"[^"]*")*$)/g," ").replace(/\s*,\s*/g,",").replace(/\s*\(\s*/g,"(").replace(/\s*\)\s*/g,")").replace(/\s*([+\-*/%])\s*/g,"$1").replace(/\s*(=|<>|!=|>=|<=|>|<)\s*/g,"$1").trim():""}const rOe=[1,2,3,4,5,10,15,20,25,30,45,75,90],iOe=[1,2,3,4,5,10,15,20,25,30,45,75,90],oOe=[1,2,3,4,6,8,12,18,24],Lte=(e,t,n=600)=>{const r=(new Date(t).getTime()-new Date(e).getTime())/1e3;return[...rOe,...iOe.map(i=>i*60),...oOe.map(i=>i*3600)].sort((i,o)=>Math.abs(i)-Math.abs(o)).find(i=>i>r/n)},Mte=e=>!e||e[1].length===0?!1:e[1].length>0&&e[1].some(t=>t!==null),jO=e=>/^now(-\d+[hdm]$)?$/.test(e),Oa=e=>{if(!jO(e))return _pe(e)?e:"Invalid date";const t=new Date;if(e==="now")return Dd(t);const[n,r,i,o]=e.match(/now(-)?(\d+)([a-z]+)$/);let a=0;switch(o){case"m":a=parseInt(i);break;case"h":a=parseInt(i)*60;break;case"d":a=parseInt(i)*60*24;break;default:return"Invalid date"}return Dd(vpe(t,a))},aOe=(e,t)=>{const n=RO.find(r=>r.dateFrom===e&&r.dateTo===t);return n?n.label:`${e.startsWith("now")?e:Om(new Date(e),NO)} - ${t.startsWith("now")?t:Om(new Date(t),NO)}
  `};var o1=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M6 9.99h2v7H6zm8 3h2v4h-2zm-4-6h2v10h-2zM20 7V4h-2v3h-3v2h3v3h2V9h3V7zm-2 12H4V5h12V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-5h-2v5z"}))});o1.displayName="AddChart";var LO=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"}))});LO.displayName="InsertChart";var px={exports:{}};px.exports;var Pte;function sOe(){return Pte||(Pte=1,(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,o=16,a=9007199254740991,s="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Function]",g="[object GeneratorFunction]",h="[object Map]",y="[object Number]",b="[object Null]",w="[object Object]",S="[object Proxy]",E="[object RegExp]",_="[object Set]",m="[object String]",C="[object Undefined]",T="[object WeakMap]",O="[object ArrayBuffer]",R="[object DataView]",j="[object Float32Array]",D="[object Float64Array]",L="[object Int8Array]",V="[object Int16Array]",z="[object Int32Array]",B="[object Uint8Array]",H="[object Uint8ClampedArray]",J="[object Uint16Array]",ne="[object Uint32Array]",q=/[\\^$.*+?()[\]{}|]/g,ee=/^\[object .+?Constructor\]$/,te=/^(?:0|[1-9]\d*)$/,$={};$[j]=$[D]=$[L]=$[V]=$[z]=$[B]=$[H]=$[J]=$[ne]=!0,$[s]=$[l]=$[O]=$[u]=$[R]=$[d]=$[f]=$[p]=$[h]=$[y]=$[w]=$[E]=$[_]=$[m]=$[T]=!1;var ae=typeof _l=="object"&&_l&&_l.Object===Object&&_l,ue=typeof self=="object"&&self&&self.Object===Object&&self,me=ae||ue||Function("return this")(),Fe=t&&!t.nodeType&&t,Ie=Fe&&!0&&e&&!e.nodeType&&e,Ee=Ie&&Ie.exports===Fe,He=Ee&&ae.process,it=(function(){try{var Y=Ie&&Ie.require&&Ie.require("util").types;return Y||He&&He.binding&&He.binding("util")}catch{}})(),St=it&&it.isTypedArray;function xt(Y,ve,Re){switch(Re.length){case 0:return Y.call(ve);case 1:return Y.call(ve,Re[0]);case 2:return Y.call(ve,Re[0],Re[1]);case 3:return Y.call(ve,Re[0],Re[1],Re[2])}return Y.apply(ve,Re)}function Ct(Y,ve){for(var Re=-1,Lt=Array(Y);++Re<Y;)Lt[Re]=ve(Re);return Lt}function We(Y){return function(ve){return Y(ve)}}function Oe(Y,ve){return Y==null?void 0:Y[ve]}function ye(Y,ve){return function(Re){return Y(ve(Re))}}var Ve=Array.prototype,Xe=Function.prototype,se=Object.prototype,we=me["__core-js_shared__"],Le=Xe.toString,ot=se.hasOwnProperty,_e=(function(){var Y=/[^.]+$/.exec(we&&we.keys&&we.keys.IE_PROTO||"");return Y?"Symbol(src)_1."+Y:""})(),Ce=se.toString,dt=Le.call(Object),Ne=RegExp("^"+Le.call(ot).replace(q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ye=Ee?me.Buffer:void 0,jt=me.Symbol,qt=me.Uint8Array;Ye&&Ye.allocUnsafe;var Jt=ye(Object.getPrototypeOf,Object),Ht=Object.create,en=se.propertyIsEnumerable,hn=Ve.splice,Zt=jt?jt.toStringTag:void 0,Tt=(function(){try{var Y=Ti(Object,"defineProperty");return Y({},"",{}),Y}catch{}})(),xn=Ye?Ye.isBuffer:void 0,Jn=Math.max,ir=Date.now,Bt=Ti(me,"Map"),Sr=Ti(Object,"create"),_r=(function(){function Y(){}return function(ve){if(!Fr(ve))return{};if(Ht)return Ht(ve);Y.prototype=ve;var Re=new Y;return Y.prototype=void 0,Re}})();function mr(Y){var ve=-1,Re=Y==null?0:Y.length;for(this.clear();++ve<Re;){var Lt=Y[ve];this.set(Lt[0],Lt[1])}}function ri(){this.__data__=Sr?Sr(null):{},this.size=0}function Hn(Y){var ve=this.has(Y)&&delete this.__data__[Y];return this.size-=ve?1:0,ve}function fi(Y){var ve=this.__data__;if(Sr){var Re=ve[Y];return Re===r?void 0:Re}return ot.call(ve,Y)?ve[Y]:void 0}function Ji(Y){var ve=this.__data__;return Sr?ve[Y]!==void 0:ot.call(ve,Y)}function Lr(Y,ve){var Re=this.__data__;return this.size+=this.has(Y)?0:1,Re[Y]=Sr&&ve===void 0?r:ve,this}mr.prototype.clear=ri,mr.prototype.delete=Hn,mr.prototype.get=fi,mr.prototype.has=Ji,mr.prototype.set=Lr;function or(Y){var ve=-1,Re=Y==null?0:Y.length;for(this.clear();++ve<Re;){var Lt=Y[ve];this.set(Lt[0],Lt[1])}}function Cr(){this.__data__=[],this.size=0}function Or(Y){var ve=this.__data__,Re=Ut(ve,Y);if(Re<0)return!1;var Lt=ve.length-1;return Re==Lt?ve.pop():hn.call(ve,Re,1),--this.size,!0}function er(Y){var ve=this.__data__,Re=Ut(ve,Y);return Re<0?void 0:ve[Re][1]}function Zn(Y){return Ut(this.__data__,Y)>-1}function yr(Y,ve){var Re=this.__data__,Lt=Ut(Re,Y);return Lt<0?(++this.size,Re.push([Y,ve])):Re[Lt][1]=ve,this}or.prototype.clear=Cr,or.prototype.delete=Or,or.prototype.get=er,or.prototype.has=Zn,or.prototype.set=yr;function Hr(Y){var ve=-1,Re=Y==null?0:Y.length;for(this.clear();++ve<Re;){var Lt=Y[ve];this.set(Lt[0],Lt[1])}}function Gr(){this.size=0,this.__data__={hash:new mr,map:new(Bt||or),string:new mr}}function Kr(Y){var ve=Cn(this,Y).delete(Y);return this.size-=ve?1:0,ve}function $i(Y){return Cn(this,Y).get(Y)}function Ni(Y){return Cn(this,Y).has(Y)}function Pi(Y,ve){var Re=Cn(this,Y),Lt=Re.size;return Re.set(Y,ve),this.size+=Re.size==Lt?0:1,this}Hr.prototype.clear=Gr,Hr.prototype.delete=Kr,Hr.prototype.get=$i,Hr.prototype.has=Ni,Hr.prototype.set=Pi;function ln(Y){var ve=this.__data__=new or(Y);this.size=ve.size}function Wn(){this.__data__=new or,this.size=0}function Tr(Y){var ve=this.__data__,Re=ve.delete(Y);return this.size=ve.size,Re}function Me(Y){return this.__data__.get(Y)}function ut(Y){return this.__data__.has(Y)}function It(Y,ve){var Re=this.__data__;if(Re instanceof or){var Lt=Re.__data__;if(!Bt||Lt.length<n-1)return Lt.push([Y,ve]),this.size=++Re.size,this;Re=this.__data__=new Hr(Lt)}return Re.set(Y,ve),this.size=Re.size,this}ln.prototype.clear=Wn,ln.prototype.delete=Tr,ln.prototype.get=Me,ln.prototype.has=ut,ln.prototype.set=It;function Ue(Y,ve){var Re=wi(Y),Lt=!Re&&qi(Y),$t=!Re&&!Lt&&ii(Y),on=!Re&&!Lt&&!$t&&Fo(Y),$n=Re||Lt||$t||on,Dn=$n?Ct(Y.length,String):[],A=Dn.length;for(var N in Y)$n&&(N=="length"||$t&&(N=="offset"||N=="parent")||on&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||Xr(N,A))||Dn.push(N);return Dn}function lt(Y,ve,Re){(Re!==void 0&&!Vi(Y[ve],Re)||Re===void 0&&!(ve in Y))&&Pt(Y,ve,Re)}function pt(Y,ve,Re){var Lt=Y[ve];(!(ot.call(Y,ve)&&Vi(Lt,Re))||Re===void 0&&!(ve in Y))&&Pt(Y,ve,Re)}function Ut(Y,ve){for(var Re=Y.length;Re--;)if(Vi(Y[Re][0],ve))return Re;return-1}function Pt(Y,ve,Re){ve=="__proto__"&&Tt?Tt(Y,ve,{configurable:!0,enumerable:!0,value:Re,writable:!0}):Y[ve]=Re}var In=kr();function mn(Y){return Y==null?Y===void 0?C:b:Zt&&Zt in Object(Y)?gr(Y):Eo(Y)}function Xt(Y){return yo(Y)&&mn(Y)==s}function un(Y){if(!Fr(Y)||co(Y))return!1;var ve=go(Y)?Ne:ee;return ve.test(qn(Y))}function Ln(Y){return yo(Y)&&Wi(Y.length)&&!!$[mn(Y)]}function Yt(Y){if(!Fr(Y))return bi(Y);var ve=Ri(Y),Re=[];for(var Lt in Y)Lt=="constructor"&&(ve||!ot.call(Y,Lt))||Re.push(Lt);return Re}function tn(Y,ve,Re,Lt,$t){Y!==ve&&In(ve,function(on,$n){if($t||($t=new ln),Fr(on))Fn(Y,ve,$n,Re,tn,Lt,$t);else{var Dn=Lt?Lt(Hi(Y,$n),on,$n+"",Y,ve,$t):void 0;Dn===void 0&&(Dn=on),lt(Y,$n,Dn)}},Zi)}function Fn(Y,ve,Re,Lt,$t,on,$n){var Dn=Hi(Y,Re),A=Hi(ve,Re),N=$n.get(A);if(N){lt(Y,Re,N);return}var M=on?on(Dn,A,Re+"",Y,ve,$n):void 0,F=M===void 0;if(F){var Q=wi(A),Z=!Q&&ii(A),le=!Q&&!Z&&Fo(A);M=A,Q||Z||le?wi(Dn)?M=Dn:xl(Dn)?M=Rn(Dn):Z?(F=!1,M=Dr(A)):le?(F=!1,M=vi(A)):M=[]:Di(A)||qi(A)?(M=Dn,qi(Dn)?M=Ai(Dn):(!Fr(Dn)||go(Dn))&&(M=Ar(A))):F=!1}F&&($n.set(A,M),$t(M,A,Lt,on,$n),$n.delete(A)),lt(Y,Re,M)}function hr(Y,ve){return pa(En(Y,ve,ko),Y+"")}var dn=Tt?function(Y,ve){return Tt(Y,"toString",{configurable:!0,enumerable:!1,value:ma(ve),writable:!0})}:ko;function Dr(Y,ve){return Y.slice()}function Ir(Y){var ve=new Y.constructor(Y.byteLength);return new qt(ve).set(new qt(Y)),ve}function vi(Y,ve){var Re=Ir(Y.buffer);return new Y.constructor(Re,Y.byteOffset,Y.length)}function Rn(Y,ve){var Re=-1,Lt=Y.length;for(ve||(ve=Array(Lt));++Re<Lt;)ve[Re]=Y[Re];return ve}function Sn(Y,ve,Re,Lt){var $t=!Re;Re||(Re={});for(var on=-1,$n=ve.length;++on<$n;){var Dn=ve[on],A=void 0;A===void 0&&(A=Y[Dn]),$t?Pt(Re,Dn,A):pt(Re,Dn,A)}return Re}function On(Y){return hr(function(ve,Re){var Lt=-1,$t=Re.length,on=$t>1?Re[$t-1]:void 0,$n=$t>2?Re[2]:void 0;for(on=Y.length>3&&typeof on=="function"?($t--,on):void 0,$n&&Vr(Re[0],Re[1],$n)&&(on=$t<3?void 0:on,$t=1),ve=Object(ve);++Lt<$t;){var Dn=Re[Lt];Dn&&Y(ve,Dn,Lt,on)}return ve})}function kr(Y){return function(ve,Re,Lt){for(var $t=-1,on=Object(ve),$n=Lt(ve),Dn=$n.length;Dn--;){var A=$n[++$t];if(Re(on[A],A,on)===!1)break}return ve}}function Cn(Y,ve){var Re=Y.__data__;return ti(ve)?Re[typeof ve=="string"?"string":"hash"]:Re.map}function Ti(Y,ve){var Re=Oe(Y,ve);return un(Re)?Re:void 0}function gr(Y){var ve=ot.call(Y,Zt),Re=Y[Zt];try{Y[Zt]=void 0;var Lt=!0}catch{}var $t=Ce.call(Y);return Lt&&(ve?Y[Zt]=Re:delete Y[Zt]),$t}function Ar(Y){return typeof Y.constructor=="function"&&!Ri(Y)?_r(Jt(Y)):{}}function Xr(Y,ve){var Re=typeof Y;return ve=ve??a,!!ve&&(Re=="number"||Re!="symbol"&&te.test(Y))&&Y>-1&&Y%1==0&&Y<ve}function Vr(Y,ve,Re){if(!Fr(Re))return!1;var Lt=typeof ve;return(Lt=="number"?Oo(Re)&&Xr(ve,Re.length):Lt=="string"&&ve in Re)?Vi(Re[ve],Y):!1}function ti(Y){var ve=typeof Y;return ve=="string"||ve=="number"||ve=="symbol"||ve=="boolean"?Y!=="__proto__":Y===null}function co(Y){return!!_e&&_e in Y}function Ri(Y){var ve=Y&&Y.constructor,Re=typeof ve=="function"&&ve.prototype||se;return Y===Re}function bi(Y){var ve=[];if(Y!=null)for(var Re in Object(Y))ve.push(Re);return ve}function Eo(Y){return Ce.call(Y)}function En(Y,ve,Re){return ve=Jn(ve===void 0?Y.length-1:ve,0),function(){for(var Lt=arguments,$t=-1,on=Jn(Lt.length-ve,0),$n=Array(on);++$t<on;)$n[$t]=Lt[ve+$t];$t=-1;for(var Dn=Array(ve+1);++$t<ve;)Dn[$t]=Lt[$t];return Dn[ve]=Re($n),xt(Y,this,Dn)}}function Hi(Y,ve){if(!(ve==="constructor"&&typeof Y[ve]=="function")&&ve!="__proto__")return Y[ve]}var pa=hi(dn);function hi(Y){var ve=0,Re=0;return function(){var Lt=ir(),$t=o-(Lt-Re);if(Re=Lt,$t>0){if(++ve>=i)return arguments[0]}else ve=0;return Y.apply(void 0,arguments)}}function qn(Y){if(Y!=null){try{return Le.call(Y)}catch{}try{return Y+""}catch{}}return""}function Vi(Y,ve){return Y===ve||Y!==Y&&ve!==ve}var qi=Xt((function(){return arguments})())?Xt:function(Y){return yo(Y)&&ot.call(Y,"callee")&&!en.call(Y,"callee")},wi=Array.isArray;function Oo(Y){return Y!=null&&Wi(Y.length)&&!go(Y)}function xl(Y){return yo(Y)&&Oo(Y)}var ii=xn||ge;function go(Y){if(!Fr(Y))return!1;var ve=mn(Y);return ve==p||ve==g||ve==c||ve==S}function Wi(Y){return typeof Y=="number"&&Y>-1&&Y%1==0&&Y<=a}function Fr(Y){var ve=typeof Y;return Y!=null&&(ve=="object"||ve=="function")}function yo(Y){return Y!=null&&typeof Y=="object"}function Di(Y){if(!yo(Y)||mn(Y)!=w)return!1;var ve=Jt(Y);if(ve===null)return!0;var Re=ot.call(ve,"constructor")&&ve.constructor;return typeof Re=="function"&&Re instanceof Re&&Le.call(Re)==dt}var Fo=St?We(St):Ln;function Ai(Y){return Sn(Y,Zi(Y))}function Zi(Y){return Oo(Y)?Ue(Y):Yt(Y)}var oa=On(function(Y,ve,Re){tn(Y,ve,Re)});function ma(Y){return function(){return Y}}function ko(Y){return Y}function ge(){return!1}e.exports=oa})(px,px.exports)),px.exports}var lOe=sOe();const cOe=Ga(lOe),uOe=["#FF6B6B","#4ECDC4","#FFD93D","#95D86E","#FF8F40"],dOe=["#BD93F9","#50FA7B","#FF79C6","#8BE9FD","#F1FA8C"],Dte=[...uOe,...dOe],fOe="#FF6B6B",hOe=(e,t)=>{const n=Dte.filter(i=>i!==t),r=n.filter(i=>!e.includes(i));return r.length>0?r[Math.floor(Math.random()*r.length)]:n[Math.floor(Math.random()*n.length)]},pOe=U.div.withConfig({displayName:"color-palette__Root"})([`
  padding: 0.5rem;
`]),mOe=U.div.withConfig({displayName:"color-palette__ColorBox"})([`
  position: relative;
  width: 1.6rem;
  height: 1.6rem;
  cursor: pointer;
`]),gOe=U(WX).withConfig({displayName:"color-palette__CheckIcon"})([`
  position: absolute;
  color: black;
`]),yOe=({selectedColor:e,onSelect:t})=>v.jsx(pOe,{children:v.jsx(tt,{gap:"0.5rem",children:Dte.map(n=>v.jsx(mOe,{style:{backgroundColor:n},onClick:()=>t(n),children:e===n&&v.jsx(gOe,{size:"16px"})},n))})}),vOe={distribution:1,label:"WAL Transaction Latency",chartTitle:"WAL Transaction Latency (90th percentile)",getDescription:()=>v.jsxs(v.Fragment,{children:["This chart tracks the time required for data to become readable after being written. Higher latency may stem from:",v.jsxs("ul",{children:[v.jsx("li",{children:"Large transaction sizes (refer to Avg Transaction Size chart if elevated)"}),v.jsx("li",{children:"Unordered data requiring additional processing"}),v.jsx("li",{children:"Write amplification (see dedicated chart if batch size is optimal)"}),v.jsx("li",{children:"Storage I/O limitations or contention"})]}),"Monitor this metric alongside related charts to identify the root cause of performance variations and optimize accordingly."]}),icon:`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M28 37H37.18C37.3471 37.4797 37.6333 37.909 38.0117 38.2479C38.3901 38.5867 38.8483 38.824 39.3434 38.9373C39.8386 39.0507 40.3544 39.0365 40.8425 38.896C41.3307 38.7556 41.7751 38.4935 42.1343 38.1343C42.4935 37.7751 42.7556 37.3307 42.896 36.8425C43.0365 36.3544 43.0507 35.8386 42.9373 35.3434C42.824 34.8483 42.5867 34.3901 42.2479 34.0117C41.909 33.6333 41.4797 33.3471 41 33.18V24H39V33.18C38.5806 33.3293 38.1997 33.5701 37.8849 33.8849C37.5701 34.1997 37.3293 34.5806 37.18 35H28V37ZM40 35C40.1978 35 40.3911 35.0586 40.5556 35.1685C40.72 35.2784 40.8482 35.4346 40.9239 35.6173C40.9996 35.8 41.0194 36.0011 40.9808 36.1951C40.9422 36.3891 40.847 36.5673 40.7071 36.7071C40.5673 36.847 40.3891 36.9422 40.1951 36.9808C40.0011 37.0194 39.8 36.9996 39.6173 36.9239C39.4346 36.8482 39.2784 36.72 39.1685 36.5556C39.0586 36.3911 39 36.1978 39 36C39 35.7348 39.1054 35.4804 39.2929 35.2929C39.4804 35.1054 39.7348 35 40 35Z" fill="url(#paint0_linear_56_695)"/>
    <path d="M55.06 20L56.4 18.2L57.2 18.8C57.3731 18.9298 57.5836 19 57.8 19H57.94C58.0703 18.9816 58.1956 18.9377 58.3089 18.8708C58.4221 18.8038 58.521 18.7152 58.6 18.61L61 15.4C61.1591 15.1878 61.2275 14.9211 61.1899 14.6586C61.1524 14.396 61.0122 14.1591 60.8 14L54.4 9.2C54.1878 9.04087 53.9211 8.97254 53.6586 9.01005C53.396 9.04756 53.1591 9.18783 53 9.4L50.6 12.6C50.4409 12.8122 50.3725 13.0789 50.41 13.3414C50.4476 13.604 50.5878 13.8409 50.8 14L51.6 14.6L50.17 16.5C48.2326 15.4828 46.1523 14.7647 44 14.37V12H46C46.2652 12 46.5196 11.8946 46.7071 11.7071C46.8946 11.5196 47 11.2652 47 11V7C47 6.73478 46.8946 6.48043 46.7071 6.29289C46.5196 6.10536 46.2652 6 46 6H34C33.7348 6 33.4804 6.10536 33.2929 6.29289C33.1054 6.48043 33 6.73478 33 7V11C33 11.2652 33.1054 11.5196 33.2929 11.7071C33.4804 11.8946 33.7348 12 34 12H36V14.37C33.9104 14.7609 31.889 15.4548 30 16.43L28.6 14.6L29.4 14C29.5052 13.921 29.5938 13.8221 29.6608 13.7089C29.7277 13.5956 29.7716 13.4703 29.79 13.34C29.8271 13.0779 29.7588 12.8118 29.6 12.6L27.2 9.4C27.0409 9.18783 26.804 9.04756 26.5414 9.01005C26.2789 8.97254 26.0122 9.04087 25.8 9.2L19.4 14C19.2949 14.0788 19.2064 14.1775 19.1395 14.2905C19.0726 14.4035 19.0286 14.5286 19.01 14.6586C18.9915 14.7886 18.9987 14.921 19.0313 15.0482C19.0639 15.1754 19.1212 15.2949 19.2 15.4L21.6 18.6C21.679 18.7052 21.7779 18.7938 21.8911 18.8608C22.0044 18.9277 22.1297 18.9716 22.26 18.99H22.4C22.6164 18.99 22.8269 18.9198 23 18.79L23.8 18.19L25.06 19.86C24.0312 20.8146 23.0969 21.8661 22.27 23H10V25H21C20.264 26.2692 19.6576 27.6093 19.19 29H6V31H18.58C18.2638 32.3126 18.0696 33.6516 18 35H2V37H18C18.0598 38.3474 18.2439 39.6864 18.55 41H6V43H19.15C19.6304 44.3922 20.2502 45.7324 21 47H10V49H22.27C24.0647 51.4991 26.3637 53.594 29.0184 55.1494C31.6732 56.7047 34.6246 57.6859 37.6822 58.0296C40.7397 58.3732 43.8354 58.0718 46.7691 57.1446C49.7029 56.2174 52.4096 54.6852 54.7143 52.6468C57.0191 50.6085 58.8706 48.1093 60.1494 45.3109C61.4282 42.5124 62.1057 39.4768 62.1383 36.4002C62.1709 33.3236 61.5578 30.2743 60.3385 27.4494C59.1193 24.6245 57.3211 22.0867 55.06 20ZM54 11.4L58.8 15L57.6 16.6L52.8 13L54 11.4ZM53.2 15.8L54.8 17L53.54 18.68C53.01 18.27 52.47 17.88 51.91 17.52L53.2 15.8ZM35 8H45V10H35V8ZM38 12H42V14.09C41.34 14 40.67 14 40 14C39.33 14 38.66 14 38 14.09V12ZM22.6 16.6L21.4 15L26.2 11.4L27.4 13L22.6 16.6ZM25.4 17L27 15.8L28.22 17.43C27.66 17.79 27.11 18.17 26.59 18.58L25.4 17ZM23.31 25H27.06C26.0356 26.2098 25.1842 27.556 24.53 29H21.29C21.8114 27.5952 22.4889 26.2535 23.31 25ZM32.55 23C34.8138 21.6887 37.3838 20.9988 40 21C43.9782 21 47.7936 22.5804 50.6066 25.3934C53.4196 28.2064 55 32.0218 55 36C55 39.9782 53.4196 43.7936 50.6066 46.6066C47.7936 49.4196 43.9782 51 40 51C37.3838 51.0012 34.8138 50.3113 32.55 49H34V47H29.84C28.5864 45.8529 27.538 44.5001 26.74 43H32V41H25.88C25.4201 39.7113 25.1408 38.3652 25.05 37H26V35H25.05C25.1408 33.6348 25.4201 32.2887 25.88 31H32V29H26.74C27.538 27.4999 28.5864 26.1471 29.84 25H34V23H32.55ZM20.66 31H23.75C23.3577 32.3006 23.1227 33.6435 23.05 35H20.05C20.1149 33.6492 20.3193 32.3087 20.66 31ZM20.05 37H23.05C23.1227 38.3565 23.3577 39.6994 23.75 41H20.66C20.3193 39.6913 20.1149 38.3508 20.05 37ZM21.29 43H24.53C25.1842 44.444 26.0356 45.7902 27.06 47H23.31C22.4889 45.7465 21.8114 44.4048 21.29 43ZM40 56C37.1162 55.9959 34.2675 55.3682 31.6491 54.1599C29.0306 52.9517 26.7044 51.1915 24.83 49H29.07C31.5469 51.0872 34.5685 52.4233 37.7792 52.8511C40.9899 53.2789 44.2559 52.7805 47.1929 51.4147C50.1299 50.0489 52.6156 47.8724 54.3574 45.1415C56.0991 42.4107 57.0245 39.239 57.0245 36C57.0245 32.761 56.0991 29.5893 54.3574 26.8585C52.6156 24.1276 50.1299 21.9511 47.1929 20.5853C44.2559 19.2195 40.9899 18.7211 37.7792 19.1489C34.5685 19.5767 31.5469 20.9128 29.07 23H24.83C27.0115 20.4496 29.7996 18.4892 32.9377 17.2993C36.0758 16.1094 39.4628 15.7283 42.7868 16.1911C46.1108 16.6539 49.2649 17.9458 51.9586 19.9477C54.6522 21.9496 56.7988 24.5971 58.2006 27.6465C59.6023 30.6958 60.2142 34.0488 59.9798 37.3967C59.7455 40.7446 58.6724 43.9797 56.8594 46.804C55.0465 49.6282 52.552 51.9509 49.6057 53.5579C46.6594 55.165 43.3561 56.0048 40 56Z" fill="url(#paint1_linear_56_695)"/>
    <defs>
        <linearGradient id="paint0_linear_56_695" x1="35.5065" y1="24" x2="35.5065" y2="39.013" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
        <linearGradient id="paint1_linear_56_695" x1="32.0698" y1="6" x2="32.0698" y2="58.1672" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
    </defs>
</svg>
`,isTableMetric:!0,querySupportsRollingAppend:!0,getQuery:({tableId:e,sampleBySeconds:t,from:n,to:r})=>`
    select created, approx_percentile(latency, 0.9, 3) latency
      from ${Zs.WAL}
      where 
          event = 105
          and rowCount > 0
          ${e?`and tableId = ${e}`:""}
      sample by ${t}s
      FROM timestamp_floor('${t}s', '${n}')
      TO timestamp_floor('${t}s', '${r}')
      fill(0)
    `,alignData:e=>{const t=e;return[t.map(n=>new Date(n.created).getTime()),t.map(n=>i1(n.latency))]},mapYValue:e=>e>=1e3?`${(e/1e3).toFixed(2)} s`:`${e} ms`},bOe={distribution:1,label:"Table Write Amplification",chartTitle:"Write Amplification",getDescription:()=>v.jsxs(v.Fragment,{children:["This chart tracks the data write overhead during merge operations. Write amplification occurs when:",v.jsxs("ul",{children:[v.jsx("li",{children:"Copy-on-write operations affect large data blocks"}),v.jsx("li",{children:"Datasets are re-ingested for deduplication"}),v.jsx("li",{children:"Data requires extensive rewriting during merges"})]}),"Scale ranges from optimal (1x) to problematic (1000x+). High amplification typically indicates duplicate data ingestion or suboptimal data ordering patterns."]}),icon:`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M61 14H3C2.73478 14 2.48043 14.1054 2.29289 14.2929C2.10536 14.4804 2 14.7348 2 15V49C2 49.2652 2.10536 49.5196 2.29289 49.7071C2.48043 49.8946 2.73478 50 3 50H61C61.2652 50 61.5196 49.8946 61.7071 49.7071C61.8946 49.5196 62 49.2652 62 49V15C62 14.7348 61.8946 14.4804 61.7071 14.2929C61.5196 14.1054 61.2652 14 61 14ZM4 48V42H8V40H4V39H8V37H4V36H8V34H4V33H8V31H4V30H8V28H4V27H8V25H4V24H8V22H4V16H60V18H53C52.7348 18 52.4804 18.1054 52.2929 18.2929C52.1054 18.4804 52 18.7348 52 19V45C52 45.2652 52.1054 45.5196 52.2929 45.7071C52.4804 45.8946 52.7348 46 53 46H60V48H4ZM60 23V24H56V26H60V27H56V29H60V30H56V32H60V33H56V35H60V38H56V40H60V41H56V43H60V44H54V20H60V21H56V23H60Z" fill="url(#paint0_linear_56_720)"/>
    <path d="M8 18H6V20H8V18Z" fill="url(#paint1_linear_56_720)"/>
    <path d="M8 44H6V46H8V44Z" fill="url(#paint2_linear_56_720)"/>
    <path d="M50 18H48V20H50V18Z" fill="url(#paint3_linear_56_720)"/>
    <path d="M50 44H48V46H50V44Z" fill="url(#paint4_linear_56_720)"/>
    <path d="M45 18H11C10.7348 18 10.4804 18.1054 10.2929 18.2929C10.1054 18.4804 10 18.7348 10 19V28C10 28.2652 10.1054 28.5196 10.2929 28.7071C10.4804 28.8946 10.7348 29 11 29H13C13.7956 29 14.5587 29.3161 15.1213 29.8787C15.6839 30.4413 16 31.2044 16 32C16 32.7956 15.6839 33.5587 15.1213 34.1213C14.5587 34.6839 13.7956 35 13 35H11C10.7348 35 10.4804 35.1054 10.2929 35.2929C10.1054 35.4804 10 35.7348 10 36V45C10 45.2652 10.1054 45.5196 10.2929 45.7071C10.4804 45.8946 10.7348 46 11 46H45C45.2652 46 45.5196 45.8946 45.7071 45.7071C45.8946 45.5196 46 45.2652 46 45V35H44V44H12V37H13C14.3261 37 15.5979 36.4732 16.5355 35.5355C17.4732 34.5979 18 33.3261 18 32C18 30.6739 17.4732 29.4021 16.5355 28.4645C15.5979 27.5268 14.3261 27 13 27H12V20H44V29H46V19C46 18.7348 45.8946 18.4804 45.7071 18.2929C45.5196 18.1054 45.2652 18 45 18Z" fill="url(#paint5_linear_56_720)"/>
    <path d="M46 31H44V33H46V31Z" fill="url(#paint6_linear_56_720)"/>
    <defs>
        <linearGradient id="paint0_linear_56_720" x1="32" y1="14" x2="32" y2="50" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
        <linearGradient id="paint1_linear_56_720" x1="7" y1="18" x2="7" y2="20" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
        <linearGradient id="paint2_linear_56_720" x1="7" y1="44" x2="7" y2="46" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
        <linearGradient id="paint3_linear_56_720" x1="49" y1="18" x2="49" y2="20" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
        <linearGradient id="paint4_linear_56_720" x1="49" y1="44" x2="49" y2="46" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
        <linearGradient id="paint5_linear_56_720" x1="28" y1="18" x2="28" y2="46" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
        <linearGradient id="paint6_linear_56_720" x1="45" y1="31" x2="45" y2="33" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
    </defs>
</svg>
`,isTableMetric:!0,querySupportsRollingAppend:!0,getQuery:({tableId:e,sampleBySeconds:t,from:n,to:r})=>`
      select
        created,
        COALESCE(phy_row_count / row_count,0) writeAmplification
      from
        (
            select
              created,
              sum(rowcount) row_count,
              sum(physicalRowCount) phy_row_count,
            from ${Zs.WAL}
            where 
              ${e?`tableId = ${e} `:""}
              and event = 105
              and rowCount > 0 
            sample by ${t}s FROM timestamp_floor('${t}s', '${n}') TO timestamp_floor('${t}s', '${r}') fill(0,0)
        );
    `,alignData:e=>{const t=e;return[t.map(n=>new Date(n.created).getTime()),t.map(n=>n.writeAmplification?i1(n.writeAmplification):1)]},mapYValue:e=>e},wOe={distribution:1,label:"WAL Row Throughput",chartTitle:"Row Processing Throughput (rows/s)",getDescription:()=>v.jsxs(v.Fragment,{children:["This chart displays rows processed per second during transaction merges. While similar to transaction throughput, this metric helps identify:",v.jsxs("ul",{children:[v.jsx("li",{children:"Data density variations within transactions"}),v.jsx("li",{children:"Processing overhead for row-heavy transactions"}),v.jsx("li",{children:"Resource utilization from row-level operations"}),v.jsx("li",{children:"Impact of row complexity on merge performance"})]}),"Use alongside transaction throughput to understand the relationship between transaction size and processing efficiency."," "]}),icon:`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M61 43H52C52 42.45 51.55 42 51 42H39.17C38.46 39.39 37.38 38 36 38H6C3.25 38 2 43.7 2 49C2 54.3 3.25 60 6 60H36C37.37 60 38.46 58.61 39.17 56H54C54.55 56 55 55.55 55 55V52H57C57.55 52 58 51.55 58 51V49H61C61.55 49 62 48.55 62 48V44C62 43.45 61.55 43 61 43ZM35.98 40C36.11 40.04 36.6 40.51 37.08 42H34.9C35.31 40.72 35.75 40.07 35.97 40H35.98ZM6.01 58C5.65 57.9 4.89 56.56 4.42 54H10V52H4.14C4.05 51.1 4 50.1 4 49C4 47.9 4.05 46.9 4.14 46H18V44H4.42C4.89 41.44 5.65 40.1 6 40H33.57C32.7 41.75 32.22 44.39 32.06 46.94C32.02 47.6 32 48.29 32 49C32 49.71 32.02 50.4 32.06 51.06C32.22 53.61 32.69 56.25 33.57 58H6.01ZM36.01 58C35.77 57.93 35.32 57.28 34.91 56H37.08C36.6 57.5 36.12 57.97 36.01 58ZM52.99 54H34.41C34.3 53.41 34.21 52.74 34.14 52H53V54H52.99ZM55.99 50H34.02C34.01 49.67 33.99 49.35 33.99 49C33.99 48.65 34.01 48.33 34.02 48H35.99V46H34.13C34.2 45.26 34.3 44.59 34.4 44H49.98V46H37.98V48H55.98V50H55.99ZM59.99 47H57.99C57.99 46.45 57.54 46 56.99 46H51.99V45H59.99V47Z" fill="url(#paint0_linear_56_708)"/>
    <path d="M29 48H14V50H29V48Z" fill="url(#paint1_linear_56_708)"/>
    <path d="M12 48H10V50H12V48Z" fill="url(#paint2_linear_56_708)"/>
    <path d="M22 44H20V46H22V44Z" fill="url(#paint3_linear_56_708)"/>
    <path d="M14 52H12V54H14V52Z" fill="url(#paint4_linear_56_708)"/>
    <path d="M18 36C26.48 36 33.43 29.36 33.95 21H36V19H33.95C33.43 10.64 26.49 4 18 4C9.51 4 2 11.18 2 20C2 28.82 9.18 36 18 36ZM18 6C25.72 6 32 12.28 32 20C32 27.72 25.72 34 18 34C10.28 34 4 27.72 4 20C4 12.28 10.28 6 18 6Z" fill="url(#paint5_linear_56_708)"/>
    <path d="M52 20C52 19.45 51.55 19 51 19H38V21H50V36H52V20Z" fill="url(#paint6_linear_56_708)"/>
    <path d="M52 38H50V40H52V38Z" fill="url(#paint7_linear_56_708)"/>
    <path d="M12 28C12.14 28 12.29 27.97 12.42 27.91C12.77 27.75 13 27.39 13 27V26H20C20.55 26 21 25.55 21 25V22H23V23C23 23.39 23.22 23.74 23.58 23.91C23.71 23.97 23.86 24 24 24C24.23 24 24.46 23.92 24.64 23.77L30.64 18.77C30.87 18.58 31 18.3 31 18C31 17.7 30.87 17.42 30.64 17.23L24.64 12.23C24.34 11.98 23.93 11.93 23.58 12.09C23.23 12.25 23 12.61 23 13V14H16C15.45 14 15 14.45 15 15V18H13V17C13 16.61 12.78 16.26 12.42 16.09C12.07 15.93 11.66 15.98 11.36 16.23L5.36 21.23C5.13 21.42 5 21.7 5 22C5 22.3 5.13 22.58 5.36 22.77L11.36 27.77C11.54 27.92 11.77 28 12 28ZM17 16H24C24.51 16 24.93 15.62 24.99 15.13L28.44 18L24.99 20.87C24.93 20.38 24.51 20 24 20H21V19C21 18.45 20.55 18 20 18H17V16ZM11.01 24.87L7.56 22L11.01 19.13C11.07 19.62 11.49 20 12 20H19V24H12C11.49 24 11.07 24.38 11.01 24.87Z" fill="url(#paint8_linear_56_708)"/>
    <defs>
        <linearGradient id="paint0_linear_56_708" x1="32" y1="38" x2="32" y2="60" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
        <linearGradient id="paint1_linear_56_708" x1="21.5" y1="48" x2="21.5" y2="50" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
        <linearGradient id="paint2_linear_56_708" x1="11" y1="48" x2="11" y2="50" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
        <linearGradient id="paint3_linear_56_708" x1="21" y1="44" x2="21" y2="46" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
        <linearGradient id="paint4_linear_56_708" x1="13" y1="52" x2="13" y2="54" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
        <linearGradient id="paint5_linear_56_708" x1="19" y1="4" x2="19" y2="36" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
        <linearGradient id="paint6_linear_56_708" x1="45" y1="19" x2="45" y2="36" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
        <linearGradient id="paint7_linear_56_708" x1="51" y1="38" x2="51" y2="40" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
        <linearGradient id="paint8_linear_56_708" x1="18" y1="11.998" x2="18" y2="28" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
    </defs>
</svg>
`,isTableMetric:!0,querySupportsRollingAppend:!0,getQuery:({tableId:e,sampleBySeconds:t,from:n,to:r})=>`
      select created time,
          sum(rowCount) numOfRowsApplied
      from ${Zs.WAL}
      where ${e?`tableId = ${e} and `:""}
        event = 105
        sample by 1s
      FROM timestamp_floor('${t}s', '${n}') TO timestamp_floor('${t}s', '${r}') fill(0)
    `,alignData:e=>{const t=e;return[t.map(n=>new Date(n.time).getTime()),t.map(n=>n.numOfRowsApplied?i1(n.numOfRowsApplied):0)]},mapYValue:e=>Rte(e)},xOe={distribution:1,label:"WAL Transaction Throughput",chartTitle:"Transaction Throughput (txn/s)",getDescription:()=>v.jsxs(v.Fragment,{children:["This chart monitors the rate at which transactions are applied to tables. Performance is influenced by:",v.jsxs("ul",{children:[v.jsx("li",{children:"Batch merging efficiency (multiple transactions processed together)"}),v.jsx("li",{children:"Data ingestion rate from source"}),v.jsx("li",{children:"Storage performance and contention"}),v.jsx("li",{children:"Concurrent writes across multiple tables sharing resources"})]}),"Compare against data source metrics to distinguish between ingestion bottlenecks and system performance limitations."]}),icon:`<svg width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M1.99997 30.0002C1.99804 23.5333 4.23467 17.2651 8.32997 12.2602L6.78997 11.0002C2.40316 16.3605 0.00634766 23.0737 0.00634766 30.0002C0.00634766 36.9268 2.40316 43.6399 6.78997 49.0002L8.32997 47.7402C4.23467 42.7353 1.99804 36.4671 1.99997 30.0002Z" fill="url(#paint0_linear_208_15)"/>
    <path d="M30 58.0002C24.9262 57.9962 19.9489 56.6136 15.6 54.0002L14.6 55.7202C19.2639 58.5085 24.5961 59.9809 30.03 59.9809C35.4638 59.9809 40.7961 58.5085 45.46 55.7202L44.4 54.0002C40.051 56.6136 35.0737 57.9962 30 58.0002Z" fill="url(#paint1_linear_208_15)"/>
    <path d="M51.67 12.2602C55.7677 17.2642 58.0068 23.5325 58.0068 30.0002C58.0068 36.468 55.7677 42.7362 51.67 47.7402L53.21 49.0002C57.5968 43.6399 59.9936 36.9268 59.9936 30.0002C59.9936 23.0737 57.5968 16.3605 53.21 11.0002L51.67 12.2602Z" fill="url(#paint2_linear_208_15)"/>
    <path d="M15.6 6.00023C19.9502 3.39152 24.9275 2.01356 30 2.01356C35.0725 2.01356 40.0497 3.39152 44.4 6.00023L45.4 4.28023C40.7361 1.49194 35.4038 0.0195313 29.97 0.0195312C24.5361 0.0195313 19.2039 1.49194 14.54 4.28023L15.6 6.00023Z" fill="url(#paint3_linear_208_15)"/>
    <path d="M7.99997 8.00023C7.99997 8.59357 8.17592 9.17359 8.50557 9.66694C8.83521 10.1603 9.30375 10.5448 9.85192 10.7719C10.4001 10.9989 11.0033 11.0583 11.5852 10.9426C12.1672 10.8268 12.7017 10.5411 13.1213 10.1216C13.5409 9.70199 13.8266 9.16744 13.9423 8.5855C14.0581 8.00356 13.9987 7.40036 13.7716 6.85218C13.5446 6.304 13.16 5.83547 12.6667 5.50582C12.1733 5.17618 11.5933 5.00023 11 5.00023C10.2043 5.00023 9.44126 5.3163 8.87865 5.87891C8.31604 6.44152 7.99997 7.20458 7.99997 8.00023ZM12 8.00023C12 8.19801 11.9413 8.39135 11.8314 8.5558C11.7216 8.72025 11.5654 8.84842 11.3827 8.92411C11.1999 8.9998 10.9989 9.0196 10.8049 8.98102C10.6109 8.94243 10.4327 8.84719 10.2929 8.70734C10.153 8.56748 10.0578 8.3893 10.0192 8.19532C9.9806 8.00134 10.0004 7.80027 10.0761 7.61755C10.1518 7.43482 10.28 7.27864 10.4444 7.16876C10.6089 7.05888 10.8022 7.00023 11 7.00023C11.2652 7.00023 11.5195 7.10559 11.7071 7.29312C11.8946 7.48066 12 7.73501 12 8.00023Z" fill="url(#paint4_linear_208_15)"/>
    <path d="M52 8.00023C52 7.40689 51.824 6.82687 51.4944 6.33352C51.1647 5.84017 50.6962 5.45566 50.148 5.22859C49.5998 5.00153 48.9966 4.94212 48.4147 5.05788C47.8328 5.17363 47.2982 5.45935 46.8787 5.87891C46.4591 6.29847 46.1734 6.83302 46.0576 7.41496C45.9419 7.9969 46.0013 8.6001 46.2283 9.14828C46.4554 9.69646 46.8399 10.165 47.3333 10.4946C47.8266 10.8243 48.4066 11.0002 49 11.0002C49.7956 11.0002 50.5587 10.6842 51.1213 10.1216C51.6839 9.55894 52 8.79588 52 8.00023ZM48 8.00023C48 7.80245 48.0586 7.60911 48.1685 7.44466C48.2784 7.28021 48.4346 7.15204 48.6173 7.07635C48.8 7.00066 49.0011 6.98086 49.1951 7.01945C49.389 7.05803 49.5672 7.15327 49.7071 7.29312C49.8469 7.43298 49.9422 7.61116 49.9808 7.80514C50.0193 7.99912 49.9995 8.20019 49.9239 8.38291C49.8482 8.56564 49.72 8.72182 49.5555 8.8317C49.3911 8.94158 49.1978 9.00023 49 9.00023C48.7348 9.00023 48.4804 8.89487 48.2929 8.70734C48.1053 8.5198 48 8.26545 48 8.00023Z" fill="url(#paint5_linear_208_15)"/>
    <path d="M11 49.0002C10.4066 49.0002 9.82661 49.1762 9.33326 49.5058C8.83992 49.8355 8.4554 50.304 8.22833 50.8522C8.00127 51.4004 7.94186 52.0036 8.05762 52.5855C8.17337 53.1674 8.4591 53.702 8.87865 54.1215C9.29821 54.5411 9.83276 54.8268 10.4147 54.9426C10.9966 55.0583 11.5998 54.9989 12.148 54.7719C12.6962 54.5448 13.1647 54.1603 13.4944 53.6669C13.824 53.1736 14 52.5936 14 52.0002C14 51.2046 13.6839 50.4415 13.1213 49.8789C12.5587 49.3163 11.7956 49.0002 11 49.0002ZM11 53.0002C10.8022 53.0002 10.6089 52.9416 10.4444 52.8317C10.28 52.7218 10.1518 52.5656 10.0761 52.3829C10.0004 52.2002 9.9806 51.9991 10.0192 51.8051C10.0578 51.6112 10.153 51.433 10.2929 51.2931C10.4327 51.1533 10.6109 51.058 10.8049 51.0194C10.9989 50.9809 11.1999 51.0007 11.3827 51.0764C11.5654 51.152 11.7216 51.2802 11.8314 51.4447C11.9413 51.6091 12 51.8024 12 52.0002C12 52.2654 11.8946 52.5198 11.7071 52.7073C11.5195 52.8949 11.2652 53.0002 11 53.0002Z" fill="url(#paint6_linear_208_15)"/>
    <path d="M49 49.0002C48.4066 49.0002 47.8266 49.1762 47.3333 49.5058C46.8399 49.8355 46.4554 50.304 46.2283 50.8522C46.0013 51.4004 45.9419 52.0036 46.0576 52.5855C46.1734 53.1674 46.4591 53.702 46.8787 54.1215C47.2982 54.5411 47.8328 54.8268 48.4147 54.9426C48.9966 55.0583 49.5998 54.9989 50.148 54.7719C50.6962 54.5448 51.1647 54.1603 51.4944 53.6669C51.824 53.1736 52 52.5936 52 52.0002C52 51.2046 51.6839 50.4415 51.1213 49.8789C50.5587 49.3163 49.7956 49.0002 49 49.0002ZM49 53.0002C48.8022 53.0002 48.6089 52.9416 48.4444 52.8317C48.28 52.7218 48.1518 52.5656 48.0761 52.3829C48.0004 52.2002 47.9806 51.9991 48.0192 51.8051C48.0578 51.6112 48.153 51.433 48.2929 51.2931C48.4327 51.1533 48.6109 51.058 48.8049 51.0194C48.9989 50.9809 49.1999 51.0007 49.3827 51.0764C49.5654 51.152 49.7216 51.2802 49.8314 51.4447C49.9413 51.6091 50 51.8024 50 52.0002C50 52.2654 49.8946 52.5198 49.7071 52.7073C49.5195 52.8949 49.2652 53.0002 49 53.0002Z" fill="url(#paint7_linear_208_15)"/>
    <path d="M49 22.0002V14.0002C49 10.0502 37.06 9.00023 30 9.00023C22.94 9.00023 11 10.0502 11 14.0002V22.0002C11.0266 22.4098 11.1537 22.8064 11.3699 23.1553C11.5862 23.5041 11.885 23.7943 12.24 24.0002C11.8873 24.2089 11.5903 24.4997 11.3744 24.848C11.1585 25.1962 11.03 25.5916 11 26.0002V34.0002C11.0266 34.4098 11.1537 34.8064 11.3699 35.1553C11.5862 35.5041 11.885 35.7943 12.24 36.0002C11.8873 36.2089 11.5903 36.4997 11.3744 36.848C11.1585 37.1962 11.03 37.5916 11 38.0002V46.0002C11 50.0002 22.94 51.0002 30 51.0002C37.06 51.0002 49 50.0002 49 46.0002V38.0002C48.9699 37.5916 48.8415 37.1962 48.6256 36.848C48.4096 36.4997 48.1127 36.2089 47.76 36.0002C48.1149 35.7943 48.4137 35.5041 48.63 35.1553C48.8463 34.8064 48.9733 34.4098 49 34.0002V26.0002C48.9699 25.5916 48.8415 25.1962 48.6256 24.848C48.4096 24.4997 48.1127 24.2089 47.76 24.0002C48.1149 23.7943 48.4137 23.5041 48.63 23.1553C48.8463 22.8064 48.9733 22.4098 49 22.0002ZM13 16.4602C16.7 18.4102 24.72 19.0002 30 19.0002C35.28 19.0002 43.3 18.4102 47 16.4602V22.0002C46.69 23.0502 40.6 25.0002 30 25.0002C19.4 25.0002 13.31 23.0002 13 22.0002V16.4602ZM30 11.0002C40.55 11.0002 46.64 12.9402 47 14.0002C46.64 15.0602 40.55 17.0002 30 17.0002C19.45 17.0002 13.31 15.0002 13 14.0002C13.31 13.0002 19.41 11.0002 30 11.0002ZM13 28.4602C16.7 30.4102 24.72 31.0002 30 31.0002C35.28 31.0002 43.3 30.4102 47 28.4602V34.0002C46.69 35.0002 40.6 37.0002 30 37.0002C19.4 37.0002 13.31 35.0002 13 34.0002V28.4602ZM30 49.0002C19.4 49.0002 13.31 47.0002 13 46.0002V40.4602C16.7 42.4102 24.72 43.0002 30 43.0002C35.28 43.0002 43.3 42.4102 47 40.4602V46.0002C46.69 47.0002 40.6 49.0002 30 49.0002ZM47 38.0002C46.7 39.0602 40.6 41.0002 30 41.0002C19.4 41.0002 13.31 39.0002 13 38.0002C13 38.0002 13.2 37.5802 14.44 37.0602C18.51 38.5402 25.33 39.0002 30 39.0002C34.67 39.0002 41.49 38.5402 45.56 37.0802C46.79 37.6002 47 38.0002 47 38.0002ZM47 26.0002C46.7 27.0602 40.6 29.0002 30 29.0002C19.4 29.0002 13.31 27.0002 13 26.0002C13 26.0002 13.2 25.5802 14.44 25.0602C18.51 26.5402 25.33 27.0002 30 27.0002C34.67 27.0002 41.49 26.5402 45.56 25.0802C46.79 25.6002 47 26.0002 47 26.0002Z" fill="url(#paint8_linear_208_15)"/>
    <path d="M31 21.0002H29V23.0002H31V21.0002Z" fill="url(#paint9_linear_208_15)"/>
    <path d="M31 33.0002H29V35.0002H31V33.0002Z" fill="url(#paint10_linear_208_15)"/>
    <path d="M31 45.0002H29V47.0002H31V45.0002Z" fill="url(#paint11_linear_208_15)"/>
    <defs>
        <linearGradient id="paint0_linear_208_15" x1="30" y1="0.0195312" x2="30" y2="59.9809" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
        <linearGradient id="paint1_linear_208_15" x1="30" y1="0.0195312" x2="30" y2="59.9809" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
        <linearGradient id="paint2_linear_208_15" x1="30" y1="0.0195312" x2="30" y2="59.9809" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
        <linearGradient id="paint3_linear_208_15" x1="30" y1="0.0195312" x2="30" y2="59.9809" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
        <linearGradient id="paint4_linear_208_15" x1="30" y1="0.0195312" x2="30" y2="59.9809" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
        <linearGradient id="paint5_linear_208_15" x1="30" y1="0.0195312" x2="30" y2="59.9809" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
        <linearGradient id="paint6_linear_208_15" x1="30" y1="0.0195312" x2="30" y2="59.9809" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
        <linearGradient id="paint7_linear_208_15" x1="30" y1="0.0195312" x2="30" y2="59.9809" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
        <linearGradient id="paint8_linear_208_15" x1="30" y1="0.0195312" x2="30" y2="59.9809" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
        <linearGradient id="paint9_linear_208_15" x1="30" y1="0.0195312" x2="30" y2="59.9809" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
        <linearGradient id="paint10_linear_208_15" x1="30" y1="0.0195312" x2="30" y2="59.9809" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
        <linearGradient id="paint11_linear_208_15" x1="30" y1="0.0195312" x2="30" y2="59.9809" gradientUnits="userSpaceOnUse">
            <stop stop-color="#8BE9FD"/>
            <stop offset="1" stop-color="#3EA0B4"/>
        </linearGradient>
    </defs>
</svg>
`,isTableMetric:!0,querySupportsRollingAppend:!0,getQuery:({tableId:e,sampleBySeconds:t,from:n,to:r})=>t===1?`select
            created created
            , count() commit_rate
          from ${Zs.WAL}
          where ${e?`tableId = ${e} and `:""}
          event = 103
          sample by 1s
          FROM timestamp_floor('${t}s', '${n}')
             TO timestamp_floor('${t}s', '${r}')
          fill(0)`:`select created, max(commit_rate) commit_rate from (
        select
          created created
          , count() commit_rate
        from ${Zs.WAL}
        where ${e?`tableId = ${e} and `:""}
        event = 103
        sample by 1s FROM timestamp_floor('1s', '${n}') TO timestamp_floor('1s', '${r}') fill(0)
        ) sample by ${t}s`,alignData:e=>{const t=e;return[t.map(n=>Date.parse(n.created)),t.map(n=>i1(n.commit_rate))]},mapYValue:e=>Rte(e)},_Oe={distribution:1,label:"Average Transaction Size",chartTitle:"Average Transaction Size (rows/txn)",getDescription:()=>v.jsxs(v.Fragment,{children:["This chart tracks the mean size of transactions processed through the database API. While the database is optimized for both small and large transactions, larger batch sizes generally lead to better database performance. Monitor this metric to understand your API's transaction patterns and identify opportunities for batch size optimization. Key aspects to observe:",v.jsxs("ul",{children:[v.jsx("li",{children:"Transaction size trends and variations"}),v.jsx("li",{children:"Any unusually small transactions that could be batched"}),v.jsx("li",{children:"Consistency of batch sizes across time periods"})]})]}),icon:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 24">
  <defs>
    <linearGradient id="dbGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#A5F3F9;stop-opacity:1" />
      <stop offset="12.5%" style="stop-color:#9AEEF4;stop-opacity:1" />
      <stop offset="25%" style="stop-color:#8FE7EF;stop-opacity:1" />
      <stop offset="37.5%" style="stop-color:#84E4EC;stop-opacity:1" />
      <stop offset="50%" style="stop-color:#77E1E9;stop-opacity:1" />
      <stop offset="62.5%" style="stop-color:#6FDCE6;stop-opacity:1" />
      <stop offset="75%" style="stop-color:#65D8E0;stop-opacity:1" />
      <stop offset="87.5%" style="stop-color:#61D4DC;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#5CCFD7;stop-opacity:1" />
    </linearGradient>
  </defs>

  <!-- Main database outline -->
  <path d="M4 5c0 1.38 2.69 2.5 6 2.5s6-1.12 6-2.5-2.69-2.5-6-2.5-6 1.12-6 2.5v12c0 1.38 2.69 2.5 6 2.5s6-1.12 6-2.5v-12" fill="none" stroke="url(#dbGradient)" stroke-width="1.5"/>
  
  <!-- Concentric lines for database layers -->
  <path d="M4 9c0 1.38 2.69 2.5 6 2.5s6-1.12 6-2.5" fill="none" stroke="url(#dbGradient)" stroke-width="1.5"/>
  <path d="M4 13c0 1.38 2.69 2.5 6 2.5s6-1.12 6-2.5" fill="none" stroke="url(#dbGradient)" stroke-width="1.5"/>
  
  <!-- Arrow -->
  <path d="M22 8l2-2l2 2M22 16l2 2l2-2M24 6v12" fill="none" stroke="url(#dbGradient)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>`,isTableMetric:!0,querySupportsRollingAppend:!0,getQuery:({tableId:e,sampleBySeconds:t,from:n,to:r})=>`
      select
           created,
           avg(rowCount) avg_rows,
      from sys.telemetry_wal
      where ${e?`tableId = ${e} `:""}
           and event = 105
      sample by ${t}s FROM timestamp_floor('${t}s', '${n}') TO timestamp_floor('${t}s', '${r}') fill(0)
    `,alignData:e=>{const t=e;return[t.map(n=>new Date(n.created).getTime()),t.map(n=>n.avg_rows?i1(n.avg_rows):1)]},mapYValue:e=>e},mx={[Np.WAL_TRANSACTION_THROUGHPUT]:xOe,[Np.WAL_TRANSACTION_LATENCY]:vOe,[Np.WAL_ROW_THROUGHPUT]:wOe,[Np.TABLE_WRITE_AMPLIFICATION]:bOe,[Np.TABLE_AVERAGE_TRANSACTION_SIZE]:_Oe},EOe=U(pr.Description).withConfig({displayName:"add-metric-dialog__StyledDescription"})([`
  display: grid;
  gap: 2rem;
`]),SOe=U.div.withConfig({displayName:"add-metric-dialog__Metrics"})([`
  display: grid;
  gap: 2rem;
  grid-template-columns: repeat(2, 1fr);
`]),COe=U(tt).attrs({flexDirection:"column",gap:"0"}).withConfig({displayName:"add-metric-dialog__Metric"})([`
  border-radius: 0.4rem;
  cursor: pointer;
  border: 1px solid transparent;
  padding-bottom: 2rem;
  background: `,`;

  &:hover {
    border-color: `,`;
  }
`],({theme:e})=>e.color.backgroundLighter,({theme:e})=>e.color.comment),TOe=U(tt).attrs({align:"center",justifyContent:"center"}).withConfig({displayName:"add-metric-dialog__Image"})([`
  width: 100%;
  height: 10rem;
`]),AOe=({open:e,onOpenChange:t})=>{var u;const{activeBuffer:n,buffers:r,updateBuffer:i}=Ys(),o=r.find(d=>d.id===(n==null?void 0:n.id)),a=((u=o==null?void 0:o.metricsViewState)==null?void 0:u.metrics)??[],s=a.length>0?a[a.length-1]:void 0,l=s?hOe(a.map(d=>d.color),s.color):fOe,c=async d=>{var f,p,g;if(o!=null&&o.id){const h=cOe(o,{metricsViewState:{metrics:[...((f=o.metricsViewState)==null?void 0:f.metrics)??[],{metricType:d,position:((g=(p=o.metricsViewState)==null?void 0:p.metrics)==null?void 0:g.length)??0,color:l}]}});await i(o.id,h),t(!1)}};return v.jsxs(pr.Root,{open:e,children:[v.jsx(pr.Trigger,{asChild:!0,children:v.jsx(eo,{children:v.jsx(vn,{skin:"secondary",prefixIcon:v.jsx(o1,{size:"18px"}),onClick:()=>t(!e),children:"Add widget"})})}),v.jsxs(pr.Portal,{children:[v.jsx(eo,{children:v.jsx(Zl,{primitive:pr.Overlay})}),v.jsxs(pr.Content,{onEscapeKeyDown:()=>t(!1),onInteractOutside:()=>t(!1),children:[v.jsx(pr.Title,{children:v.jsxs(tt,{children:[v.jsx(o1,{size:22}),"Add widget"]})}),v.jsx(EOe,{children:v.jsx(SOe,{children:Object.entries(mx).map(([d,f])=>v.jsxs(COe,{onClick:()=>c(d),children:[v.jsx(TOe,{children:v.jsx("svg",{width:"64",height:"64",dangerouslySetInnerHTML:{__html:f.icon}})}),v.jsx(st,{color:"foreground",weight:600,children:f.label})]},d))})})]})]})]})};var MO={exports:{}};const IOe=!0,ta="u-",OOe="uplot",kOe=ta+"hz",NOe=ta+"vt",ROe=ta+"title",jOe=ta+"wrap",LOe=ta+"under",MOe=ta+"over",POe=ta+"axis",Df=ta+"off",DOe=ta+"select",FOe=ta+"cursor-x",UOe=ta+"cursor-y",zOe=ta+"cursor-pt",BOe=ta+"legend",$Oe=ta+"live",HOe=ta+"inline",VOe=ta+"series",qOe=ta+"marker",Fte=ta+"label",WOe=ta+"value",a1="width",s1="height",l1="top",Ute="bottom",Rp="left",PO="right",DO="#000",zte=DO+"0",FO="mousemove",Bte="mousedown",UO="mouseup",$te="mouseenter",Hte="mouseleave",Vte="dblclick",GOe="resize",KOe="scroll",qte="change",gx="dppxchange",zO="--",jp=typeof window<"u",BO=jp?document:null,Lp=jp?window:null,XOe=jp?navigator:null;let yi,yx;function $O(){let e=devicePixelRatio;yi!=e&&(yi=e,yx&&qO(qte,yx,$O),yx=matchMedia(`(min-resolution: ${yi-.001}dppx) and (max-resolution: ${yi+.001}dppx)`),Ff(qte,yx,$O),Lp.dispatchEvent(new CustomEvent(gx)))}function Bs(e,t){if(t!=null){let n=e.classList;!n.contains(t)&&n.add(t)}}function HO(e,t){let n=e.classList;n.contains(t)&&n.remove(t)}function lo(e,t,n){e.style[t]=n+"px"}function ql(e,t,n,r){let i=BO.createElement(e);return t!=null&&Bs(i,t),n==null||n.insertBefore(i,r),i}function fl(e,t){return ql("div",e,t)}const Wte=new WeakMap;function Fc(e,t,n,r,i){let o="translate("+t+"px,"+n+"px)",a=Wte.get(e);o!=a&&(e.style.transform=o,Wte.set(e,o),t<0||n<0||t>r||n>i?Bs(e,Df):HO(e,Df))}const Gte=new WeakMap;function Kte(e,t,n){let r=t+n,i=Gte.get(e);r!=i&&(Gte.set(e,r),e.style.background=t,e.style.borderColor=n)}const Xte=new WeakMap;function Yte(e,t,n,r){let i=t+""+n,o=Xte.get(e);i!=o&&(Xte.set(e,i),e.style.height=n+"px",e.style.width=t+"px",e.style.marginLeft=r?-t/2+"px":0,e.style.marginTop=r?-n/2+"px":0)}const VO={passive:!0},YOe={...VO,capture:!0};function Ff(e,t,n,r){t.addEventListener(e,n,r?YOe:VO)}function qO(e,t,n,r){t.removeEventListener(e,n,VO)}jp&&$O();function Wl(e,t,n,r){let i;n=n||0,r=r||t.length-1;let o=r<=2147483647;for(;r-n>1;)i=o?n+r>>1:Hs((n+r)/2),t[i]<e?n=i:r=i;return e-t[n]<=t[r]-e?n:r}function Qte(e){return(t,n,r)=>{let i=-1,o=-1;for(let a=n;a<=r;a++)if(e(t[a])){i=a;break}for(let a=r;a>=n;a--)if(e(t[a])){o=a;break}return[i,o]}}const Jte=e=>e!=null,Zte=e=>e!=null&&e>0,vx=Qte(Jte),QOe=Qte(Zte);function JOe(e,t,n,r=0,i=!1){let o=i?QOe:vx,a=i?Zte:Jte;[t,n]=o(e,t,n);let s=e[t],l=e[t];if(t>-1)if(r==1)s=e[t],l=e[n];else if(r==-1)s=e[n],l=e[t];else for(let c=t;c<=n;c++){let u=e[c];a(u)&&(u<s?s=u:u>l&&(l=u))}return[s??zi,l??-zi]}function bx(e,t,n,r){let i=nne(e),o=nne(t);e==t&&(i==-1?(e*=n,t/=n):(e/=n,t*=n));let a=n==10?Eu:rne,s=i==1?Hs:hl,l=o==1?hl:Hs,c=s(a(na(e))),u=l(a(na(t))),d=Mp(n,c),f=Mp(n,u);return n==10&&(c<0&&(d=Bi(d,-c)),u<0&&(f=Bi(f,-u))),r||n==2?(e=d*i,t=f*o):(e=une(e,d),t=_x(t,f)),[e,t]}function WO(e,t,n,r){let i=bx(e,t,n,r);return e==0&&(i[0]=0),t==0&&(i[1]=0),i}const GO=.1,ene={mode:3,pad:GO},c1={pad:0,soft:null,mode:0},ZOe={min:c1,max:c1};function wx(e,t,n,r){return Ex(n)?tne(e,t,n):(c1.pad=n,c1.soft=r?0:null,c1.mode=r?3:0,tne(e,t,ZOe))}function di(e,t){return e??t}function eke(e,t,n){for(t=di(t,0),n=di(n,e.length-1);t<=n;){if(e[t]!=null)return!0;t++}return!1}function tne(e,t,n){let r=n.min,i=n.max,o=di(r.pad,0),a=di(i.pad,0),s=di(r.hard,-zi),l=di(i.hard,zi),c=di(r.soft,zi),u=di(i.soft,-zi),d=di(r.mode,0),f=di(i.mode,0),p=t-e,g=Eu(p),h=os(na(e),na(t)),y=Eu(h),b=na(y-g);(p<10000000000000001e-40||b>10)&&(p=0,(e==0||t==0)&&(p=10000000000000001e-40,d==2&&c!=zi&&(o=0),f==2&&u!=-zi&&(a=0)));let w=p||h||1e3,S=Eu(w),E=Mp(10,Hs(S)),_=w*(p==0?e==0?.1:1:o),m=Bi(une(e-_,E/10),24),C=e>=c&&(d==1||d==3&&m<=c||d==2&&m>=c)?c:zi,T=os(s,m<C&&e>=C?C:Gl(C,m)),O=w*(p==0?t==0?.1:1:a),R=Bi(_x(t+O,E/10),24),j=t<=u&&(f==1||f==3&&R>=u||f==2&&R<=u)?u:-zi,D=Gl(l,R>j&&t<=j?j:os(j,R));return T==D&&T==0&&(D=100),[T,D]}const tke=new Intl.NumberFormat(jp?XOe.language:"en-US"),KO=e=>tke.format(e),$s=Math,xx=$s.PI,na=$s.abs,Hs=$s.floor,ra=$s.round,hl=$s.ceil,Gl=$s.min,os=$s.max,Mp=$s.pow,nne=$s.sign,Eu=$s.log10,rne=$s.log2,nke=(e,t=1)=>$s.sinh(e)*t,XO=(e,t=1)=>$s.asinh(e/t),zi=1/0;function ine(e){return(Eu((e^e>>31)-(e>>31))|0)+1}function YO(e,t,n){return Gl(os(e,t),n)}function one(e){return typeof e=="function"}function qr(e){return one(e)?e:()=>e}const rke=()=>{},ane=e=>e,sne=(e,t)=>t,ike=e=>null,lne=e=>!0,cne=(e,t)=>e==t,oke=/\.\d*?(?=9{6,}|0{6,})/gm,Uf=e=>{if(fne(e)||gd.has(e))return e;const t=`${e}`,n=t.match(oke);if(n==null)return e;let r=n[0].length-1;if(t.indexOf("e-")!=-1){let[i,o]=t.split("e");return+`${Uf(i)}e${o}`}return Bi(e,r)};function zf(e,t){return Uf(Bi(Uf(e/t))*t)}function _x(e,t){return Uf(hl(Uf(e/t))*t)}function une(e,t){return Uf(Hs(Uf(e/t))*t)}function Bi(e,t=0){if(fne(e))return e;let n=10**t,r=e*n*(1+Number.EPSILON);return ra(r)/n}const gd=new Map;function dne(e){return((""+e).split(".")[1]||"").length}function u1(e,t,n,r){let i=[],o=r.map(dne);for(let a=t;a<n;a++){let s=na(a),l=Bi(Mp(e,a),s);for(let c=0;c<r.length;c++){let u=e==10?+`${r[c]}e${a}`:r[c]*l,d=(a>=0?0:s)+(a>=o[c]?0:o[c]),f=e==10?u:Bi(u,d);i.push(f),gd.set(f,d)}}return i}const d1={},QO=[],Pp=[null,null],yd=Array.isArray,fne=Number.isInteger,ake=e=>e===void 0;function hne(e){return typeof e=="string"}function Ex(e){let t=!1;if(e!=null){let n=e.constructor;t=n==null||n==Object}return t}function ske(e){return e!=null&&typeof e=="object"}const lke=Object.getPrototypeOf(Uint8Array),pne="__proto__";function Dp(e,t=Ex){let n;if(yd(e)){let r=e.find(i=>i!=null);if(yd(r)||t(r)){n=Array(e.length);for(let i=0;i<e.length;i++)n[i]=Dp(e[i],t)}else n=e.slice()}else if(e instanceof lke)n=e.slice();else if(t(e)){n={};for(let r in e)r!=pne&&(n[r]=Dp(e[r],t))}else n=e;return n}function Wo(e){let t=arguments;for(let n=1;n<t.length;n++){let r=t[n];for(let i in r)i!=pne&&(Ex(e[i])?Wo(e[i],Dp(r[i])):e[i]=Dp(r[i]))}return e}const cke=0,uke=1,dke=2;function fke(e,t,n){for(let r=0,i,o=-1;r<t.length;r++){let a=t[r];if(a>o){for(i=a-1;i>=0&&e[i]==null;)e[i--]=null;for(i=a+1;i<n&&e[i]==null;)e[o=i++]=null}}}function hke(e,t){if(gke(e)){let a=e[0].slice();for(let s=1;s<e.length;s++)a.push(...e[s].slice(1));return yke(a[0])||(a=mke(a)),a}let n=new Set;for(let a=0;a<e.length;a++){let s=e[a][0],l=s.length;for(let c=0;c<l;c++)n.add(s[c])}let r=[Array.from(n).sort((a,s)=>a-s)],i=r[0].length,o=new Map;for(let a=0;a<i;a++)o.set(r[0][a],a);for(let a=0;a<e.length;a++){let s=e[a],l=s[0];for(let c=1;c<s.length;c++){let u=s[c],d=Array(i).fill(void 0),f=t?t[a][c]:uke,p=[];for(let g=0;g<u.length;g++){let h=u[g],y=o.get(l[g]);h===null?f!=cke&&(d[y]=h,f==dke&&p.push(y)):d[y]=h}fke(d,p,i),r.push(d)}}return r}const pke=typeof queueMicrotask>"u"?e=>Promise.resolve().then(e):queueMicrotask;function mke(e){let t=e[0],n=t.length,r=Array(n);for(let o=0;o<r.length;o++)r[o]=o;r.sort((o,a)=>t[o]-t[a]);let i=[];for(let o=0;o<e.length;o++){let a=e[o],s=Array(n);for(let l=0;l<n;l++)s[l]=a[r[l]];i.push(s)}return i}function gke(e){let t=e[0][0],n=t.length;for(let r=1;r<e.length;r++){let i=e[r][0];if(i.length!=n)return!1;if(i!=t){for(let o=0;o<n;o++)if(i[o]!=t[o])return!1}}return!0}function yke(e,t=100){const n=e.length;if(n<=1)return!0;let r=0,i=n-1;for(;r<=i&&e[r]==null;)r++;for(;i>=r&&e[i]==null;)i--;if(i<=r)return!0;const o=os(1,Hs((i-r+1)/t));for(let a=e[r],s=r+o;s<=i;s+=o){const l=e[s];if(l!=null){if(l<=a)return!1;a=l}}return!0}const mne=["January","February","March","April","May","June","July","August","September","October","November","December"],gne=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function yne(e){return e.slice(0,3)}const vke=gne.map(yne),bke=mne.map(yne),wke={MMMM:mne,MMM:bke,WWWW:gne,WWW:vke};function f1(e){return(e<10?"0":"")+e}function xke(e){return(e<10?"00":e<100?"0":"")+e}const _ke={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,t)=>t.MMMM[e.getMonth()],MMM:(e,t)=>t.MMM[e.getMonth()],MM:e=>f1(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>f1(e.getDate()),D:e=>e.getDate(),WWWW:(e,t)=>t.WWWW[e.getDay()],WWW:(e,t)=>t.WWW[e.getDay()],HH:e=>f1(e.getHours()),H:e=>e.getHours(),h:e=>{let t=e.getHours();return t==0?12:t>12?t-12:t},AA:e=>e.getHours()>=12?"PM":"AM",aa:e=>e.getHours()>=12?"pm":"am",a:e=>e.getHours()>=12?"p":"a",mm:e=>f1(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>f1(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>xke(e.getMilliseconds())};function JO(e,t){t=t||wke;let n=[],r=/\{([a-z]+)\}|[^{]+/gi,i;for(;i=r.exec(e);)n.push(i[0][0]=="{"?_ke[i[1]]:i[0]);return o=>{let a="";for(let s=0;s<n.length;s++)a+=typeof n[s]=="string"?n[s]:n[s](o,t);return a}}const Eke=new Intl.DateTimeFormat().resolvedOptions().timeZone;function Ske(e,t){let n;return t=="UTC"||t=="Etc/UTC"?n=new Date(+e+e.getTimezoneOffset()*6e4):t==Eke?n=e:(n=new Date(e.toLocaleString("en-US",{timeZone:t})),n.setMilliseconds(e.getMilliseconds())),n}const vne=e=>e%1==0,Sx=[1,2,2.5,5],Cke=u1(10,-32,0,Sx),bne=u1(10,0,32,Sx),Tke=bne.filter(vne),Bf=Cke.concat(bne),ZO=`
`,wne="{YYYY}",xne=ZO+wne,_ne="{M}/{D}",h1=ZO+_ne,Cx=h1+"/{YY}",Ene="{aa}",Ake="{h}:{mm}",Fp=Ake+Ene,Sne=ZO+Fp,Cne=":{ss}",Ci=null;function Tne(e){let t=e*1e3,n=t*60,r=n*60,i=r*24,o=i*30,a=i*365,s=(e==1?u1(10,0,3,Sx).filter(vne):u1(10,-3,0,Sx)).concat([t,t*5,t*10,t*15,t*30,n,n*5,n*10,n*15,n*30,r,r*2,r*3,r*4,r*6,r*8,r*12,i,i*2,i*3,i*4,i*5,i*6,i*7,i*8,i*9,i*10,i*15,o,o*2,o*3,o*4,o*6,a,a*2,a*5,a*10,a*25,a*50,a*100]);const l=[[a,wne,Ci,Ci,Ci,Ci,Ci,Ci,1],[i*28,"{MMM}",xne,Ci,Ci,Ci,Ci,Ci,1],[i,_ne,xne,Ci,Ci,Ci,Ci,Ci,1],[r,"{h}"+Ene,Cx,Ci,h1,Ci,Ci,Ci,1],[n,Fp,Cx,Ci,h1,Ci,Ci,Ci,1],[t,Cne,Cx+" "+Fp,Ci,h1+" "+Fp,Ci,Sne,Ci,1],[e,Cne+".{fff}",Cx+" "+Fp,Ci,h1+" "+Fp,Ci,Sne,Ci,1]];function c(u){return(d,f,p,g,h,y)=>{let b=[],w=h>=a,S=h>=o&&h<a,E=u(p),_=Bi(E*e,3),m=ek(E.getFullYear(),w?0:E.getMonth(),S||w?1:E.getDate()),C=Bi(m*e,3);if(S||w){let T=S?h/o:0,O=w?h/a:0,R=_==C?_:Bi(ek(m.getFullYear()+O,m.getMonth()+T,1)*e,3),j=new Date(ra(R/e)),D=j.getFullYear(),L=j.getMonth();for(let V=0;R<=g;V++){let z=ek(D+O*V,L+T*V,1),B=z-u(Bi(z*e,3));R=Bi((+z+B)*e,3),R<=g&&b.push(R)}}else{let T=h>=i?i:h,O=Hs(p)-Hs(_),R=C+O+_x(_-C,T);b.push(R);let j=u(R),D=j.getHours()+j.getMinutes()/n+j.getSeconds()/r,L=h/r,V=d.axes[f]._space,z=y/V;for(;R=Bi(R+h,e==1?0:3),!(R>g);)if(L>1){let B=Hs(Bi(D+L,6))%24,H=u(R).getHours()-B;H>1&&(H=-1),R-=H*r,D=(D+L)%24;let J=b[b.length-1];Bi((R-J)/h,3)*z>=.7&&b.push(R)}else b.push(R)}return b}}return[s,l,c]}const[Ike,Oke,kke]=Tne(1),[Nke,Rke,jke]=Tne(.001);u1(2,-53,53,[1]);function Ane(e,t){return e.map(n=>n.map((r,i)=>i==0||i==8||r==null?r:t(i==1||n[8]==0?r:n[1]+r)))}function Ine(e,t){return(n,r,i,o,a)=>{let s=t.find(g=>a>=g[0])||t[t.length-1],l,c,u,d,f,p;return r.map(g=>{let h=e(g),y=h.getFullYear(),b=h.getMonth(),w=h.getDate(),S=h.getHours(),E=h.getMinutes(),_=h.getSeconds(),m=y!=l&&s[2]||b!=c&&s[3]||w!=u&&s[4]||S!=d&&s[5]||E!=f&&s[6]||_!=p&&s[7]||s[1];return l=y,c=b,u=w,d=S,f=E,p=_,m(h)})}}function Lke(e,t){let n=JO(t);return(r,i,o,a,s)=>i.map(l=>n(e(l)))}function ek(e,t,n){return new Date(e,t,n)}function One(e,t){return t(e)}const Mke="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function kne(e,t){return(n,r,i,o)=>o==null?zO:t(e(r))}function Pke(e,t){let n=e.series[t];return n.width?n.stroke(e,t):n.points.width?n.points.stroke(e,t):null}function Dke(e,t){return e.series[t].fill(e,t)}const Fke={show:!0,live:!0,isolate:!1,mount:rke,markers:{show:!0,width:2,stroke:Pke,fill:Dke,dash:"solid"},idx:null,idxs:null,values:[]};function Uke(e,t){let n=e.cursor.points,r=fl(),i=n.size(e,t);lo(r,a1,i),lo(r,s1,i);let o=i/-2;lo(r,"marginLeft",o),lo(r,"marginTop",o);let a=n.width(e,t,i);return a&&lo(r,"borderWidth",a),r}function zke(e,t){let n=e.series[t].points;return n._fill||n._stroke}function Bke(e,t){let n=e.series[t].points;return n._stroke||n._fill}function $ke(e,t){return e.series[t].points.size}const tk=[0,0];function Hke(e,t,n){return tk[0]=t,tk[1]=n,tk}function Tx(e,t,n,r=!0){return i=>{i.button==0&&(!r||i.target==t)&&n(i)}}function nk(e,t,n,r=!0){return i=>{(!r||i.target==t)&&n(i)}}const Vke={show:!0,x:!0,y:!0,lock:!1,move:Hke,points:{one:!1,show:Uke,size:$ke,width:0,stroke:Bke,fill:zke},bind:{mousedown:Tx,mouseup:Tx,click:Tx,dblclick:Tx,mousemove:nk,mouseleave:nk,mouseenter:nk},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,t)=>{t.stopPropagation(),t.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(e,t,n,r,i)=>r-i,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},Nne={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},rk=Wo({},Nne,{filter:sne}),Rne=Wo({},rk,{size:10}),jne=Wo({},Nne,{show:!1}),ik='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',Lne="bold "+ik,Mne=1.5,Pne={show:!0,scale:"x",stroke:DO,space:50,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:Lne,side:2,grid:rk,ticks:Rne,border:jne,font:ik,lineGap:Mne,rotate:0},qke="Value",Wke="Time",Dne={show:!0,scale:"x",auto:!1,sorted:1,min:zi,max:-zi,idxs:[]};function Gke(e,t,n,r,i){return t.map(o=>o==null?"":KO(o))}function Kke(e,t,n,r,i,o,a){let s=[],l=gd.get(i)||0;n=a?n:Bi(_x(n,i),l);for(let c=n;c<=r;c=Bi(c+i,l))s.push(Object.is(c,-0)?0:c);return s}function ok(e,t,n,r,i,o,a){const s=[],l=e.scales[e.axes[t].scale].log,c=l==10?Eu:rne,u=Hs(c(n));i=Mp(l,u),l==10&&(i=Bf[Wl(i,Bf)]);let d=n,f=i*l;l==10&&(f=Bf[Wl(f,Bf)]);do s.push(d),d=d+i,l==10&&!gd.has(d)&&(d=Bi(d,gd.get(i))),d>=f&&(i=d,f=i*l,l==10&&(f=Bf[Wl(f,Bf)]));while(d<=r);return s}function Xke(e,t,n,r,i,o,a){let s=e.scales[e.axes[t].scale].asinh,l=r>s?ok(e,t,os(s,n),r,i):[s],c=r>=0&&n<=0?[0]:[];return(n<-s?ok(e,t,os(s,-r),-n,i):[s]).reverse().map(u=>-u).concat(c,l)}const Fne=/./,Yke=/[12357]/,Qke=/[125]/,Une=/1/,ak=(e,t,n,r)=>e.map((i,o)=>t==4&&i==0||o%r==0&&n.test(i.toExponential()[i<0?1:0])?i:null);function Jke(e,t,n,r,i){let o=e.axes[n],a=o.scale,s=e.scales[a],l=e.valToPos,c=o._space,u=l(10,a),d=l(9,a)-u>=c?Fne:l(7,a)-u>=c?Yke:l(5,a)-u>=c?Qke:Une;if(d==Une){let f=na(l(1,a)-u);if(f<c)return ak(t.slice().reverse(),s.distr,d,hl(c/f)).reverse()}return ak(t,s.distr,d,1)}function Zke(e,t,n,r,i){let o=e.axes[n],a=o.scale,s=o._space,l=e.valToPos,c=na(l(1,a)-l(2,a));return c<s?ak(t.slice().reverse(),3,Fne,hl(s/c)).reverse():t}function e3e(e,t,n,r){return r==null?zO:t==null?"":KO(t)}const zne={show:!0,scale:"y",stroke:DO,space:30,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:Lne,side:3,grid:rk,ticks:Rne,border:jne,font:ik,lineGap:Mne,rotate:0};function t3e(e,t){let n=3+(e||1)*2;return Bi(n*t,3)}function n3e(e,t){let{scale:n,idxs:r}=e.series[0],i=e._data[0],o=e.valToPos(i[r[0]],n,!0),a=e.valToPos(i[r[1]],n,!0),s=na(a-o),l=e.series[t],c=s/(l.points.space*yi);return r[1]-r[0]<=c}const Bne={scale:null,auto:!0,sorted:0,min:zi,max:-zi},$ne=(e,t,n,r,i)=>i,Hne={show:!0,auto:!0,sorted:0,gaps:$ne,alpha:1,facets:[Wo({},Bne,{scale:"x"}),Wo({},Bne,{scale:"y"})]},Vne={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:$ne,alpha:1,points:{show:n3e,filter:null},values:null,min:zi,max:-zi,idxs:[],path:null,clip:null};function r3e(e,t,n,r,i){return n/10}const qne={time:IOe,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},i3e=Wo({},qne,{time:!1,ori:1}),Wne={};function Gne(e,t){let n=Wne[e];return n||(n={key:e,plots:[],sub(r){n.plots.push(r)},unsub(r){n.plots=n.plots.filter(i=>i!=r)},pub(r,i,o,a,s,l,c){for(let u=0;u<n.plots.length;u++)n.plots[u]!=i&&n.plots[u].pub(r,i,o,a,s,l,c)}},e!=null&&(Wne[e]=n)),n}const Up=1,sk=2;function $f(e,t,n){const r=e.mode,i=e.series[t],o=r==2?e._data[t]:e._data,a=e.scales,s=e.bbox;let l=o[0],c=r==2?o[1]:o[t],u=r==2?a[i.facets[0].scale]:a[e.series[0].scale],d=r==2?a[i.facets[1].scale]:a[i.scale],f=s.left,p=s.top,g=s.width,h=s.height,y=e.valToPosH,b=e.valToPosV;return u.ori==0?n(i,l,c,u,d,y,b,f,p,g,h,Ix,zp,kx,Yne,Jne):n(i,l,c,u,d,b,y,p,f,h,g,Ox,Bp,uk,Qne,Zne)}function lk(e,t){let n=0,r=0,i=di(e.bands,QO);for(let o=0;o<i.length;o++){let a=i[o];a.series[0]==t?n=a.dir:a.series[1]==t&&(a.dir==1?r|=1:r|=2)}return[n,r==1?-1:r==2?1:r==3?2:0]}function o3e(e,t,n,r,i){let o=e.mode,a=e.series[t],s=o==2?a.facets[1].scale:a.scale,l=e.scales[s];return i==-1?l.min:i==1?l.max:l.distr==3?l.dir==1?l.min:l.max:0}function Su(e,t,n,r,i,o){return $f(e,t,(a,s,l,c,u,d,f,p,g,h,y)=>{let b=a.pxRound;const w=c.dir*(c.ori==0?1:-1),S=c.ori==0?zp:Bp;let E,_;w==1?(E=n,_=r):(E=r,_=n);let m=b(d(s[E],c,h,p)),C=b(f(l[E],u,y,g)),T=b(d(s[_],c,h,p)),O=b(f(o==1?u.max:u.min,u,y,g)),R=new Path2D(i);return S(R,T,O),S(R,m,O),S(R,m,C),R})}function Ax(e,t,n,r,i,o){let a=null;if(e.length>0){a=new Path2D;const s=t==0?kx:uk;let l=n;for(let d=0;d<e.length;d++){let f=e[d];if(f[1]>f[0]){let p=f[0]-l;p>0&&s(a,l,r,p,r+o),l=f[1]}}let c=n+i-l,u=10;c>0&&s(a,l,r-u/2,c,r+o+u)}return a}function a3e(e,t,n){let r=e[e.length-1];r&&r[0]==t?r[1]=n:e.push([t,n])}function ck(e,t,n,r,i,o,a){let s=[],l=e.length;for(let c=i==1?n:r;c>=n&&c<=r;c+=i)if(t[c]===null){let u=c,d=c;if(i==1)for(;++c<=r&&t[c]===null;)d=c;else for(;--c>=n&&t[c]===null;)d=c;let f=o(e[u]),p=d==u?f:o(e[d]),g=u-i;f=a<=0&&g>=0&&g<l?o(e[g]):f;let h=d+i;p=a>=0&&h>=0&&h<l?o(e[h]):p,p>=f&&s.push([f,p])}return s}function Kne(e){return e==0?ane:e==1?ra:t=>zf(t,e)}function Xne(e){let t=e==0?Ix:Ox,n=e==0?(i,o,a,s,l,c)=>{i.arcTo(o,a,s,l,c)}:(i,o,a,s,l,c)=>{i.arcTo(a,o,l,s,c)},r=e==0?(i,o,a,s,l)=>{i.rect(o,a,s,l)}:(i,o,a,s,l)=>{i.rect(a,o,l,s)};return(i,o,a,s,l,c=0,u=0)=>{c==0&&u==0?r(i,o,a,s,l):(c=Gl(c,s/2,l/2),u=Gl(u,s/2,l/2),t(i,o+c,a),n(i,o+s,a,o+s,a+l,c),n(i,o+s,a+l,o,a+l,u),n(i,o,a+l,o,a,u),n(i,o,a,o+s,a,c),i.closePath())}}const Ix=(e,t,n)=>{e.moveTo(t,n)},Ox=(e,t,n)=>{e.moveTo(n,t)},zp=(e,t,n)=>{e.lineTo(t,n)},Bp=(e,t,n)=>{e.lineTo(n,t)},kx=Xne(0),uk=Xne(1),Yne=(e,t,n,r,i,o)=>{e.arc(t,n,r,i,o)},Qne=(e,t,n,r,i,o)=>{e.arc(n,t,r,i,o)},Jne=(e,t,n,r,i,o,a)=>{e.bezierCurveTo(t,n,r,i,o,a)},Zne=(e,t,n,r,i,o,a)=>{e.bezierCurveTo(n,t,i,r,a,o)};function ere(e){return(t,n,r,i,o)=>$f(t,n,(a,s,l,c,u,d,f,p,g,h,y)=>{let{pxRound:b,points:w}=a,S,E;c.ori==0?(S=Ix,E=Yne):(S=Ox,E=Qne);const _=Bi(w.width*yi,3);let m=(w.size-w.width)/2*yi,C=Bi(m*2,3),T=new Path2D,O=new Path2D,{left:R,top:j,width:D,height:L}=t.bbox;kx(O,R-C,j-C,D+C*2,L+C*2);const V=z=>{if(l[z]!=null){let B=b(d(s[z],c,h,p)),H=b(f(l[z],u,y,g));S(T,B+m,H),E(T,B,H,m,0,xx*2)}};if(o)o.forEach(V);else for(let z=r;z<=i;z++)V(z);return{stroke:_>0?T:null,fill:T,clip:O,flags:Up|sk}})}function tre(e){return(t,n,r,i,o,a)=>{r!=i&&(o!=r&&a!=r&&e(t,n,r),o!=i&&a!=i&&e(t,n,i),e(t,n,a))}}const s3e=tre(zp),l3e=tre(Bp);function nre(e){const t=di(e==null?void 0:e.alignGaps,0);return(n,r,i,o)=>$f(n,r,(a,s,l,c,u,d,f,p,g,h,y)=>{[i,o]=vx(l,i,o);let b=a.pxRound,w=D=>b(d(D,c,h,p)),S=D=>b(f(D,u,y,g)),E,_;c.ori==0?(E=zp,_=s3e):(E=Bp,_=l3e);const m=c.dir*(c.ori==0?1:-1),C={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:Up},T=C.stroke;let O=!1;if(o-i>=h*4){let D=te=>n.posToVal(te,c.key,!0),L=null,V=null,z,B,H,J=w(s[m==1?i:o]),ne=w(s[i]),q=w(s[o]),ee=D(m==1?ne+1:q-1);for(let te=m==1?i:o;te>=i&&te<=o;te+=m){let $=s[te],ae=(m==1?$<ee:$>ee)?J:w($),ue=l[te];ae==J?ue!=null?(B=ue,L==null?(E(T,ae,S(B)),z=L=V=B):B<L?L=B:B>V&&(V=B)):ue===null&&(O=!0):(L!=null&&_(T,J,S(L),S(V),S(z),S(B)),ue!=null?(B=ue,E(T,ae,S(B)),L=V=z=B):(L=V=null,ue===null&&(O=!0)),J=ae,ee=D(J+m))}L!=null&&L!=V&&H!=J&&_(T,J,S(L),S(V),S(z),S(B))}else for(let D=m==1?i:o;D>=i&&D<=o;D+=m){let L=l[D];L===null?O=!0:L!=null&&E(T,w(s[D]),S(L))}let[R,j]=lk(n,r);if(a.fill!=null||R!=0){let D=C.fill=new Path2D(T),L=a.fillTo(n,r,a.min,a.max,R),V=S(L),z=w(s[i]),B=w(s[o]);m==-1&&([B,z]=[z,B]),E(D,B,V),E(D,z,V)}if(!a.spanGaps){let D=[];O&&D.push(...ck(s,l,i,o,m,w,t)),C.gaps=D=a.gaps(n,r,i,o,D),C.clip=Ax(D,c.ori,p,g,h,y)}return j!=0&&(C.band=j==2?[Su(n,r,i,o,T,-1),Su(n,r,i,o,T,1)]:Su(n,r,i,o,T,j)),C})}function c3e(e){const t=di(e.align,1),n=di(e.ascDesc,!1),r=di(e.alignGaps,0),i=di(e.extend,!1);return(o,a,s,l)=>$f(o,a,(c,u,d,f,p,g,h,y,b,w,S)=>{[s,l]=vx(d,s,l);let E=c.pxRound,{left:_,width:m}=o.bbox,C=q=>E(g(q,f,w,y)),T=q=>E(h(q,p,S,b)),O=f.ori==0?zp:Bp;const R={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:Up},j=R.stroke,D=f.dir*(f.ori==0?1:-1);let L=T(d[D==1?s:l]),V=C(u[D==1?s:l]),z=V,B=V;i&&t==-1&&(B=_,O(j,B,L)),O(j,V,L);for(let q=D==1?s:l;q>=s&&q<=l;q+=D){let ee=d[q];if(ee==null)continue;let te=C(u[q]),$=T(ee);t==1?O(j,te,L):O(j,z,$),O(j,te,$),L=$,z=te}let H=z;i&&t==1&&(H=_+m,O(j,H,L));let[J,ne]=lk(o,a);if(c.fill!=null||J!=0){let q=R.fill=new Path2D(j),ee=c.fillTo(o,a,c.min,c.max,J),te=T(ee);O(q,H,te),O(q,B,te)}if(!c.spanGaps){let q=[];q.push(...ck(u,d,s,l,D,C,r));let ee=c.width*yi/2,te=n||t==1?ee:-ee,$=n||t==-1?-ee:ee;q.forEach(ae=>{ae[0]+=te,ae[1]+=$}),R.gaps=q=c.gaps(o,a,s,l,q),R.clip=Ax(q,f.ori,y,b,w,S)}return ne!=0&&(R.band=ne==2?[Su(o,a,s,l,j,-1),Su(o,a,s,l,j,1)]:Su(o,a,s,l,j,ne)),R})}function rre(e,t,n,r,i,o,a=zi){if(e.length>1){let s=null;for(let l=0,c=1/0;l<e.length;l++)if(t[l]!==void 0){if(s!=null){let u=na(e[l]-e[s]);u<c&&(c=u,a=na(n(e[l],r,i,o)-n(e[s],r,i,o)))}s=l}}return a}function u3e(e){e=e||d1;const t=di(e.size,[.6,zi,1]),n=e.align||0,r=e.gap||0;let i=e.radius;i=i==null?[0,0]:typeof i=="number"?[i,0]:i;const o=qr(i),a=1-t[0],s=di(t[1],zi),l=di(t[2],1),c=di(e.disp,d1),u=di(e.each,p=>{}),{fill:d,stroke:f}=c;return(p,g,h,y)=>$f(p,g,(b,w,S,E,_,m,C,T,O,R,j)=>{let D=b.pxRound,L=n,V=r*yi,z=s*yi,B=l*yi,H,J;E.ori==0?[H,J]=o(p,g):[J,H]=o(p,g);const ne=E.dir*(E.ori==0?1:-1);let q=E.ori==0?kx:uk,ee=E.ori==0?u:(Ce,dt,Ne,Ye,jt,qt,Jt)=>{u(Ce,dt,Ne,jt,Ye,Jt,qt)},te=di(p.bands,QO).find(Ce=>Ce.series[0]==g),$=te!=null?te.dir:0,ae=b.fillTo(p,g,b.min,b.max,$),ue=D(C(ae,_,j,O)),me,Fe,Ie,Ee=R,He=D(b.width*yi),it=!1,St=null,xt=null,Ct=null,We=null;d!=null&&(He==0||f!=null)&&(it=!0,St=d.values(p,g,h,y),xt=new Map,new Set(St).forEach(Ce=>{Ce!=null&&xt.set(Ce,new Path2D)}),He>0&&(Ct=f.values(p,g,h,y),We=new Map,new Set(Ct).forEach(Ce=>{Ce!=null&&We.set(Ce,new Path2D)})));let{x0:Oe,size:ye}=c;if(Oe!=null&&ye!=null){L=1,w=Oe.values(p,g,h,y),Oe.unit==2&&(w=w.map(dt=>p.posToVal(T+dt*R,E.key,!0)));let Ce=ye.values(p,g,h,y);ye.unit==2?Fe=Ce[0]*R:Fe=m(Ce[0],E,R,T)-m(0,E,R,T),Ee=rre(w,S,m,E,R,T,Ee),Ie=Ee-Fe+V}else Ee=rre(w,S,m,E,R,T,Ee),Ie=Ee*a+V,Fe=Ee-Ie;Ie<1&&(Ie=0),He>=Fe/2&&(He=0),Ie<5&&(D=ane);let Ve=Ie>0,Xe=Ee-Ie-(Ve?He:0);Fe=D(YO(Xe,B,z)),me=(L==0?Fe/2:L==ne?0:Fe)-L*ne*((L==0?V/2:0)+(Ve?He/2:0));const se={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},we=it?null:new Path2D;let Le=null;if(te!=null)Le=p.data[te.series[1]];else{let{y0:Ce,y1:dt}=c;Ce!=null&&dt!=null&&(S=dt.values(p,g,h,y),Le=Ce.values(p,g,h,y))}let ot=H*Fe,_e=J*Fe;for(let Ce=ne==1?h:y;Ce>=h&&Ce<=y;Ce+=ne){let dt=S[Ce];if(dt==null)continue;if(Le!=null){let hn=Le[Ce]??0;if(dt-hn==0)continue;ue=C(hn,_,j,O)}let Ne=E.distr!=2||c!=null?w[Ce]:Ce,Ye=m(Ne,E,R,T),jt=C(di(dt,ae),_,j,O),qt=D(Ye-me),Jt=D(os(jt,ue)),Ht=D(Gl(jt,ue)),en=Jt-Ht;if(dt!=null){let hn=dt<0?_e:ot,Zt=dt<0?ot:_e;it?(He>0&&Ct[Ce]!=null&&q(We.get(Ct[Ce]),qt,Ht+Hs(He/2),Fe,os(0,en-He),hn,Zt),St[Ce]!=null&&q(xt.get(St[Ce]),qt,Ht+Hs(He/2),Fe,os(0,en-He),hn,Zt)):q(we,qt,Ht+Hs(He/2),Fe,os(0,en-He),hn,Zt),ee(p,g,Ce,qt-He/2,Ht,Fe+He,en)}}return He>0?se.stroke=it?We:we:it||(se._fill=b.width==0?b._fill:b._stroke??b._fill,se.width=0),se.fill=it?xt:we,se})}function d3e(e,t){const n=di(t==null?void 0:t.alignGaps,0);return(r,i,o,a)=>$f(r,i,(s,l,c,u,d,f,p,g,h,y,b)=>{[o,a]=vx(c,o,a);let w=s.pxRound,S=H=>w(f(H,u,y,g)),E=H=>w(p(H,d,b,h)),_,m,C;u.ori==0?(_=Ix,C=zp,m=Jne):(_=Ox,C=Bp,m=Zne);const T=u.dir*(u.ori==0?1:-1);let O=S(l[T==1?o:a]),R=O,j=[],D=[];for(let H=T==1?o:a;H>=o&&H<=a;H+=T)if(c[H]!=null){let J=l[H],ne=S(J);j.push(R=ne),D.push(E(c[H]))}const L={stroke:e(j,D,_,C,m,w),fill:null,clip:null,band:null,gaps:null,flags:Up},V=L.stroke;let[z,B]=lk(r,i);if(s.fill!=null||z!=0){let H=L.fill=new Path2D(V),J=s.fillTo(r,i,s.min,s.max,z),ne=E(J);C(H,R,ne),C(H,O,ne)}if(!s.spanGaps){let H=[];H.push(...ck(l,c,o,a,T,S,n)),L.gaps=H=s.gaps(r,i,o,a,H),L.clip=Ax(H,u.ori,g,h,y,b)}return B!=0&&(L.band=B==2?[Su(r,i,o,a,V,-1),Su(r,i,o,a,V,1)]:Su(r,i,o,a,V,B)),L})}function f3e(e){return d3e(h3e,e)}function h3e(e,t,n,r,i,o){const a=e.length;if(a<2)return null;const s=new Path2D;if(n(s,e[0],t[0]),a==2)r(s,e[1],t[1]);else{let l=Array(a),c=Array(a-1),u=Array(a-1),d=Array(a-1);for(let f=0;f<a-1;f++)u[f]=t[f+1]-t[f],d[f]=e[f+1]-e[f],c[f]=u[f]/d[f];l[0]=c[0];for(let f=1;f<a-1;f++)c[f]===0||c[f-1]===0||c[f-1]>0!=c[f]>0?l[f]=0:(l[f]=3*(d[f-1]+d[f])/((2*d[f]+d[f-1])/c[f-1]+(d[f]+2*d[f-1])/c[f]),isFinite(l[f])||(l[f]=0));l[a-1]=c[a-2];for(let f=0;f<a-1;f++)i(s,e[f]+d[f]/3,t[f]+l[f]*d[f]/3,e[f+1]-d[f]/3,t[f+1]-l[f+1]*d[f]/3,e[f+1],t[f+1])}return s}const dk=new Set;function ire(){for(let e of dk)e.syncRect(!0)}jp&&(Ff(GOe,Lp,ire),Ff(KOe,Lp,ire,!0),Ff(gx,Lp,()=>{$a.pxRatio=yi}));const p3e=nre(),m3e=ere();function ore(e,t,n,r){return(r?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map((i,o)=>fk(i,o,t,n))}function g3e(e,t){return e.map((n,r)=>r==0?{}:Wo({},t,n))}function fk(e,t,n,r){return Wo({},t==0?n:r,e)}function are(e,t,n){return t==null?Pp:[t,n]}const y3e=are;function v3e(e,t,n){return t==null?Pp:wx(t,n,GO,!0)}function sre(e,t,n,r){return t==null?Pp:bx(t,n,e.scales[r].log,!1)}const b3e=sre;function lre(e,t,n,r){return t==null?Pp:WO(t,n,e.scales[r].log,!1)}const w3e=lre;function x3e(e,t,n,r,i){let o=os(ine(e),ine(t)),a=t-e,s=Wl(i/r*a,n);do{let l=n[s],c=r*l/a;if(c>=i&&o+(l<5?gd.get(l):0)<=17)return[l,c]}while(++s<n.length);return[0,0]}function cre(e){let t,n;return e=e.replace(/(\d+)px/,(r,i)=>(t=ra((n=+i)*yi))+"px"),[e,t,n]}function _3e(e){e.show&&[e.font,e.labelFont].forEach(t=>{let n=Bi(t[2]*yi,1);t[0]=t[0].replace(/[0-9.]+px/,n+"px"),t[1]=n})}function $a(e,t,n){const r={mode:di(e.mode,1)},i=r.mode;function o(G,re,fe,be){let ke=re.valToPct(G);return be+fe*(re.dir==-1?1-ke:ke)}function a(G,re,fe,be){let ke=re.valToPct(G);return be+fe*(re.dir==-1?ke:1-ke)}function s(G,re,fe,be){return re.ori==0?o(G,re,fe,be):a(G,re,fe,be)}r.valToPosH=o,r.valToPosV=a;let l=!1;r.status=0;const c=r.root=fl(OOe);if(e.id!=null&&(c.id=e.id),Bs(c,e.class),e.title){let G=fl(ROe,c);G.textContent=e.title}const u=ql("canvas"),d=r.ctx=u.getContext("2d"),f=fl(jOe,c);Ff("click",f,G=>{G.target===g&&(ge!=Zi||Y!=oa)&&Re.click(r,G)},!0);const p=r.under=fl(LOe,f);f.appendChild(u);const g=r.over=fl(MOe,f);e=Dp(e);const h=+di(e.pxAlign,1),y=Kne(h);(e.plugins||[]).forEach(G=>{G.opts&&(e=G.opts(r,e)||e)});const b=e.ms||.001,w=r.series=i==1?ore(e.series||[],Dne,Vne,!1):g3e(e.series||[null],Hne),S=r.axes=ore(e.axes||[],Pne,zne,!0),E=r.scales={},_=r.bands=e.bands||[];_.forEach(G=>{G.fill=qr(G.fill||null),G.dir=di(G.dir,-1)});const m=i==2?w[1].facets[0].scale:w[0].scale,C={axes:pa,series:Ti},T=(e.drawOrder||["axes","series"]).map(G=>C[G]);function O(G){const re=G.distr==3?fe=>Eu(fe>0?fe:G.clamp(r,fe,G.min,G.max,G.key)):G.distr==4?fe=>XO(fe,G.asinh):G.distr==100?fe=>G.fwd(fe):fe=>fe;return fe=>{let be=re(fe),{_min:ke,_max:rt}=G,Et=rt-ke;return(be-ke)/Et}}function R(G){let re=E[G];if(re==null){let fe=(e.scales||d1)[G]||d1;if(fe.from!=null){R(fe.from);let be=Wo({},E[fe.from],fe,{key:G});be.valToPct=O(be),E[G]=be}else{re=E[G]=Wo({},G==m?qne:i3e,fe),re.key=G;let be=re.time,ke=re.range,rt=yd(ke);if((G!=m||i==2&&!be)&&(rt&&(ke[0]==null||ke[1]==null)&&(ke={min:ke[0]==null?ene:{mode:1,hard:ke[0],soft:ke[0]},max:ke[1]==null?ene:{mode:1,hard:ke[1],soft:ke[1]}},rt=!1),!rt&&Ex(ke))){let Et=ke;ke=(Mt,Vt,fn)=>Vt==null?Pp:wx(Vt,fn,Et)}re.range=qr(ke||(be?y3e:G==m?re.distr==3?b3e:re.distr==4?w3e:are:re.distr==3?sre:re.distr==4?lre:v3e)),re.auto=qr(rt?!1:re.auto),re.clamp=qr(re.clamp||r3e),re._min=re._max=null,re.valToPct=O(re)}}}R("x"),R("y"),i==1&&w.forEach(G=>{R(G.scale)}),S.forEach(G=>{R(G.scale)});for(let G in e.scales)R(G);const j=E[m],D=j.distr;let L,V;j.ori==0?(Bs(c,kOe),L=o,V=a):(Bs(c,NOe),L=a,V=o);const z={};for(let G in E){let re=E[G];(re.min!=null||re.max!=null)&&(z[G]={min:re.min,max:re.max},re.min=re.max=null)}const B=e.tzDate||(G=>new Date(ra(G/b))),H=e.fmtDate||JO,J=b==1?kke(B):jke(B),ne=Ine(B,Ane(b==1?Oke:Rke,H)),q=kne(B,One(Mke,H)),ee=[],te=r.legend=Wo({},Fke,e.legend),$=r.cursor=Wo({},Vke,{drag:{y:i==2}},e.cursor),ae=te.show,ue=$.show,me=te.markers;te.idxs=ee,me.width=qr(me.width),me.dash=qr(me.dash),me.stroke=qr(me.stroke),me.fill=qr(me.fill);let Fe,Ie,Ee,He=[],it=[],St,xt=!1,Ct={};if(te.live){const G=w[1]?w[1].values:null;xt=G!=null,St=xt?G(r,1,0):{_:0};for(let re in St)Ct[re]=zO}if(ae)if(Fe=ql("table",BOe,c),Ee=ql("tbody",null,Fe),te.mount(r,Fe),xt){Ie=ql("thead",null,Fe,Ee);let G=ql("tr",null,Ie);ql("th",null,G);for(var We in St)ql("th",Fte,G).textContent=We}else Bs(Fe,HOe),te.live&&Bs(Fe,$Oe);const Oe={show:!0},ye={show:!1};function Ve(G,re){if(re==0&&(xt||!te.live||i==2))return Pp;let fe=[],be=ql("tr",VOe,Ee,Ee.childNodes[re]);Bs(be,G.class),G.show||Bs(be,Df);let ke=ql("th",null,be);if(me.show){let Mt=fl(qOe,ke);if(re>0){let Vt=me.width(r,re);Vt&&(Mt.style.border=Vt+"px "+me.dash(r,re)+" "+me.stroke(r,re)),Mt.style.background=me.fill(r,re)}}let rt=fl(Fte,ke);G.label instanceof HTMLElement?rt.appendChild(G.label):rt.textContent=G.label,re>0&&(me.show||(rt.style.color=G.width>0?me.stroke(r,re):me.fill(r,re)),se("click",ke,Mt=>{if($._lock)return;or(Mt);let Vt=w.indexOf(G);if((Mt.ctrlKey||Mt.metaKey)!=te.isolate){let fn=w.some((cn,yn)=>yn>0&&yn!=Vt&&cn.show);w.forEach((cn,yn)=>{yn>0&&M(yn,fn?yn==Vt?Oe:ye:Oe,!0,Gi.setSeries)})}else M(Vt,{show:!G.show},!0,Gi.setSeries)},!1),er&&se($te,ke,Mt=>{$._lock||(or(Mt),M(w.indexOf(G),yt,!0,Gi.setSeries))},!1));for(var Et in St){let Mt=ql("td",WOe,be);Mt.textContent="--",fe.push(Mt)}return[be,fe]}const Xe=new Map;function se(G,re,fe,be=!0){const ke=Xe.get(re)||{},rt=$.bind[G](r,re,fe,be);rt&&(Ff(G,re,ke[G]=rt),Xe.set(re,ke))}function we(G,re,fe){const be=Xe.get(re)||{};for(let ke in be)(G==null||ke==G)&&(qO(ke,re,be[ke]),delete be[ke]);G==null&&Xe.delete(re)}let Le=0,ot=0,_e=0,Ce=0,dt=0,Ne=0,Ye=dt,jt=Ne,qt=_e,Jt=Ce,Ht=0,en=0,hn=0,Zt=0;r.bbox={};let Tt=!1,xn=!1,Jn=!1,ir=!1,Bt=!1,Sr=!1;function _r(G,re,fe){(fe||G!=r.width||re!=r.height)&&mr(G,re),hi(!1),Jn=!0,xn=!0,Oo()}function mr(G,re){r.width=Le=_e=G,r.height=ot=Ce=re,dt=Ne=0,Ji(),Lr();let fe=r.bbox;Ht=fe.left=zf(dt*yi,.5),en=fe.top=zf(Ne*yi,.5),hn=fe.width=zf(_e*yi,.5),Zt=fe.height=zf(Ce*yi,.5)}const ri=3;function Hn(){let G=!1,re=0;for(;!G;){re++;let fe=En(re),be=Hi(re);G=re==ri||fe&&be,G||(mr(r.width,r.height),xn=!0)}}function fi({width:G,height:re}){_r(G,re)}r.setSize=fi;function Ji(){let G=!1,re=!1,fe=!1,be=!1;S.forEach((ke,rt)=>{if(ke.show&&ke._show){let{side:Et,_size:Mt}=ke,Vt=Et%2,fn=ke.label!=null?ke.labelSize:0,cn=Mt+fn;cn>0&&(Vt?(_e-=cn,Et==3?(dt+=cn,be=!0):fe=!0):(Ce-=cn,Et==0?(Ne+=cn,G=!0):re=!0))}}),ln[0]=G,ln[1]=fe,ln[2]=re,ln[3]=be,_e-=ut[1]+ut[3],dt+=ut[3],Ce-=ut[2]+ut[0],Ne+=ut[0]}function Lr(){let G=dt+_e,re=Ne+Ce,fe=dt,be=Ne;function ke(rt,Et){switch(rt){case 1:return G+=Et,G-Et;case 2:return re+=Et,re-Et;case 3:return fe-=Et,fe+Et;case 0:return be-=Et,be+Et}}S.forEach((rt,Et)=>{if(rt.show&&rt._show){let Mt=rt.side;rt._pos=ke(Mt,rt._size),rt.label!=null&&(rt._lpos=ke(Mt,rt.labelSize))}})}if($.dataIdx==null){let G=$.hover,re=G.skip=new Set(G.skip??[]);re.add(void 0);let fe=G.prox=qr(G.prox),be=G.bias??(G.bias=0);$.dataIdx=(ke,rt,Et,Mt)=>{if(rt==0)return Et;let Vt=Et,fn=fe(ke,rt,Et,Mt)??zi,cn=fn>=0&&fn<zi,yn=j.ori==0?_e:Ce,Kn=$.left,Tn=t[0],Nr=t[rt];if(re.has(Nr[Et])){Vt=null;let I=null,k=null,P;if(be==0||be==-1)for(P=Et;I==null&&P-- >0;)re.has(Nr[P])||(I=P);if(be==0||be==1)for(P=Et;k==null&&P++<Nr.length;)re.has(Nr[P])||(k=P);if(I!=null||k!=null)if(cn){let W=I==null?-1/0:L(Tn[I],j,yn,0),X=k==null?1/0:L(Tn[k],j,yn,0),oe=Kn-W,pe=X-Kn;oe<=pe?oe<=fn&&(Vt=I):pe<=fn&&(Vt=k)}else Vt=k==null?I:I==null?k:Et-I<=k-Et?I:k}else cn&&na(Kn-L(Tn[Et],j,yn,0))>fn&&(Vt=null);return Vt}}const or=G=>{$.event=G};$.idxs=ee,$._lock=!1;let Cr=$.points;Cr.show=qr(Cr.show),Cr.size=qr(Cr.size),Cr.stroke=qr(Cr.stroke),Cr.width=qr(Cr.width),Cr.fill=qr(Cr.fill);const Or=r.focus=Wo({},e.focus||{alpha:.3},$.focus),er=Or.prox>=0,Zn=er&&Cr.one;let yr=[],Hr=[],Gr=[];function Kr(G,re){let fe=Cr.show(r,re);if(fe instanceof HTMLElement)return Bs(fe,zOe),Bs(fe,G.class),Fc(fe,-10,-10,_e,Ce),g.insertBefore(fe,yr[re]),fe}function $i(G,re){if(i==1||re>0){let fe=i==1&&E[G.scale].time,be=G.value;G.value=fe?hne(be)?kne(B,One(be,H)):be||q:be||e3e,G.label=G.label||(fe?Wke:qke)}if(Zn||re>0){G.width=G.width==null?1:G.width,G.paths=G.paths||p3e||ike,G.fillTo=qr(G.fillTo||o3e),G.pxAlign=+di(G.pxAlign,h),G.pxRound=Kne(G.pxAlign),G.stroke=qr(G.stroke||null),G.fill=qr(G.fill||null),G._stroke=G._fill=G._paths=G._focus=null;let fe=t3e(os(1,G.width),1),be=G.points=Wo({},{size:fe,width:os(1,fe*.2),stroke:G.stroke,space:fe*2,paths:m3e,_stroke:null,_fill:null},G.points);be.show=qr(be.show),be.filter=qr(be.filter),be.fill=qr(be.fill),be.stroke=qr(be.stroke),be.paths=qr(be.paths),be.pxAlign=G.pxAlign}if(ae){let fe=Ve(G,re);He.splice(re,0,fe[0]),it.splice(re,0,fe[1]),te.values.push(null)}if(ue){ee.splice(re,0,null);let fe=null;Zn?re==0&&(fe=Kr(G,re)):re>0&&(fe=Kr(G,re)),yr.splice(re,0,fe),Hr.splice(re,0,0),Gr.splice(re,0,0)}uo("addSeries",re)}function Ni(G,re){re=re??w.length,G=i==1?fk(G,re,Dne,Vne):fk(G,re,{},Hne),w.splice(re,0,G),$i(w[re],re)}r.addSeries=Ni;function Pi(G){if(w.splice(G,1),ae){te.values.splice(G,1),it.splice(G,1);let re=He.splice(G,1)[0];we(null,re.firstChild),re.remove()}ue&&(ee.splice(G,1),yr.splice(G,1)[0].remove(),Hr.splice(G,1),Gr.splice(G,1)),uo("delSeries",G)}r.delSeries=Pi;const ln=[!1,!1,!1,!1];function Wn(G,re){if(G._show=G.show,G.show){let fe=G.side%2,be=E[G.scale];be==null&&(G.scale=fe?w[1].scale:m,be=E[G.scale]);let ke=be.time;G.size=qr(G.size),G.space=qr(G.space),G.rotate=qr(G.rotate),yd(G.incrs)&&G.incrs.forEach(Et=>{!gd.has(Et)&&gd.set(Et,dne(Et))}),G.incrs=qr(G.incrs||(be.distr==2?Tke:ke?b==1?Ike:Nke:Bf)),G.splits=qr(G.splits||(ke&&be.distr==1?J:be.distr==3?ok:be.distr==4?Xke:Kke)),G.stroke=qr(G.stroke),G.grid.stroke=qr(G.grid.stroke),G.ticks.stroke=qr(G.ticks.stroke),G.border.stroke=qr(G.border.stroke);let rt=G.values;G.values=yd(rt)&&!yd(rt[0])?qr(rt):ke?yd(rt)?Ine(B,Ane(rt,H)):hne(rt)?Lke(B,rt):rt||ne:rt||Gke,G.filter=qr(G.filter||(be.distr>=3&&be.log==10?Jke:be.distr==3&&be.log==2?Zke:sne)),G.font=cre(G.font),G.labelFont=cre(G.labelFont),G._size=G.size(r,null,re,0),G._space=G._rotate=G._incrs=G._found=G._splits=G._values=null,G._size>0&&(ln[re]=!0,G._el=fl(POe,f))}}function Tr(G,re,fe,be){let[ke,rt,Et,Mt]=fe,Vt=re%2,fn=0;return Vt==0&&(Mt||rt)&&(fn=re==0&&!ke||re==2&&!Et?ra(Pne.size/3):0),Vt==1&&(ke||Et)&&(fn=re==1&&!rt||re==3&&!Mt?ra(zne.size/2):0),fn}const Me=r.padding=(e.padding||[Tr,Tr,Tr,Tr]).map(G=>qr(di(G,Tr))),ut=r._padding=Me.map((G,re)=>G(r,re,ln,0));let It,Ue=null,lt=null;const pt=i==1?w[0].idxs:null;let Ut=null,Pt=!1;function In(G,re){if(t=G??[],r.data=r._data=t,i==2){It=0;for(let fe=1;fe<w.length;fe++)It+=t[fe][0].length}else{t.length==0&&(r.data=r._data=t=[[]]),Ut=t[0],It=Ut.length;let fe=t;if(D==2){fe=t.slice();let be=fe[0]=Array(It);for(let ke=0;ke<It;ke++)be[ke]=ke}r._data=t=fe}if(hi(!0),uo("setData"),D==2&&(Jn=!0),re!==!1){let fe=j;fe.auto(r,Pt)?mn():N(m,fe.min,fe.max),ir=ir||$.left>=0,Sr=!0,Oo()}}r.setData=In;function mn(){Pt=!0;let G,re;i==1&&(It>0?(Ue=pt[0]=0,lt=pt[1]=It-1,G=t[0][Ue],re=t[0][lt],D==2?(G=Ue,re=lt):G==re&&(D==3?[G,re]=bx(G,G,j.log,!1):D==4?[G,re]=WO(G,G,j.log,!1):j.time?re=G+ra(86400/b):[G,re]=wx(G,re,GO,!0))):(Ue=pt[0]=G=null,lt=pt[1]=re=null)),N(m,G,re)}let Xt,un,Ln,Yt,tn,Fn,hr,dn,Dr,Ir;function vi(G,re,fe,be,ke,rt){G??(G=zte),fe??(fe=QO),be??(be="butt"),ke??(ke=zte),rt??(rt="round"),G!=Xt&&(d.strokeStyle=Xt=G),ke!=un&&(d.fillStyle=un=ke),re!=Ln&&(d.lineWidth=Ln=re),rt!=tn&&(d.lineJoin=tn=rt),be!=Fn&&(d.lineCap=Fn=be),fe!=Yt&&d.setLineDash(Yt=fe)}function Rn(G,re,fe,be){re!=un&&(d.fillStyle=un=re),G!=hr&&(d.font=hr=G),fe!=dn&&(d.textAlign=dn=fe),be!=Dr&&(d.textBaseline=Dr=be)}function Sn(G,re,fe,be,ke=0){if(be.length>0&&G.auto(r,Pt)&&(re==null||re.min==null)){let rt=di(Ue,0),Et=di(lt,be.length-1),Mt=fe.min==null?JOe(be,rt,Et,ke,G.distr==3):[fe.min,fe.max];G.min=Gl(G.min,fe.min=Mt[0]),G.max=os(G.max,fe.max=Mt[1])}}const On={min:null,max:null};function kr(){for(let be in E){let ke=E[be];z[be]==null&&(ke.min==null||z[m]!=null&&ke.auto(r,Pt))&&(z[be]=On)}for(let be in E){let ke=E[be];z[be]==null&&ke.from!=null&&z[ke.from]!=null&&(z[be]=On)}z[m]!=null&&hi(!0);let G={};for(let be in z){let ke=z[be];if(ke!=null){let rt=G[be]=Dp(E[be],ske);if(ke.min!=null)Wo(rt,ke);else if(be!=m||i==2)if(It==0&&rt.from==null){let Et=rt.range(r,null,null,be);rt.min=Et[0],rt.max=Et[1]}else rt.min=zi,rt.max=-zi}}if(It>0){w.forEach((be,ke)=>{if(i==1){let rt=be.scale,Et=z[rt];if(Et==null)return;let Mt=G[rt];if(ke==0){let Vt=Mt.range(r,Mt.min,Mt.max,rt);Mt.min=Vt[0],Mt.max=Vt[1],Ue=Wl(Mt.min,t[0]),lt=Wl(Mt.max,t[0]),lt-Ue>1&&(t[0][Ue]<Mt.min&&Ue++,t[0][lt]>Mt.max&&lt--),be.min=Ut[Ue],be.max=Ut[lt]}else be.show&&be.auto&&Sn(Mt,Et,be,t[ke],be.sorted);be.idxs[0]=Ue,be.idxs[1]=lt}else if(ke>0&&be.show&&be.auto){let[rt,Et]=be.facets,Mt=rt.scale,Vt=Et.scale,[fn,cn]=t[ke],yn=G[Mt],Kn=G[Vt];yn!=null&&Sn(yn,z[Mt],rt,fn,rt.sorted),Kn!=null&&Sn(Kn,z[Vt],Et,cn,Et.sorted),be.min=Et.min,be.max=Et.max}});for(let be in G){let ke=G[be],rt=z[be];if(ke.from==null&&(rt==null||rt.min==null)){let Et=ke.range(r,ke.min==zi?null:ke.min,ke.max==-zi?null:ke.max,be);ke.min=Et[0],ke.max=Et[1]}}}for(let be in G){let ke=G[be];if(ke.from!=null){let rt=G[ke.from];if(rt.min==null)ke.min=ke.max=null;else{let Et=ke.range(r,rt.min,rt.max,be);ke.min=Et[0],ke.max=Et[1]}}}let re={},fe=!1;for(let be in G){let ke=G[be],rt=E[be];if(rt.min!=ke.min||rt.max!=ke.max){rt.min=ke.min,rt.max=ke.max;let Et=rt.distr;rt._min=Et==3?Eu(rt.min):Et==4?XO(rt.min,rt.asinh):Et==100?rt.fwd(rt.min):rt.min,rt._max=Et==3?Eu(rt.max):Et==4?XO(rt.max,rt.asinh):Et==100?rt.fwd(rt.max):rt.max,re[be]=fe=!0}}if(fe){w.forEach((be,ke)=>{i==2?ke>0&&re.y&&(be._paths=null):re[be.scale]&&(be._paths=null)});for(let be in re)Jn=!0,uo("setScale",be);ue&&$.left>=0&&(ir=Sr=!0)}for(let be in z)z[be]=null}function Cn(G){let re=YO(Ue-1,0,It-1),fe=YO(lt+1,0,It-1);for(;G[re]==null&&re>0;)re--;for(;G[fe]==null&&fe<It-1;)fe++;return[re,fe]}function Ti(){if(It>0){let G=w.some(re=>re._focus)&&Ir!=Or.alpha;G&&(d.globalAlpha=Ir=Or.alpha),w.forEach((re,fe)=>{if(fe>0&&re.show&&(gr(fe,!1),gr(fe,!0),re._paths==null)){let be=Ir;Ir!=re.alpha&&(d.globalAlpha=Ir=re.alpha);let ke=i==2?[0,t[fe][0].length-1]:Cn(t[fe]);re._paths=re.paths(r,fe,ke[0],ke[1]),Ir!=be&&(d.globalAlpha=Ir=be)}}),w.forEach((re,fe)=>{if(fe>0&&re.show){let be=Ir;Ir!=re.alpha&&(d.globalAlpha=Ir=re.alpha),re._paths!=null&&Ar(fe,!1);{let ke=re._paths!=null?re._paths.gaps:null,rt=re.points.show(r,fe,Ue,lt,ke),Et=re.points.filter(r,fe,rt,ke);(rt||Et)&&(re.points._paths=re.points.paths(r,fe,Ue,lt,Et),Ar(fe,!0))}Ir!=be&&(d.globalAlpha=Ir=be),uo("drawSeries",fe)}}),G&&(d.globalAlpha=Ir=1)}}function gr(G,re){let fe=re?w[G].points:w[G];fe._stroke=fe.stroke(r,G),fe._fill=fe.fill(r,G)}function Ar(G,re){let fe=re?w[G].points:w[G],{stroke:be,fill:ke,clip:rt,flags:Et,_stroke:Mt=fe._stroke,_fill:Vt=fe._fill,_width:fn=fe.width}=fe._paths;fn=Bi(fn*yi,3);let cn=null,yn=fn%2/2;re&&Vt==null&&(Vt=fn>0?"#fff":Mt);let Kn=fe.pxAlign==1&&yn>0;if(Kn&&d.translate(yn,yn),!re){let Tn=Ht-fn/2,Nr=en-fn/2,I=hn+fn,k=Zt+fn;cn=new Path2D,cn.rect(Tn,Nr,I,k)}re?ti(Mt,fn,fe.dash,fe.cap,Vt,be,ke,Et,rt):Xr(G,Mt,fn,fe.dash,fe.cap,Vt,be,ke,Et,cn,rt),Kn&&d.translate(-yn,-yn)}function Xr(G,re,fe,be,ke,rt,Et,Mt,Vt,fn,cn){let yn=!1;Vt!=0&&_.forEach((Kn,Tn)=>{if(Kn.series[0]==G){let Nr=w[Kn.series[1]],I=t[Kn.series[1]],k=(Nr._paths||d1).band;yd(k)&&(k=Kn.dir==1?k[0]:k[1]);let P,W=null;Nr.show&&k&&eke(I,Ue,lt)?(W=Kn.fill(r,Tn)||rt,P=Nr._paths.clip):k=null,ti(re,fe,be,ke,W,Et,Mt,Vt,fn,cn,P,k),yn=!0}}),yn||ti(re,fe,be,ke,rt,Et,Mt,Vt,fn,cn)}const Vr=Up|sk;function ti(G,re,fe,be,ke,rt,Et,Mt,Vt,fn,cn,yn){vi(G,re,fe,be,ke),(Vt||fn||yn)&&(d.save(),Vt&&d.clip(Vt),fn&&d.clip(fn)),yn?(Mt&Vr)==Vr?(d.clip(yn),cn&&d.clip(cn),Ri(ke,Et),co(G,rt,re)):Mt&sk?(Ri(ke,Et),d.clip(yn),co(G,rt,re)):Mt&Up&&(d.save(),d.clip(yn),cn&&d.clip(cn),Ri(ke,Et),d.restore(),co(G,rt,re)):(Ri(ke,Et),co(G,rt,re)),(Vt||fn||yn)&&d.restore()}function co(G,re,fe){fe>0&&(re instanceof Map?re.forEach((be,ke)=>{d.strokeStyle=Xt=ke,d.stroke(be)}):re!=null&&G&&d.stroke(re))}function Ri(G,re){re instanceof Map?re.forEach((fe,be)=>{d.fillStyle=un=be,d.fill(fe)}):re!=null&&G&&d.fill(re)}function bi(G,re,fe,be){let ke=S[G],rt;if(be<=0)rt=[0,0];else{let Et=ke._space=ke.space(r,G,re,fe,be),Mt=ke._incrs=ke.incrs(r,G,re,fe,be,Et);rt=x3e(re,fe,Mt,be,Et)}return ke._found=rt}function Eo(G,re,fe,be,ke,rt,Et,Mt,Vt,fn){let cn=Et%2/2;h==1&&d.translate(cn,cn),vi(Mt,Et,Vt,fn,Mt),d.beginPath();let yn,Kn,Tn,Nr,I=ke+(be==0||be==3?-rt:rt);fe==0?(Kn=ke,Nr=I):(yn=ke,Tn=I);for(let k=0;k<G.length;k++)re[k]!=null&&(fe==0?yn=Tn=G[k]:Kn=Nr=G[k],d.moveTo(yn,Kn),d.lineTo(Tn,Nr));d.stroke(),h==1&&d.translate(-cn,-cn)}function En(G){let re=!0;return S.forEach((fe,be)=>{if(!fe.show)return;let ke=E[fe.scale];if(ke.min==null){fe._show&&(re=!1,fe._show=!1,hi(!1));return}else fe._show||(re=!1,fe._show=!0,hi(!1));let rt=fe.side,Et=rt%2,{min:Mt,max:Vt}=ke,[fn,cn]=bi(be,Mt,Vt,Et==0?_e:Ce);if(cn==0)return;let yn=ke.distr==2,Kn=fe._splits=fe.splits(r,be,Mt,Vt,fn,cn,yn),Tn=ke.distr==2?Kn.map(P=>Ut[P]):Kn,Nr=ke.distr==2?Ut[Kn[1]]-Ut[Kn[0]]:fn,I=fe._values=fe.values(r,fe.filter(r,Tn,be,cn,Nr),be,cn,Nr);fe._rotate=rt==2?fe.rotate(r,I,be,cn):0;let k=fe._size;fe._size=hl(fe.size(r,I,be,G)),k!=null&&fe._size!=k&&(re=!1)}),re}function Hi(G){let re=!0;return Me.forEach((fe,be)=>{let ke=fe(r,be,ln,G);ke!=ut[be]&&(re=!1),ut[be]=ke}),re}function pa(){for(let G=0;G<S.length;G++){let re=S[G];if(!re.show||!re._show)continue;let fe=re.side,be=fe%2,ke,rt,Et=re.stroke(r,G),Mt=fe==0||fe==3?-1:1,[Vt,fn]=re._found;if(re.label!=null){let at=re.labelGap*Mt,K=ra((re._lpos+at)*yi);Rn(re.labelFont[0],Et,"center",fe==2?l1:Ute),d.save(),be==1?(ke=rt=0,d.translate(K,ra(en+Zt/2)),d.rotate((fe==3?-xx:xx)/2)):(ke=ra(Ht+hn/2),rt=K);let ce=one(re.label)?re.label(r,G,Vt,fn):re.label;d.fillText(ce,ke,rt),d.restore()}if(fn==0)continue;let cn=E[re.scale],yn=be==0?hn:Zt,Kn=be==0?Ht:en,Tn=re._splits,Nr=cn.distr==2?Tn.map(at=>Ut[at]):Tn,I=cn.distr==2?Ut[Tn[1]]-Ut[Tn[0]]:Vt,k=re.ticks,P=re.border,W=k.show?k.size:0,X=ra(W*yi),oe=ra((re.alignTo==2?re._size-W-re.gap:re.gap)*yi),pe=re._rotate*-xx/180,xe=y(re._pos*yi),De=(X+oe)*Mt,ze=xe+De;rt=be==0?ze:0,ke=be==1?ze:0;let Qe=re.font[0],je=re.align==1?Rp:re.align==2?PO:pe>0?Rp:pe<0?PO:be==0?"center":fe==3?PO:Rp,Ze=pe||be==1?"middle":fe==2?l1:Ute;Rn(Qe,Et,je,Ze);let Be=re.font[1]*re.lineGap,Ge=Tn.map(at=>y(s(at,cn,yn,Kn))),Ke=re._values;for(let at=0;at<Ke.length;at++){let K=Ke[at];if(K!=null){be==0?ke=Ge[at]:rt=Ge[at],K=""+K;let ce=K.indexOf(`
`)==-1?[K]:K.split(/\n/gm);for(let he=0;he<ce.length;he++){let $e=ce[he];pe?(d.save(),d.translate(ke,rt+he*Be),d.rotate(pe),d.fillText($e,0,0),d.restore()):d.fillText($e,ke,rt+he*Be)}}}k.show&&Eo(Ge,k.filter(r,Nr,G,fn,I),be,fe,xe,X,Bi(k.width*yi,3),k.stroke(r,G),k.dash,k.cap);let et=re.grid;et.show&&Eo(Ge,et.filter(r,Nr,G,fn,I),be,be==0?2:1,be==0?en:Ht,be==0?Zt:hn,Bi(et.width*yi,3),et.stroke(r,G),et.dash,et.cap),P.show&&Eo([xe],[1],be==0?1:0,be==0?1:2,be==1?en:Ht,be==1?Zt:hn,Bi(P.width*yi,3),P.stroke(r,G),P.dash,P.cap)}uo("drawAxes")}function hi(G){w.forEach((re,fe)=>{fe>0&&(re._paths=null,G&&(i==1?(re.min=null,re.max=null):re.facets.forEach(be=>{be.min=null,be.max=null})))})}let qn=!1,Vi=!1,qi=[];function wi(){Vi=!1;for(let G=0;G<qi.length;G++)uo(...qi[G]);qi.length=0}function Oo(){qn||(pke(ii),qn=!0)}function xl(G,re=!1){qn=!0,Vi=re,G(r),ii(),re&&qi.length>0&&queueMicrotask(wi)}r.batch=xl;function ii(){if(Tt&&(kr(),Tt=!1),Jn&&(Hn(),Jn=!1),xn){if(lo(p,Rp,dt),lo(p,l1,Ne),lo(p,a1,_e),lo(p,s1,Ce),lo(g,Rp,dt),lo(g,l1,Ne),lo(g,a1,_e),lo(g,s1,Ce),lo(f,a1,Le),lo(f,s1,ot),u.width=ra(Le*yi),u.height=ra(ot*yi),S.forEach(({_el:G,_show:re,_size:fe,_pos:be,side:ke})=>{if(G!=null)if(re){let rt=ke===3||ke===0?fe:0,Et=ke%2==1;lo(G,Et?"left":"top",be-rt),lo(G,Et?"width":"height",fe),lo(G,Et?"top":"left",Et?Ne:dt),lo(G,Et?"height":"width",Et?Ce:_e),HO(G,Df)}else Bs(G,Df)}),Xt=un=Ln=tn=Fn=hr=dn=Dr=Yt=null,Ir=1,ur(!0),dt!=Ye||Ne!=jt||_e!=qt||Ce!=Jt){hi(!1);let G=_e/qt,re=Ce/Jt;if(ue&&!ir&&$.left>=0){$.left*=G,$.top*=re,yo&&Fc(yo,ra($.left),0,_e,Ce),Di&&Fc(Di,0,ra($.top),_e,Ce);for(let fe=0;fe<yr.length;fe++){let be=yr[fe];be!=null&&(Hr[fe]*=G,Gr[fe]*=re,Fc(be,hl(Hr[fe]),hl(Gr[fe]),_e,Ce))}}if(on.show&&!Bt&&on.left>=0&&on.width>0){on.left*=G,on.width*=G,on.top*=re,on.height*=re;for(let fe in qa)lo($n,fe,on[fe])}Ye=dt,jt=Ne,qt=_e,Jt=Ce}uo("setSize"),xn=!1}Le>0&&ot>0&&(d.clearRect(0,0,u.width,u.height),uo("drawClear"),T.forEach(G=>G()),uo("draw")),on.show&&Bt&&(Dn(on),Bt=!1),ue&&ir&&(Un(null,!0,!1),ir=!1),te.show&&te.live&&Sr&&(So(),Sr=!1),l||(l=!0,r.status=1,uo("ready")),Pt=!1,qn=!1}r.redraw=(G,re)=>{Jn=re||!1,G!==!1?N(m,j.min,j.max):Oo()};function go(G,re){let fe=E[G];if(fe.from==null){if(It==0){let be=fe.range(r,re.min,re.max,G);re.min=be[0],re.max=be[1]}if(re.min>re.max){let be=re.min;re.min=re.max,re.max=be}if(It>1&&re.min!=null&&re.max!=null&&re.max-re.min<1e-16)return;G==m&&fe.distr==2&&It>0&&(re.min=Wl(re.min,t[0]),re.max=Wl(re.max,t[0]),re.min==re.max&&re.max++),z[G]=re,Tt=!0,Oo()}}r.setScale=go;let Wi,Fr,yo,Di,Fo,Ai,Zi,oa,ma,ko,ge,Y,ve=!1;const Re=$.drag;let Lt=Re.x,$t=Re.y;ue&&($.x&&(Wi=fl(FOe,g)),$.y&&(Fr=fl(UOe,g)),j.ori==0?(yo=Wi,Di=Fr):(yo=Fr,Di=Wi),ge=$.left,Y=$.top);const on=r.select=Wo({show:!0,over:!0,left:0,width:0,top:0,height:0},e.select),$n=on.show?fl(DOe,on.over?g:p):null;function Dn(G,re){if(on.show){for(let fe in G)on[fe]=G[fe],fe in qa&&lo($n,fe,G[fe]);re!==!1&&uo("setSelect")}}r.setSelect=Dn;function A(G){if(w[G].show)ae&&HO(He[G],Df);else if(ae&&Bs(He[G],Df),ue){let re=Zn?yr[0]:yr[G];re!=null&&Fc(re,-10,-10,_e,Ce)}}function N(G,re,fe){go(G,{min:re,max:fe})}function M(G,re,fe,be){re.focus!=null&&Rt(G),re.show!=null&&w.forEach((ke,rt)=>{rt>0&&(G==rt||G==null)&&(ke.show=re.show,A(rt),i==2?(N(ke.facets[0].scale,null,null),N(ke.facets[1].scale,null,null)):N(ke.scale,null,null),Oo())}),fe!==!1&&uo("setSeries",G,re),be&&mt("setSeries",r,G,re)}r.setSeries=M;function F(G,re){Wo(_[G],re)}function Q(G,re){G.fill=qr(G.fill||null),G.dir=di(G.dir,-1),re=re??_.length,_.splice(re,0,G)}function Z(G){G==null?_.length=0:_.splice(G,1)}r.addBand=Q,r.setBand=F,r.delBand=Z;function le(G,re){w[G].alpha=re,ue&&yr[G]!=null&&(yr[G].style.opacity=re),ae&&He[G]&&(He[G].style.opacity=re)}let Se,Te,Je;const yt={focus:!0};function Rt(G){if(G!=Je){let re=G==null,fe=Or.alpha!=1;w.forEach((be,ke)=>{if(i==1||ke>0){let rt=re||ke==0||ke==G;be._focus=re?null:rt,fe&&le(ke,rt?1:Or.alpha)}}),Je=G,fe&&Oo()}}ae&&er&&se(Hte,Fe,G=>{$._lock||(or(G),Je!=null&&M(null,yt,!0,Gi.setSeries))});function ct(G,re,fe){let be=E[re];fe&&(G=G/yi-(be.ori==1?Ne:dt));let ke=_e;be.ori==1&&(ke=Ce,G=ke-G),be.dir==-1&&(G=ke-G);let rt=be._min,Et=be._max,Mt=G/ke,Vt=rt+(Et-rt)*Mt,fn=be.distr;return fn==3?Mp(10,Vt):fn==4?nke(Vt,be.asinh):fn==100?be.bwd(Vt):Vt}function At(G,re){let fe=ct(G,m,re);return Wl(fe,t[0],Ue,lt)}r.valToIdx=G=>Wl(G,t[0]),r.posToIdx=At,r.posToVal=ct,r.valToPos=(G,re,fe)=>E[re].ori==0?o(G,E[re],fe?hn:_e,fe?Ht:0):a(G,E[re],fe?Zt:Ce,fe?en:0),r.setCursor=(G,re,fe)=>{ge=G.left,Y=G.top,Un(null,re,fe)};function jn(G,re){lo($n,Rp,on.left=G),lo($n,a1,on.width=re)}function Qn(G,re){lo($n,l1,on.top=G),lo($n,s1,on.height=re)}let an=j.ori==0?jn:Qn,li=j.ori==1?jn:Qn;function xi(){if(ae&&te.live)for(let G=i==2?1:0;G<w.length;G++){if(G==0&&xt)continue;let re=te.values[G],fe=0;for(let be in re)it[G][fe++].firstChild.nodeValue=re[be]}}function So(G,re){if(G!=null&&(G.idxs?G.idxs.forEach((fe,be)=>{ee[be]=fe}):ake(G.idx)||ee.fill(G.idx),te.idx=ee[0]),ae&&te.live){for(let fe=0;fe<w.length;fe++)(fe>0||i==1&&!xt)&&Ur(fe,ee[fe]);xi()}Sr=!1,re!==!1&&uo("setLegend")}r.setLegend=So;function Ur(G,re){let fe=w[G],be=G==0&&D==2?Ut:t[G],ke;xt?ke=fe.values(r,G,re)??Ct:(ke=fe.value(r,re==null?null:be[re],G,re),ke=ke==null?Ct:{_:ke}),te.values[G]=ke}function Un(G,re,fe){ma=ge,ko=Y,[ge,Y]=$.move(r,ge,Y),$.left=ge,$.top=Y,ue&&(yo&&Fc(yo,ra(ge),0,_e,Ce),Di&&Fc(Di,0,ra(Y),_e,Ce));let be,ke=Ue>lt;Se=zi,Te=null;let rt=j.ori==0?_e:Ce,Et=j.ori==1?_e:Ce;if(ge<0||It==0||ke){be=$.idx=null;for(let Mt=0;Mt<w.length;Mt++){let Vt=yr[Mt];Vt!=null&&Fc(Vt,-10,-10,_e,Ce)}er&&M(null,yt,!0,G==null&&Gi.setSeries),te.live&&(ee.fill(be),Sr=!0)}else{let Mt,Vt,fn;i==1&&(Mt=j.ori==0?ge:Y,Vt=ct(Mt,m),be=$.idx=Wl(Vt,t[0],Ue,lt),fn=L(t[0][be],j,rt,0));let cn=-10,yn=-10,Kn=0,Tn=0,Nr=!0,I="",k="";for(let P=i==2?1:0;P<w.length;P++){let W=w[P],X=ee[P],oe=X==null?null:i==1?t[P][X]:t[P][1][X],pe=$.dataIdx(r,P,be,Vt),xe=pe==null?null:i==1?t[P][pe]:t[P][1][pe];if(Sr=Sr||xe!=oe||pe!=X,ee[P]=pe,P>0&&W.show){let De=pe==null?-10:pe==be?fn:L(i==1?t[0][pe]:t[P][0][pe],j,rt,0),ze=xe==null?-10:V(xe,i==1?E[W.scale]:E[W.facets[1].scale],Et,0);if(er&&xe!=null){let Qe=j.ori==1?ge:Y,je=na(Or.dist(r,P,pe,ze,Qe));if(je<Se){let Ze=Or.bias;if(Ze!=0){let Be=ct(Qe,W.scale),Ge=xe>=0?1:-1,Ke=Be>=0?1:-1;Ke==Ge&&(Ke==1?Ze==1?xe>=Be:xe<=Be:Ze==1?xe<=Be:xe>=Be)&&(Se=je,Te=P)}else Se=je,Te=P}}if(Sr||Zn){let Qe,je;j.ori==0?(Qe=De,je=ze):(Qe=ze,je=De);let Ze,Be,Ge,Ke,et,at,K=!0,ce=Cr.bbox;if(ce!=null){K=!1;let he=ce(r,P);Ge=he.left,Ke=he.top,Ze=he.width,Be=he.height}else Ge=Qe,Ke=je,Ze=Be=Cr.size(r,P);if(at=Cr.fill(r,P),et=Cr.stroke(r,P),Zn)P==Te&&Se<=Or.prox&&(cn=Ge,yn=Ke,Kn=Ze,Tn=Be,Nr=K,I=at,k=et);else{let he=yr[P];he!=null&&(Hr[P]=Ge,Gr[P]=Ke,Yte(he,Ze,Be,K),Kte(he,at,et),Fc(he,hl(Ge),hl(Ke),_e,Ce))}}}}if(Zn){let P=Or.prox,W=Je==null?Se<=P:Se>P||Te!=Je;if(Sr||W){let X=yr[0];X!=null&&(Hr[0]=cn,Gr[0]=yn,Yte(X,Kn,Tn,Nr),Kte(X,I,k),Fc(X,hl(cn),hl(yn),_e,Ce))}}}if(on.show&&ve)if(G!=null){let[Mt,Vt]=Gi.scales,[fn,cn]=Gi.match,[yn,Kn]=G.cursor.sync.scales,Tn=G.cursor.drag;if(Lt=Tn._x,$t=Tn._y,Lt||$t){let{left:Nr,top:I,width:k,height:P}=G.select,W=G.scales[yn].ori,X=G.posToVal,oe,pe,xe,De,ze,Qe=Mt!=null&&fn(Mt,yn),je=Vt!=null&&cn(Vt,Kn);Qe&&Lt?(W==0?(oe=Nr,pe=k):(oe=I,pe=P),xe=E[Mt],De=L(X(oe,yn),xe,rt,0),ze=L(X(oe+pe,yn),xe,rt,0),an(Gl(De,ze),na(ze-De))):an(0,rt),je&&$t?(W==1?(oe=Nr,pe=k):(oe=I,pe=P),xe=E[Vt],De=V(X(oe,Kn),xe,Et,0),ze=V(X(oe+pe,Kn),xe,Et,0),li(Gl(De,ze),na(ze-De))):li(0,Et)}else Co()}else{let Mt=na(ma-Fo),Vt=na(ko-Ai);if(j.ori==1){let Kn=Mt;Mt=Vt,Vt=Kn}Lt=Re.x&&Mt>=Re.dist,$t=Re.y&&Vt>=Re.dist;let fn=Re.uni;fn!=null?Lt&&$t&&(Lt=Mt>=fn,$t=Vt>=fn,!Lt&&!$t&&(Vt>Mt?$t=!0:Lt=!0)):Re.x&&Re.y&&(Lt||$t)&&(Lt=$t=!0);let cn,yn;Lt&&(j.ori==0?(cn=Zi,yn=ge):(cn=oa,yn=Y),an(Gl(cn,yn),na(yn-cn)),$t||li(0,Et)),$t&&(j.ori==1?(cn=Zi,yn=ge):(cn=oa,yn=Y),li(Gl(cn,yn),na(yn-cn)),Lt||an(0,rt)),!Lt&&!$t&&(an(0,0),li(0,0))}if(Re._x=Lt,Re._y=$t,G==null){if(fe){if(de!=null){let[Mt,Vt]=Gi.scales;Gi.values[0]=Mt!=null?ct(j.ori==0?ge:Y,Mt):null,Gi.values[1]=Vt!=null?ct(j.ori==1?ge:Y,Vt):null}mt(FO,r,ge,Y,_e,Ce,be)}if(er){let Mt=fe&&Gi.setSeries,Vt=Or.prox;Je==null?Se<=Vt&&M(Te,yt,!0,Mt):Se>Vt?M(null,yt,!0,Mt):Te!=Je&&M(Te,yt,!0,Mt)}}Sr&&(te.idx=be,So()),re!==!1&&uo("setCursor")}let ji=null;Object.defineProperty(r,"rect",{get(){return ji==null&&ur(!1),ji}});function ur(G=!1){G?ji=null:(ji=g.getBoundingClientRect(),uo("syncRect",ji))}function pi(G,re,fe,be,ke,rt,Et){$._lock||ve&&G!=null&&G.movementX==0&&G.movementY==0||(aa(G,re,fe,be,ke,rt,Et,!1,G!=null),G!=null?Un(null,!0,!0):Un(re,!0,!1))}function aa(G,re,fe,be,ke,rt,Et,Mt,Vt){if(ji==null&&ur(!1),or(G),G!=null)fe=G.clientX-ji.left,be=G.clientY-ji.top;else{if(fe<0||be<0){ge=-10,Y=-10;return}let[fn,cn]=Gi.scales,yn=re.cursor.sync,[Kn,Tn]=yn.values,[Nr,I]=yn.scales,[k,P]=Gi.match,W=re.axes[0].side%2==1,X=j.ori==0?_e:Ce,oe=j.ori==1?_e:Ce,pe=W?rt:ke,xe=W?ke:rt,De=W?be:fe,ze=W?fe:be;if(Nr!=null?fe=k(fn,Nr)?s(Kn,E[fn],X,0):-10:fe=X*(De/pe),I!=null?be=P(cn,I)?s(Tn,E[cn],oe,0):-10:be=oe*(ze/xe),j.ori==1){let Qe=fe;fe=be,be=Qe}}Vt&&(re==null||re.cursor.event.type==FO)&&((fe<=1||fe>=_e-1)&&(fe=zf(fe,_e)),(be<=1||be>=Ce-1)&&(be=zf(be,Ce))),Mt?(Fo=fe,Ai=be,[Zi,oa]=$.move(r,fe,be)):(ge=fe,Y=be)}const qa={width:0,height:0,left:0,top:0};function Co(){Dn(qa,!1)}let Na,Ra,No,Wa;function vo(G,re,fe,be,ke,rt,Et){ve=!0,Lt=$t=Re._x=Re._y=!1,aa(G,re,fe,be,ke,rt,Et,!0,!1),G!=null&&(se(UO,BO,sa,!1),mt(Bte,r,Zi,oa,_e,Ce,null));let{left:Mt,top:Vt,width:fn,height:cn}=on;Na=Mt,Ra=Vt,No=fn,Wa=cn}function sa(G,re,fe,be,ke,rt,Et){ve=Re._x=Re._y=!1,aa(G,re,fe,be,ke,rt,Et,!1,!0);let{left:Mt,top:Vt,width:fn,height:cn}=on,yn=fn>0||cn>0,Kn=Na!=Mt||Ra!=Vt||No!=fn||Wa!=cn;if(yn&&Kn&&Dn(on),Re.setScale&&yn&&Kn){let Tn=Mt,Nr=fn,I=Vt,k=cn;if(j.ori==1&&(Tn=Vt,Nr=cn,I=Mt,k=fn),Lt&&N(m,ct(Tn,m),ct(Tn+Nr,m)),$t)for(let P in E){let W=E[P];P!=m&&W.from==null&&W.min!=zi&&N(P,ct(I+k,P),ct(I,P))}Co()}else $.lock&&($._lock=!$._lock,Un(re,!0,G!=null));G!=null&&(we(UO,BO),mt(UO,r,ge,Y,_e,Ce,null))}function Iu(G,re,fe,be,ke,rt,Et){if($._lock)return;or(G);let Mt=ve;if(ve){let Vt=!0,fn=!0,cn=10,yn,Kn;j.ori==0?(yn=Lt,Kn=$t):(yn=$t,Kn=Lt),yn&&Kn&&(Vt=ge<=cn||ge>=_e-cn,fn=Y<=cn||Y>=Ce-cn),yn&&Vt&&(ge=ge<Zi?0:_e),Kn&&fn&&(Y=Y<oa?0:Ce),Un(null,!0,!0),ve=!1}ge=-10,Y=-10,ee.fill(null),Un(null,!0,!0),Mt&&(ve=Mt)}function la(G,re,fe,be,ke,rt,Et){$._lock||(or(G),mn(),Co(),G!=null&&mt(Vte,r,ge,Y,_e,Ce,null))}function ss(){S.forEach(_3e),_r(r.width,r.height,!0)}Ff(gx,Lp,ss);const vr={};vr.mousedown=vo,vr.mousemove=pi,vr.mouseup=sa,vr.dblclick=la,vr.setSeries=(G,re,fe,be)=>{let ke=Gi.match[2];fe=ke(r,re,fe),fe!=-1&&M(fe,be,!0,!1)},ue&&(se(Bte,g,vo),se(FO,g,pi),se($te,g,G=>{or(G),ur(!1)}),se(Hte,g,Iu),se(Vte,g,la),dk.add(r),r.syncRect=ur);const ja=r.hooks=e.hooks||{};function uo(G,re,fe){Vi?qi.push([G,re,fe]):G in ja&&ja[G].forEach(be=>{be.call(null,r,re,fe)})}(e.plugins||[]).forEach(G=>{for(let re in G.hooks)ja[re]=(ja[re]||[]).concat(G.hooks[re])});const Gs=(G,re,fe)=>fe,Gi=Wo({key:null,setSeries:!1,filters:{pub:lne,sub:lne},scales:[m,w[1]?w[1].scale:null],match:[cne,cne,Gs],values:[null,null]},$.sync);Gi.match.length==2&&Gi.match.push(Gs),$.sync=Gi;const de=Gi.key,Pe=Gne(de);function mt(G,re,fe,be,ke,rt,Et){Gi.filters.pub(G,re,fe,be,ke,rt,Et)&&Pe.pub(G,re,fe,be,ke,rt,Et)}Pe.sub(r);function Ot(G,re,fe,be,ke,rt,Et){Gi.filters.sub(G,re,fe,be,ke,rt,Et)&&vr[G](null,re,fe,be,ke,rt,Et)}r.pub=Ot;function kt(){Pe.unsub(r),dk.delete(r),Xe.clear(),qO(gx,Lp,ss),c.remove(),Fe==null||Fe.remove(),uo("destroy")}r.destroy=kt;function zt(){uo("init",e,t),In(t||e.data,!1),z[m]?go(m,z[m]):mn(),Bt=on.show&&(on.width>0||on.height>0),ir=Sr=!0,_r(e.width,e.height)}return w.forEach($i),S.forEach(Wn),n?n instanceof HTMLElement?(n.appendChild(c),zt()):n(r,zt):zt(),r}$a.assign=Wo,$a.fmtNum=KO,$a.rangeNum=wx,$a.rangeLog=bx,$a.rangeAsinh=WO,$a.orient=$f,$a.pxRatio=yi,$a.join=hke,$a.fmtDate=JO,$a.tzDate=Ske,$a.sync=Gne;{$a.addGap=a3e,$a.clipGaps=Ax;let e=$a.paths={points:ere};e.linear=nre,e.stepped=c3e,e.bars=u3e,e.spline=f3e}const E3e=Object.freeze(Object.defineProperty({__proto__:null,default:$a},Symbol.toStringTag,{value:"Module"})),S3e=mue(E3e);var C3e=MO.exports,ure;function T3e(){return ure||(ure=1,(function(e,t){(function(n,r){e.exports=r(nN(),S3e)})(C3e,(n,r)=>(()=>{var i={"./common/index.ts":((l,c,u)=>{u.r(c),u.d(c,{dataMatch:()=>p,optionsUpdateState:()=>f});var d=function(g,h){var y={};for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&h.indexOf(b)<0&&(y[b]=g[b]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,b=Object.getOwnPropertySymbols(g);w<b.length;w++)h.indexOf(b[w])<0&&Object.prototype.propertyIsEnumerable.call(g,b[w])&&(y[b[w]]=g[b[w]]);return y};Object.is||Object.defineProperty(Object,"is",{value:function(g,h){return g===h&&(g!==0||1/g===1/h)||g!==g&&h!==h}});var f=function(g,h){var y=g.width,b=g.height,w=d(g,["width","height"]),S=h.width,E=h.height,_=d(h,["width","height"]),m="keep";if((b!==E||y!==S)&&(m="update"),Object.keys(w).length!==Object.keys(_).length)return"create";for(var C=0,T=Object.keys(w);C<T.length;C++){var O=T[C];if(!Object.is(w[O],_[O])){m="create";break}}return m},p=function(g,h){return g.length!==h.length?!1:g.every(function(y,b){var w=h[b];return y.length!==w.length?!1:y.every(function(S,E){return S===w[E]})})}}),react:(l=>{l.exports=n}),uplot:(l=>{l.exports=r})},o={};function a(l){var c=o[l];if(c!==void 0)return c.exports;var u=o[l]={exports:{}};return i[l](u,u.exports,a),u.exports}a.n=l=>{var c=l&&l.__esModule?()=>l.default:()=>l;return a.d(c,{a:c}),c},a.d=(l,c)=>{for(var u in c)a.o(c,u)&&!a.o(l,u)&&Object.defineProperty(l,u,{enumerable:!0,get:c[u]})},a.o=(l,c)=>Object.prototype.hasOwnProperty.call(l,c),a.r=l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})};var s={};return(()=>{a.r(s),a.d(s,{default:()=>p});var l=a("react"),c=a.n(l),u=a("uplot"),d=a.n(u),f=a("./common/index.ts");function p(g){var h=g.options,y=g.data,b=g.target,w=g.onDelete,S=g.onCreate,E=g.resetScales,_=E===void 0?!0:E,m=g.className,C=(0,l.useRef)(null),T=(0,l.useRef)(null),O=(0,l.useRef)(h),R=(0,l.useRef)(b),j=(0,l.useRef)(y),D=(0,l.useRef)(S),L=(0,l.useRef)(w);(0,l.useEffect)(function(){D.current=S,L.current=w});var V=(0,l.useCallback)(function(B){var H;B&&((H=L.current)===null||H===void 0||H.call(L,B),B.destroy(),C.current=null)},[]),z=(0,l.useCallback)(function(){var B,H=new(d())(O.current,j.current,R.current||T.current);C.current=H,(B=D.current)===null||B===void 0||B.call(D,H)},[]);return(0,l.useEffect)(function(){return z(),function(){V(C.current)}},[z,V]),(0,l.useEffect)(function(){if(O.current!==h){var B=(0,f.optionsUpdateState)(O.current,h);O.current=h,!C.current||B==="create"?(V(C.current),z()):B==="update"&&C.current.setSize({width:h.width,height:h.height})}},[h,z,V]),(0,l.useEffect)(function(){j.current!==y&&(C.current?(0,f.dataMatch)(j.current,y)||(_?C.current.setData(y,!0):(C.current.setData(y,!1),C.current.redraw())):(j.current=y,z()),j.current=y)},[y,_,z]),(0,l.useEffect)(function(){return R.current!==b&&(R.current=b,z()),function(){return V(C.current)}},[b,z,V]),b?null:c().createElement("div",{ref:T,className:m})}})(),s=s.default,s})())})(MO)),MO.exports}var A3e=T3e();const I3e=Ga(A3e),O3e=(e,t,n)=>({hooks:{setCursor:r=>{if(!e.current||!t.current)return;const{idx:i}=r.cursor,o=i!=null?r.data[0][i]:null,a=i!=null?r.data[1][i]:null;if([a,o].every(s=>s!==null)){try{e.current.textContent=_S(o,NO)}catch{e.current.textContent=(o==null?void 0:o.toString())??""}t.current.textContent=n(a)}else e.current.textContent=null,t.current.textContent=null}}}),k3e=({data:e,startTime:t,endTime:n,colors:r,mapXValue:i,mapYValue:o=u=>(+u).toFixed(4),timeRef:a,valueRef:s,widgetConfig:l,theme:c})=>{const u={stroke:c.color.gray2,labelFont:`600 12px ${c.font}`,font:`14px ${c.font}`,ticks:{show:!1,stroke:c.color.gray1,width:.8,dash:[],size:10},grid:{stroke:c.color.selectionDarker}},d=[{...u,values:(h,y)=>{const b=[];return y.map((w,S)=>{const E=i(w,S,y);return E===null||b.includes(E)?null:(b.push(E),E)})}},{...u,values:(h,y)=>y.map(b=>o(b))}],f=h=>h.startsWith("#")?`${h}33`:h.startsWith("rgb")?h.replace("rgb","rgba").replace(")",", 0.2)"):h,p={x:{},y:{label:"",points:{show:e[0].length===1},stroke:r[0],fill:f(r[0]),width:.6,value:(h,y)=>l.distribution!==3?o(y):y}},g={x:{time:!0,range:[t,n]},y:{distr:l.distribution,range:(h,y,b)=>[(h.data[0].length>1&&l.distribution!==3&&y!==b?y:l.distribution!==3?0:1)||0,b||1]}};return{ms:1,padding:[10,20,0,20],cursor:{sync:{key:"metrics",setSeries:!0}},axes:Object.values(d),series:Object.values(p),scales:g,legend:{show:!1,markers:{show:!1}},plugins:[O3e(a,s,o)]}},N3e=U.div.withConfig({displayName:"graph__Actions"})([`
  margin-right: 0;
`]),R3e=U(tt).attrs({align:"center",flexDirection:"column",gap:0}).withConfig({displayName:"graph__Root"})([`
  position: relative;
  background-color: `,`;
  height: 25rem;
`],({theme:e})=>e.color.backgroundLighter),j3e=U.div.withConfig({displayName:"graph__BeforeLabel"})([`
  margin-left: 0;
`]),L3e=U(tt).attrs({align:"center",justifyContent:"space-between"}).withConfig({displayName:"graph__Header"})([`
  position: relative;
  width: 100%;
`]),M3e=U.span.withConfig({displayName:"graph__HeaderText"})([`
  font-size: 1.4rem;
  font-weight: 600;
  padding: 0 0 0 1rem;
`]),P3e=U(tt).attrs({flexDirection:"column",align:"center"}).withConfig({displayName:"graph__GraphWrapper"})([`
  position: relative;
  padding: 1rem 0;
`]),D3e=U(tt).attrs({flexDirection:"column",align:"center",justifyContent:"center"}).withConfig({displayName:"graph__GraphOverlay"})([`
  width: 100%;
  height: 15rem;
  position: absolute;
  z-index: 1;
`]),F3e=U.div.withConfig({displayName:"graph__Label"})([`
  position: absolute;
  bottom: 1rem;
  display: flex;
  gap: 0.5rem;
  font-family: `,`;
`],({theme:e})=>e.font),U3e=U.span.withConfig({displayName:"graph__LabelValue"})([`
  color: `,`;
`],({theme:e})=>e.color.cyan),z3e=U(Ic).withConfig({displayName:"graph__ErrorIcon"})([`
  color: `,`;
`],({theme:e})=>e.color.red),B3e=({dateFrom:e,dateTo:t,tableId:n,tableName:r,beforeLabel:i,data:o,canZoomToData:a,colors:s,loading:l,actions:c,onZoomToData:u,widgetConfig:d,hasError:f})=>{var z;const p=x.useContext(m7e),g=x.useRef(null),h=x.useRef(null),y=x.useRef(),{isTableMetric:b,mapYValue:w,chartTitle:S}=d,E=new Date(Oa(e)).getTime(),_=new Date(Oa(t)).getTime(),[m,C]=x.useState(l),[T,O]=x.useState(void 0),R=x.useMemo(()=>new ResizeObserver(B=>{B[0]&&y.current&&y.current.setSize({width:B[0].contentRect.width,height:200})}),[]),j=Oa(e),D=Oa(t);x.useEffect(()=>{O(k3e({data:o,startTime:E,endTime:_,colors:s,timeRef:g,valueRef:h,mapXValue:B=>tOe(B,E,_),mapYValue:w,widgetConfig:d,theme:p}))},[o]);const L=x.useRef(null);x.useEffect(()=>(L.current&&R.observe(L.current),()=>{R.disconnect(),y.current&&(y.current.destroy(),y.current=void 0)}),[]),x.useEffect(()=>{if(l){const B=setTimeout(()=>{C(!0)},1e3);return()=>clearTimeout(B)}C(!1)},[l]);const V=o[1].length>0?w(Math.floor(o[1][o[1].length-1])):void 0;return v.jsxs(R3e,{ref:L,children:[v.jsxs(L3e,{children:[v.jsxs(tt,{gap:"0.5rem",align:"center",children:[v.jsx(j3e,{children:i}),v.jsx(M3e,{children:S}),v.jsx(Aa,{icon:v.jsx(hc,{size:"16px",style:{flexShrink:0}}),tooltip:d.getDescription({lastValue:V,sampleBySeconds:Lte(j,D)}),placement:"bottom"}),m&&v.jsx(wf,{size:"18px",spin:!0}),f&&v.jsx(Aa,{icon:v.jsx(z3e,{size:"18px"}),tooltip:"Error fetching latest data, try refreshing manually",placement:"bottom"})]}),v.jsx(N3e,{children:c})]}),v.jsxs(P3e,{children:[!Mte(o)&&v.jsxs(D3e,{children:[b&&!r?v.jsx(st,{color:"gray2",children:n?"Table does not exist. Please select another one":"Select a table to see metrics"}):v.jsx(st,{color:"gray2",children:"No data available for this period"}),a&&v.jsx(vn,{skin:"secondary",onClick:u,children:"Zoom to data"})]}),v.jsx("div",{ref:L,children:T&&v.jsx(I3e,{options:{...T,height:200,width:((z=L.current)==null?void 0:z.clientWidth)??0},data:o,onCreate:B=>{y.current=B}})}),v.jsxs(F3e,{children:[v.jsx("span",{ref:g}),v.jsx(U3e,{ref:h})]})]})]})};var dre={exports:{}},fre;function $3e(){return fre||(fre=1,(function(e){e.exports=(function(t){var n={};function r(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}return r.m=t,r.c=n,r.p="",r(0)})([(function(t,n,r){t.exports=r(1)}),(function(t,n,r){Object.defineProperty(n,"__esModule",{value:!0});function i(s){return s&&s.__esModule?s:{default:s}}var o=r(2),a=i(o);n.default=a.default,t.exports=n.default}),(function(t,n,r){Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(g){for(var h=1;h<arguments.length;h++){var y=arguments[h];for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(g[b]=y[b])}return g};n.default=p;function o(g){return g&&g.__esModule?g:{default:g}}function a(g,h){var y={};for(var b in g)h.indexOf(b)>=0||Object.prototype.hasOwnProperty.call(g,b)&&(y[b]=g[b]);return y}var s=r(3),l=r(4),c=o(l),u=r(14),d=r(15),f=o(d);p.propTypes={activeClassName:c.default.string,activeIndex:c.default.number,activeStyle:c.default.object,autoEscape:c.default.bool,className:c.default.string,findChunks:c.default.func,highlightClassName:c.default.oneOfType([c.default.object,c.default.string]),highlightStyle:c.default.object,highlightTag:c.default.oneOfType([c.default.node,c.default.func,c.default.string]),sanitize:c.default.func,searchWords:c.default.arrayOf(c.default.oneOfType([c.default.string,c.default.instanceOf(RegExp)])).isRequired,textToHighlight:c.default.string.isRequired,unhighlightTag:c.default.oneOfType([c.default.node,c.default.func,c.default.string]),unhighlightClassName:c.default.string,unhighlightStyle:c.default.object};function p(g){var h=g.activeClassName,y=h===void 0?"":h,b=g.activeIndex,w=b===void 0?-1:b,S=g.activeStyle,E=g.autoEscape,_=g.caseSensitive,m=_===void 0?!1:_,C=g.className,T=g.findChunks,O=g.highlightClassName,R=O===void 0?"":O,j=g.highlightStyle,D=j===void 0?{}:j,L=g.highlightTag,V=L===void 0?"mark":L,z=g.sanitize,B=g.searchWords,H=g.textToHighlight,J=g.unhighlightTag,ne=J===void 0?"span":J,q=g.unhighlightClassName,ee=q===void 0?"":q,te=g.unhighlightStyle,$=a(g,["activeClassName","activeIndex","activeStyle","autoEscape","caseSensitive","className","findChunks","highlightClassName","highlightStyle","highlightTag","sanitize","searchWords","textToHighlight","unhighlightTag","unhighlightClassName","unhighlightStyle"]),ae=(0,s.findAll)({autoEscape:E,caseSensitive:m,findChunks:T,sanitize:z,searchWords:B,textToHighlight:H}),ue=V,me=-1,Fe="",Ie=void 0,Ee=function(it){var St={};for(var xt in it)St[xt.toLowerCase()]=it[xt];return St},He=(0,f.default)(Ee);return(0,u.createElement)("span",i({className:C},$,{children:ae.map(function(it,St){var xt=H.substr(it.start,it.end-it.start);if(it.highlight){me++;var Ct=void 0;typeof R=="object"?m?Ct=R[xt]:(R=He(R),Ct=R[xt.toLowerCase()]):Ct=R;var We=me===+w;Fe=Ct+" "+(We?y:""),Ie=We===!0&&S!=null?Object.assign({},D,S):D;var Oe={children:xt,className:Fe,key:St,style:Ie};return typeof ue!="string"&&(Oe.highlightIndex=me),(0,u.createElement)(ue,Oe)}else return(0,u.createElement)(ne,{children:xt,className:ee,key:St,style:te})})}))}t.exports=n.default}),(function(t,n){t.exports=(function(r){var i={};function o(a){if(i[a])return i[a].exports;var s=i[a]={exports:{},id:a,loaded:!1};return r[a].call(s.exports,s,s.exports,o),s.loaded=!0,s.exports}return o.m=r,o.c=i,o.p="",o(0)})([(function(r,i,o){r.exports=o(1)}),(function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(2);Object.defineProperty(i,"combineChunks",{enumerable:!0,get:function(){return a.combineChunks}}),Object.defineProperty(i,"fillInChunks",{enumerable:!0,get:function(){return a.fillInChunks}}),Object.defineProperty(i,"findAll",{enumerable:!0,get:function(){return a.findAll}}),Object.defineProperty(i,"findChunks",{enumerable:!0,get:function(){return a.findChunks}})}),(function(r,i){Object.defineProperty(i,"__esModule",{value:!0}),i.findAll=function(u){var d=u.autoEscape,f=u.caseSensitive,p=f===void 0?!1:f,g=u.findChunks,h=g===void 0?a:g,y=u.sanitize,b=u.searchWords,w=u.textToHighlight;return s({chunksToHighlight:o({chunks:h({autoEscape:d,caseSensitive:p,sanitize:y,searchWords:b,textToHighlight:w})}),totalLength:w?w.length:0})};var o=i.combineChunks=function(u){var d=u.chunks;return d=d.sort(function(f,p){return f.start-p.start}).reduce(function(f,p){if(f.length===0)return[p];var g=f.pop();if(p.start<=g.end){var h=Math.max(g.end,p.end);f.push({start:g.start,end:h})}else f.push(g,p);return f},[]),d},a=function(u){var d=u.autoEscape,f=u.caseSensitive,p=u.sanitize,g=p===void 0?l:p,h=u.searchWords,y=u.textToHighlight;return y=g(y),h.filter(function(b){return b}).reduce(function(b,w){w=g(w),d&&(w=c(w));for(var S=new RegExp(w,f?"g":"gi"),E=void 0;E=S.exec(y);){var _=E.index,m=S.lastIndex;m>_&&b.push({start:_,end:m}),E.index==S.lastIndex&&S.lastIndex++}return b},[])};i.findChunks=a;var s=i.fillInChunks=function(u){var d=u.chunksToHighlight,f=u.totalLength,p=[],g=function(y,b,w){b-y>0&&p.push({start:y,end:b,highlight:w})};if(d.length===0)g(0,f,!1);else{var h=0;d.forEach(function(y){g(h,y.start,!1),g(y.start,y.end,!0),h=y.end}),g(h,f,!1)}return p};function l(u){return u}function c(u){return u.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}})])}),(function(t,n,r){(function(i){if(i.env.NODE_ENV!=="production"){var o=typeof Symbol=="function"&&Symbol.for&&Symbol.for("react.element")||60103,a=function(l){return typeof l=="object"&&l!==null&&l.$$typeof===o},s=!0;t.exports=r(6)(a,s)}else t.exports=r(13)()}).call(n,r(5))}),(function(t,n){var r=t.exports={},i,o;function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?i=setTimeout:i=a}catch{i=a}try{typeof clearTimeout=="function"?o=clearTimeout:o=s}catch{o=s}})();function l(w){if(i===setTimeout)return setTimeout(w,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(w,0);try{return i(w,0)}catch{try{return i.call(null,w,0)}catch{return i.call(this,w,0)}}}function c(w){if(o===clearTimeout)return clearTimeout(w);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(w);try{return o(w)}catch{try{return o.call(null,w)}catch{return o.call(this,w)}}}var u=[],d=!1,f,p=-1;function g(){!d||!f||(d=!1,f.length?u=f.concat(u):p=-1,u.length&&h())}function h(){if(!d){var w=l(g);d=!0;for(var S=u.length;S;){for(f=u,u=[];++p<S;)f&&f[p].run();p=-1,S=u.length}f=null,d=!1,c(w)}}r.nextTick=function(w){var S=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)S[E-1]=arguments[E];u.push(new y(w,S)),u.length===1&&!d&&l(h)};function y(w,S){this.fun=w,this.array=S}y.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function b(){}r.on=b,r.addListener=b,r.once=b,r.off=b,r.removeListener=b,r.removeAllListeners=b,r.emit=b,r.prependListener=b,r.prependOnceListener=b,r.listeners=function(w){return[]},r.binding=function(w){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(w){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}),(function(t,n,r){(function(i){var o=r(7),a=r(8),s=r(9),l=r(10),c=r(11),u=r(12);t.exports=function(d,f){var p=typeof Symbol=="function"&&Symbol.iterator,g="@@iterator";function h(te){var $=te&&(p&&te[p]||te[g]);if(typeof $=="function")return $}var y="<<anonymous>>",b={array:_("array"),bool:_("boolean"),func:_("function"),number:_("number"),object:_("object"),string:_("string"),symbol:_("symbol"),any:m(),arrayOf:C,element:T(),instanceOf:O,node:L(),objectOf:j,oneOf:R,oneOfType:D,shape:V,exact:z};function w(te,$){return te===$?te!==0||1/te===1/$:te!==te&&$!==$}function S(te){this.message=te,this.stack=""}S.prototype=Error.prototype;function E(te){if(i.env.NODE_ENV!=="production")var $={},ae=0;function ue(Fe,Ie,Ee,He,it,St,xt){if(He=He||y,St=St||Ee,xt!==c){if(f)a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if(i.env.NODE_ENV!=="production"&&typeof console<"u"){var Ct=He+":"+Ee;!$[Ct]&&ae<3&&(s(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",St,He),$[Ct]=!0,ae++)}}return Ie[Ee]==null?Fe?Ie[Ee]===null?new S("The "+it+" `"+St+"` is marked as required "+("in `"+He+"`, but its value is `null`.")):new S("The "+it+" `"+St+"` is marked as required in "+("`"+He+"`, but its value is `undefined`.")):null:te(Ie,Ee,He,it,St)}var me=ue.bind(null,!1);return me.isRequired=ue.bind(null,!0),me}function _(te){function $(ae,ue,me,Fe,Ie,Ee){var He=ae[ue],it=J(He);if(it!==te){var St=ne(He);return new S("Invalid "+Fe+" `"+Ie+"` of type "+("`"+St+"` supplied to `"+me+"`, expected ")+("`"+te+"`."))}return null}return E($)}function m(){return E(o.thatReturnsNull)}function C(te){function $(ae,ue,me,Fe,Ie){if(typeof te!="function")return new S("Property `"+Ie+"` of component `"+me+"` has invalid PropType notation inside arrayOf.");var Ee=ae[ue];if(!Array.isArray(Ee)){var He=J(Ee);return new S("Invalid "+Fe+" `"+Ie+"` of type "+("`"+He+"` supplied to `"+me+"`, expected an array."))}for(var it=0;it<Ee.length;it++){var St=te(Ee,it,me,Fe,Ie+"["+it+"]",c);if(St instanceof Error)return St}return null}return E($)}function T(){function te($,ae,ue,me,Fe){var Ie=$[ae];if(!d(Ie)){var Ee=J(Ie);return new S("Invalid "+me+" `"+Fe+"` of type "+("`"+Ee+"` supplied to `"+ue+"`, expected a single ReactElement."))}return null}return E(te)}function O(te){function $(ae,ue,me,Fe,Ie){if(!(ae[ue]instanceof te)){var Ee=te.name||y,He=ee(ae[ue]);return new S("Invalid "+Fe+" `"+Ie+"` of type "+("`"+He+"` supplied to `"+me+"`, expected ")+("instance of `"+Ee+"`."))}return null}return E($)}function R(te){if(!Array.isArray(te))return i.env.NODE_ENV!=="production"&&s(!1,"Invalid argument supplied to oneOf, expected an instance of array."),o.thatReturnsNull;function $(ae,ue,me,Fe,Ie){for(var Ee=ae[ue],He=0;He<te.length;He++)if(w(Ee,te[He]))return null;var it=JSON.stringify(te);return new S("Invalid "+Fe+" `"+Ie+"` of value `"+Ee+"` "+("supplied to `"+me+"`, expected one of "+it+"."))}return E($)}function j(te){function $(ae,ue,me,Fe,Ie){if(typeof te!="function")return new S("Property `"+Ie+"` of component `"+me+"` has invalid PropType notation inside objectOf.");var Ee=ae[ue],He=J(Ee);if(He!=="object")return new S("Invalid "+Fe+" `"+Ie+"` of type "+("`"+He+"` supplied to `"+me+"`, expected an object."));for(var it in Ee)if(Ee.hasOwnProperty(it)){var St=te(Ee,it,me,Fe,Ie+"."+it,c);if(St instanceof Error)return St}return null}return E($)}function D(te){if(!Array.isArray(te))return i.env.NODE_ENV!=="production"&&s(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),o.thatReturnsNull;for(var $=0;$<te.length;$++){var ae=te[$];if(typeof ae!="function")return s(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",q(ae),$),o.thatReturnsNull}function ue(me,Fe,Ie,Ee,He){for(var it=0;it<te.length;it++){var St=te[it];if(St(me,Fe,Ie,Ee,He,c)==null)return null}return new S("Invalid "+Ee+" `"+He+"` supplied to "+("`"+Ie+"`."))}return E(ue)}function L(){function te($,ae,ue,me,Fe){return B($[ae])?null:new S("Invalid "+me+" `"+Fe+"` supplied to "+("`"+ue+"`, expected a ReactNode."))}return E(te)}function V(te){function $(ae,ue,me,Fe,Ie){var Ee=ae[ue],He=J(Ee);if(He!=="object")return new S("Invalid "+Fe+" `"+Ie+"` of type `"+He+"` "+("supplied to `"+me+"`, expected `object`."));for(var it in te){var St=te[it];if(St){var xt=St(Ee,it,me,Fe,Ie+"."+it,c);if(xt)return xt}}return null}return E($)}function z(te){function $(ae,ue,me,Fe,Ie){var Ee=ae[ue],He=J(Ee);if(He!=="object")return new S("Invalid "+Fe+" `"+Ie+"` of type `"+He+"` "+("supplied to `"+me+"`, expected `object`."));var it=l({},ae[ue],te);for(var St in it){var xt=te[St];if(!xt)return new S("Invalid "+Fe+" `"+Ie+"` key `"+St+"` supplied to `"+me+"`.\nBad object: "+JSON.stringify(ae[ue],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(te),null,"  "));var Ct=xt(Ee,St,me,Fe,Ie+"."+St,c);if(Ct)return Ct}return null}return E($)}function B(te){switch(typeof te){case"number":case"string":case"undefined":return!0;case"boolean":return!te;case"object":if(Array.isArray(te))return te.every(B);if(te===null||d(te))return!0;var $=h(te);if($){var ae=$.call(te),ue;if($!==te.entries){for(;!(ue=ae.next()).done;)if(!B(ue.value))return!1}else for(;!(ue=ae.next()).done;){var me=ue.value;if(me&&!B(me[1]))return!1}}else return!1;return!0;default:return!1}}function H(te,$){return te==="symbol"||$["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&$ instanceof Symbol}function J(te){var $=typeof te;return Array.isArray(te)?"array":te instanceof RegExp?"object":H($,te)?"symbol":$}function ne(te){if(typeof te>"u"||te===null)return""+te;var $=J(te);if($==="object"){if(te instanceof Date)return"date";if(te instanceof RegExp)return"regexp"}return $}function q(te){var $=ne(te);switch($){case"array":case"object":return"an "+$;case"boolean":case"date":case"regexp":return"a "+$;default:return $}}function ee(te){return!te.constructor||!te.constructor.name?y:te.constructor.name}return b.checkPropTypes=u,b.PropTypes=b,b}}).call(n,r(5))}),(function(t,n){function r(o){return function(){return o}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(o){return o},t.exports=i}),(function(t,n,r){(function(i){var o=function(s){};i.env.NODE_ENV!=="production"&&(o=function(s){if(s===void 0)throw new Error("invariant requires an error message argument")});function a(s,l,c,u,d,f,p,g){if(o(l),!s){var h;if(l===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var y=[c,u,d,f,p,g],b=0;h=new Error(l.replace(/%s/g,function(){return y[b++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}}t.exports=a}).call(n,r(5))}),(function(t,n,r){(function(i){var o=r(7),a=o;if(i.env.NODE_ENV!=="production"){var s=function(l){for(var c=arguments.length,u=Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];var f=0,p="Warning: "+l.replace(/%s/g,function(){return u[f++]});typeof console<"u"&&console.error(p);try{throw new Error(p)}catch{}};a=function(l,c){if(c===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(c.indexOf("Failed Composite propType: ")!==0&&!l){for(var u=arguments.length,d=Array(u>2?u-2:0),f=2;f<u;f++)d[f-2]=arguments[f];s.apply(void 0,[c].concat(d))}}}t.exports=a}).call(n,r(5))}),(function(t,n){var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(l){if(l==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(l)}function s(){try{if(!Object.assign)return!1;var l=new String("abc");if(l[5]="de",Object.getOwnPropertyNames(l)[0]==="5")return!1;for(var c={},u=0;u<10;u++)c["_"+String.fromCharCode(u)]=u;var d=Object.getOwnPropertyNames(c).map(function(p){return c[p]});if(d.join("")!=="0123456789")return!1;var f={};return"abcdefghijklmnopqrst".split("").forEach(function(p){f[p]=p}),Object.keys(Object.assign({},f)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}t.exports=s()?Object.assign:function(l,c){for(var u,d=a(l),f,p=1;p<arguments.length;p++){u=Object(arguments[p]);for(var g in u)i.call(u,g)&&(d[g]=u[g]);if(r){f=r(u);for(var h=0;h<f.length;h++)o.call(u,f[h])&&(d[f[h]]=u[f[h]])}}return d}}),(function(t,n){var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";t.exports=r}),(function(t,n,r){(function(i){if(i.env.NODE_ENV!=="production")var o=r(8),a=r(9),s=r(11),l={};function c(u,d,f,p,g){if(i.env.NODE_ENV!=="production"){for(var h in u)if(u.hasOwnProperty(h)){var y;try{o(typeof u[h]=="function","%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",p||"React class",f,h,typeof u[h]),y=u[h](d,h,p,f,null,s)}catch(w){y=w}if(a(!y||y instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",p||"React class",f,h,typeof y),y instanceof Error&&!(y.message in l)){l[y.message]=!0;var b=g?g():"";a(!1,"Failed %s type: %s%s",f,y.message,b??"")}}}}t.exports=c}).call(n,r(5))}),(function(t,n,r){var i=r(7),o=r(8),a=r(11);t.exports=function(){function s(u,d,f,p,g,h){h!==a&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}s.isRequired=s;function l(){return s}var c={array:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:l,element:s,instanceOf:l,node:s,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l};return c.checkPropTypes=i,c.PropTypes=c,c}}),(function(t,n){t.exports=nN()}),(function(t,n){var r=function(o,a){return o===a};function i(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r,s=void 0,l=[],c=void 0,u=!1,d=function(p,g){return a(p,l[g])},f=function(){for(var p=arguments.length,g=Array(p),h=0;h<p;h++)g[h]=arguments[h];return u&&s===this&&g.length===l.length&&g.every(d)||(u=!0,s=this,l=g,c=o.apply(this,g)),c};return f}t.exports=i})])})(dre)),dre.exports}var H3e=$3e();let hk,hre,pre,pk,mre,gre,yre,vre,bre,wre,mk,xre,_re,Ere,Sre,Cre,Tre,Are,Ire,gk,Ore,kre,Nre,yk,Rre,vk,jre,Lre,$p,Hp,Vp,Mre,qp,Pre,Dre,Fre,Ure,zre,Bre,$re,Hre,Vre,bk,qre,Wre,Gre,Kre,Xre,Yre,Qre,Jre,wk,Zre,eie,tie,nie,xk,_k,rie,Ek,iie,oie,aie,sie,lie,cie;hk=Ga(H3e),hre=U.div.withConfig({displayName:"table-selector__Root"})([`
  display: flex;
  position: relative;
  margin-left: 1rem;
`]),pre=U(Yl).withConfig({displayName:"table-selector__TableIcon"})([`
  color: `,`;
`],({theme:e})=>e.color.gray2),pk=U(cs).withConfig({displayName:"table-selector__StyledInput"})([`
  border: 1px solid transparent;
  background: transparent;
  font-weight: 600;
  font-size: 1.6rem;
  color: `,`;
  text-transform: uppercase;
  width: 100%;
  `,`

  &:hover,
  &:active,
  &:focus {
    background: transparent;
    border-color: `,`;
  }
`],({theme:e})=>e.color.yellow,({$highlight:e})=>e&&Vn([`
      background: transparent;
      border-color: `,`;
    `],({theme:t})=>t.color.comment),({theme:e})=>e.color.comment),mre=U(pk).withConfig({displayName:"table-selector__ShadowInput"})([`
  visibility: hidden;
  width: max-content;
  z-index: 1;
  position: fixed;
`]),gre=U.div.withConfig({displayName:"table-selector__Wrapper"})([`
  position: absolute;
  width: 30rem;
  z-index: 100;
  top: 100%;
  overflow-y: auto;
  max-height: calc(10 * 3rem);
`]),yre=U.ul.withConfig({displayName:"table-selector__Options"})([`
  list-style: none;
  background: `,`;
  box-shadow: 0 5px 5px 0 `,`;
  margin: 0;
  padding: 0.5rem;
  border-radius: 0.4rem;
`],({theme:e})=>e.color.backgroundDarker,({theme:e})=>e.color.black40),vre=U.li.withConfig({displayName:"table-selector__Item"})([`
  display: flex;
  align-items: center;
  height: 3rem;
  padding: 0 1rem;
  font-family:
    SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New",
    monospace;
  `,`

  `,`
`],({active:e,theme:t})=>`
    background: ${e?t.color.selection:"transparent"};
  `,({disabled:e,theme:t})=>`
    color: ${e?t.color.gray1:t.color.foreground};
    cursor: ${e?"not-allowed":"pointer"};
  `),bre=({defaultValue:e,options:t,onSelect:n,placeholder:r,loading:i})=>{const[o,a]=x.useState(!1),s=x.useRef(null),l=x.useRef(null),[c,u]=x.useState(e??""),[d,f]=x.useState(-1),p=gu("ArrowDown"),g=gu("ArrowUp"),h=gu("Enter"),y=x.useRef(null),b=x.useRef(void 0),w=t.filter(S=>c?S.label.toLowerCase().includes(c.toLowerCase()):!0).sort((S,E)=>S.label.toLowerCase().localeCompare(E.label.toLowerCase()));return x.useEffect(()=>{if(!(!s.current||!l.current)&&s.current&&l.current&&!i){s.current.style.width=`${l.current.offsetWidth}px`;const S=e??"";b.current!==S&&(u(e??""),b.current=e??"");const E=_=>{var m;(m=s.current)!=null&&m.contains(_.target)||(_.target instanceof HTMLElement||_.target instanceof SVGElement)&&_.target.getAttribute("data-hook")!=="table-selector-item"&&(e&&u(e),a(!1))};return document.addEventListener("click",E),()=>document.removeEventListener("click",E)}},[e,s,i]),x.useEffect(()=>{p?f(d<w.length-1?d+1:0):g&&f(d>0?d-1:w.length-1)},[p,g]),x.useEffect(()=>{if(h&&w.length>0&&d!==-1){if(w[d].disabled)return;n(w[d].value),a(!1),u(w[d].label)}},[h]),x.useEffect(()=>{w.length===1&&(c==null?void 0:c.toLowerCase())===w[0].label.toLowerCase()&&f(0)},[c,w]),v.jsxs(hre,{children:[v.jsxs(tt,{align:"center",gap:"0.5rem",children:[v.jsx(pre,{size:"18px"}),v.jsx(pk,{value:c,$highlight:e==="",placeholder:e!==""?e:r,ref:s,onFocus:()=>{var S;u(e),(S=s.current)==null||S.select(),a(!0)},onKeyUp:S=>{S.key==="Backspace"?c===""&&(u(""),a(!0),f(-1)):S.key==="Escape"&&(u(e),a(!1))},onChange:S=>{u(S.target.value??"")}})]}),v.jsx(mre,{ref:l,as:"span",children:e!==""?e:r}),o&&v.jsx(gre,{ref:y,children:v.jsx(yre,{children:w.sort((S,E)=>S.disabled===E.disabled?0:S.disabled?1:-1).map((S,E)=>v.jsx(vre,{"data-hook":"table-selector-item",tabIndex:E,active:d===w.indexOf(S),onMouseEnter:()=>f(E),onMouseLeave:()=>f(-1),disabled:S.disabled,...!S.disabled&&{onClick:()=>{s.current.value=S.label,n(S.value),u(S.label),a(!1)}},children:v.jsx(hk,{highlightClassName:"highlight",searchWords:[c??""],textToHighlight:S.label})},S.value))})})]})},wre=U(tt).attrs({align:"center",justifyContent:"center"}).withConfig({displayName:"metric__MetricInfoRoot"})([`
  background-color: `,`;
  height: 25rem;
`],({theme:e})=>e.color.backgroundLighter),mk=U(vn).withConfig({displayName:"metric__ActionButton"})([`
  padding: 0;
  width: 3rem;
`]),xre=({dateFrom:e,dateTo:t,metric:n,onRemove:r,onTableChange:i,onColorChange:o})=>{var D;const{quest:a}=x.useContext(Xa),[s,l]=x.useState(n.tableId!==void 0),[c,u]=x.useState(),[d,f]=x.useState(!1),p=ie.useRef(n.tableId),g=ie.useRef(e),h=ie.useRef(t),y=ie.useRef([[],[]]),b=ie.useRef(),[w,S]=x.useState(!1);g.current=e,h.current=t;const E=oi(Mr.query.getTables),_=(D=E.find(L=>L.id===n.tableId))==null?void 0:D.table_name;b.current=_;const m=mx[n.metricType],C=x.useCallback(async()=>{l(!0),S(!1);try{const L=Oa(g.current),V=Oa(h.current),z=jte(L),B=jte(V),H=Lte(L,V),J=await Promise.all([a.query(nOe(m.getQuery({tableId:p.current,sampleBySeconds:H,from:z,to:B})))]);if(J[0]&&J[0].type===Xn.DQL){const ne=J[0].data;if(ne.length>0||!L||!V||!H)y.current=m.alignData(ne);else{const q=Date.parse(L),ee=Date.parse(V),te=Math.floor((ee-q)/1e3/H),$=Array.from({length:te},(ue,me)=>(q/1e3+me*H)*1e3),ae=new Array(te).fill(0);y.current=[$,ae]}}if(J[1]&&J[1].type===Xn.DQL){const ne=J[1].data[0];u(ne?new Date(ne.created).getTime():void 0)}}catch(L){console.error(L),S(!0)}finally{l(!1)}},[_,m,a]),T=()=>{},O=()=>{b.current?C():(y.current=[[],[]],l(!1))};x.useEffect(()=>{_&&(b.current=_,p.current=n.tableId,y.current=[[],[]],C())},[_,m]),x.useEffect(()=>(Bn.subscribe(zn.METRICS_REFRESH_DATA,O),()=>{Bn.unsubscribe(zn.METRICS_REFRESH_DATA,O)}),[_,m]);const R=!1,j=x.useMemo(()=>E.map(L=>({label:L.table_name,value:L.id.toString(),disabled:!L.walEnabled})),[E]);return!y.current&&!s&&n.tableId?(n.tableId=void 0,v.jsxs(wre,{children:[v.jsx(Ic,{size:"18px"}),"Cannot load metric:"," ",m?m.label:n.metricType]})):v.jsx(B3e,{dateFrom:e,dateTo:t,data:n.tableId&&Mte(y.current)?y.current:[[],[]],canZoomToData:R,onZoomToData:T,colors:[n.color],loading:s,tableId:n.tableId,tableName:_,widgetConfig:m,beforeLabel:v.jsx(bre,{tableId:n.tableId,loading:s,options:j,placeholder:"Select table",onSelect:L=>i(n,parseInt(L)),defaultValue:b.current||""}),actions:v.jsxs(tt,{gap:"0.5rem",align:"center",children:[v.jsx(Aa,{icon:v.jsx(eo,{children:v.jsx(hI,{open:d,onOpenChange:f,trigger:v.jsx(mk,{skin:"transparent",children:v.jsx(ZX,{size:"18px"})}),align:"center",children:v.jsx(yOe,{onSelect:L=>o(n,L),selectedColor:n.color})})}),tooltip:"Choose series color",placement:"top"}),v.jsx(Aa,{icon:v.jsx(mk,{skin:"transparent",onClick:()=>r(n),children:v.jsx(kA,{size:"18px"})}),tooltip:"Remove metric",placement:"top"})]}),hasError:w})},_re=U(tt).attrs({gap:"1rem",flexDirection:"column",align:"flex-start"}).withConfig({displayName:"date-time-picker__Root"})([`
  background: `,`;
  width: 50rem;
  padding: 1rem 1rem 0 1rem;
`],({theme:e})=>e.color.backgroundDarker),Ere=U(tt).attrs({gap:0,align:"flex-start"}).withConfig({displayName:"date-time-picker__Cols"})([`
  width: 100%;
`]),Sre=U(vn).withConfig({displayName:"date-time-picker__Trigger"})([`
  padding-right: 0;
`]),Cre=U(tt).attrs({flexDirection:"column",gap:"1rem",align:"flex-start"}).withConfig({displayName:"date-time-picker__DatePickers"})([`
  width: 70%;
  align-self: flex-start;
  padding-right: 1rem;
  padding-left: 1rem;
`]),Tre=U.ul.withConfig({displayName:"date-time-picker__MetricDurations"})([`
  width: 40%;
  list-style: none;
  margin: 0;
  padding: 0 0 0 1rem;
  border-left: 1px solid `,`;
`],({theme:e})=>e.color.selection),Are=U.li.withConfig({displayName:"date-time-picker__MetricDurationItem"})([`
  cursor: pointer;
  height: 3rem;
  padding: 0 1rem;
  line-height: 3rem;

  &:hover {
    background: `,`;
  }

  `,`
`],({theme:e})=>e.color.selection,({selected:e,theme:t})=>e&&`& { background: ${t.color.selection}; }`),Ire=U(tt).attrs({gap:0,align:"center"}).withConfig({displayName:"date-time-picker__Footer"})([`
  width: 100%;
  padding: 1rem 0;
  border-top: 1px solid `,`;
`],({theme:e})=>e.color.selection),gk=({min:e,max:t,name:n,label:r,dateFrom:i,dateTo:o,onChange:a})=>{const{setValue:s}=kc(),l=d=>{s(n,d.target.value);try{const f=Oa(d.target.value);if(f==="Invalid date")return;n==="dateFrom"?a([f,o]):n==="dateTo"&&a([i,f])}catch(f){console.error(f)}},c=Oa(i),u=Oa(o);return v.jsx(wr.Item,{name:n,label:r,children:v.jsxs(tt,{gap:"0.5rem",align:"center",children:[v.jsx(wr.Input,{name:n,onChange:l,placeholder:"now"}),v.jsx(hI,{trigger:v.jsxs(vn,{skin:"secondary",children:[" ",v.jsx(qX,{size:"18px"})," "]}),align:"center",children:v.jsx(tU,{min:e,max:t,onChange:d=>{const f=d;["dateFrom","dateTo"].forEach((p,g)=>{d&&f[g]&&s(p,_S(new Date(f[g]).getTime()))})},value:[c!=="Invalid date"?new Date(Oa(i)):new Date,u=="Invalid date"?new Date(Oa(o)):new Date],selectRange:!0})})]})})},Ore=({dateFrom:e,dateTo:t,onDateFromToChange:n})=>{const[r,i]=x.useState(!1),[o,a]=x.useState(e),[s,l]=x.useState(t),c=async h=>{h.dateFrom&&h.dateTo&&(await n(jO(h.dateFrom)?h.dateFrom:Dd(h.dateFrom),jO(h.dateTo)?h.dateTo:Dd(h.dateTo)),i(!1))},u=ype(new Date),d=new Date,f={"string.empty":"Please enter a date or duration","string.invalidDate":"Date format or duration is invalid","string.toIsBeforeFrom":"To date must be after From date","string.dateInFuture":"Please set a date in the past or use `now`","string.fromIsAfterTo":"From date must be before To date","string.sameValues":"From and To dates cannot be the same","any.custom":"One of the values is invalid","string.maxDateRange":"Date range cannot exceed 7 days"},p=Mo.object({dateFrom:Mo.any().required().custom((h,y)=>{const b=Oa(h),w=new Date(b).getTime(),S=new Date().getTime();try{const E=new Date(Oa(y.state.ancestors[0].dateTo)).getTime();return b==="Invalid date"?y.error("string.invalidDate"):w>=E?y.error("string.fromIsAfterTo"):w>S?y.error("string.dateInFuture"):w===S?y.error("string.sameValues"):E-w>kte*1e3?y.error("string.maxDateRange"):h}catch{return y.error("any.custom")}}).messages(f),dateTo:Mo.any().required().custom((h,y)=>{const b=Oa(h),w=new Date(b).getTime(),S=new Date().getTime(),E=new Date(Oa(y.state.ancestors[0].dateFrom)).getTime();return b==="Invalid date"?y.error("string.invalidDate"):w<=E?y.error("string.toIsBeforeFrom"):w>S?y.error("string.dateInFuture"):w===S?y.error("string.sameValues"):w-E>kte*1e3?y.error("string.maxDateRange"):h}).messages(f)}),g={min:u,max:d,dateFrom:o,dateTo:s,onChange:([h,y])=>{a(h),l(y)}};return x.useEffect(()=>{a(e),l(t)},[e,t]),v.jsx(hI,{open:r,onOpenChange:i,trigger:v.jsxs(Sre,{skin:"secondary",prefixIcon:v.jsx(nY,{size:"18px"}),children:[aOe(e,t),r?v.jsx(LU,{size:"28px"}):v.jsx(a4,{size:"28px"})]}),children:v.jsxs(_re,{children:[v.jsxs(Ere,{children:[v.jsxs(Cre,{children:[v.jsx(st,{weight:600,color:"foreground",size:"lg",children:"Absolute time range"}),v.jsx(wr,{name:"dateRanges",onSubmit:c,defaultValues:{dateFrom:e,dateTo:t},validationSchema:p,children:v.jsxs(tt,{flexDirection:"column",gap:"1rem",align:"flex-start",children:[v.jsx(gk,{name:"dateFrom",label:"From",...g}),v.jsx(gk,{name:"dateTo",label:"To",...g}),v.jsx(wr.Submit,{children:"Apply"})]})})]}),v.jsx(Tre,{children:Object.values(RO).map(({label:h,dateFrom:y,dateTo:b})=>v.jsx(Are,{selected:e===y&&t===b,onClick:async()=>{await n(y,b),i(!1)},children:h},h))})]}),v.jsx(Ire,{children:v.jsxs(tt,{gap:"0.5rem",align:"center",children:[v.jsx(rY,{size:"14px"}),v.jsxs(st,{color:"foreground",children:[xS()," (",Epe(),")"]})]})})]})})},kre=U.div.withConfig({displayName:"Metrics__Root"})([`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  background: #2c2e3d;
  padding-bottom: calc(4.5rem);
`]),Nre=U(tt).attrs({align:"center",justifyContent:"space-between"}).withConfig({displayName:"Metrics__Toolbar"})([`
  width: 100%;
  height: 4.5rem;
  padding: 0 2.5rem;
  border-bottom: 1px solid `,`;
  box-shadow: 0 2px 10px 0 rgba(23, 23, 23, 0.35);
  white-space: nowrap;
  flex-shrink: 0;
`],({theme:e})=>e.color.backgroundDarker),yk=U(st).withConfig({displayName:"Metrics__Header"})([`
  font-size: 1.8rem;
  font-weight: 600;
  color: `,`;
  margin-bottom: 1rem;
`],({theme:e})=>e.color.foreground),Rre=U(tt).attrs({align:"flex-start",gap:"2.5rem"}).withConfig({displayName:"Metrics__Charts"})([`
  align-content: `,`;
  padding: 2.5rem;
  overflow-y: auto;
  height: 100%;
  width: 100%;
  flex-wrap: wrap;

  > div {
    width: `,`;
    flex-shrink: 0;
  }
`],({noMetrics:e})=>e?"center":"flex-start",({viewMode:e})=>e===_u.GRID?"calc(50% - 1.25rem)":"100%"),vk=U(tt).attrs({align:"center",justifyContent:"center"}).withConfig({displayName:"Metrics__GlobalInfo"})([`
  margin: auto;

  code {
    background: #505368;
    color: `,`;
  }
`],({theme:e})=>e.color.foreground),jre=()=>v.jsx(vk,{children:v.jsxs(tt,{gap:"1.5rem",flexDirection:"column",children:[v.jsx(yk,{children:"Metrics unavailable"}),v.jsx(st,{color:"foreground",children:"Enable Telemetry to access WAL table metrics."}),v.jsxs(st,{color:"foreground",children:["Set ",v.jsx("code",{children:"telemetry.enabled=true"})," in your server.conf file and restart the server."]}),v.jsxs(st,{color:"foreground",children:["Alternatively, set ",v.jsx("code",{children:"QDB_TELEMETRY_ENABLED=true"})," ENV var for the same effect."]}),v.jsx(pp,{color:"cyan",hoverColor:"cyan",href:"https://questdb.io/docs/configuration/#telemetry",rel:"noreferrer",target:"_blank",children:v.jsxs(tt,{align:"center",gap:"0.25rem",children:[v.jsx(Oh,{size:"16px"}),"Documentation"]})})]})}),Lre=()=>{var z,B,H,J;const{activeBuffer:e,updateBuffer:t,buffers:n,isNavigatingFromSearchRef:r}=Ys(),[i,o]=x.useState(!1),a=oi(Mr.telemetry.getConfig),s=a&&a.enabled,l=x.useRef(!1),c=x.useRef(),u=x.useRef(Dd(new Date(Date.now()-900*1e3))),d=x.useRef(Dd(new Date)),f=x.useMemo(()=>n.find(ne=>ne.id===(e==null?void 0:e.id)),[n,e==null?void 0:e.id]),{dateFrom:p=u.current,dateTo:g=d.current,refreshRate:h,viewMode:y=_u.GRID}=(f==null?void 0:f.metricsViewState)??{},b=((z=f==null?void 0:f.metricsViewState)==null?void 0:z.metrics)??[],w=x.useRef(p),S=x.useRef(g),E=h?h===r1.AUTO?Nte[eOe(p,g)]:Nte[h]:0,_=x.useCallback(ne=>{f!=null&&f.id&&t(f==null?void 0:f.id,{metricsViewState:{...f==null?void 0:f.metricsViewState,metrics:ne}})},[f==null?void 0:f.id,f==null?void 0:f.metricsViewState,t]),m=x.useCallback(()=>{Bn.publish(zn.METRICS_REFRESH_DATA,{dateFrom:w.current,dateTo:S.current})},[]),C=x.useCallback(ne=>{var q,ee;f!=null&&f.id&&((q=f==null?void 0:f.metricsViewState)!=null&&q.metrics)&&_((ee=f==null?void 0:f.metricsViewState)==null?void 0:ee.metrics.filter(te=>te.position!==ne.position).map((te,$)=>({...te,position:$})))},[f==null?void 0:f.id,(B=f==null?void 0:f.metricsViewState)==null?void 0:B.metrics,_]),T=x.useCallback((ne,q)=>{var ee,te;f!=null&&f.id&&((ee=f==null?void 0:f.metricsViewState)!=null&&ee.metrics)&&_((te=f==null?void 0:f.metricsViewState)==null?void 0:te.metrics.map($=>$.position===ne.position?{...$,tableId:q}:$))},[f==null?void 0:f.id,(H=f==null?void 0:f.metricsViewState)==null?void 0:H.metrics,_]),O=x.useCallback((ne,q)=>{var ee,te;f!=null&&f.id&&((ee=f==null?void 0:f.metricsViewState)!=null&&ee.metrics)&&(_((te=f==null?void 0:f.metricsViewState)==null?void 0:te.metrics.map($=>$.position===ne.position?{...$,color:q}:$)),m())},[f==null?void 0:f.id,(J=f==null?void 0:f.metricsViewState)==null?void 0:J.metrics,_,m]),R=x.useCallback(async(ne,q)=>{w.current=ne,S.current=q,f!=null&&f.id&&(await t(f.id,{metricsViewState:{...f==null?void 0:f.metricsViewState,dateFrom:ne,dateTo:q}}),m())},[f==null?void 0:f.id,f==null?void 0:f.metricsViewState,t,m]),[j,D]=s5e(1e3),L=x.useRef(D);x.useEffect(()=>{L.current=D},[D]),x.useEffect(()=>{w.current=p,S.current=g},[p,g]);const V=x.useCallback(()=>{c.current&&(clearInterval(c.current),c.current=void 0),h&&h!==r1.OFF&&E>0?c.current=setInterval(()=>{L.current&&s&&m()},E*1e3):clearInterval(c.current)},[h,E,m]);return x.useEffect(()=>{var ne;if(f!=null&&f.id&&l.current===!1){if((ne=f==null?void 0:f.metricsViewState)!=null&&ne.metrics){const q=[...f.metricsViewState.metrics].filter(ee=>mx[ee.metricType]).map(ee=>({...ee,removed:!1}));t(f.id,{metricsViewState:{...f==null?void 0:f.metricsViewState,metrics:q}})}l.current=!0}},[f,t]),x.useEffect(()=>{f!=null&&f.id&&m()},[f==null?void 0:f.id,m]),x.useEffect(()=>{V()},[h]),x.useEffect(()=>(r.current=!1,()=>{c.current&&clearInterval(c.current)}),[]),v.jsx(kre,{"data-hook":"metrics-root",...s?{ref:j}:{},className:"metrics-root",children:s?v.jsxs(v.Fragment,{children:[v.jsxs(Nre,{children:[v.jsx(AOe,{open:i,onOpenChange:o}),v.jsxs(tt,{align:"center",gap:"1rem",children:[v.jsxs(tt,{gap:"0.5rem",style:{flexShrink:0},children:[v.jsx(Aa,{icon:v.jsx(vn,{skin:"secondary",onClick:m,children:v.jsx(eY,{size:"20px"})}),tooltip:"Refresh all widgets",placement:"bottom"}),v.jsx(Aa,{icon:v.jsx(_f,{name:"refresh_rate",value:h,options:Object.values(r1).map(ne=>({label:`Refresh: ${ne}`,value:ne})),onChange:ne=>{f!=null&&f.id&&t(f.id,{metricsViewState:{...f==null?void 0:f.metricsViewState,refreshRate:ne.target.value}})}}),tooltip:"Widget refresh rate",placement:"bottom"})]}),v.jsx(Aa,{icon:v.jsx(eo,{children:v.jsx(Ore,{dateFrom:p,dateTo:g,onDateFromToChange:R})}),tooltip:"Time duration",placement:"bottom"}),v.jsx(Aa,{icon:v.jsx(vn,{skin:"secondary",onClick:()=>{f!=null&&f.id&&t(f.id,{metricsViewState:{...f==null?void 0:f.metricsViewState,viewMode:y===_u.GRID?_u.LIST:_u.GRID}})},children:y===_u.LIST?v.jsx(XX,{size:"18px"}):v.jsx(JX,{size:"18px"})}),tooltip:v.jsxs(v.Fragment,{children:["Toggle view mode",v.jsx("br",{}),"to"," ",y===_u.GRID?"column":"grid"]}),placement:"bottom",textAlign:"center"})]})]}),v.jsxs(Rre,{noMetrics:b.length===0,viewMode:y,children:[b.length===0&&v.jsx(vk,{children:v.jsxs(tt,{gap:"1.5rem",flexDirection:"column",children:[v.jsx(yk,{children:"Add your first widget to see metrics"}),v.jsx(vn,{skin:"secondary",onClick:()=>o(!0),prefixIcon:v.jsx(o1,{size:"18px"}),children:"Add widget"})]})}),b&&[...b].sort((ne,q)=>ne.position-q.position).filter(ne=>mx[ne.metricType]&&!ne.removed).map(ne=>v.jsx(xre,{dateFrom:p,dateTo:g,metric:ne,onRemove:C,onTableChange:T,onColorChange:O},`${ne.position}-${ne.metricType}`))]})]}):v.jsx(jre,{})})},$p=U.div.withConfig({displayName:"styles__Wrapper"})([`
  display: flex;
  align-items: center;
  border-right: none;
  height: `,`;
  border-bottom: `,`;
  padding: 0 1rem;
  flex-shrink: 0;
  width: 100%;
  overflow-x: auto;
  scrollbar-width: none;
  -ms-overflow-style: none;
  &::-webkit-scrollbar {
    display: none;
  }

  `,`;
`],({isMinimized:e})=>e?"auto":"4.5rem",({isMinimized:e,theme:t})=>e?"none":`1px solid ${t.color.backgroundDarker}`,dI),Hp=U.div.withConfig({displayName:"styles__Content"})([`
  display: flex;
  margin-left: 0.5rem;
  white-space: nowrap;
`]),Vp=U.div.withConfig({displayName:"styles__SideContent"})([`
  padding-left: 1rem;
  text-overflow: ellipsis;
`]),Mre=U(st).withConfig({displayName:"Timestamp__TimestampText"})([`
  display: flex;
  margin-right: 0.5rem;
  white-space: nowrap;
`]),qp=({createdAt:e})=>{const t=x.useMemo(A_,[]);return v.jsxs(Mre,{color:"gray2",children:["[",Om(e,"pppp",{locale:ey(t)}),"]"]})},Pre=U(Z1).withConfig({displayName:"SuccessNotification__CheckmarkOutlineIcon"})([`
  color: `,`;
  flex-shrink: 0;
`],vt("green")),Dre=U(hz).withConfig({displayName:"SuccessNotification__ZapIcon"})([`
  color: `,`;
  flex-shrink: 0;
`],vt("yellow")),Fre=e=>{const{createdAt:t,content:n,sideContent:r,jitCompiled:i,isMinimized:o}=e;return v.jsxs($p,{isMinimized:o,"data-hook":"success-notification",children:[v.jsx(qp,{createdAt:t}),i?v.jsx(Aa,{icon:v.jsx(Dre,{size:"16px"}),placement:"top",tooltip:"JIT Compiled"}):v.jsx(Pre,{size:"18px"}),v.jsx(Hp,{children:n}),v.jsx(Vp,{children:r})]})},Ure=U(J1).withConfig({displayName:"ErrorNotification__CloseOutlineIcon"})([`
  color: `,`;
  flex-shrink: 0;
`],vt("red")),zre=e=>{const{createdAt:t,content:n,sideContent:r,isMinimized:i}=e;return v.jsxs($p,{isMinimized:i,"data-hook":"error-notification",children:[v.jsx(qp,{createdAt:t}),v.jsx(Ure,{size:"18px"}),v.jsx(Hp,{children:n}),v.jsx(Vp,{children:r})]})},Bre=e=>{const{createdAt:t,content:n,sideContent:r,isMinimized:i}=e;return v.jsxs($p,{isMinimized:i,"data-hook":"info-notification",children:[v.jsx(qp,{createdAt:t}),v.jsx(Hp,{children:n}),v.jsx(Vp,{children:r})]})},$re=U(bz).withConfig({displayName:"NoticeNotification__InfoOutlineIcon"})([`
  color: `,`;
  flex-shrink: 0;
`],vt("yellow")),Hre=e=>{const{createdAt:t,content:n,sideContent:r,isMinimized:i}=e;return v.jsxs($p,{isMinimized:i,"data-hook":"notice-notification",children:[v.jsx(qp,{createdAt:t}),v.jsx($re,{size:"18px"}),v.jsx(Hp,{children:n}),v.jsx(Vp,{children:r})]})},Vre=e=>{const{createdAt:t,content:n,sideContent:r,isMinimized:i}=e;return v.jsxs($p,{isMinimized:i,"data-hook":"loading-notification",children:[v.jsx(qp,{createdAt:t}),v.jsx(wf,{}),v.jsx(Hp,{children:n}),v.jsx(Vp,{children:r})]})},bk=e=>{const{type:t}=e;return t===ca.SUCCESS?v.jsx(Fre,{...e}):t===ca.ERROR?v.jsx(zre,{...e}):t==ca.NOTICE?v.jsx(Hre,{...e}):t===ca.LOADING?v.jsx(Vre,{...e}):v.jsx(Bre,{...e})},qre=U(Sf).withConfig({displayName:"Notifications__Wrapper"})([`
  flex: `,`;
  overflow: auto;
  max-height: 35rem;
  min-height: `,`;
  background: `,`;
`],e=>e.minimized?"initial":"1",e=>e.minimized?"auto":"10rem",({theme:e})=>e.color.backgroundLighter),Wre=U(MY).withConfig({displayName:"Notifications__Menu"})([`
  justify-content: space-between;
  overflow: hidden;
  border: 0;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);

  ::before {
    content: "";
    position: absolute;
    top: 0;
    cursor: text;
    left: 0;
    width: 100%;
    height: 2px;
    background: `,`;
  }
`],({theme:e})=>e.color.backgroundDarker),Gre=U(Ef).withConfig({displayName:"Notifications__Content"})([`
  overflow: `,`;
  overflow-x: hidden;
  height: `,`;
`],e=>e.minimized?"hidden":"auto",e=>e.minimized?"4rem":"100%"),Kre=U(st).withConfig({displayName:"Notifications__Header"})([`
  display: flex;
  align-items: center;
`]),Xre=U.div.withConfig({displayName:"Notifications__LatestNotification"})([`
  padding: 0 1rem;
  flex: 1;
  height: 100%;
  display: flex;
  cursor: text;
  align-items: stretch;
  width: calc(100% - 10rem);
`]),Yre=U(iz).withConfig({displayName:"Notifications__TerminalBoxIcon"})([`
  margin-right: 1rem;
`]),Qre=U.div.withConfig({displayName:"Notifications__ClearAllNotifications"})([`
  display: flex;
  width: 100%;
  height: 4.5rem;
  justify-content: center;
  padding: 0.5rem 1rem;
  margin-top: auto;
  align-items: center;
  flex-shrink: 0;
`]),Jre=({onClearNotifications:e})=>{const{activeBuffer:t}=Ys(),n=oi(Mr.query.getNotifications),r=t.id,i=oi(Mr.query.getQueryNotificationsForBuffer(r))||{},o=oi(Mr.query.getActiveNotification),{sm:a}=uI(),[s,l]=x.useState(!0),c=x.useRef(null),u=n.filter(p=>{var g,h;return!!(i[p.query]||o&&p.query===o.query&&((g=p.createdAt)==null?void 0:g.getTime())===((h=o.createdAt)==null?void 0:h.getTime()))}),d=()=>{var p,g;(g=c.current)==null||g.scrollTo({top:(p=c.current)==null?void 0:p.scrollHeight})},f=x.useCallback(()=>{l(!s)},[s]);return x.useLayoutEffect(()=>{u.length>0&&d()},[u]),x.useLayoutEffect(()=>{d()},[s]),x.useEffect(()=>{a&&l(!0)},[a]),v.jsxs(qre,{minimized:s,"data-hook":"notifications-wrapper",children:[v.jsxs(Wre,{children:[v.jsxs(Kre,{color:"foreground",children:[v.jsx(Yre,{size:"18px"}),"Log"]}),v.jsx(Xre,{"data-hook":"notifications-collapsed",children:s&&o&&v.jsx(bk,{isMinimized:!0,...o})}),(u.length>0||!s)&&v.jsx(vn,{skin:`${s?"secondary":"transparent"}`,onClick:f,"data-hook":`${s?"expand-notifications":"collapse-notifications"}`,children:s?v.jsx(PU,{size:"18px"}):v.jsx(nz,{size:"18px"})})]}),!s&&v.jsxs(Gre,{minimized:s,ref:c,"data-hook":"notifications-expanded",children:[u.filter(p=>p.type!==ca.LOADING).map(p=>v.jsx(bk,{isMinimized:!1,...p},p.createdAt?p.createdAt.getTime():0)),!s&&v.jsx(Qre,{children:v.jsx(vn,{skin:"secondary",disabled:u.length===0,onClick:()=>e(r),children:"Clear query log"})})]})]})},vue=e=>{if(!e||typeof e!="string")return`
`;let t=e.trim();return t.endsWith(";")&&(t=t.slice(0,-1).trim()),t+`
`},wk=e=>{const t=e.filter(r=>!r.hideFromUI);if(t.length===0)return null;const n=t[t.length-1];return n.role==="assistant"&&n.sql!==void 0&&n.previousSQL!==void 0&&!n.isAccepted&&!n.isRejected?n:null},Sue=e=>wk(e)!==null,Zre=U(Sf).withConfig({displayName:"Editor__EditorPaneWrapper"})([`
  height: 100%;
  overflow: hidden;
  display: flex;
  flex-direction: row;

  & > div {
    height: 100%;
    width: 100%;
  }
`]),eie=U.div.withConfig({displayName:"Editor__EditorLeftPane"})([`
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;
  overflow: hidden;
`]),tie=U.div.withConfig({displayName:"Editor__EditorContent"})([`
  flex: 1;
  display: flex;
  overflow: hidden;
  min-height: 0;
`]),nie=U.div.withConfig({displayName:"Editor__EditorPane"})([`
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;
  overflow: hidden;
`]),xk=U.div.withConfig({displayName:"Editor__DiffViewWrapper"})([`
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;
  overflow: hidden;
  background: #2c2e3d;
`]),_k=U.div.withConfig({displayName:"Editor__DiffEditorContainer"})([`
  flex: 1;
  overflow: hidden;
`]),rie=U(tt).withConfig({displayName:"Editor__ButtonBar"})([`
  padding: 0.8rem;
  gap: 1rem;
  justify-content: center;
  flex-shrink: 0;
  width: fit-content;
  margin: 1rem auto;
  background: `,`;
  border: 1px solid `,`;
  border-radius: 0.4rem;
`],vt("backgroundDarker"),vt("selection")),Ek=U(tt).attrs({alignItems:"center",gap:"0.3rem"}).withConfig({displayName:"Editor__KeyContainer"})([`
  margin-left: 1rem;
`]),iie=U(vn).withConfig({displayName:"Editor__RejectButton"})([`
  background: `,`;
  color: `,`;
  flex: 1;
  border: 1px solid transparent;
  &:hover:not(:disabled) {
    border-color: transparent;
    background: `,`;
  }
  width: 13.5rem;
`],vt("background"),vt("foreground"),vt("selection")),oie=U(vn).withConfig({displayName:"Editor__AcceptButton"})([`
  background: `,`;
  color: `,`;
  border: 0.1rem solid `,`;
  flex: 1;
  &:hover:not(:disabled) {
    background: `,`;
    border-color: `,`;
    filter: brightness(1.1);
  }
  width: 13.5rem;
`],({theme:e})=>e.color.pinkDarker,vt("foreground"),({theme:e})=>e.color.pinkDarker,({theme:e})=>e.color.pink,({theme:e})=>e.color.pink),aie=us.isMacintosh||us.isIOS?"\u2318":"Ctrl",sie=({innerRef:e,...t})=>{var w,S;const n=ls(),{activeBuffer:r,addBuffer:i,cleanupExecutionRefs:o}=Ys(),{getConversationMeta:a,activeConversationMessages:s,acceptSuggestion:l,rejectSuggestion:c}=Ad(),u=E=>{n(An.query.cleanupBufferNotifications(E)),o(E)};x.useEffect(()=>{new URLSearchParams(window.location.search).get("query")&&r.metricsViewState&&i({label:"Query"})},[]);const d=!!r.isPreviewBuffer||!!r.metricsViewState,f=r.isPreviewBuffer&&((w=r.previewContent)==null?void 0:w.type)==="diff",p=r.isPreviewBuffer&&((S=r.previewContent)==null?void 0:S.type)==="code",g=x.useMemo(()=>{if(!f||!r.previewContent||r.previewContent.type!=="diff"||!r.previewContent.conversationId)return null;const E=r.previewContent.conversationId,_=a(E);if(!_)return null;const m=wk(s);if(!m)return null;const C=Ui(r.previewContent.modified||""),T=Ui(_.currentSQL||"");return C!==T?null:{conversationId:E,messageId:m.id}},[r,f,a,s]),h=x.useCallback(async()=>{if(!g||!r.previewContent||r.previewContent.type!=="diff")return;const{conversationId:E}=g;await l({conversationId:E,messageId:g.messageId})},[g,r.previewContent,l]),y=x.useCallback(async()=>{if(!g)return;const{conversationId:E,messageId:_}=g;await c(E,_)},[g,c]),b=gu("Escape");return x.useEffect(()=>{b&&g&&y()},[b,g,y]),x.useEffect(()=>{const E=_=>{(_.metaKey||_.ctrlKey)&&_.key==="Enter"&&g&&(_.preventDefault(),h())};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[g,h]),v.jsx(Zre,{ref:e,...t,children:v.jsxs(eie,{children:[v.jsx(ZIe,{}),v.jsx(tie,{children:v.jsxs(nie,{children:[r.editorViewState&&v.jsx(bte,{hidden:d}),f&&v.jsxs(xk,{children:[v.jsx(_k,{"data-hook":"diff-editor-container",children:v.jsx(gN,{onMount:E=>{E.onDidUpdateDiff(()=>{var m;const _=(m=E.getLineChanges())==null?void 0:m[0];_&&E.getModifiedEditor().revealLineInCenter(_.modifiedStartLineNumber)})},original:r.previewContent.original,modified:r.previewContent.modified,keepCurrentOriginalModel:!0,keepCurrentModifiedModel:!0,language:ds,theme:"dracula",options:{readOnly:!0,renderSideBySide:!1,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"off",renderIndicators:!1,renderOverviewRuler:!1,hideCursorInOverviewRuler:!0,automaticLayout:!0,enableSplitViewResizing:!1,originalEditable:!1,fontSize:14,lineHeight:24,folding:!1,wordWrap:"on"}},r.previewContent.original+r.previewContent.modified)}),g&&v.jsxs(rie,{align:"center",justifyContent:"center",children:[v.jsxs(iie,{onClick:y,"data-hook":"diff-reject-button",children:["Reject",v.jsx(Ek,{children:v.jsx($c,{keyString:"Esc",color:vt("pinkPrimary"),hoverColor:vt("pinkPrimary")})})]}),v.jsxs(oie,{onClick:h,"data-hook":"diff-accept-button",children:["Accept",v.jsxs(Ek,{children:[v.jsx($c,{keyString:aie,color:vt("pinkPrimary"),hoverColor:vt("pinkPrimary")}),v.jsx($c,{keyString:"Enter",color:vt("pinkPrimary"),hoverColor:vt("pinkPrimary")})]})]})]})]}),p&&v.jsx(xk,{children:v.jsx(_k,{"data-hook":"code-preview-container",children:v.jsx(O_,{value:r.previewContent.value,language:ds,theme:"dracula",options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"off",hideCursorInOverviewRuler:!0,automaticLayout:!0,fontSize:14,lineHeight:24,folding:!1,wordWrap:"on"}})})}),r.metricsViewState&&v.jsx(Lre,{},r.id),r.editorViewState&&v.jsx(Jre,{onClearNotifications:u})]})})]})})},lie=(e,t)=>v.jsx(sie,{...e,innerRef:t}),cie=x.forwardRef(lie);var Sk={exports:{}},V3e=Sk.exports,uie;function q3e(){return uie||(uie=1,(function(e){(function(t,n){e.exports=t.document?n(t,!0):function(r){if(!r.document)throw new Error("jQuery requires a window with a document");return n(r)}})(typeof window<"u"?window:V3e,function(t,n){var r=[],i=Object.getPrototypeOf,o=r.slice,a=r.flat?function(A){return r.flat.call(A)}:function(A){return r.concat.apply([],A)},s=r.push,l=r.indexOf,c={},u=c.toString,d=c.hasOwnProperty,f=d.toString,p=f.call(Object),g={},h=function(A){return typeof A=="function"&&typeof A.nodeType!="number"},y=function(A){return A!=null&&A===A.window},b=t.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function S(A,N,M){M=M||b;var F,Q,Z=M.createElement("script");if(Z.text=A,N)for(F in w)Q=N[F]||N.getAttribute&&N.getAttribute(F),Q&&Z.setAttribute(F,Q);M.head.appendChild(Z).parentNode.removeChild(Z)}function E(A){return A==null?A+"":typeof A=="object"||typeof A=="function"?c[u.call(A)]||"object":typeof A}var _="3.5.1",m=function(A,N){return new m.fn.init(A,N)};m.fn=m.prototype={jquery:_,constructor:m,length:0,toArray:function(){return o.call(this)},get:function(A){return A==null?o.call(this):A<0?this[A+this.length]:this[A]},pushStack:function(A){var N=m.merge(this.constructor(),A);return N.prevObject=this,N},each:function(A){return m.each(this,A)},map:function(A){return this.pushStack(m.map(this,function(N,M){return A.call(N,M,N)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(m.grep(this,function(A,N){return(N+1)%2}))},odd:function(){return this.pushStack(m.grep(this,function(A,N){return N%2}))},eq:function(A){var N=this.length,M=+A+(A<0?N:0);return this.pushStack(M>=0&&M<N?[this[M]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:r.sort,splice:r.splice},m.extend=m.fn.extend=function(){var A,N,M,F,Q,Z,le=arguments[0]||{},Se=1,Te=arguments.length,Je=!1;for(typeof le=="boolean"&&(Je=le,le=arguments[Se]||{},Se++),typeof le!="object"&&!h(le)&&(le={}),Se===Te&&(le=this,Se--);Se<Te;Se++)if((A=arguments[Se])!=null)for(N in A)F=A[N],!(N==="__proto__"||le===F)&&(Je&&F&&(m.isPlainObject(F)||(Q=Array.isArray(F)))?(M=le[N],Q&&!Array.isArray(M)?Z=[]:!Q&&!m.isPlainObject(M)?Z={}:Z=M,Q=!1,le[N]=m.extend(Je,Z,F)):F!==void 0&&(le[N]=F));return le},m.extend({expando:"jQuery"+(_+Math.random()).replace(/\D/g,""),isReady:!0,error:function(A){throw new Error(A)},noop:function(){},isPlainObject:function(A){var N,M;return!A||u.call(A)!=="[object Object]"?!1:(N=i(A),N?(M=d.call(N,"constructor")&&N.constructor,typeof M=="function"&&f.call(M)===p):!0)},isEmptyObject:function(A){var N;for(N in A)return!1;return!0},globalEval:function(A,N,M){S(A,{nonce:N&&N.nonce},M)},each:function(A,N){var M,F=0;if(C(A))for(M=A.length;F<M&&N.call(A[F],F,A[F])!==!1;F++);else for(F in A)if(N.call(A[F],F,A[F])===!1)break;return A},makeArray:function(A,N){var M=N||[];return A!=null&&(C(Object(A))?m.merge(M,typeof A=="string"?[A]:A):s.call(M,A)),M},inArray:function(A,N,M){return N==null?-1:l.call(N,A,M)},merge:function(A,N){for(var M=+N.length,F=0,Q=A.length;F<M;F++)A[Q++]=N[F];return A.length=Q,A},grep:function(A,N,M){for(var F,Q=[],Z=0,le=A.length,Se=!M;Z<le;Z++)F=!N(A[Z],Z),F!==Se&&Q.push(A[Z]);return Q},map:function(A,N,M){var F,Q,Z=0,le=[];if(C(A))for(F=A.length;Z<F;Z++)Q=N(A[Z],Z,M),Q!=null&&le.push(Q);else for(Z in A)Q=N(A[Z],Z,M),Q!=null&&le.push(Q);return a(le)},guid:1,support:g}),typeof Symbol=="function"&&(m.fn[Symbol.iterator]=r[Symbol.iterator]),m.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(A,N){c["[object "+N+"]"]=N.toLowerCase()});function C(A){var N=!!A&&"length"in A&&A.length,M=E(A);return h(A)||y(A)?!1:M==="array"||N===0||typeof N=="number"&&N>0&&N-1 in A}var T=(function(A){var N,M,F,Q,Z,le,Se,Te,Je,yt,Rt,ct,At,jn,Qn,an,li,xi,So,Ur="sizzle"+1*new Date,Un=A.document,ji=0,ur=0,pi=Nr(),aa=Nr(),qa=Nr(),Co=Nr(),Na=function(K,ce){return K===ce&&(Rt=!0),0},Ra={}.hasOwnProperty,No=[],Wa=No.pop,vo=No.push,sa=No.push,Iu=No.slice,la=function(K,ce){for(var he=0,$e=K.length;he<$e;he++)if(K[he]===ce)return he;return-1},ss="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",vr="[\\x20\\t\\r\\n\\f]",ja="(?:\\\\[\\da-fA-F]{1,6}"+vr+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",uo="\\["+vr+"*("+ja+")(?:"+vr+"*([*^$|!~]?=)"+vr+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+ja+"))|)"+vr+"*\\]",Gs=":("+ja+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+uo+")*)|.*)\\)|)",Gi=new RegExp(vr+"+","g"),de=new RegExp("^"+vr+"+|((?:^|[^\\\\])(?:\\\\.)*)"+vr+"+$","g"),Pe=new RegExp("^"+vr+"*,"+vr+"*"),mt=new RegExp("^"+vr+"*([>+~]|"+vr+")"+vr+"*"),Ot=new RegExp(vr+"|>"),kt=new RegExp(Gs),zt=new RegExp("^"+ja+"$"),G={ID:new RegExp("^#("+ja+")"),CLASS:new RegExp("^\\.("+ja+")"),TAG:new RegExp("^("+ja+"|[*])"),ATTR:new RegExp("^"+uo),PSEUDO:new RegExp("^"+Gs),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+vr+"*(even|odd|(([+-]|)(\\d*)n|)"+vr+"*(?:([+-]|)"+vr+"*(\\d+)|))"+vr+"*\\)|)","i"),bool:new RegExp("^(?:"+ss+")$","i"),needsContext:new RegExp("^"+vr+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+vr+"*((?:-\\d)?\\d*)"+vr+"*\\)|)(?=[^-]|$)","i")},re=/HTML$/i,fe=/^(?:input|select|textarea|button)$/i,be=/^h\d$/i,ke=/^[^{]+\{\s*\[native \w/,rt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Et=/[+~]/,Mt=new RegExp("\\\\[\\da-fA-F]{1,6}"+vr+"?|\\\\([^\\r\\n\\f])","g"),Vt=function(K,ce){var he="0x"+K.slice(1)-65536;return ce||(he<0?String.fromCharCode(he+65536):String.fromCharCode(he>>10|55296,he&1023|56320))},fn=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,cn=function(K,ce){return ce?K==="\0"?"\uFFFD":K.slice(0,-1)+"\\"+K.charCodeAt(K.length-1).toString(16)+" ":"\\"+K},yn=function(){ct()},Kn=je(function(K){return K.disabled===!0&&K.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{sa.apply(No=Iu.call(Un.childNodes),Un.childNodes),No[Un.childNodes.length].nodeType}catch{sa={apply:No.length?function(K,ce){vo.apply(K,Iu.call(ce))}:function(K,ce){for(var he=K.length,$e=0;K[he++]=ce[$e++];);K.length=he-1}}}function Tn(K,ce,he,$e){var Ae,qe,nt,ft,gt,Nt,Wt,Qt=ce&&ce.ownerDocument,pn=ce?ce.nodeType:9;if(he=he||[],typeof K!="string"||!K||pn!==1&&pn!==9&&pn!==11)return he;if(!$e&&(ct(ce),ce=ce||At,Qn)){if(pn!==11&&(gt=rt.exec(K)))if(Ae=gt[1]){if(pn===9)if(nt=ce.getElementById(Ae)){if(nt.id===Ae)return he.push(nt),he}else return he;else if(Qt&&(nt=Qt.getElementById(Ae))&&So(ce,nt)&&nt.id===Ae)return he.push(nt),he}else{if(gt[2])return sa.apply(he,ce.getElementsByTagName(K)),he;if((Ae=gt[3])&&M.getElementsByClassName&&ce.getElementsByClassName)return sa.apply(he,ce.getElementsByClassName(Ae)),he}if(M.qsa&&!Co[K+" "]&&(!an||!an.test(K))&&(pn!==1||ce.nodeName.toLowerCase()!=="object")){if(Wt=K,Qt=ce,pn===1&&(Ot.test(K)||mt.test(K))){for(Qt=Et.test(K)&&De(ce.parentNode)||ce,(Qt!==ce||!M.scope)&&((ft=ce.getAttribute("id"))?ft=ft.replace(fn,cn):ce.setAttribute("id",ft=Ur)),Nt=le(K),qe=Nt.length;qe--;)Nt[qe]=(ft?"#"+ft:":scope")+" "+Qe(Nt[qe]);Wt=Nt.join(",")}try{return sa.apply(he,Qt.querySelectorAll(Wt)),he}catch{Co(K,!0)}finally{ft===Ur&&ce.removeAttribute("id")}}}return Te(K.replace(de,"$1"),ce,he,$e)}function Nr(){var K=[];function ce(he,$e){return K.push(he+" ")>F.cacheLength&&delete ce[K.shift()],ce[he+" "]=$e}return ce}function I(K){return K[Ur]=!0,K}function k(K){var ce=At.createElement("fieldset");try{return!!K(ce)}catch{return!1}finally{ce.parentNode&&ce.parentNode.removeChild(ce),ce=null}}function P(K,ce){for(var he=K.split("|"),$e=he.length;$e--;)F.attrHandle[he[$e]]=ce}function W(K,ce){var he=ce&&K,$e=he&&K.nodeType===1&&ce.nodeType===1&&K.sourceIndex-ce.sourceIndex;if($e)return $e;if(he){for(;he=he.nextSibling;)if(he===ce)return-1}return K?1:-1}function X(K){return function(ce){var he=ce.nodeName.toLowerCase();return he==="input"&&ce.type===K}}function oe(K){return function(ce){var he=ce.nodeName.toLowerCase();return(he==="input"||he==="button")&&ce.type===K}}function pe(K){return function(ce){return"form"in ce?ce.parentNode&&ce.disabled===!1?"label"in ce?"label"in ce.parentNode?ce.parentNode.disabled===K:ce.disabled===K:ce.isDisabled===K||ce.isDisabled!==!K&&Kn(ce)===K:ce.disabled===K:"label"in ce?ce.disabled===K:!1}}function xe(K){return I(function(ce){return ce=+ce,I(function(he,$e){for(var Ae,qe=K([],he.length,ce),nt=qe.length;nt--;)he[Ae=qe[nt]]&&(he[Ae]=!($e[Ae]=he[Ae]))})})}function De(K){return K&&typeof K.getElementsByTagName<"u"&&K}M=Tn.support={},Z=Tn.isXML=function(K){var ce=K.namespaceURI,he=(K.ownerDocument||K).documentElement;return!re.test(ce||he&&he.nodeName||"HTML")},ct=Tn.setDocument=function(K){var ce,he,$e=K?K.ownerDocument||K:Un;return $e==At||$e.nodeType!==9||!$e.documentElement||(At=$e,jn=At.documentElement,Qn=!Z(At),Un!=At&&(he=At.defaultView)&&he.top!==he&&(he.addEventListener?he.addEventListener("unload",yn,!1):he.attachEvent&&he.attachEvent("onunload",yn)),M.scope=k(function(Ae){return jn.appendChild(Ae).appendChild(At.createElement("div")),typeof Ae.querySelectorAll<"u"&&!Ae.querySelectorAll(":scope fieldset div").length}),M.attributes=k(function(Ae){return Ae.className="i",!Ae.getAttribute("className")}),M.getElementsByTagName=k(function(Ae){return Ae.appendChild(At.createComment("")),!Ae.getElementsByTagName("*").length}),M.getElementsByClassName=ke.test(At.getElementsByClassName),M.getById=k(function(Ae){return jn.appendChild(Ae).id=Ur,!At.getElementsByName||!At.getElementsByName(Ur).length}),M.getById?(F.filter.ID=function(Ae){var qe=Ae.replace(Mt,Vt);return function(nt){return nt.getAttribute("id")===qe}},F.find.ID=function(Ae,qe){if(typeof qe.getElementById<"u"&&Qn){var nt=qe.getElementById(Ae);return nt?[nt]:[]}}):(F.filter.ID=function(Ae){var qe=Ae.replace(Mt,Vt);return function(nt){var ft=typeof nt.getAttributeNode<"u"&&nt.getAttributeNode("id");return ft&&ft.value===qe}},F.find.ID=function(Ae,qe){if(typeof qe.getElementById<"u"&&Qn){var nt,ft,gt,Nt=qe.getElementById(Ae);if(Nt){if(nt=Nt.getAttributeNode("id"),nt&&nt.value===Ae)return[Nt];for(gt=qe.getElementsByName(Ae),ft=0;Nt=gt[ft++];)if(nt=Nt.getAttributeNode("id"),nt&&nt.value===Ae)return[Nt]}return[]}}),F.find.TAG=M.getElementsByTagName?function(Ae,qe){if(typeof qe.getElementsByTagName<"u")return qe.getElementsByTagName(Ae);if(M.qsa)return qe.querySelectorAll(Ae)}:function(Ae,qe){var nt,ft=[],gt=0,Nt=qe.getElementsByTagName(Ae);if(Ae==="*"){for(;nt=Nt[gt++];)nt.nodeType===1&&ft.push(nt);return ft}return Nt},F.find.CLASS=M.getElementsByClassName&&function(Ae,qe){if(typeof qe.getElementsByClassName<"u"&&Qn)return qe.getElementsByClassName(Ae)},li=[],an=[],(M.qsa=ke.test(At.querySelectorAll))&&(k(function(Ae){var qe;jn.appendChild(Ae).innerHTML="<a id='"+Ur+"'></a><select id='"+Ur+"-\r\\' msallowcapture=''><option selected=''></option></select>",Ae.querySelectorAll("[msallowcapture^='']").length&&an.push("[*^$]="+vr+`*(?:''|"")`),Ae.querySelectorAll("[selected]").length||an.push("\\["+vr+"*(?:value|"+ss+")"),Ae.querySelectorAll("[id~="+Ur+"-]").length||an.push("~="),qe=At.createElement("input"),qe.setAttribute("name",""),Ae.appendChild(qe),Ae.querySelectorAll("[name='']").length||an.push("\\["+vr+"*name"+vr+"*="+vr+`*(?:''|"")`),Ae.querySelectorAll(":checked").length||an.push(":checked"),Ae.querySelectorAll("a#"+Ur+"+*").length||an.push(".#.+[+~]"),Ae.querySelectorAll("\\\f"),an.push("[\\r\\n\\f]")}),k(function(Ae){Ae.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var qe=At.createElement("input");qe.setAttribute("type","hidden"),Ae.appendChild(qe).setAttribute("name","D"),Ae.querySelectorAll("[name=d]").length&&an.push("name"+vr+"*[*^$|!~]?="),Ae.querySelectorAll(":enabled").length!==2&&an.push(":enabled",":disabled"),jn.appendChild(Ae).disabled=!0,Ae.querySelectorAll(":disabled").length!==2&&an.push(":enabled",":disabled"),Ae.querySelectorAll("*,:x"),an.push(",.*:")})),(M.matchesSelector=ke.test(xi=jn.matches||jn.webkitMatchesSelector||jn.mozMatchesSelector||jn.oMatchesSelector||jn.msMatchesSelector))&&k(function(Ae){M.disconnectedMatch=xi.call(Ae,"*"),xi.call(Ae,"[s!='']:x"),li.push("!=",Gs)}),an=an.length&&new RegExp(an.join("|")),li=li.length&&new RegExp(li.join("|")),ce=ke.test(jn.compareDocumentPosition),So=ce||ke.test(jn.contains)?function(Ae,qe){var nt=Ae.nodeType===9?Ae.documentElement:Ae,ft=qe&&qe.parentNode;return Ae===ft||!!(ft&&ft.nodeType===1&&(nt.contains?nt.contains(ft):Ae.compareDocumentPosition&&Ae.compareDocumentPosition(ft)&16))}:function(Ae,qe){if(qe){for(;qe=qe.parentNode;)if(qe===Ae)return!0}return!1},Na=ce?function(Ae,qe){if(Ae===qe)return Rt=!0,0;var nt=!Ae.compareDocumentPosition-!qe.compareDocumentPosition;return nt||(nt=(Ae.ownerDocument||Ae)==(qe.ownerDocument||qe)?Ae.compareDocumentPosition(qe):1,nt&1||!M.sortDetached&&qe.compareDocumentPosition(Ae)===nt?Ae==At||Ae.ownerDocument==Un&&So(Un,Ae)?-1:qe==At||qe.ownerDocument==Un&&So(Un,qe)?1:yt?la(yt,Ae)-la(yt,qe):0:nt&4?-1:1)}:function(Ae,qe){if(Ae===qe)return Rt=!0,0;var nt,ft=0,gt=Ae.parentNode,Nt=qe.parentNode,Wt=[Ae],Qt=[qe];if(!gt||!Nt)return Ae==At?-1:qe==At?1:gt?-1:Nt?1:yt?la(yt,Ae)-la(yt,qe):0;if(gt===Nt)return W(Ae,qe);for(nt=Ae;nt=nt.parentNode;)Wt.unshift(nt);for(nt=qe;nt=nt.parentNode;)Qt.unshift(nt);for(;Wt[ft]===Qt[ft];)ft++;return ft?W(Wt[ft],Qt[ft]):Wt[ft]==Un?-1:Qt[ft]==Un?1:0}),At},Tn.matches=function(K,ce){return Tn(K,null,null,ce)},Tn.matchesSelector=function(K,ce){if(ct(K),M.matchesSelector&&Qn&&!Co[ce+" "]&&(!li||!li.test(ce))&&(!an||!an.test(ce)))try{var he=xi.call(K,ce);if(he||M.disconnectedMatch||K.document&&K.document.nodeType!==11)return he}catch{Co(ce,!0)}return Tn(ce,At,null,[K]).length>0},Tn.contains=function(K,ce){return(K.ownerDocument||K)!=At&&ct(K),So(K,ce)},Tn.attr=function(K,ce){(K.ownerDocument||K)!=At&&ct(K);var he=F.attrHandle[ce.toLowerCase()],$e=he&&Ra.call(F.attrHandle,ce.toLowerCase())?he(K,ce,!Qn):void 0;return $e!==void 0?$e:M.attributes||!Qn?K.getAttribute(ce):($e=K.getAttributeNode(ce))&&$e.specified?$e.value:null},Tn.escape=function(K){return(K+"").replace(fn,cn)},Tn.error=function(K){throw new Error("Syntax error, unrecognized expression: "+K)},Tn.uniqueSort=function(K){var ce,he=[],$e=0,Ae=0;if(Rt=!M.detectDuplicates,yt=!M.sortStable&&K.slice(0),K.sort(Na),Rt){for(;ce=K[Ae++];)ce===K[Ae]&&($e=he.push(Ae));for(;$e--;)K.splice(he[$e],1)}return yt=null,K},Q=Tn.getText=function(K){var ce,he="",$e=0,Ae=K.nodeType;if(Ae){if(Ae===1||Ae===9||Ae===11){if(typeof K.textContent=="string")return K.textContent;for(K=K.firstChild;K;K=K.nextSibling)he+=Q(K)}else if(Ae===3||Ae===4)return K.nodeValue}else for(;ce=K[$e++];)he+=Q(ce);return he},F=Tn.selectors={cacheLength:50,createPseudo:I,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(K){return K[1]=K[1].replace(Mt,Vt),K[3]=(K[3]||K[4]||K[5]||"").replace(Mt,Vt),K[2]==="~="&&(K[3]=" "+K[3]+" "),K.slice(0,4)},CHILD:function(K){return K[1]=K[1].toLowerCase(),K[1].slice(0,3)==="nth"?(K[3]||Tn.error(K[0]),K[4]=+(K[4]?K[5]+(K[6]||1):2*(K[3]==="even"||K[3]==="odd")),K[5]=+(K[7]+K[8]||K[3]==="odd")):K[3]&&Tn.error(K[0]),K},PSEUDO:function(K){var ce,he=!K[6]&&K[2];return G.CHILD.test(K[0])?null:(K[3]?K[2]=K[4]||K[5]||"":he&&kt.test(he)&&(ce=le(he,!0))&&(ce=he.indexOf(")",he.length-ce)-he.length)&&(K[0]=K[0].slice(0,ce),K[2]=he.slice(0,ce)),K.slice(0,3))}},filter:{TAG:function(K){var ce=K.replace(Mt,Vt).toLowerCase();return K==="*"?function(){return!0}:function(he){return he.nodeName&&he.nodeName.toLowerCase()===ce}},CLASS:function(K){var ce=pi[K+" "];return ce||(ce=new RegExp("(^|"+vr+")"+K+"("+vr+"|$)"))&&pi(K,function(he){return ce.test(typeof he.className=="string"&&he.className||typeof he.getAttribute<"u"&&he.getAttribute("class")||"")})},ATTR:function(K,ce,he){return function($e){var Ae=Tn.attr($e,K);return Ae==null?ce==="!=":ce?(Ae+="",ce==="="?Ae===he:ce==="!="?Ae!==he:ce==="^="?he&&Ae.indexOf(he)===0:ce==="*="?he&&Ae.indexOf(he)>-1:ce==="$="?he&&Ae.slice(-he.length)===he:ce==="~="?(" "+Ae.replace(Gi," ")+" ").indexOf(he)>-1:ce==="|="?Ae===he||Ae.slice(0,he.length+1)===he+"-":!1):!0}},CHILD:function(K,ce,he,$e,Ae){var qe=K.slice(0,3)!=="nth",nt=K.slice(-4)!=="last",ft=ce==="of-type";return $e===1&&Ae===0?function(gt){return!!gt.parentNode}:function(gt,Nt,Wt){var Qt,pn,Rr,Gt,Yr,ci,ga=qe!==nt?"nextSibling":"previousSibling",jr=gt.parentNode,Ks=ft&&gt.nodeName.toLowerCase(),Ou=!Wt&&!ft,Xs=!1;if(jr){if(qe){for(;ga;){for(Gt=gt;Gt=Gt[ga];)if(ft?Gt.nodeName.toLowerCase()===Ks:Gt.nodeType===1)return!1;ci=ga=K==="only"&&!ci&&"nextSibling"}return!0}if(ci=[nt?jr.firstChild:jr.lastChild],nt&&Ou){for(Gt=jr,Rr=Gt[Ur]||(Gt[Ur]={}),pn=Rr[Gt.uniqueID]||(Rr[Gt.uniqueID]={}),Qt=pn[K]||[],Yr=Qt[0]===ji&&Qt[1],Xs=Yr&&Qt[2],Gt=Yr&&jr.childNodes[Yr];Gt=++Yr&&Gt&&Gt[ga]||(Xs=Yr=0)||ci.pop();)if(Gt.nodeType===1&&++Xs&&Gt===gt){pn[K]=[ji,Yr,Xs];break}}else if(Ou&&(Gt=gt,Rr=Gt[Ur]||(Gt[Ur]={}),pn=Rr[Gt.uniqueID]||(Rr[Gt.uniqueID]={}),Qt=pn[K]||[],Yr=Qt[0]===ji&&Qt[1],Xs=Yr),Xs===!1)for(;(Gt=++Yr&&Gt&&Gt[ga]||(Xs=Yr=0)||ci.pop())&&!((ft?Gt.nodeName.toLowerCase()===Ks:Gt.nodeType===1)&&++Xs&&(Ou&&(Rr=Gt[Ur]||(Gt[Ur]={}),pn=Rr[Gt.uniqueID]||(Rr[Gt.uniqueID]={}),pn[K]=[ji,Xs]),Gt===gt)););return Xs-=Ae,Xs===$e||Xs%$e===0&&Xs/$e>=0}}},PSEUDO:function(K,ce){var he,$e=F.pseudos[K]||F.setFilters[K.toLowerCase()]||Tn.error("unsupported pseudo: "+K);return $e[Ur]?$e(ce):$e.length>1?(he=[K,K,"",ce],F.setFilters.hasOwnProperty(K.toLowerCase())?I(function(Ae,qe){for(var nt,ft=$e(Ae,ce),gt=ft.length;gt--;)nt=la(Ae,ft[gt]),Ae[nt]=!(qe[nt]=ft[gt])}):function(Ae){return $e(Ae,0,he)}):$e}},pseudos:{not:I(function(K){var ce=[],he=[],$e=Se(K.replace(de,"$1"));return $e[Ur]?I(function(Ae,qe,nt,ft){for(var gt,Nt=$e(Ae,null,ft,[]),Wt=Ae.length;Wt--;)(gt=Nt[Wt])&&(Ae[Wt]=!(qe[Wt]=gt))}):function(Ae,qe,nt){return ce[0]=Ae,$e(ce,null,nt,he),ce[0]=null,!he.pop()}}),has:I(function(K){return function(ce){return Tn(K,ce).length>0}}),contains:I(function(K){return K=K.replace(Mt,Vt),function(ce){return(ce.textContent||Q(ce)).indexOf(K)>-1}}),lang:I(function(K){return zt.test(K||"")||Tn.error("unsupported lang: "+K),K=K.replace(Mt,Vt).toLowerCase(),function(ce){var he;do if(he=Qn?ce.lang:ce.getAttribute("xml:lang")||ce.getAttribute("lang"))return he=he.toLowerCase(),he===K||he.indexOf(K+"-")===0;while((ce=ce.parentNode)&&ce.nodeType===1);return!1}}),target:function(K){var ce=A.location&&A.location.hash;return ce&&ce.slice(1)===K.id},root:function(K){return K===jn},focus:function(K){return K===At.activeElement&&(!At.hasFocus||At.hasFocus())&&!!(K.type||K.href||~K.tabIndex)},enabled:pe(!1),disabled:pe(!0),checked:function(K){var ce=K.nodeName.toLowerCase();return ce==="input"&&!!K.checked||ce==="option"&&!!K.selected},selected:function(K){return K.parentNode&&K.parentNode.selectedIndex,K.selected===!0},empty:function(K){for(K=K.firstChild;K;K=K.nextSibling)if(K.nodeType<6)return!1;return!0},parent:function(K){return!F.pseudos.empty(K)},header:function(K){return be.test(K.nodeName)},input:function(K){return fe.test(K.nodeName)},button:function(K){var ce=K.nodeName.toLowerCase();return ce==="input"&&K.type==="button"||ce==="button"},text:function(K){var ce;return K.nodeName.toLowerCase()==="input"&&K.type==="text"&&((ce=K.getAttribute("type"))==null||ce.toLowerCase()==="text")},first:xe(function(){return[0]}),last:xe(function(K,ce){return[ce-1]}),eq:xe(function(K,ce,he){return[he<0?he+ce:he]}),even:xe(function(K,ce){for(var he=0;he<ce;he+=2)K.push(he);return K}),odd:xe(function(K,ce){for(var he=1;he<ce;he+=2)K.push(he);return K}),lt:xe(function(K,ce,he){for(var $e=he<0?he+ce:he>ce?ce:he;--$e>=0;)K.push($e);return K}),gt:xe(function(K,ce,he){for(var $e=he<0?he+ce:he;++$e<ce;)K.push($e);return K})}},F.pseudos.nth=F.pseudos.eq;for(N in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})F.pseudos[N]=X(N);for(N in{submit:!0,reset:!0})F.pseudos[N]=oe(N);function ze(){}ze.prototype=F.filters=F.pseudos,F.setFilters=new ze,le=Tn.tokenize=function(K,ce){var he,$e,Ae,qe,nt,ft,gt,Nt=aa[K+" "];if(Nt)return ce?0:Nt.slice(0);for(nt=K,ft=[],gt=F.preFilter;nt;){(!he||($e=Pe.exec(nt)))&&($e&&(nt=nt.slice($e[0].length)||nt),ft.push(Ae=[])),he=!1,($e=mt.exec(nt))&&(he=$e.shift(),Ae.push({value:he,type:$e[0].replace(de," ")}),nt=nt.slice(he.length));for(qe in F.filter)($e=G[qe].exec(nt))&&(!gt[qe]||($e=gt[qe]($e)))&&(he=$e.shift(),Ae.push({value:he,type:qe,matches:$e}),nt=nt.slice(he.length));if(!he)break}return ce?nt.length:nt?Tn.error(K):aa(K,ft).slice(0)};function Qe(K){for(var ce=0,he=K.length,$e="";ce<he;ce++)$e+=K[ce].value;return $e}function je(K,ce,he){var $e=ce.dir,Ae=ce.next,qe=Ae||$e,nt=he&&qe==="parentNode",ft=ur++;return ce.first?function(gt,Nt,Wt){for(;gt=gt[$e];)if(gt.nodeType===1||nt)return K(gt,Nt,Wt);return!1}:function(gt,Nt,Wt){var Qt,pn,Rr,Gt=[ji,ft];if(Wt){for(;gt=gt[$e];)if((gt.nodeType===1||nt)&&K(gt,Nt,Wt))return!0}else for(;gt=gt[$e];)if(gt.nodeType===1||nt)if(Rr=gt[Ur]||(gt[Ur]={}),pn=Rr[gt.uniqueID]||(Rr[gt.uniqueID]={}),Ae&&Ae===gt.nodeName.toLowerCase())gt=gt[$e]||gt;else{if((Qt=pn[qe])&&Qt[0]===ji&&Qt[1]===ft)return Gt[2]=Qt[2];if(pn[qe]=Gt,Gt[2]=K(gt,Nt,Wt))return!0}return!1}}function Ze(K){return K.length>1?function(ce,he,$e){for(var Ae=K.length;Ae--;)if(!K[Ae](ce,he,$e))return!1;return!0}:K[0]}function Be(K,ce,he){for(var $e=0,Ae=ce.length;$e<Ae;$e++)Tn(K,ce[$e],he);return he}function Ge(K,ce,he,$e,Ae){for(var qe,nt=[],ft=0,gt=K.length,Nt=ce!=null;ft<gt;ft++)(qe=K[ft])&&(!he||he(qe,$e,Ae))&&(nt.push(qe),Nt&&ce.push(ft));return nt}function Ke(K,ce,he,$e,Ae,qe){return $e&&!$e[Ur]&&($e=Ke($e)),Ae&&!Ae[Ur]&&(Ae=Ke(Ae,qe)),I(function(nt,ft,gt,Nt){var Wt,Qt,pn,Rr=[],Gt=[],Yr=ft.length,ci=nt||Be(ce||"*",gt.nodeType?[gt]:gt,[]),ga=K&&(nt||!ce)?Ge(ci,Rr,K,gt,Nt):ci,jr=he?Ae||(nt?K:Yr||$e)?[]:ft:ga;if(he&&he(ga,jr,gt,Nt),$e)for(Wt=Ge(jr,Gt),$e(Wt,[],gt,Nt),Qt=Wt.length;Qt--;)(pn=Wt[Qt])&&(jr[Gt[Qt]]=!(ga[Gt[Qt]]=pn));if(nt){if(Ae||K){if(Ae){for(Wt=[],Qt=jr.length;Qt--;)(pn=jr[Qt])&&Wt.push(ga[Qt]=pn);Ae(null,jr=[],Wt,Nt)}for(Qt=jr.length;Qt--;)(pn=jr[Qt])&&(Wt=Ae?la(nt,pn):Rr[Qt])>-1&&(nt[Wt]=!(ft[Wt]=pn))}}else jr=Ge(jr===ft?jr.splice(Yr,jr.length):jr),Ae?Ae(null,ft,jr,Nt):sa.apply(ft,jr)})}function et(K){for(var ce,he,$e,Ae=K.length,qe=F.relative[K[0].type],nt=qe||F.relative[" "],ft=qe?1:0,gt=je(function(Qt){return Qt===ce},nt,!0),Nt=je(function(Qt){return la(ce,Qt)>-1},nt,!0),Wt=[function(Qt,pn,Rr){var Gt=!qe&&(Rr||pn!==Je)||((ce=pn).nodeType?gt(Qt,pn,Rr):Nt(Qt,pn,Rr));return ce=null,Gt}];ft<Ae;ft++)if(he=F.relative[K[ft].type])Wt=[je(Ze(Wt),he)];else{if(he=F.filter[K[ft].type].apply(null,K[ft].matches),he[Ur]){for($e=++ft;$e<Ae&&!F.relative[K[$e].type];$e++);return Ke(ft>1&&Ze(Wt),ft>1&&Qe(K.slice(0,ft-1).concat({value:K[ft-2].type===" "?"*":""})).replace(de,"$1"),he,ft<$e&&et(K.slice(ft,$e)),$e<Ae&&et(K=K.slice($e)),$e<Ae&&Qe(K))}Wt.push(he)}return Ze(Wt)}function at(K,ce){var he=ce.length>0,$e=K.length>0,Ae=function(qe,nt,ft,gt,Nt){var Wt,Qt,pn,Rr=0,Gt="0",Yr=qe&&[],ci=[],ga=Je,jr=qe||$e&&F.find.TAG("*",Nt),Ks=ji+=ga==null?1:Math.random()||.1,Ou=jr.length;for(Nt&&(Je=nt==At||nt||Nt);Gt!==Ou&&(Wt=jr[Gt])!=null;Gt++){if($e&&Wt){for(Qt=0,!nt&&Wt.ownerDocument!=At&&(ct(Wt),ft=!Qn);pn=K[Qt++];)if(pn(Wt,nt||At,ft)){gt.push(Wt);break}Nt&&(ji=Ks)}he&&((Wt=!pn&&Wt)&&Rr--,qe&&Yr.push(Wt))}if(Rr+=Gt,he&&Gt!==Rr){for(Qt=0;pn=ce[Qt++];)pn(Yr,ci,nt,ft);if(qe){if(Rr>0)for(;Gt--;)Yr[Gt]||ci[Gt]||(ci[Gt]=Wa.call(gt));ci=Ge(ci)}sa.apply(gt,ci),Nt&&!qe&&ci.length>0&&Rr+ce.length>1&&Tn.uniqueSort(gt)}return Nt&&(ji=Ks,Je=ga),Yr};return he?I(Ae):Ae}return Se=Tn.compile=function(K,ce){var he,$e=[],Ae=[],qe=qa[K+" "];if(!qe){for(ce||(ce=le(K)),he=ce.length;he--;)qe=et(ce[he]),qe[Ur]?$e.push(qe):Ae.push(qe);qe=qa(K,at(Ae,$e)),qe.selector=K}return qe},Te=Tn.select=function(K,ce,he,$e){var Ae,qe,nt,ft,gt,Nt=typeof K=="function"&&K,Wt=!$e&&le(K=Nt.selector||K);if(he=he||[],Wt.length===1){if(qe=Wt[0]=Wt[0].slice(0),qe.length>2&&(nt=qe[0]).type==="ID"&&ce.nodeType===9&&Qn&&F.relative[qe[1].type]){if(ce=(F.find.ID(nt.matches[0].replace(Mt,Vt),ce)||[])[0],ce)Nt&&(ce=ce.parentNode);else return he;K=K.slice(qe.shift().value.length)}for(Ae=G.needsContext.test(K)?0:qe.length;Ae--&&(nt=qe[Ae],!F.relative[ft=nt.type]);)if((gt=F.find[ft])&&($e=gt(nt.matches[0].replace(Mt,Vt),Et.test(qe[0].type)&&De(ce.parentNode)||ce))){if(qe.splice(Ae,1),K=$e.length&&Qe(qe),!K)return sa.apply(he,$e),he;break}}return(Nt||Se(K,Wt))($e,ce,!Qn,he,!ce||Et.test(K)&&De(ce.parentNode)||ce),he},M.sortStable=Ur.split("").sort(Na).join("")===Ur,M.detectDuplicates=!!Rt,ct(),M.sortDetached=k(function(K){return K.compareDocumentPosition(At.createElement("fieldset"))&1}),k(function(K){return K.innerHTML="<a href='#'></a>",K.firstChild.getAttribute("href")==="#"})||P("type|href|height|width",function(K,ce,he){if(!he)return K.getAttribute(ce,ce.toLowerCase()==="type"?1:2)}),(!M.attributes||!k(function(K){return K.innerHTML="<input/>",K.firstChild.setAttribute("value",""),K.firstChild.getAttribute("value")===""}))&&P("value",function(K,ce,he){if(!he&&K.nodeName.toLowerCase()==="input")return K.defaultValue}),k(function(K){return K.getAttribute("disabled")==null})||P(ss,function(K,ce,he){var $e;if(!he)return K[ce]===!0?ce.toLowerCase():($e=K.getAttributeNode(ce))&&$e.specified?$e.value:null}),Tn})(t);m.find=T,m.expr=T.selectors,m.expr[":"]=m.expr.pseudos,m.uniqueSort=m.unique=T.uniqueSort,m.text=T.getText,m.isXMLDoc=T.isXML,m.contains=T.contains,m.escapeSelector=T.escape;var O=function(A,N,M){for(var F=[],Q=M!==void 0;(A=A[N])&&A.nodeType!==9;)if(A.nodeType===1){if(Q&&m(A).is(M))break;F.push(A)}return F},R=function(A,N){for(var M=[];A;A=A.nextSibling)A.nodeType===1&&A!==N&&M.push(A);return M},j=m.expr.match.needsContext;function D(A,N){return A.nodeName&&A.nodeName.toLowerCase()===N.toLowerCase()}var L=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function V(A,N,M){return h(N)?m.grep(A,function(F,Q){return!!N.call(F,Q,F)!==M}):N.nodeType?m.grep(A,function(F){return F===N!==M}):typeof N!="string"?m.grep(A,function(F){return l.call(N,F)>-1!==M}):m.filter(N,A,M)}m.filter=function(A,N,M){var F=N[0];return M&&(A=":not("+A+")"),N.length===1&&F.nodeType===1?m.find.matchesSelector(F,A)?[F]:[]:m.find.matches(A,m.grep(N,function(Q){return Q.nodeType===1}))},m.fn.extend({find:function(A){var N,M,F=this.length,Q=this;if(typeof A!="string")return this.pushStack(m(A).filter(function(){for(N=0;N<F;N++)if(m.contains(Q[N],this))return!0}));for(M=this.pushStack([]),N=0;N<F;N++)m.find(A,Q[N],M);return F>1?m.uniqueSort(M):M},filter:function(A){return this.pushStack(V(this,A||[],!1))},not:function(A){return this.pushStack(V(this,A||[],!0))},is:function(A){return!!V(this,typeof A=="string"&&j.test(A)?m(A):A||[],!1).length}});var z,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,H=m.fn.init=function(A,N,M){var F,Q;if(!A)return this;if(M=M||z,typeof A=="string")if(A[0]==="<"&&A[A.length-1]===">"&&A.length>=3?F=[null,A,null]:F=B.exec(A),F&&(F[1]||!N))if(F[1]){if(N=N instanceof m?N[0]:N,m.merge(this,m.parseHTML(F[1],N&&N.nodeType?N.ownerDocument||N:b,!0)),L.test(F[1])&&m.isPlainObject(N))for(F in N)h(this[F])?this[F](N[F]):this.attr(F,N[F]);return this}else return Q=b.getElementById(F[2]),Q&&(this[0]=Q,this.length=1),this;else return!N||N.jquery?(N||M).find(A):this.constructor(N).find(A);else{if(A.nodeType)return this[0]=A,this.length=1,this;if(h(A))return M.ready!==void 0?M.ready(A):A(m)}return m.makeArray(A,this)};H.prototype=m.fn,z=m(b);var J=/^(?:parents|prev(?:Until|All))/,ne={children:!0,contents:!0,next:!0,prev:!0};m.fn.extend({has:function(A){var N=m(A,this),M=N.length;return this.filter(function(){for(var F=0;F<M;F++)if(m.contains(this,N[F]))return!0})},closest:function(A,N){var M,F=0,Q=this.length,Z=[],le=typeof A!="string"&&m(A);if(!j.test(A)){for(;F<Q;F++)for(M=this[F];M&&M!==N;M=M.parentNode)if(M.nodeType<11&&(le?le.index(M)>-1:M.nodeType===1&&m.find.matchesSelector(M,A))){Z.push(M);break}}return this.pushStack(Z.length>1?m.uniqueSort(Z):Z)},index:function(A){return A?typeof A=="string"?l.call(m(A),this[0]):l.call(this,A.jquery?A[0]:A):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(A,N){return this.pushStack(m.uniqueSort(m.merge(this.get(),m(A,N))))},addBack:function(A){return this.add(A==null?this.prevObject:this.prevObject.filter(A))}});function q(A,N){for(;(A=A[N])&&A.nodeType!==1;);return A}m.each({parent:function(A){var N=A.parentNode;return N&&N.nodeType!==11?N:null},parents:function(A){return O(A,"parentNode")},parentsUntil:function(A,N,M){return O(A,"parentNode",M)},next:function(A){return q(A,"nextSibling")},prev:function(A){return q(A,"previousSibling")},nextAll:function(A){return O(A,"nextSibling")},prevAll:function(A){return O(A,"previousSibling")},nextUntil:function(A,N,M){return O(A,"nextSibling",M)},prevUntil:function(A,N,M){return O(A,"previousSibling",M)},siblings:function(A){return R((A.parentNode||{}).firstChild,A)},children:function(A){return R(A.firstChild)},contents:function(A){return A.contentDocument!=null&&i(A.contentDocument)?A.contentDocument:(D(A,"template")&&(A=A.content||A),m.merge([],A.childNodes))}},function(A,N){m.fn[A]=function(M,F){var Q=m.map(this,N,M);return A.slice(-5)!=="Until"&&(F=M),F&&typeof F=="string"&&(Q=m.filter(F,Q)),this.length>1&&(ne[A]||m.uniqueSort(Q),J.test(A)&&Q.reverse()),this.pushStack(Q)}});var ee=/[^\x20\t\r\n\f]+/g;function te(A){var N={};return m.each(A.match(ee)||[],function(M,F){N[F]=!0}),N}m.Callbacks=function(A){A=typeof A=="string"?te(A):m.extend({},A);var N,M,F,Q,Z=[],le=[],Se=-1,Te=function(){for(Q=Q||A.once,F=N=!0;le.length;Se=-1)for(M=le.shift();++Se<Z.length;)Z[Se].apply(M[0],M[1])===!1&&A.stopOnFalse&&(Se=Z.length,M=!1);A.memory||(M=!1),N=!1,Q&&(M?Z=[]:Z="")},Je={add:function(){return Z&&(M&&!N&&(Se=Z.length-1,le.push(M)),(function yt(Rt){m.each(Rt,function(ct,At){h(At)?(!A.unique||!Je.has(At))&&Z.push(At):At&&At.length&&E(At)!=="string"&&yt(At)})})(arguments),M&&!N&&Te()),this},remove:function(){return m.each(arguments,function(yt,Rt){for(var ct;(ct=m.inArray(Rt,Z,ct))>-1;)Z.splice(ct,1),ct<=Se&&Se--}),this},has:function(yt){return yt?m.inArray(yt,Z)>-1:Z.length>0},empty:function(){return Z&&(Z=[]),this},disable:function(){return Q=le=[],Z=M="",this},disabled:function(){return!Z},lock:function(){return Q=le=[],!M&&!N&&(Z=M=""),this},locked:function(){return!!Q},fireWith:function(yt,Rt){return Q||(Rt=Rt||[],Rt=[yt,Rt.slice?Rt.slice():Rt],le.push(Rt),N||Te()),this},fire:function(){return Je.fireWith(this,arguments),this},fired:function(){return!!F}};return Je};function $(A){return A}function ae(A){throw A}function ue(A,N,M,F){var Q;try{A&&h(Q=A.promise)?Q.call(A).done(N).fail(M):A&&h(Q=A.then)?Q.call(A,N,M):N.apply(void 0,[A].slice(F))}catch(Z){M.apply(void 0,[Z])}}m.extend({Deferred:function(A){var N=[["notify","progress",m.Callbacks("memory"),m.Callbacks("memory"),2],["resolve","done",m.Callbacks("once memory"),m.Callbacks("once memory"),0,"resolved"],["reject","fail",m.Callbacks("once memory"),m.Callbacks("once memory"),1,"rejected"]],M="pending",F={state:function(){return M},always:function(){return Q.done(arguments).fail(arguments),this},catch:function(Z){return F.then(null,Z)},pipe:function(){var Z=arguments;return m.Deferred(function(le){m.each(N,function(Se,Te){var Je=h(Z[Te[4]])&&Z[Te[4]];Q[Te[1]](function(){var yt=Je&&Je.apply(this,arguments);yt&&h(yt.promise)?yt.promise().progress(le.notify).done(le.resolve).fail(le.reject):le[Te[0]+"With"](this,Je?[yt]:arguments)})}),Z=null}).promise()},then:function(Z,le,Se){var Te=0;function Je(yt,Rt,ct,At){return function(){var jn=this,Qn=arguments,an=function(){var xi,So;if(!(yt<Te)){if(xi=ct.apply(jn,Qn),xi===Rt.promise())throw new TypeError("Thenable self-resolution");So=xi&&(typeof xi=="object"||typeof xi=="function")&&xi.then,h(So)?At?So.call(xi,Je(Te,Rt,$,At),Je(Te,Rt,ae,At)):(Te++,So.call(xi,Je(Te,Rt,$,At),Je(Te,Rt,ae,At),Je(Te,Rt,$,Rt.notifyWith))):(ct!==$&&(jn=void 0,Qn=[xi]),(At||Rt.resolveWith)(jn,Qn))}},li=At?an:function(){try{an()}catch(xi){m.Deferred.exceptionHook&&m.Deferred.exceptionHook(xi,li.stackTrace),yt+1>=Te&&(ct!==ae&&(jn=void 0,Qn=[xi]),Rt.rejectWith(jn,Qn))}};yt?li():(m.Deferred.getStackHook&&(li.stackTrace=m.Deferred.getStackHook()),t.setTimeout(li))}}return m.Deferred(function(yt){N[0][3].add(Je(0,yt,h(Se)?Se:$,yt.notifyWith)),N[1][3].add(Je(0,yt,h(Z)?Z:$)),N[2][3].add(Je(0,yt,h(le)?le:ae))}).promise()},promise:function(Z){return Z!=null?m.extend(Z,F):F}},Q={};return m.each(N,function(Z,le){var Se=le[2],Te=le[5];F[le[1]]=Se.add,Te&&Se.add(function(){M=Te},N[3-Z][2].disable,N[3-Z][3].disable,N[0][2].lock,N[0][3].lock),Se.add(le[3].fire),Q[le[0]]=function(){return Q[le[0]+"With"](this===Q?void 0:this,arguments),this},Q[le[0]+"With"]=Se.fireWith}),F.promise(Q),A&&A.call(Q,Q),Q},when:function(A){var N=arguments.length,M=N,F=Array(M),Q=o.call(arguments),Z=m.Deferred(),le=function(Se){return function(Te){F[Se]=this,Q[Se]=arguments.length>1?o.call(arguments):Te,--N||Z.resolveWith(F,Q)}};if(N<=1&&(ue(A,Z.done(le(M)).resolve,Z.reject,!N),Z.state()==="pending"||h(Q[M]&&Q[M].then)))return Z.then();for(;M--;)ue(Q[M],le(M),Z.reject);return Z.promise()}});var me=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;m.Deferred.exceptionHook=function(A,N){t.console&&t.console.warn&&A&&me.test(A.name)&&t.console.warn("jQuery.Deferred exception: "+A.message,A.stack,N)},m.readyException=function(A){t.setTimeout(function(){throw A})};var Fe=m.Deferred();m.fn.ready=function(A){return Fe.then(A).catch(function(N){m.readyException(N)}),this},m.extend({isReady:!1,readyWait:1,ready:function(A){(A===!0?--m.readyWait:m.isReady)||(m.isReady=!0,!(A!==!0&&--m.readyWait>0)&&Fe.resolveWith(b,[m]))}}),m.ready.then=Fe.then;function Ie(){b.removeEventListener("DOMContentLoaded",Ie),t.removeEventListener("load",Ie),m.ready()}b.readyState==="complete"||b.readyState!=="loading"&&!b.documentElement.doScroll?t.setTimeout(m.ready):(b.addEventListener("DOMContentLoaded",Ie),t.addEventListener("load",Ie));var Ee=function(A,N,M,F,Q,Z,le){var Se=0,Te=A.length,Je=M==null;if(E(M)==="object"){Q=!0;for(Se in M)Ee(A,N,Se,M[Se],!0,Z,le)}else if(F!==void 0&&(Q=!0,h(F)||(le=!0),Je&&(le?(N.call(A,F),N=null):(Je=N,N=function(yt,Rt,ct){return Je.call(m(yt),ct)})),N))for(;Se<Te;Se++)N(A[Se],M,le?F:F.call(A[Se],Se,N(A[Se],M)));return Q?A:Je?N.call(A):Te?N(A[0],M):Z},He=/^-ms-/,it=/-([a-z])/g;function St(A,N){return N.toUpperCase()}function xt(A){return A.replace(He,"ms-").replace(it,St)}var Ct=function(A){return A.nodeType===1||A.nodeType===9||!+A.nodeType};function We(){this.expando=m.expando+We.uid++}We.uid=1,We.prototype={cache:function(A){var N=A[this.expando];return N||(N={},Ct(A)&&(A.nodeType?A[this.expando]=N:Object.defineProperty(A,this.expando,{value:N,configurable:!0}))),N},set:function(A,N,M){var F,Q=this.cache(A);if(typeof N=="string")Q[xt(N)]=M;else for(F in N)Q[xt(F)]=N[F];return Q},get:function(A,N){return N===void 0?this.cache(A):A[this.expando]&&A[this.expando][xt(N)]},access:function(A,N,M){return N===void 0||N&&typeof N=="string"&&M===void 0?this.get(A,N):(this.set(A,N,M),M!==void 0?M:N)},remove:function(A,N){var M,F=A[this.expando];if(F!==void 0){if(N!==void 0)for(Array.isArray(N)?N=N.map(xt):(N=xt(N),N=N in F?[N]:N.match(ee)||[]),M=N.length;M--;)delete F[N[M]];(N===void 0||m.isEmptyObject(F))&&(A.nodeType?A[this.expando]=void 0:delete A[this.expando])}},hasData:function(A){var N=A[this.expando];return N!==void 0&&!m.isEmptyObject(N)}};var Oe=new We,ye=new We,Ve=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Xe=/[A-Z]/g;function se(A){return A==="true"?!0:A==="false"?!1:A==="null"?null:A===+A+""?+A:Ve.test(A)?JSON.parse(A):A}function we(A,N,M){var F;if(M===void 0&&A.nodeType===1)if(F="data-"+N.replace(Xe,"-$&").toLowerCase(),M=A.getAttribute(F),typeof M=="string"){try{M=se(M)}catch{}ye.set(A,N,M)}else M=void 0;return M}m.extend({hasData:function(A){return ye.hasData(A)||Oe.hasData(A)},data:function(A,N,M){return ye.access(A,N,M)},removeData:function(A,N){ye.remove(A,N)},_data:function(A,N,M){return Oe.access(A,N,M)},_removeData:function(A,N){Oe.remove(A,N)}}),m.fn.extend({data:function(A,N){var M,F,Q,Z=this[0],le=Z&&Z.attributes;if(A===void 0){if(this.length&&(Q=ye.get(Z),Z.nodeType===1&&!Oe.get(Z,"hasDataAttrs"))){for(M=le.length;M--;)le[M]&&(F=le[M].name,F.indexOf("data-")===0&&(F=xt(F.slice(5)),we(Z,F,Q[F])));Oe.set(Z,"hasDataAttrs",!0)}return Q}return typeof A=="object"?this.each(function(){ye.set(this,A)}):Ee(this,function(Se){var Te;if(Z&&Se===void 0)return Te=ye.get(Z,A),Te!==void 0||(Te=we(Z,A),Te!==void 0)?Te:void 0;this.each(function(){ye.set(this,A,Se)})},null,N,arguments.length>1,null,!0)},removeData:function(A){return this.each(function(){ye.remove(this,A)})}}),m.extend({queue:function(A,N,M){var F;if(A)return N=(N||"fx")+"queue",F=Oe.get(A,N),M&&(!F||Array.isArray(M)?F=Oe.access(A,N,m.makeArray(M)):F.push(M)),F||[]},dequeue:function(A,N){N=N||"fx";var M=m.queue(A,N),F=M.length,Q=M.shift(),Z=m._queueHooks(A,N),le=function(){m.dequeue(A,N)};Q==="inprogress"&&(Q=M.shift(),F--),Q&&(N==="fx"&&M.unshift("inprogress"),delete Z.stop,Q.call(A,le,Z)),!F&&Z&&Z.empty.fire()},_queueHooks:function(A,N){var M=N+"queueHooks";return Oe.get(A,M)||Oe.access(A,M,{empty:m.Callbacks("once memory").add(function(){Oe.remove(A,[N+"queue",M])})})}}),m.fn.extend({queue:function(A,N){var M=2;return typeof A!="string"&&(N=A,A="fx",M--),arguments.length<M?m.queue(this[0],A):N===void 0?this:this.each(function(){var F=m.queue(this,A,N);m._queueHooks(this,A),A==="fx"&&F[0]!=="inprogress"&&m.dequeue(this,A)})},dequeue:function(A){return this.each(function(){m.dequeue(this,A)})},clearQueue:function(A){return this.queue(A||"fx",[])},promise:function(A,N){var M,F=1,Q=m.Deferred(),Z=this,le=this.length,Se=function(){--F||Q.resolveWith(Z,[Z])};for(typeof A!="string"&&(N=A,A=void 0),A=A||"fx";le--;)M=Oe.get(Z[le],A+"queueHooks"),M&&M.empty&&(F++,M.empty.add(Se));return Se(),Q.promise(N)}});var Le=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ot=new RegExp("^(?:([+-])=|)("+Le+")([a-z%]*)$","i"),_e=["Top","Right","Bottom","Left"],Ce=b.documentElement,dt=function(A){return m.contains(A.ownerDocument,A)},Ne={composed:!0};Ce.getRootNode&&(dt=function(A){return m.contains(A.ownerDocument,A)||A.getRootNode(Ne)===A.ownerDocument});var Ye=function(A,N){return A=N||A,A.style.display==="none"||A.style.display===""&&dt(A)&&m.css(A,"display")==="none"};function jt(A,N,M,F){var Q,Z,le=20,Se=F?function(){return F.cur()}:function(){return m.css(A,N,"")},Te=Se(),Je=M&&M[3]||(m.cssNumber[N]?"":"px"),yt=A.nodeType&&(m.cssNumber[N]||Je!=="px"&&+Te)&&ot.exec(m.css(A,N));if(yt&&yt[3]!==Je){for(Te=Te/2,Je=Je||yt[3],yt=+Te||1;le--;)m.style(A,N,yt+Je),(1-Z)*(1-(Z=Se()/Te||.5))<=0&&(le=0),yt=yt/Z;yt=yt*2,m.style(A,N,yt+Je),M=M||[]}return M&&(yt=+yt||+Te||0,Q=M[1]?yt+(M[1]+1)*M[2]:+M[2],F&&(F.unit=Je,F.start=yt,F.end=Q)),Q}var qt={};function Jt(A){var N,M=A.ownerDocument,F=A.nodeName,Q=qt[F];return Q||(N=M.body.appendChild(M.createElement(F)),Q=m.css(N,"display"),N.parentNode.removeChild(N),Q==="none"&&(Q="block"),qt[F]=Q,Q)}function Ht(A,N){for(var M,F,Q=[],Z=0,le=A.length;Z<le;Z++)F=A[Z],F.style&&(M=F.style.display,N?(M==="none"&&(Q[Z]=Oe.get(F,"display")||null,Q[Z]||(F.style.display="")),F.style.display===""&&Ye(F)&&(Q[Z]=Jt(F))):M!=="none"&&(Q[Z]="none",Oe.set(F,"display",M)));for(Z=0;Z<le;Z++)Q[Z]!=null&&(A[Z].style.display=Q[Z]);return A}m.fn.extend({show:function(){return Ht(this,!0)},hide:function(){return Ht(this)},toggle:function(A){return typeof A=="boolean"?A?this.show():this.hide():this.each(function(){Ye(this)?m(this).show():m(this).hide()})}});var en=/^(?:checkbox|radio)$/i,hn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Zt=/^$|^module$|\/(?:java|ecma)script/i;(function(){var A=b.createDocumentFragment(),N=A.appendChild(b.createElement("div")),M=b.createElement("input");M.setAttribute("type","radio"),M.setAttribute("checked","checked"),M.setAttribute("name","t"),N.appendChild(M),g.checkClone=N.cloneNode(!0).cloneNode(!0).lastChild.checked,N.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!N.cloneNode(!0).lastChild.defaultValue,N.innerHTML="<option></option>",g.option=!!N.lastChild})();var Tt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Tt.tbody=Tt.tfoot=Tt.colgroup=Tt.caption=Tt.thead,Tt.th=Tt.td,g.option||(Tt.optgroup=Tt.option=[1,"<select multiple='multiple'>","</select>"]);function xn(A,N){var M;return typeof A.getElementsByTagName<"u"?M=A.getElementsByTagName(N||"*"):typeof A.querySelectorAll<"u"?M=A.querySelectorAll(N||"*"):M=[],N===void 0||N&&D(A,N)?m.merge([A],M):M}function Jn(A,N){for(var M=0,F=A.length;M<F;M++)Oe.set(A[M],"globalEval",!N||Oe.get(N[M],"globalEval"))}var ir=/<|&#?\w+;/;function Bt(A,N,M,F,Q){for(var Z,le,Se,Te,Je,yt,Rt=N.createDocumentFragment(),ct=[],At=0,jn=A.length;At<jn;At++)if(Z=A[At],Z||Z===0)if(E(Z)==="object")m.merge(ct,Z.nodeType?[Z]:Z);else if(!ir.test(Z))ct.push(N.createTextNode(Z));else{for(le=le||Rt.appendChild(N.createElement("div")),Se=(hn.exec(Z)||["",""])[1].toLowerCase(),Te=Tt[Se]||Tt._default,le.innerHTML=Te[1]+m.htmlPrefilter(Z)+Te[2],yt=Te[0];yt--;)le=le.lastChild;m.merge(ct,le.childNodes),le=Rt.firstChild,le.textContent=""}for(Rt.textContent="",At=0;Z=ct[At++];){if(F&&m.inArray(Z,F)>-1){Q&&Q.push(Z);continue}if(Je=dt(Z),le=xn(Rt.appendChild(Z),"script"),Je&&Jn(le),M)for(yt=0;Z=le[yt++];)Zt.test(Z.type||"")&&M.push(Z)}return Rt}var Sr=/^key/,_r=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,mr=/^([^.]*)(?:\.(.+)|)/;function ri(){return!0}function Hn(){return!1}function fi(A,N){return A===Ji()==(N==="focus")}function Ji(){try{return b.activeElement}catch{}}function Lr(A,N,M,F,Q,Z){var le,Se;if(typeof N=="object"){typeof M!="string"&&(F=F||M,M=void 0);for(Se in N)Lr(A,Se,M,F,N[Se],Z);return A}if(F==null&&Q==null?(Q=M,F=M=void 0):Q==null&&(typeof M=="string"?(Q=F,F=void 0):(Q=F,F=M,M=void 0)),Q===!1)Q=Hn;else if(!Q)return A;return Z===1&&(le=Q,Q=function(Te){return m().off(Te),le.apply(this,arguments)},Q.guid=le.guid||(le.guid=m.guid++)),A.each(function(){m.event.add(this,N,Q,F,M)})}m.event={global:{},add:function(A,N,M,F,Q){var Z,le,Se,Te,Je,yt,Rt,ct,At,jn,Qn,an=Oe.get(A);if(Ct(A))for(M.handler&&(Z=M,M=Z.handler,Q=Z.selector),Q&&m.find.matchesSelector(Ce,Q),M.guid||(M.guid=m.guid++),(Te=an.events)||(Te=an.events=Object.create(null)),(le=an.handle)||(le=an.handle=function(li){return typeof m<"u"&&m.event.triggered!==li.type?m.event.dispatch.apply(A,arguments):void 0}),N=(N||"").match(ee)||[""],Je=N.length;Je--;)Se=mr.exec(N[Je])||[],At=Qn=Se[1],jn=(Se[2]||"").split(".").sort(),At&&(Rt=m.event.special[At]||{},At=(Q?Rt.delegateType:Rt.bindType)||At,Rt=m.event.special[At]||{},yt=m.extend({type:At,origType:Qn,data:F,handler:M,guid:M.guid,selector:Q,needsContext:Q&&m.expr.match.needsContext.test(Q),namespace:jn.join(".")},Z),(ct=Te[At])||(ct=Te[At]=[],ct.delegateCount=0,(!Rt.setup||Rt.setup.call(A,F,jn,le)===!1)&&A.addEventListener&&A.addEventListener(At,le)),Rt.add&&(Rt.add.call(A,yt),yt.handler.guid||(yt.handler.guid=M.guid)),Q?ct.splice(ct.delegateCount++,0,yt):ct.push(yt),m.event.global[At]=!0)},remove:function(A,N,M,F,Q){var Z,le,Se,Te,Je,yt,Rt,ct,At,jn,Qn,an=Oe.hasData(A)&&Oe.get(A);if(!(!an||!(Te=an.events))){for(N=(N||"").match(ee)||[""],Je=N.length;Je--;){if(Se=mr.exec(N[Je])||[],At=Qn=Se[1],jn=(Se[2]||"").split(".").sort(),!At){for(At in Te)m.event.remove(A,At+N[Je],M,F,!0);continue}for(Rt=m.event.special[At]||{},At=(F?Rt.delegateType:Rt.bindType)||At,ct=Te[At]||[],Se=Se[2]&&new RegExp("(^|\\.)"+jn.join("\\.(?:.*\\.|)")+"(\\.|$)"),le=Z=ct.length;Z--;)yt=ct[Z],(Q||Qn===yt.origType)&&(!M||M.guid===yt.guid)&&(!Se||Se.test(yt.namespace))&&(!F||F===yt.selector||F==="**"&&yt.selector)&&(ct.splice(Z,1),yt.selector&&ct.delegateCount--,Rt.remove&&Rt.remove.call(A,yt));le&&!ct.length&&((!Rt.teardown||Rt.teardown.call(A,jn,an.handle)===!1)&&m.removeEvent(A,At,an.handle),delete Te[At])}m.isEmptyObject(Te)&&Oe.remove(A,"handle events")}},dispatch:function(A){var N,M,F,Q,Z,le,Se=new Array(arguments.length),Te=m.event.fix(A),Je=(Oe.get(this,"events")||Object.create(null))[Te.type]||[],yt=m.event.special[Te.type]||{};for(Se[0]=Te,N=1;N<arguments.length;N++)Se[N]=arguments[N];if(Te.delegateTarget=this,!(yt.preDispatch&&yt.preDispatch.call(this,Te)===!1)){for(le=m.event.handlers.call(this,Te,Je),N=0;(Q=le[N++])&&!Te.isPropagationStopped();)for(Te.currentTarget=Q.elem,M=0;(Z=Q.handlers[M++])&&!Te.isImmediatePropagationStopped();)(!Te.rnamespace||Z.namespace===!1||Te.rnamespace.test(Z.namespace))&&(Te.handleObj=Z,Te.data=Z.data,F=((m.event.special[Z.origType]||{}).handle||Z.handler).apply(Q.elem,Se),F!==void 0&&(Te.result=F)===!1&&(Te.preventDefault(),Te.stopPropagation()));return yt.postDispatch&&yt.postDispatch.call(this,Te),Te.result}},handlers:function(A,N){var M,F,Q,Z,le,Se=[],Te=N.delegateCount,Je=A.target;if(Te&&Je.nodeType&&!(A.type==="click"&&A.button>=1)){for(;Je!==this;Je=Je.parentNode||this)if(Je.nodeType===1&&!(A.type==="click"&&Je.disabled===!0)){for(Z=[],le={},M=0;M<Te;M++)F=N[M],Q=F.selector+" ",le[Q]===void 0&&(le[Q]=F.needsContext?m(Q,this).index(Je)>-1:m.find(Q,this,null,[Je]).length),le[Q]&&Z.push(F);Z.length&&Se.push({elem:Je,handlers:Z})}}return Je=this,Te<N.length&&Se.push({elem:Je,handlers:N.slice(Te)}),Se},addProp:function(A,N){Object.defineProperty(m.Event.prototype,A,{enumerable:!0,configurable:!0,get:h(N)?function(){if(this.originalEvent)return N(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[A]},set:function(M){Object.defineProperty(this,A,{enumerable:!0,configurable:!0,writable:!0,value:M})}})},fix:function(A){return A[m.expando]?A:new m.Event(A)},special:{load:{noBubble:!0},click:{setup:function(A){var N=this||A;return en.test(N.type)&&N.click&&D(N,"input")&&or(N,"click",ri),!1},trigger:function(A){var N=this||A;return en.test(N.type)&&N.click&&D(N,"input")&&or(N,"click"),!0},_default:function(A){var N=A.target;return en.test(N.type)&&N.click&&D(N,"input")&&Oe.get(N,"click")||D(N,"a")}},beforeunload:{postDispatch:function(A){A.result!==void 0&&A.originalEvent&&(A.originalEvent.returnValue=A.result)}}}};function or(A,N,M){if(!M){Oe.get(A,N)===void 0&&m.event.add(A,N,ri);return}Oe.set(A,N,!1),m.event.add(A,N,{namespace:!1,handler:function(F){var Q,Z,le=Oe.get(this,N);if(F.isTrigger&1&&this[N]){if(le.length)(m.event.special[N]||{}).delegateType&&F.stopPropagation();else if(le=o.call(arguments),Oe.set(this,N,le),Q=M(this,N),this[N](),Z=Oe.get(this,N),le!==Z||Q?Oe.set(this,N,!1):Z={},le!==Z)return F.stopImmediatePropagation(),F.preventDefault(),Z.value}else le.length&&(Oe.set(this,N,{value:m.event.trigger(m.extend(le[0],m.Event.prototype),le.slice(1),this)}),F.stopImmediatePropagation())}})}m.removeEvent=function(A,N,M){A.removeEventListener&&A.removeEventListener(N,M)},m.Event=function(A,N){if(!(this instanceof m.Event))return new m.Event(A,N);A&&A.type?(this.originalEvent=A,this.type=A.type,this.isDefaultPrevented=A.defaultPrevented||A.defaultPrevented===void 0&&A.returnValue===!1?ri:Hn,this.target=A.target&&A.target.nodeType===3?A.target.parentNode:A.target,this.currentTarget=A.currentTarget,this.relatedTarget=A.relatedTarget):this.type=A,N&&m.extend(this,N),this.timeStamp=A&&A.timeStamp||Date.now(),this[m.expando]=!0},m.Event.prototype={constructor:m.Event,isDefaultPrevented:Hn,isPropagationStopped:Hn,isImmediatePropagationStopped:Hn,isSimulated:!1,preventDefault:function(){var A=this.originalEvent;this.isDefaultPrevented=ri,A&&!this.isSimulated&&A.preventDefault()},stopPropagation:function(){var A=this.originalEvent;this.isPropagationStopped=ri,A&&!this.isSimulated&&A.stopPropagation()},stopImmediatePropagation:function(){var A=this.originalEvent;this.isImmediatePropagationStopped=ri,A&&!this.isSimulated&&A.stopImmediatePropagation(),this.stopPropagation()}},m.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(A){var N=A.button;return A.which==null&&Sr.test(A.type)?A.charCode!=null?A.charCode:A.keyCode:!A.which&&N!==void 0&&_r.test(A.type)?N&1?1:N&2?3:N&4?2:0:A.which}},m.event.addProp),m.each({focus:"focusin",blur:"focusout"},function(A,N){m.event.special[A]={setup:function(){return or(this,A,fi),!1},trigger:function(){return or(this,A),!0},delegateType:N}}),m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(A,N){m.event.special[A]={delegateType:N,bindType:N,handle:function(M){var F,Q=this,Z=M.relatedTarget,le=M.handleObj;return(!Z||Z!==Q&&!m.contains(Q,Z))&&(M.type=le.origType,F=le.handler.apply(this,arguments),M.type=N),F}}}),m.fn.extend({on:function(A,N,M,F){return Lr(this,A,N,M,F)},one:function(A,N,M,F){return Lr(this,A,N,M,F,1)},off:function(A,N,M){var F,Q;if(A&&A.preventDefault&&A.handleObj)return F=A.handleObj,m(A.delegateTarget).off(F.namespace?F.origType+"."+F.namespace:F.origType,F.selector,F.handler),this;if(typeof A=="object"){for(Q in A)this.off(Q,N,A[Q]);return this}return(N===!1||typeof N=="function")&&(M=N,N=void 0),M===!1&&(M=Hn),this.each(function(){m.event.remove(this,A,M,N)})}});var Cr=/<script|<style|<link/i,Or=/checked\s*(?:[^=]|=\s*.checked.)/i,er=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Zn(A,N){return D(A,"table")&&D(N.nodeType!==11?N:N.firstChild,"tr")&&m(A).children("tbody")[0]||A}function yr(A){return A.type=(A.getAttribute("type")!==null)+"/"+A.type,A}function Hr(A){return(A.type||"").slice(0,5)==="true/"?A.type=A.type.slice(5):A.removeAttribute("type"),A}function Gr(A,N){var M,F,Q,Z,le,Se,Te;if(N.nodeType===1){if(Oe.hasData(A)&&(Z=Oe.get(A),Te=Z.events,Te)){Oe.remove(N,"handle events");for(Q in Te)for(M=0,F=Te[Q].length;M<F;M++)m.event.add(N,Q,Te[Q][M])}ye.hasData(A)&&(le=ye.access(A),Se=m.extend({},le),ye.set(N,Se))}}function Kr(A,N){var M=N.nodeName.toLowerCase();M==="input"&&en.test(A.type)?N.checked=A.checked:(M==="input"||M==="textarea")&&(N.defaultValue=A.defaultValue)}function $i(A,N,M,F){N=a(N);var Q,Z,le,Se,Te,Je,yt=0,Rt=A.length,ct=Rt-1,At=N[0],jn=h(At);if(jn||Rt>1&&typeof At=="string"&&!g.checkClone&&Or.test(At))return A.each(function(Qn){var an=A.eq(Qn);jn&&(N[0]=At.call(this,Qn,an.html())),$i(an,N,M,F)});if(Rt&&(Q=Bt(N,A[0].ownerDocument,!1,A,F),Z=Q.firstChild,Q.childNodes.length===1&&(Q=Z),Z||F)){for(le=m.map(xn(Q,"script"),yr),Se=le.length;yt<Rt;yt++)Te=Q,yt!==ct&&(Te=m.clone(Te,!0,!0),Se&&m.merge(le,xn(Te,"script"))),M.call(A[yt],Te,yt);if(Se)for(Je=le[le.length-1].ownerDocument,m.map(le,Hr),yt=0;yt<Se;yt++)Te=le[yt],Zt.test(Te.type||"")&&!Oe.access(Te,"globalEval")&&m.contains(Je,Te)&&(Te.src&&(Te.type||"").toLowerCase()!=="module"?m._evalUrl&&!Te.noModule&&m._evalUrl(Te.src,{nonce:Te.nonce||Te.getAttribute("nonce")},Je):S(Te.textContent.replace(er,""),Te,Je))}return A}function Ni(A,N,M){for(var F,Q=N?m.filter(N,A):A,Z=0;(F=Q[Z])!=null;Z++)!M&&F.nodeType===1&&m.cleanData(xn(F)),F.parentNode&&(M&&dt(F)&&Jn(xn(F,"script")),F.parentNode.removeChild(F));return A}m.extend({htmlPrefilter:function(A){return A},clone:function(A,N,M){var F,Q,Z,le,Se=A.cloneNode(!0),Te=dt(A);if(!g.noCloneChecked&&(A.nodeType===1||A.nodeType===11)&&!m.isXMLDoc(A))for(le=xn(Se),Z=xn(A),F=0,Q=Z.length;F<Q;F++)Kr(Z[F],le[F]);if(N)if(M)for(Z=Z||xn(A),le=le||xn(Se),F=0,Q=Z.length;F<Q;F++)Gr(Z[F],le[F]);else Gr(A,Se);return le=xn(Se,"script"),le.length>0&&Jn(le,!Te&&xn(A,"script")),Se},cleanData:function(A){for(var N,M,F,Q=m.event.special,Z=0;(M=A[Z])!==void 0;Z++)if(Ct(M)){if(N=M[Oe.expando]){if(N.events)for(F in N.events)Q[F]?m.event.remove(M,F):m.removeEvent(M,F,N.handle);M[Oe.expando]=void 0}M[ye.expando]&&(M[ye.expando]=void 0)}}}),m.fn.extend({detach:function(A){return Ni(this,A,!0)},remove:function(A){return Ni(this,A)},text:function(A){return Ee(this,function(N){return N===void 0?m.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=N)})},null,A,arguments.length)},append:function(){return $i(this,arguments,function(A){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var N=Zn(this,A);N.appendChild(A)}})},prepend:function(){return $i(this,arguments,function(A){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var N=Zn(this,A);N.insertBefore(A,N.firstChild)}})},before:function(){return $i(this,arguments,function(A){this.parentNode&&this.parentNode.insertBefore(A,this)})},after:function(){return $i(this,arguments,function(A){this.parentNode&&this.parentNode.insertBefore(A,this.nextSibling)})},empty:function(){for(var A,N=0;(A=this[N])!=null;N++)A.nodeType===1&&(m.cleanData(xn(A,!1)),A.textContent="");return this},clone:function(A,N){return A=A??!1,N=N??A,this.map(function(){return m.clone(this,A,N)})},html:function(A){return Ee(this,function(N){var M=this[0]||{},F=0,Q=this.length;if(N===void 0&&M.nodeType===1)return M.innerHTML;if(typeof N=="string"&&!Cr.test(N)&&!Tt[(hn.exec(N)||["",""])[1].toLowerCase()]){N=m.htmlPrefilter(N);try{for(;F<Q;F++)M=this[F]||{},M.nodeType===1&&(m.cleanData(xn(M,!1)),M.innerHTML=N);M=0}catch{}}M&&this.empty().append(N)},null,A,arguments.length)},replaceWith:function(){var A=[];return $i(this,arguments,function(N){var M=this.parentNode;m.inArray(this,A)<0&&(m.cleanData(xn(this)),M&&M.replaceChild(N,this))},A)}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(A,N){m.fn[A]=function(M){for(var F,Q=[],Z=m(M),le=Z.length-1,Se=0;Se<=le;Se++)F=Se===le?this:this.clone(!0),m(Z[Se])[N](F),s.apply(Q,F.get());return this.pushStack(Q)}});var Pi=new RegExp("^("+Le+")(?!px)[a-z%]+$","i"),ln=function(A){var N=A.ownerDocument.defaultView;return(!N||!N.opener)&&(N=t),N.getComputedStyle(A)},Wn=function(A,N,M){var F,Q,Z={};for(Q in N)Z[Q]=A.style[Q],A.style[Q]=N[Q];F=M.call(A);for(Q in N)A.style[Q]=Z[Q];return F},Tr=new RegExp(_e.join("|"),"i");(function(){function A(){if(Je){Te.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Je.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ce.appendChild(Te).appendChild(Je);var yt=t.getComputedStyle(Je);M=yt.top!=="1%",Se=N(yt.marginLeft)===12,Je.style.right="60%",Z=N(yt.right)===36,F=N(yt.width)===36,Je.style.position="absolute",Q=N(Je.offsetWidth/3)===12,Ce.removeChild(Te),Je=null}}function N(yt){return Math.round(parseFloat(yt))}var M,F,Q,Z,le,Se,Te=b.createElement("div"),Je=b.createElement("div");Je.style&&(Je.style.backgroundClip="content-box",Je.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle=Je.style.backgroundClip==="content-box",m.extend(g,{boxSizingReliable:function(){return A(),F},pixelBoxStyles:function(){return A(),Z},pixelPosition:function(){return A(),M},reliableMarginLeft:function(){return A(),Se},scrollboxSize:function(){return A(),Q},reliableTrDimensions:function(){var yt,Rt,ct,At;return le==null&&(yt=b.createElement("table"),Rt=b.createElement("tr"),ct=b.createElement("div"),yt.style.cssText="position:absolute;left:-11111px",Rt.style.height="1px",ct.style.height="9px",Ce.appendChild(yt).appendChild(Rt).appendChild(ct),At=t.getComputedStyle(Rt),le=parseInt(At.height)>3,Ce.removeChild(yt)),le}}))})();function Me(A,N,M){var F,Q,Z,le,Se=A.style;return M=M||ln(A),M&&(le=M.getPropertyValue(N)||M[N],le===""&&!dt(A)&&(le=m.style(A,N)),!g.pixelBoxStyles()&&Pi.test(le)&&Tr.test(N)&&(F=Se.width,Q=Se.minWidth,Z=Se.maxWidth,Se.minWidth=Se.maxWidth=Se.width=le,le=M.width,Se.width=F,Se.minWidth=Q,Se.maxWidth=Z)),le!==void 0?le+"":le}function ut(A,N){return{get:function(){if(A()){delete this.get;return}return(this.get=N).apply(this,arguments)}}}var It=["Webkit","Moz","ms"],Ue=b.createElement("div").style,lt={};function pt(A){for(var N=A[0].toUpperCase()+A.slice(1),M=It.length;M--;)if(A=It[M]+N,A in Ue)return A}function Ut(A){var N=m.cssProps[A]||lt[A];return N||(A in Ue?A:lt[A]=pt(A)||A)}var Pt=/^(none|table(?!-c[ea]).+)/,In=/^--/,mn={position:"absolute",visibility:"hidden",display:"block"},Xt={letterSpacing:"0",fontWeight:"400"};function un(A,N,M){var F=ot.exec(N);return F?Math.max(0,F[2]-(M||0))+(F[3]||"px"):N}function Ln(A,N,M,F,Q,Z){var le=N==="width"?1:0,Se=0,Te=0;if(M===(F?"border":"content"))return 0;for(;le<4;le+=2)M==="margin"&&(Te+=m.css(A,M+_e[le],!0,Q)),F?(M==="content"&&(Te-=m.css(A,"padding"+_e[le],!0,Q)),M!=="margin"&&(Te-=m.css(A,"border"+_e[le]+"Width",!0,Q))):(Te+=m.css(A,"padding"+_e[le],!0,Q),M!=="padding"?Te+=m.css(A,"border"+_e[le]+"Width",!0,Q):Se+=m.css(A,"border"+_e[le]+"Width",!0,Q));return!F&&Z>=0&&(Te+=Math.max(0,Math.ceil(A["offset"+N[0].toUpperCase()+N.slice(1)]-Z-Te-Se-.5))||0),Te}function Yt(A,N,M){var F=ln(A),Q=!g.boxSizingReliable()||M,Z=Q&&m.css(A,"boxSizing",!1,F)==="border-box",le=Z,Se=Me(A,N,F),Te="offset"+N[0].toUpperCase()+N.slice(1);if(Pi.test(Se)){if(!M)return Se;Se="auto"}return(!g.boxSizingReliable()&&Z||!g.reliableTrDimensions()&&D(A,"tr")||Se==="auto"||!parseFloat(Se)&&m.css(A,"display",!1,F)==="inline")&&A.getClientRects().length&&(Z=m.css(A,"boxSizing",!1,F)==="border-box",le=Te in A,le&&(Se=A[Te])),Se=parseFloat(Se)||0,Se+Ln(A,N,M||(Z?"border":"content"),le,F,Se)+"px"}m.extend({cssHooks:{opacity:{get:function(A,N){if(N){var M=Me(A,"opacity");return M===""?"1":M}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(A,N,M,F){if(!(!A||A.nodeType===3||A.nodeType===8||!A.style)){var Q,Z,le,Se=xt(N),Te=In.test(N),Je=A.style;if(Te||(N=Ut(Se)),le=m.cssHooks[N]||m.cssHooks[Se],M!==void 0){if(Z=typeof M,Z==="string"&&(Q=ot.exec(M))&&Q[1]&&(M=jt(A,N,Q),Z="number"),M==null||M!==M)return;Z==="number"&&!Te&&(M+=Q&&Q[3]||(m.cssNumber[Se]?"":"px")),!g.clearCloneStyle&&M===""&&N.indexOf("background")===0&&(Je[N]="inherit"),(!le||!("set"in le)||(M=le.set(A,M,F))!==void 0)&&(Te?Je.setProperty(N,M):Je[N]=M)}else return le&&"get"in le&&(Q=le.get(A,!1,F))!==void 0?Q:Je[N]}},css:function(A,N,M,F){var Q,Z,le,Se=xt(N),Te=In.test(N);return Te||(N=Ut(Se)),le=m.cssHooks[N]||m.cssHooks[Se],le&&"get"in le&&(Q=le.get(A,!0,M)),Q===void 0&&(Q=Me(A,N,F)),Q==="normal"&&N in Xt&&(Q=Xt[N]),M===""||M?(Z=parseFloat(Q),M===!0||isFinite(Z)?Z||0:Q):Q}}),m.each(["height","width"],function(A,N){m.cssHooks[N]={get:function(M,F,Q){if(F)return Pt.test(m.css(M,"display"))&&(!M.getClientRects().length||!M.getBoundingClientRect().width)?Wn(M,mn,function(){return Yt(M,N,Q)}):Yt(M,N,Q)},set:function(M,F,Q){var Z,le=ln(M),Se=!g.scrollboxSize()&&le.position==="absolute",Te=Se||Q,Je=Te&&m.css(M,"boxSizing",!1,le)==="border-box",yt=Q?Ln(M,N,Q,Je,le):0;return Je&&Se&&(yt-=Math.ceil(M["offset"+N[0].toUpperCase()+N.slice(1)]-parseFloat(le[N])-Ln(M,N,"border",!1,le)-.5)),yt&&(Z=ot.exec(F))&&(Z[3]||"px")!=="px"&&(M.style[N]=F,F=m.css(M,N)),un(M,F,yt)}}}),m.cssHooks.marginLeft=ut(g.reliableMarginLeft,function(A,N){if(N)return(parseFloat(Me(A,"marginLeft"))||A.getBoundingClientRect().left-Wn(A,{marginLeft:0},function(){return A.getBoundingClientRect().left}))+"px"}),m.each({margin:"",padding:"",border:"Width"},function(A,N){m.cssHooks[A+N]={expand:function(M){for(var F=0,Q={},Z=typeof M=="string"?M.split(" "):[M];F<4;F++)Q[A+_e[F]+N]=Z[F]||Z[F-2]||Z[0];return Q}},A!=="margin"&&(m.cssHooks[A+N].set=un)}),m.fn.extend({css:function(A,N){return Ee(this,function(M,F,Q){var Z,le,Se={},Te=0;if(Array.isArray(F)){for(Z=ln(M),le=F.length;Te<le;Te++)Se[F[Te]]=m.css(M,F[Te],!1,Z);return Se}return Q!==void 0?m.style(M,F,Q):m.css(M,F)},A,N,arguments.length>1)}});function tn(A,N,M,F,Q){return new tn.prototype.init(A,N,M,F,Q)}m.Tween=tn,tn.prototype={constructor:tn,init:function(A,N,M,F,Q,Z){this.elem=A,this.prop=M,this.easing=Q||m.easing._default,this.options=N,this.start=this.now=this.cur(),this.end=F,this.unit=Z||(m.cssNumber[M]?"":"px")},cur:function(){var A=tn.propHooks[this.prop];return A&&A.get?A.get(this):tn.propHooks._default.get(this)},run:function(A){var N,M=tn.propHooks[this.prop];return this.options.duration?this.pos=N=m.easing[this.easing](A,this.options.duration*A,0,1,this.options.duration):this.pos=N=A,this.now=(this.end-this.start)*N+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),M&&M.set?M.set(this):tn.propHooks._default.set(this),this}},tn.prototype.init.prototype=tn.prototype,tn.propHooks={_default:{get:function(A){var N;return A.elem.nodeType!==1||A.elem[A.prop]!=null&&A.elem.style[A.prop]==null?A.elem[A.prop]:(N=m.css(A.elem,A.prop,""),!N||N==="auto"?0:N)},set:function(A){m.fx.step[A.prop]?m.fx.step[A.prop](A):A.elem.nodeType===1&&(m.cssHooks[A.prop]||A.elem.style[Ut(A.prop)]!=null)?m.style(A.elem,A.prop,A.now+A.unit):A.elem[A.prop]=A.now}}},tn.propHooks.scrollTop=tn.propHooks.scrollLeft={set:function(A){A.elem.nodeType&&A.elem.parentNode&&(A.elem[A.prop]=A.now)}},m.easing={linear:function(A){return A},swing:function(A){return .5-Math.cos(A*Math.PI)/2},_default:"swing"},m.fx=tn.prototype.init,m.fx.step={};var Fn,hr,dn=/^(?:toggle|show|hide)$/,Dr=/queueHooks$/;function Ir(){hr&&(b.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Ir):t.setTimeout(Ir,m.fx.interval),m.fx.tick())}function vi(){return t.setTimeout(function(){Fn=void 0}),Fn=Date.now()}function Rn(A,N){var M,F=0,Q={height:A};for(N=N?1:0;F<4;F+=2-N)M=_e[F],Q["margin"+M]=Q["padding"+M]=A;return N&&(Q.opacity=Q.width=A),Q}function Sn(A,N,M){for(var F,Q=(Cn.tweeners[N]||[]).concat(Cn.tweeners["*"]),Z=0,le=Q.length;Z<le;Z++)if(F=Q[Z].call(M,N,A))return F}function On(A,N,M){var F,Q,Z,le,Se,Te,Je,yt,Rt="width"in N||"height"in N,ct=this,At={},jn=A.style,Qn=A.nodeType&&Ye(A),an=Oe.get(A,"fxshow");M.queue||(le=m._queueHooks(A,"fx"),le.unqueued==null&&(le.unqueued=0,Se=le.empty.fire,le.empty.fire=function(){le.unqueued||Se()}),le.unqueued++,ct.always(function(){ct.always(function(){le.unqueued--,m.queue(A,"fx").length||le.empty.fire()})}));for(F in N)if(Q=N[F],dn.test(Q)){if(delete N[F],Z=Z||Q==="toggle",Q===(Qn?"hide":"show"))if(Q==="show"&&an&&an[F]!==void 0)Qn=!0;else continue;At[F]=an&&an[F]||m.style(A,F)}if(Te=!m.isEmptyObject(N),!(!Te&&m.isEmptyObject(At))){Rt&&A.nodeType===1&&(M.overflow=[jn.overflow,jn.overflowX,jn.overflowY],Je=an&&an.display,Je==null&&(Je=Oe.get(A,"display")),yt=m.css(A,"display"),yt==="none"&&(Je?yt=Je:(Ht([A],!0),Je=A.style.display||Je,yt=m.css(A,"display"),Ht([A]))),(yt==="inline"||yt==="inline-block"&&Je!=null)&&m.css(A,"float")==="none"&&(Te||(ct.done(function(){jn.display=Je}),Je==null&&(yt=jn.display,Je=yt==="none"?"":yt)),jn.display="inline-block")),M.overflow&&(jn.overflow="hidden",ct.always(function(){jn.overflow=M.overflow[0],jn.overflowX=M.overflow[1],jn.overflowY=M.overflow[2]})),Te=!1;for(F in At)Te||(an?"hidden"in an&&(Qn=an.hidden):an=Oe.access(A,"fxshow",{display:Je}),Z&&(an.hidden=!Qn),Qn&&Ht([A],!0),ct.done(function(){Qn||Ht([A]),Oe.remove(A,"fxshow");for(F in At)m.style(A,F,At[F])})),Te=Sn(Qn?an[F]:0,F,ct),F in an||(an[F]=Te.start,Qn&&(Te.end=Te.start,Te.start=0))}}function kr(A,N){var M,F,Q,Z,le;for(M in A)if(F=xt(M),Q=N[F],Z=A[M],Array.isArray(Z)&&(Q=Z[1],Z=A[M]=Z[0]),M!==F&&(A[F]=Z,delete A[M]),le=m.cssHooks[F],le&&"expand"in le){Z=le.expand(Z),delete A[F];for(M in Z)M in A||(A[M]=Z[M],N[M]=Q)}else N[F]=Q}function Cn(A,N,M){var F,Q,Z=0,le=Cn.prefilters.length,Se=m.Deferred().always(function(){delete Te.elem}),Te=function(){if(Q)return!1;for(var Rt=Fn||vi(),ct=Math.max(0,Je.startTime+Je.duration-Rt),At=ct/Je.duration||0,jn=1-At,Qn=0,an=Je.tweens.length;Qn<an;Qn++)Je.tweens[Qn].run(jn);return Se.notifyWith(A,[Je,jn,ct]),jn<1&&an?ct:(an||Se.notifyWith(A,[Je,1,0]),Se.resolveWith(A,[Je]),!1)},Je=Se.promise({elem:A,props:m.extend({},N),opts:m.extend(!0,{specialEasing:{},easing:m.easing._default},M),originalProperties:N,originalOptions:M,startTime:Fn||vi(),duration:M.duration,tweens:[],createTween:function(Rt,ct){var At=m.Tween(A,Je.opts,Rt,ct,Je.opts.specialEasing[Rt]||Je.opts.easing);return Je.tweens.push(At),At},stop:function(Rt){var ct=0,At=Rt?Je.tweens.length:0;if(Q)return this;for(Q=!0;ct<At;ct++)Je.tweens[ct].run(1);return Rt?(Se.notifyWith(A,[Je,1,0]),Se.resolveWith(A,[Je,Rt])):Se.rejectWith(A,[Je,Rt]),this}}),yt=Je.props;for(kr(yt,Je.opts.specialEasing);Z<le;Z++)if(F=Cn.prefilters[Z].call(Je,A,yt,Je.opts),F)return h(F.stop)&&(m._queueHooks(Je.elem,Je.opts.queue).stop=F.stop.bind(F)),F;return m.map(yt,Sn,Je),h(Je.opts.start)&&Je.opts.start.call(A,Je),Je.progress(Je.opts.progress).done(Je.opts.done,Je.opts.complete).fail(Je.opts.fail).always(Je.opts.always),m.fx.timer(m.extend(Te,{elem:A,anim:Je,queue:Je.opts.queue})),Je}m.Animation=m.extend(Cn,{tweeners:{"*":[function(A,N){var M=this.createTween(A,N);return jt(M.elem,A,ot.exec(N),M),M}]},tweener:function(A,N){h(A)?(N=A,A=["*"]):A=A.match(ee);for(var M,F=0,Q=A.length;F<Q;F++)M=A[F],Cn.tweeners[M]=Cn.tweeners[M]||[],Cn.tweeners[M].unshift(N)},prefilters:[On],prefilter:function(A,N){N?Cn.prefilters.unshift(A):Cn.prefilters.push(A)}}),m.speed=function(A,N,M){var F=A&&typeof A=="object"?m.extend({},A):{complete:M||!M&&N||h(A)&&A,duration:A,easing:M&&N||N&&!h(N)&&N};return m.fx.off?F.duration=0:typeof F.duration!="number"&&(F.duration in m.fx.speeds?F.duration=m.fx.speeds[F.duration]:F.duration=m.fx.speeds._default),(F.queue==null||F.queue===!0)&&(F.queue="fx"),F.old=F.complete,F.complete=function(){h(F.old)&&F.old.call(this),F.queue&&m.dequeue(this,F.queue)},F},m.fn.extend({fadeTo:function(A,N,M,F){return this.filter(Ye).css("opacity",0).show().end().animate({opacity:N},A,M,F)},animate:function(A,N,M,F){var Q=m.isEmptyObject(A),Z=m.speed(N,M,F),le=function(){var Se=Cn(this,m.extend({},A),Z);(Q||Oe.get(this,"finish"))&&Se.stop(!0)};return le.finish=le,Q||Z.queue===!1?this.each(le):this.queue(Z.queue,le)},stop:function(A,N,M){var F=function(Q){var Z=Q.stop;delete Q.stop,Z(M)};return typeof A!="string"&&(M=N,N=A,A=void 0),N&&this.queue(A||"fx",[]),this.each(function(){var Q=!0,Z=A!=null&&A+"queueHooks",le=m.timers,Se=Oe.get(this);if(Z)Se[Z]&&Se[Z].stop&&F(Se[Z]);else for(Z in Se)Se[Z]&&Se[Z].stop&&Dr.test(Z)&&F(Se[Z]);for(Z=le.length;Z--;)le[Z].elem===this&&(A==null||le[Z].queue===A)&&(le[Z].anim.stop(M),Q=!1,le.splice(Z,1));(Q||!M)&&m.dequeue(this,A)})},finish:function(A){return A!==!1&&(A=A||"fx"),this.each(function(){var N,M=Oe.get(this),F=M[A+"queue"],Q=M[A+"queueHooks"],Z=m.timers,le=F?F.length:0;for(M.finish=!0,m.queue(this,A,[]),Q&&Q.stop&&Q.stop.call(this,!0),N=Z.length;N--;)Z[N].elem===this&&Z[N].queue===A&&(Z[N].anim.stop(!0),Z.splice(N,1));for(N=0;N<le;N++)F[N]&&F[N].finish&&F[N].finish.call(this);delete M.finish})}}),m.each(["toggle","show","hide"],function(A,N){var M=m.fn[N];m.fn[N]=function(F,Q,Z){return F==null||typeof F=="boolean"?M.apply(this,arguments):this.animate(Rn(N,!0),F,Q,Z)}}),m.each({slideDown:Rn("show"),slideUp:Rn("hide"),slideToggle:Rn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(A,N){m.fn[A]=function(M,F,Q){return this.animate(N,M,F,Q)}}),m.timers=[],m.fx.tick=function(){var A,N=0,M=m.timers;for(Fn=Date.now();N<M.length;N++)A=M[N],!A()&&M[N]===A&&M.splice(N--,1);M.length||m.fx.stop(),Fn=void 0},m.fx.timer=function(A){m.timers.push(A),m.fx.start()},m.fx.interval=13,m.fx.start=function(){hr||(hr=!0,Ir())},m.fx.stop=function(){hr=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(A,N){return A=m.fx&&m.fx.speeds[A]||A,N=N||"fx",this.queue(N,function(M,F){var Q=t.setTimeout(M,A);F.stop=function(){t.clearTimeout(Q)}})},(function(){var A=b.createElement("input"),N=b.createElement("select"),M=N.appendChild(b.createElement("option"));A.type="checkbox",g.checkOn=A.value!=="",g.optSelected=M.selected,A=b.createElement("input"),A.value="t",A.type="radio",g.radioValue=A.value==="t"})();var Ti,gr=m.expr.attrHandle;m.fn.extend({attr:function(A,N){return Ee(this,m.attr,A,N,arguments.length>1)},removeAttr:function(A){return this.each(function(){m.removeAttr(this,A)})}}),m.extend({attr:function(A,N,M){var F,Q,Z=A.nodeType;if(!(Z===3||Z===8||Z===2)){if(typeof A.getAttribute>"u")return m.prop(A,N,M);if((Z!==1||!m.isXMLDoc(A))&&(Q=m.attrHooks[N.toLowerCase()]||(m.expr.match.bool.test(N)?Ti:void 0)),M!==void 0){if(M===null){m.removeAttr(A,N);return}return Q&&"set"in Q&&(F=Q.set(A,M,N))!==void 0?F:(A.setAttribute(N,M+""),M)}return Q&&"get"in Q&&(F=Q.get(A,N))!==null?F:(F=m.find.attr(A,N),F??void 0)}},attrHooks:{type:{set:function(A,N){if(!g.radioValue&&N==="radio"&&D(A,"input")){var M=A.value;return A.setAttribute("type",N),M&&(A.value=M),N}}}},removeAttr:function(A,N){var M,F=0,Q=N&&N.match(ee);if(Q&&A.nodeType===1)for(;M=Q[F++];)A.removeAttribute(M)}}),Ti={set:function(A,N,M){return N===!1?m.removeAttr(A,M):A.setAttribute(M,M),M}},m.each(m.expr.match.bool.source.match(/\w+/g),function(A,N){var M=gr[N]||m.find.attr;gr[N]=function(F,Q,Z){var le,Se,Te=Q.toLowerCase();return Z||(Se=gr[Te],gr[Te]=le,le=M(F,Q,Z)!=null?Te:null,gr[Te]=Se),le}});var Ar=/^(?:input|select|textarea|button)$/i,Xr=/^(?:a|area)$/i;m.fn.extend({prop:function(A,N){return Ee(this,m.prop,A,N,arguments.length>1)},removeProp:function(A){return this.each(function(){delete this[m.propFix[A]||A]})}}),m.extend({prop:function(A,N,M){var F,Q,Z=A.nodeType;if(!(Z===3||Z===8||Z===2))return(Z!==1||!m.isXMLDoc(A))&&(N=m.propFix[N]||N,Q=m.propHooks[N]),M!==void 0?Q&&"set"in Q&&(F=Q.set(A,M,N))!==void 0?F:A[N]=M:Q&&"get"in Q&&(F=Q.get(A,N))!==null?F:A[N]},propHooks:{tabIndex:{get:function(A){var N=m.find.attr(A,"tabindex");return N?parseInt(N,10):Ar.test(A.nodeName)||Xr.test(A.nodeName)&&A.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(m.propHooks.selected={get:function(A){var N=A.parentNode;return N&&N.parentNode&&N.parentNode.selectedIndex,null},set:function(A){var N=A.parentNode;N&&(N.selectedIndex,N.parentNode&&N.parentNode.selectedIndex)}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this});function Vr(A){var N=A.match(ee)||[];return N.join(" ")}function ti(A){return A.getAttribute&&A.getAttribute("class")||""}function co(A){return Array.isArray(A)?A:typeof A=="string"?A.match(ee)||[]:[]}m.fn.extend({addClass:function(A){var N,M,F,Q,Z,le,Se,Te=0;if(h(A))return this.each(function(Je){m(this).addClass(A.call(this,Je,ti(this)))});if(N=co(A),N.length){for(;M=this[Te++];)if(Q=ti(M),F=M.nodeType===1&&" "+Vr(Q)+" ",F){for(le=0;Z=N[le++];)F.indexOf(" "+Z+" ")<0&&(F+=Z+" ");Se=Vr(F),Q!==Se&&M.setAttribute("class",Se)}}return this},removeClass:function(A){var N,M,F,Q,Z,le,Se,Te=0;if(h(A))return this.each(function(Je){m(this).removeClass(A.call(this,Je,ti(this)))});if(!arguments.length)return this.attr("class","");if(N=co(A),N.length){for(;M=this[Te++];)if(Q=ti(M),F=M.nodeType===1&&" "+Vr(Q)+" ",F){for(le=0;Z=N[le++];)for(;F.indexOf(" "+Z+" ")>-1;)F=F.replace(" "+Z+" "," ");Se=Vr(F),Q!==Se&&M.setAttribute("class",Se)}}return this},toggleClass:function(A,N){var M=typeof A,F=M==="string"||Array.isArray(A);return typeof N=="boolean"&&F?N?this.addClass(A):this.removeClass(A):h(A)?this.each(function(Q){m(this).toggleClass(A.call(this,Q,ti(this),N),N)}):this.each(function(){var Q,Z,le,Se;if(F)for(Z=0,le=m(this),Se=co(A);Q=Se[Z++];)le.hasClass(Q)?le.removeClass(Q):le.addClass(Q);else(A===void 0||M==="boolean")&&(Q=ti(this),Q&&Oe.set(this,"__className__",Q),this.setAttribute&&this.setAttribute("class",Q||A===!1?"":Oe.get(this,"__className__")||""))})},hasClass:function(A){var N,M,F=0;for(N=" "+A+" ";M=this[F++];)if(M.nodeType===1&&(" "+Vr(ti(M))+" ").indexOf(N)>-1)return!0;return!1}});var Ri=/\r/g;m.fn.extend({val:function(A){var N,M,F,Q=this[0];return arguments.length?(F=h(A),this.each(function(Z){var le;this.nodeType===1&&(F?le=A.call(this,Z,m(this).val()):le=A,le==null?le="":typeof le=="number"?le+="":Array.isArray(le)&&(le=m.map(le,function(Se){return Se==null?"":Se+""})),N=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],(!N||!("set"in N)||N.set(this,le,"value")===void 0)&&(this.value=le))})):Q?(N=m.valHooks[Q.type]||m.valHooks[Q.nodeName.toLowerCase()],N&&"get"in N&&(M=N.get(Q,"value"))!==void 0?M:(M=Q.value,typeof M=="string"?M.replace(Ri,""):M??"")):void 0}}),m.extend({valHooks:{option:{get:function(A){var N=m.find.attr(A,"value");return N??Vr(m.text(A))}},select:{get:function(A){var N,M,F,Q=A.options,Z=A.selectedIndex,le=A.type==="select-one",Se=le?null:[],Te=le?Z+1:Q.length;for(Z<0?F=Te:F=le?Z:0;F<Te;F++)if(M=Q[F],(M.selected||F===Z)&&!M.disabled&&(!M.parentNode.disabled||!D(M.parentNode,"optgroup"))){if(N=m(M).val(),le)return N;Se.push(N)}return Se},set:function(A,N){for(var M,F,Q=A.options,Z=m.makeArray(N),le=Q.length;le--;)F=Q[le],(F.selected=m.inArray(m.valHooks.option.get(F),Z)>-1)&&(M=!0);return M||(A.selectedIndex=-1),Z}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(A,N){if(Array.isArray(N))return A.checked=m.inArray(m(A).val(),N)>-1}},g.checkOn||(m.valHooks[this].get=function(A){return A.getAttribute("value")===null?"on":A.value})}),g.focusin="onfocusin"in t;var bi=/^(?:focusinfocus|focusoutblur)$/,Eo=function(A){A.stopPropagation()};m.extend(m.event,{trigger:function(A,N,M,F){var Q,Z,le,Se,Te,Je,yt,Rt,ct=[M||b],At=d.call(A,"type")?A.type:A,jn=d.call(A,"namespace")?A.namespace.split("."):[];if(Z=Rt=le=M=M||b,!(M.nodeType===3||M.nodeType===8)&&!bi.test(At+m.event.triggered)&&(At.indexOf(".")>-1&&(jn=At.split("."),At=jn.shift(),jn.sort()),Te=At.indexOf(":")<0&&"on"+At,A=A[m.expando]?A:new m.Event(At,typeof A=="object"&&A),A.isTrigger=F?2:3,A.namespace=jn.join("."),A.rnamespace=A.namespace?new RegExp("(^|\\.)"+jn.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,A.result=void 0,A.target||(A.target=M),N=N==null?[A]:m.makeArray(N,[A]),yt=m.event.special[At]||{},!(!F&&yt.trigger&&yt.trigger.apply(M,N)===!1))){if(!F&&!yt.noBubble&&!y(M)){for(Se=yt.delegateType||At,bi.test(Se+At)||(Z=Z.parentNode);Z;Z=Z.parentNode)ct.push(Z),le=Z;le===(M.ownerDocument||b)&&ct.push(le.defaultView||le.parentWindow||t)}for(Q=0;(Z=ct[Q++])&&!A.isPropagationStopped();)Rt=Z,A.type=Q>1?Se:yt.bindType||At,Je=(Oe.get(Z,"events")||Object.create(null))[A.type]&&Oe.get(Z,"handle"),Je&&Je.apply(Z,N),Je=Te&&Z[Te],Je&&Je.apply&&Ct(Z)&&(A.result=Je.apply(Z,N),A.result===!1&&A.preventDefault());return A.type=At,!F&&!A.isDefaultPrevented()&&(!yt._default||yt._default.apply(ct.pop(),N)===!1)&&Ct(M)&&Te&&h(M[At])&&!y(M)&&(le=M[Te],le&&(M[Te]=null),m.event.triggered=At,A.isPropagationStopped()&&Rt.addEventListener(At,Eo),M[At](),A.isPropagationStopped()&&Rt.removeEventListener(At,Eo),m.event.triggered=void 0,le&&(M[Te]=le)),A.result}},simulate:function(A,N,M){var F=m.extend(new m.Event,M,{type:A,isSimulated:!0});m.event.trigger(F,null,N)}}),m.fn.extend({trigger:function(A,N){return this.each(function(){m.event.trigger(A,N,this)})},triggerHandler:function(A,N){var M=this[0];if(M)return m.event.trigger(A,N,M,!0)}}),g.focusin||m.each({focus:"focusin",blur:"focusout"},function(A,N){var M=function(F){m.event.simulate(N,F.target,m.event.fix(F))};m.event.special[N]={setup:function(){var F=this.ownerDocument||this.document||this,Q=Oe.access(F,N);Q||F.addEventListener(A,M,!0),Oe.access(F,N,(Q||0)+1)},teardown:function(){var F=this.ownerDocument||this.document||this,Q=Oe.access(F,N)-1;Q?Oe.access(F,N,Q):(F.removeEventListener(A,M,!0),Oe.remove(F,N))}}});var En=t.location,Hi={guid:Date.now()},pa=/\?/;m.parseXML=function(A){var N;if(!A||typeof A!="string")return null;try{N=new t.DOMParser().parseFromString(A,"text/xml")}catch{N=void 0}return(!N||N.getElementsByTagName("parsererror").length)&&m.error("Invalid XML: "+A),N};var hi=/\[\]$/,qn=/\r?\n/g,Vi=/^(?:submit|button|image|reset|file)$/i,qi=/^(?:input|select|textarea|keygen)/i;function wi(A,N,M,F){var Q;if(Array.isArray(N))m.each(N,function(Z,le){M||hi.test(A)?F(A,le):wi(A+"["+(typeof le=="object"&&le!=null?Z:"")+"]",le,M,F)});else if(!M&&E(N)==="object")for(Q in N)wi(A+"["+Q+"]",N[Q],M,F);else F(A,N)}m.param=function(A,N){var M,F=[],Q=function(Z,le){var Se=h(le)?le():le;F[F.length]=encodeURIComponent(Z)+"="+encodeURIComponent(Se??"")};if(A==null)return"";if(Array.isArray(A)||A.jquery&&!m.isPlainObject(A))m.each(A,function(){Q(this.name,this.value)});else for(M in A)wi(M,A[M],N,Q);return F.join("&")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var A=m.prop(this,"elements");return A?m.makeArray(A):this}).filter(function(){var A=this.type;return this.name&&!m(this).is(":disabled")&&qi.test(this.nodeName)&&!Vi.test(A)&&(this.checked||!en.test(A))}).map(function(A,N){var M=m(this).val();return M==null?null:Array.isArray(M)?m.map(M,function(F){return{name:N.name,value:F.replace(qn,`\r
`)}}):{name:N.name,value:M.replace(qn,`\r
`)}}).get()}});var Oo=/%20/g,xl=/#.*$/,ii=/([?&])_=[^&]*/,go=/^(.*?):[ \t]*([^\r\n]*)$/mg,Wi=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Fr=/^(?:GET|HEAD)$/,yo=/^\/\//,Di={},Fo={},Ai="*/".concat("*"),Zi=b.createElement("a");Zi.href=En.href;function oa(A){return function(N,M){typeof N!="string"&&(M=N,N="*");var F,Q=0,Z=N.toLowerCase().match(ee)||[];if(h(M))for(;F=Z[Q++];)F[0]==="+"?(F=F.slice(1)||"*",(A[F]=A[F]||[]).unshift(M)):(A[F]=A[F]||[]).push(M)}}function ma(A,N,M,F){var Q={},Z=A===Fo;function le(Se){var Te;return Q[Se]=!0,m.each(A[Se]||[],function(Je,yt){var Rt=yt(N,M,F);if(typeof Rt=="string"&&!Z&&!Q[Rt])return N.dataTypes.unshift(Rt),le(Rt),!1;if(Z)return!(Te=Rt)}),Te}return le(N.dataTypes[0])||!Q["*"]&&le("*")}function ko(A,N){var M,F,Q=m.ajaxSettings.flatOptions||{};for(M in N)N[M]!==void 0&&((Q[M]?A:F||(F={}))[M]=N[M]);return F&&m.extend(!0,A,F),A}function ge(A,N,M){for(var F,Q,Z,le,Se=A.contents,Te=A.dataTypes;Te[0]==="*";)Te.shift(),F===void 0&&(F=A.mimeType||N.getResponseHeader("Content-Type"));if(F){for(Q in Se)if(Se[Q]&&Se[Q].test(F)){Te.unshift(Q);break}}if(Te[0]in M)Z=Te[0];else{for(Q in M){if(!Te[0]||A.converters[Q+" "+Te[0]]){Z=Q;break}le||(le=Q)}Z=Z||le}if(Z)return Z!==Te[0]&&Te.unshift(Z),M[Z]}function Y(A,N,M,F){var Q,Z,le,Se,Te,Je={},yt=A.dataTypes.slice();if(yt[1])for(le in A.converters)Je[le.toLowerCase()]=A.converters[le];for(Z=yt.shift();Z;)if(A.responseFields[Z]&&(M[A.responseFields[Z]]=N),!Te&&F&&A.dataFilter&&(N=A.dataFilter(N,A.dataType)),Te=Z,Z=yt.shift(),Z){if(Z==="*")Z=Te;else if(Te!=="*"&&Te!==Z){if(le=Je[Te+" "+Z]||Je["* "+Z],!le){for(Q in Je)if(Se=Q.split(" "),Se[1]===Z&&(le=Je[Te+" "+Se[0]]||Je["* "+Se[0]],le)){le===!0?le=Je[Q]:Je[Q]!==!0&&(Z=Se[0],yt.unshift(Se[1]));break}}if(le!==!0)if(le&&A.throws)N=le(N);else try{N=le(N)}catch(Rt){return{state:"parsererror",error:le?Rt:"No conversion from "+Te+" to "+Z}}}}return{state:"success",data:N}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:En.href,type:"GET",isLocal:Wi.test(En.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ai,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(A,N){return N?ko(ko(A,m.ajaxSettings),N):ko(m.ajaxSettings,A)},ajaxPrefilter:oa(Di),ajaxTransport:oa(Fo),ajax:function(A,N){typeof A=="object"&&(N=A,A=void 0),N=N||{};var M,F,Q,Z,le,Se,Te,Je,yt,Rt,ct=m.ajaxSetup({},N),At=ct.context||ct,jn=ct.context&&(At.nodeType||At.jquery)?m(At):m.event,Qn=m.Deferred(),an=m.Callbacks("once memory"),li=ct.statusCode||{},xi={},So={},Ur="canceled",Un={readyState:0,getResponseHeader:function(ur){var pi;if(Te){if(!Z)for(Z={};pi=go.exec(Q);)Z[pi[1].toLowerCase()+" "]=(Z[pi[1].toLowerCase()+" "]||[]).concat(pi[2]);pi=Z[ur.toLowerCase()+" "]}return pi==null?null:pi.join(", ")},getAllResponseHeaders:function(){return Te?Q:null},setRequestHeader:function(ur,pi){return Te==null&&(ur=So[ur.toLowerCase()]=So[ur.toLowerCase()]||ur,xi[ur]=pi),this},overrideMimeType:function(ur){return Te==null&&(ct.mimeType=ur),this},statusCode:function(ur){var pi;if(ur)if(Te)Un.always(ur[Un.status]);else for(pi in ur)li[pi]=[li[pi],ur[pi]];return this},abort:function(ur){var pi=ur||Ur;return M&&M.abort(pi),ji(0,pi),this}};if(Qn.promise(Un),ct.url=((A||ct.url||En.href)+"").replace(yo,En.protocol+"//"),ct.type=N.method||N.type||ct.method||ct.type,ct.dataTypes=(ct.dataType||"*").toLowerCase().match(ee)||[""],ct.crossDomain==null){Se=b.createElement("a");try{Se.href=ct.url,Se.href=Se.href,ct.crossDomain=Zi.protocol+"//"+Zi.host!=Se.protocol+"//"+Se.host}catch{ct.crossDomain=!0}}if(ct.data&&ct.processData&&typeof ct.data!="string"&&(ct.data=m.param(ct.data,ct.traditional)),ma(Di,ct,N,Un),Te)return Un;Je=m.event&&ct.global,Je&&m.active++===0&&m.event.trigger("ajaxStart"),ct.type=ct.type.toUpperCase(),ct.hasContent=!Fr.test(ct.type),F=ct.url.replace(xl,""),ct.hasContent?ct.data&&ct.processData&&(ct.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(ct.data=ct.data.replace(Oo,"+")):(Rt=ct.url.slice(F.length),ct.data&&(ct.processData||typeof ct.data=="string")&&(F+=(pa.test(F)?"&":"?")+ct.data,delete ct.data),ct.cache===!1&&(F=F.replace(ii,"$1"),Rt=(pa.test(F)?"&":"?")+"_="+Hi.guid+++Rt),ct.url=F+Rt),ct.ifModified&&(m.lastModified[F]&&Un.setRequestHeader("If-Modified-Since",m.lastModified[F]),m.etag[F]&&Un.setRequestHeader("If-None-Match",m.etag[F])),(ct.data&&ct.hasContent&&ct.contentType!==!1||N.contentType)&&Un.setRequestHeader("Content-Type",ct.contentType),Un.setRequestHeader("Accept",ct.dataTypes[0]&&ct.accepts[ct.dataTypes[0]]?ct.accepts[ct.dataTypes[0]]+(ct.dataTypes[0]!=="*"?", "+Ai+"; q=0.01":""):ct.accepts["*"]);for(yt in ct.headers)Un.setRequestHeader(yt,ct.headers[yt]);if(ct.beforeSend&&(ct.beforeSend.call(At,Un,ct)===!1||Te))return Un.abort();if(Ur="abort",an.add(ct.complete),Un.done(ct.success),Un.fail(ct.error),M=ma(Fo,ct,N,Un),!M)ji(-1,"No Transport");else{if(Un.readyState=1,Je&&jn.trigger("ajaxSend",[Un,ct]),Te)return Un;ct.async&&ct.timeout>0&&(le=t.setTimeout(function(){Un.abort("timeout")},ct.timeout));try{Te=!1,M.send(xi,ji)}catch(ur){if(Te)throw ur;ji(-1,ur)}}function ji(ur,pi,aa,qa){var Co,Na,Ra,No,Wa,vo=pi;Te||(Te=!0,le&&t.clearTimeout(le),M=void 0,Q=qa||"",Un.readyState=ur>0?4:0,Co=ur>=200&&ur<300||ur===304,aa&&(No=ge(ct,Un,aa)),!Co&&m.inArray("script",ct.dataTypes)>-1&&(ct.converters["text script"]=function(){}),No=Y(ct,No,Un,Co),Co?(ct.ifModified&&(Wa=Un.getResponseHeader("Last-Modified"),Wa&&(m.lastModified[F]=Wa),Wa=Un.getResponseHeader("etag"),Wa&&(m.etag[F]=Wa)),ur===204||ct.type==="HEAD"?vo="nocontent":ur===304?vo="notmodified":(vo=No.state,Na=No.data,Ra=No.error,Co=!Ra)):(Ra=vo,(ur||!vo)&&(vo="error",ur<0&&(ur=0))),Un.status=ur,Un.statusText=(pi||vo)+"",Co?Qn.resolveWith(At,[Na,vo,Un]):Qn.rejectWith(At,[Un,vo,Ra]),Un.statusCode(li),li=void 0,Je&&jn.trigger(Co?"ajaxSuccess":"ajaxError",[Un,ct,Co?Na:Ra]),an.fireWith(At,[Un,vo]),Je&&(jn.trigger("ajaxComplete",[Un,ct]),--m.active||m.event.trigger("ajaxStop")))}return Un},getJSON:function(A,N,M){return m.get(A,N,M,"json")},getScript:function(A,N){return m.get(A,void 0,N,"script")}}),m.each(["get","post"],function(A,N){m[N]=function(M,F,Q,Z){return h(F)&&(Z=Z||Q,Q=F,F=void 0),m.ajax(m.extend({url:M,type:N,dataType:Z,data:F,success:Q},m.isPlainObject(M)&&M))}}),m.ajaxPrefilter(function(A){var N;for(N in A.headers)N.toLowerCase()==="content-type"&&(A.contentType=A.headers[N]||"")}),m._evalUrl=function(A,N,M){return m.ajax({url:A,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(F){m.globalEval(F,N,M)}})},m.fn.extend({wrapAll:function(A){var N;return this[0]&&(h(A)&&(A=A.call(this[0])),N=m(A,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&N.insertBefore(this[0]),N.map(function(){for(var M=this;M.firstElementChild;)M=M.firstElementChild;return M}).append(this)),this},wrapInner:function(A){return h(A)?this.each(function(N){m(this).wrapInner(A.call(this,N))}):this.each(function(){var N=m(this),M=N.contents();M.length?M.wrapAll(A):N.append(A)})},wrap:function(A){var N=h(A);return this.each(function(M){m(this).wrapAll(N?A.call(this,M):A)})},unwrap:function(A){return this.parent(A).not("body").each(function(){m(this).replaceWith(this.childNodes)}),this}}),m.expr.pseudos.hidden=function(A){return!m.expr.pseudos.visible(A)},m.expr.pseudos.visible=function(A){return!!(A.offsetWidth||A.offsetHeight||A.getClientRects().length)},m.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var ve={0:200,1223:204},Re=m.ajaxSettings.xhr();g.cors=!!Re&&"withCredentials"in Re,g.ajax=Re=!!Re,m.ajaxTransport(function(A){var N,M;if(g.cors||Re&&!A.crossDomain)return{send:function(F,Q){var Z,le=A.xhr();if(le.open(A.type,A.url,A.async,A.username,A.password),A.xhrFields)for(Z in A.xhrFields)le[Z]=A.xhrFields[Z];A.mimeType&&le.overrideMimeType&&le.overrideMimeType(A.mimeType),!A.crossDomain&&!F["X-Requested-With"]&&(F["X-Requested-With"]="XMLHttpRequest");for(Z in F)le.setRequestHeader(Z,F[Z]);N=function(Se){return function(){N&&(N=M=le.onload=le.onerror=le.onabort=le.ontimeout=le.onreadystatechange=null,Se==="abort"?le.abort():Se==="error"?typeof le.status!="number"?Q(0,"error"):Q(le.status,le.statusText):Q(ve[le.status]||le.status,le.statusText,(le.responseType||"text")!=="text"||typeof le.responseText!="string"?{binary:le.response}:{text:le.responseText},le.getAllResponseHeaders()))}},le.onload=N(),M=le.onerror=le.ontimeout=N("error"),le.onabort!==void 0?le.onabort=M:le.onreadystatechange=function(){le.readyState===4&&t.setTimeout(function(){N&&M()})},N=N("abort");try{le.send(A.hasContent&&A.data||null)}catch(Se){if(N)throw Se}},abort:function(){N&&N()}}}),m.ajaxPrefilter(function(A){A.crossDomain&&(A.contents.script=!1)}),m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(A){return m.globalEval(A),A}}}),m.ajaxPrefilter("script",function(A){A.cache===void 0&&(A.cache=!1),A.crossDomain&&(A.type="GET")}),m.ajaxTransport("script",function(A){if(A.crossDomain||A.scriptAttrs){var N,M;return{send:function(F,Q){N=m("<script>").attr(A.scriptAttrs||{}).prop({charset:A.scriptCharset,src:A.url}).on("load error",M=function(Z){N.remove(),M=null,Z&&Q(Z.type==="error"?404:200,Z.type)}),b.head.appendChild(N[0])},abort:function(){M&&M()}}}});var Lt=[],$t=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var A=Lt.pop()||m.expando+"_"+Hi.guid++;return this[A]=!0,A}}),m.ajaxPrefilter("json jsonp",function(A,N,M){var F,Q,Z,le=A.jsonp!==!1&&($t.test(A.url)?"url":typeof A.data=="string"&&(A.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&$t.test(A.data)&&"data");if(le||A.dataTypes[0]==="jsonp")return F=A.jsonpCallback=h(A.jsonpCallback)?A.jsonpCallback():A.jsonpCallback,le?A[le]=A[le].replace($t,"$1"+F):A.jsonp!==!1&&(A.url+=(pa.test(A.url)?"&":"?")+A.jsonp+"="+F),A.converters["script json"]=function(){return Z||m.error(F+" was not called"),Z[0]},A.dataTypes[0]="json",Q=t[F],t[F]=function(){Z=arguments},M.always(function(){Q===void 0?m(t).removeProp(F):t[F]=Q,A[F]&&(A.jsonpCallback=N.jsonpCallback,Lt.push(F)),Z&&h(Q)&&Q(Z[0]),Z=Q=void 0}),"script"}),g.createHTMLDocument=(function(){var A=b.implementation.createHTMLDocument("").body;return A.innerHTML="<form></form><form></form>",A.childNodes.length===2})(),m.parseHTML=function(A,N,M){if(typeof A!="string")return[];typeof N=="boolean"&&(M=N,N=!1);var F,Q,Z;return N||(g.createHTMLDocument?(N=b.implementation.createHTMLDocument(""),F=N.createElement("base"),F.href=b.location.href,N.head.appendChild(F)):N=b),Q=L.exec(A),Z=!M&&[],Q?[N.createElement(Q[1])]:(Q=Bt([A],N,Z),Z&&Z.length&&m(Z).remove(),m.merge([],Q.childNodes))},m.fn.load=function(A,N,M){var F,Q,Z,le=this,Se=A.indexOf(" ");return Se>-1&&(F=Vr(A.slice(Se)),A=A.slice(0,Se)),h(N)?(M=N,N=void 0):N&&typeof N=="object"&&(Q="POST"),le.length>0&&m.ajax({url:A,type:Q||"GET",dataType:"html",data:N}).done(function(Te){Z=arguments,le.html(F?m("<div>").append(m.parseHTML(Te)).find(F):Te)}).always(M&&function(Te,Je){le.each(function(){M.apply(this,Z||[Te.responseText,Je,Te])})}),this},m.expr.pseudos.animated=function(A){return m.grep(m.timers,function(N){return A===N.elem}).length},m.offset={setOffset:function(A,N,M){var F,Q,Z,le,Se,Te,Je,yt=m.css(A,"position"),Rt=m(A),ct={};yt==="static"&&(A.style.position="relative"),Se=Rt.offset(),Z=m.css(A,"top"),Te=m.css(A,"left"),Je=(yt==="absolute"||yt==="fixed")&&(Z+Te).indexOf("auto")>-1,Je?(F=Rt.position(),le=F.top,Q=F.left):(le=parseFloat(Z)||0,Q=parseFloat(Te)||0),h(N)&&(N=N.call(A,M,m.extend({},Se))),N.top!=null&&(ct.top=N.top-Se.top+le),N.left!=null&&(ct.left=N.left-Se.left+Q),"using"in N?N.using.call(A,ct):(typeof ct.top=="number"&&(ct.top+="px"),typeof ct.left=="number"&&(ct.left+="px"),Rt.css(ct))}},m.fn.extend({offset:function(A){if(arguments.length)return A===void 0?this:this.each(function(Q){m.offset.setOffset(this,A,Q)});var N,M,F=this[0];if(F)return F.getClientRects().length?(N=F.getBoundingClientRect(),M=F.ownerDocument.defaultView,{top:N.top+M.pageYOffset,left:N.left+M.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var A,N,M,F=this[0],Q={top:0,left:0};if(m.css(F,"position")==="fixed")N=F.getBoundingClientRect();else{for(N=this.offset(),M=F.ownerDocument,A=F.offsetParent||M.documentElement;A&&(A===M.body||A===M.documentElement)&&m.css(A,"position")==="static";)A=A.parentNode;A&&A!==F&&A.nodeType===1&&(Q=m(A).offset(),Q.top+=m.css(A,"borderTopWidth",!0),Q.left+=m.css(A,"borderLeftWidth",!0))}return{top:N.top-Q.top-m.css(F,"marginTop",!0),left:N.left-Q.left-m.css(F,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var A=this.offsetParent;A&&m.css(A,"position")==="static";)A=A.offsetParent;return A||Ce})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(A,N){var M=N==="pageYOffset";m.fn[A]=function(F){return Ee(this,function(Q,Z,le){var Se;if(y(Q)?Se=Q:Q.nodeType===9&&(Se=Q.defaultView),le===void 0)return Se?Se[N]:Q[Z];Se?Se.scrollTo(M?Se.pageXOffset:le,M?le:Se.pageYOffset):Q[Z]=le},A,F,arguments.length)}}),m.each(["top","left"],function(A,N){m.cssHooks[N]=ut(g.pixelPosition,function(M,F){if(F)return F=Me(M,N),Pi.test(F)?m(M).position()[N]+"px":F})}),m.each({Height:"height",Width:"width"},function(A,N){m.each({padding:"inner"+A,content:N,"":"outer"+A},function(M,F){m.fn[F]=function(Q,Z){var le=arguments.length&&(M||typeof Q!="boolean"),Se=M||(Q===!0||Z===!0?"margin":"border");return Ee(this,function(Te,Je,yt){var Rt;return y(Te)?F.indexOf("outer")===0?Te["inner"+A]:Te.document.documentElement["client"+A]:Te.nodeType===9?(Rt=Te.documentElement,Math.max(Te.body["scroll"+A],Rt["scroll"+A],Te.body["offset"+A],Rt["offset"+A],Rt["client"+A])):yt===void 0?m.css(Te,Je,Se):m.style(Te,Je,yt,Se)},N,le?Q:void 0,le)}})}),m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(A,N){m.fn[N]=function(M){return this.on(N,M)}}),m.fn.extend({bind:function(A,N,M){return this.on(A,null,N,M)},unbind:function(A,N){return this.off(A,null,N)},delegate:function(A,N,M,F){return this.on(N,A,M,F)},undelegate:function(A,N,M){return arguments.length===1?this.off(A,"**"):this.off(N,A||"**",M)},hover:function(A,N){return this.mouseenter(A).mouseleave(N||A)}}),m.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(A,N){m.fn[N]=function(M,F){return arguments.length>0?this.on(N,null,M,F):this.trigger(N)}});var on=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;m.proxy=function(A,N){var M,F,Q;if(typeof N=="string"&&(M=A[N],N=A,A=M),!!h(A))return F=o.call(arguments,2),Q=function(){return A.apply(N||this,F.concat(o.call(arguments)))},Q.guid=A.guid=A.guid||m.guid++,Q},m.holdReady=function(A){A?m.readyWait++:m.ready(!0)},m.isArray=Array.isArray,m.parseJSON=JSON.parse,m.nodeName=D,m.isFunction=h,m.isWindow=y,m.camelCase=xt,m.type=E,m.now=Date.now,m.isNumeric=function(A){var N=m.type(A);return(N==="number"||N==="string")&&!isNaN(A-parseFloat(A))},m.trim=function(A){return A==null?"":(A+"").replace(on,"")};var $n=t.jQuery,Dn=t.$;return m.noConflict=function(A){return t.$===m&&(t.$=Dn),A&&t.jQuery===m&&(t.jQuery=$n),m},typeof n>"u"&&(t.jQuery=t.$=m),m})})(Sk)),Sk.exports}var W3e=q3e();const Ck=Ga(W3e);var die=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),x.createElement("path",{fill:"currentColor",d:"M264 480h104c79.4 0 144-62.95 144-140.3V231.8c0-23.44-6.104-46.73-17.65-67.35L462.1 108.6c-14.6-27.5-45-44.6-76.2-44.6H336c-27.23 0-51.53 12.51-67.69 32H72c-39.7 0-72 32.3-72 72s32.3 72 72 72h56.44c-.34 2.6-.44 5.3-.44 8 0 25.95 13.79 48.73 34.43 61.4-1.63 5.9-2.43 12.2-2.43 18.6 0 25.95 13.79 48.73 34.43 61.4-1.63 5.9-2.43 12.2-2.43 18.6 0 39.7 32.3 72 72 72zm16-176c13.23 0 24 10.78 24 24s-10.9 24-24.1 24H232c-13.23 0-24-10.78-24-24s10.8-24 24-24h48zm-32-80v12c0 12.39 3.264 23.93 8.545 34.27C253.9 271.3 251 272 248 272h-48c-13.2 0-24-10.8-24-24s10.8-24 24-24h48zm0-80c.281 0 .514.15.793.16-.193 2.64-.793 5.14-.793 7.84v40H72c-13.23 0-24-10.8-24-24s10.77-24 24-24h176zm140.2 285.9c2.2-7 3.8-14.2 3.8-21.9 0-29.04-17.37-53.96-42.18-65.34C350.8 337.8 352 333 352 328c0-7.139-1.273-13.96-3.355-20.46C378.4 297.2 400 269.2 400 236v-52c0-13.2-10.7-24-24-24s-24 10.8-24 24v52c0 15.44-12.56 28-28 28s-28-12.6-28-28v-84c0-22.06 17.94-40 40-40h49.88c14.77 0 28.28 7.719 35.27 20.16l31.34 55.78C460 201.4 464 216.6 464 231.8v107.9c0 44.2-32.6 81.2-75.8 90.2zM264 432c-13.23 0-24-10.78-24-24s10.8-24 24-24h56c13.23 0 24 10.78 24 24s-10.8 24-24 24h-56z"}))});die.displayName="HandPointLeft";const G3e=e=>{const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,n=>t[n])},K3e=e=>{const t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#039;":"'","&nbsp;":"\xA0"};return e.replace(/&(amp|lt|gt|quot|#039|nbsp);/g,n=>t[n])},X3e=e=>{let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return new Uint32Array([t])[0].toString(36)};function Y3e(e,t,n){const r={gridID:"qdb-grid",minColumnWidth:60,rowHeight:30,divCacheSize:64,viewportHeight:400,yMaxThreshold:1e7,minVpHeight:120,scrollerGirth:10,dataPageSize:1e3,layoutStoreTimeout:1e3,cellWidthMultiplier:9.6,arrayCellWidthMultiplier:8.3,maxCellWidthMultiplier:.8},i="qg-c-active",o=0,a=1,s=2,l=3,c=4,u=r.gridID+".columnLayout",d=e,f=t;let p,g,h,y,b,w,S,E,_,m=0,C,T,O,R,j,D,L,V,z,B=[],H,J,ne=[],q=[],ee=[],te=0,$,ae=-1,ue=-1,me=[],Fe=-1,Ie=!1;const Ee=r.divCacheSize,He=Ee-1,it=r.dataPageSize,St=Math.floor(it/3),xt=St*2;let Ct,We,Oe,ye,Ve=[],Xe=0,se=10,we=0,Le=0,ot=0,_e=r.viewportHeight;const Ce=r.rowHeight;let dt,Ne,Ye,jt,qt,Jt,Ht=[],en=-1,hn,Zt=-1,Tt,xn;const Jn=r.scrollerGirth;let ir,Bt,Sr,_r,mr,ri=0,Hn,fi=!0,Ji=!1,Lr={},or,Cr,Or,er,Zn=!1;function yr(de){return q[ee[de]]}function Hr(){const de=Zt;if(de===-1)return;let Pe=0;m>0&&(Pe=m,m<=de&&(m=0,E.innerHTML="",la()));const mt=pt(de);for(let zt=de;zt>0;zt--)J[zt]=J[zt-1]+mt;J[0]=0;const Ot=de+1;for(let zt=de;zt>=0;zt--){const G=h.childNodes[zt].querySelector(".qg-col-resize-hysteresis");G&&(G.columnIndex=(G.columnIndex+1)%Ot)}ae!==-1&&ae<Ot&&(ae=(ae+1)%Ot),h.childNodes[0].before(h.childNodes[de]);const kt=ee[de];for(let zt=de;zt>0;zt--)ee[zt]=ee[zt-1];ee[0]=kt,Pe>0&&(Pe<=de?vr(Pe+1):(E.childNodes[0].before(E.childNodes[de]),Fr(B,0,Math.min(m,te),Xe))),we=0,Fr(Ht,0,se,0),p.scrollLeft>0?p.scrollLeft=0:Lt(),Di(de),Rn(Ot)}function Gr(){dt=$,Ne=dt*Ce,Ne<r.yMaxThreshold?jt=Ne:jt=r.yMaxThreshold;const de=(jt===0?1:jt)+"px";g.style.height=de,S.style.height=de}function Kr(de,Pe,mt,Ot){if(de.rowIndex!==Pe){const kt=me[Math.floor(Pe/it)];if(kt){const zt=kt[Pe%it];if(zt){de.style.display="flex";for(let G=mt;G<Ot;G++)ii(yr(G),de.childNodes[G%se],zt[ee[G]]);de.rowIndex=Pe}else de.style.display="none",de.rowIndex=-1}else{for(let zt=mt;zt<Ot;zt++)de.childNodes[zt%se].innerHTML="";de.rowIndex=-1}de.style.top=Pe*Ce-Jt+"px",de.className=`qg-r${en===Pe?" qg-r-active":""}`}}function $i(de){p.scrollTop=de,w.scrollTop=de}function Ni(){const de=Math.max(Xe,m),Pe=Math.min(de+se,te);Fr(Ht,de,Pe,Xe),Lt()}function Pi(){for(let de=0,Pe=me.length;de<Pe;de++)(de<Ct||de>We)&&me[de]&&delete me[de]}function ln(de){return me[de]===null||me[de]===void 0||me[de].length===0}function Wn(de,Pe){de.style.minWidth=Pe+"px",de.style.maxWidth=Pe+"px"}function Tr(de,Pe){Pi();let mt,Ot,kt;if(de!==Pe&&ln(de)&&ln(Pe))mt=de*it,Ot=mt+it*(Pe-de+1),kt=function(zt){me[de]=zt.dataset.splice(0,it),me[Pe]=zt.dataset,Ni()};else if(ln(de)&&(!ln(Pe)||de===Pe))mt=de*it,Ot=mt+it,kt=function(zt){me[de]=zt.dataset,Ni()};else if((!ln(de)||de===Pe)&&ln(Pe))mt=Pe*it,Ot=mt+it,kt=function(zt){me[Pe]=zt.dataset,Ni()};else{Ni();return}f&&f(Oe,mt+1,Ot,kt)}function Me(de,Pe){ye&&clearTimeout(ye),ye=setTimeout(function(){Tr(de,Pe)},75)}function ut(de,Pe,mt){if(Pe!==Pe||mt!==mt)return;let Ot,kt,zt,G;if(Ot=Math.floor(Pe/it),zt=Math.floor(mt/it),de>0){if(G=mt%it,Ot>=Ct&&zt<We)return;if(zt===We){G>xt&&(We=zt+1,Ct=zt,Me(zt,zt+1));return}Ot<zt?(Me(Ot,zt),Ct=Ot,We=zt):G>xt?(Me(zt,zt+1),Ct=zt,We=zt+1):(We=Ot,Ct=Ot,Me(Ot,Ot))}else{if(kt=Pe%it,Ot>Ct&&zt<=We)return;if(Ot===Ct){kt<St&&Ct>0&&(Ct=Math.max(0,Ot-1),We=Ot,Me(Ot-1,Ot));return}Ot<zt?(Me(Ot,zt),Ct=Ot,We=zt):kt<St&&Ot>0?(Me(Ot-1,Ot),Ct=Math.max(0,Ot-1),We=Ot):(Ct=Ot,We=Ot,Me(Ot,Ot))}}function It(){let de=Math.max(0,Math.floor(Ye/Ce)),Pe=Math.min(Ne/Ce,Math.ceil((Ye+_e)/Ce));return{t:de,b:Pe}}function Ue(de){const Pe=It();let mt=Pe.t,Ot=Pe.b;de!==0&&ut(de,mt,Ot),mt===0?Ot=Ee:Ot>dt-2&&(mt=Math.max(0,Ot-Ee));for(let kt=mt;kt<Ot;kt++){const zt=Ht[kt&He];if(zt){const G=Math.min(te,Math.max(Xe,m)),re=Math.min(G+se,te);Kr(zt,kt,G,re),Kr(B[kt&He],kt,0,Math.min(m,te))}}}function lt(de){return J[de]}function pt(de){return J[de+1]-J[de]}function Ut(de){const Pe=yr(de);if(Pe)switch(Pe.type){case"STRING":case"SYMBOL":case"VARCHAR":case"ARRAY":return!0;default:return!1}}function Pt(de){_r===void 0&&Gs("header.click",{columnName:de.currentTarget.getAttribute("data-column-name")})}function In(){Hn&&(clearTimeout(Hn),Hn=void 0)}function mn(de,Pe){return Bt+de-(Pe<m?0:p.scrollLeft)+"px"}function Xt(de){if(de.target.childNodes.length===0){de.preventDefault();const Pe=document.createElement("div");Pe.baguette=!0,qn(Pe,"qg-col-resize-hysteresis-enter"),de.target.append(Pe)}}function un(de){de.preventDefault(),de.target.childNodes.length>0&&de.target.childNodes[0].remove()}function Ln(de){de.preventDefault(),In();const Pe=de.target.baguette?de.target.parentElement:de.target;de.target.childNodes.length>0&&de.target.childNodes[0].remove(),_r=Pe.columnIndex,lt(_r),mr=pt(_r);const mt=Pe.parentElement;Bt=mt.offsetLeft+mt.getBoundingClientRect().width,Sr=de.clientX,document.onmousemove=tn,document.onmouseup=On,H.style.top=0,H.style.left=mn(0,_r),H.style.height=d.getBoundingClientRect().height-(Zi()?Jn:0)+"px",H.style.visibility="visible",ri=mr}function Yt(de,Pe){let mt=J[de]+Pe;for(let Ot=de+1;Ot<=te;Ot++){const kt=pt(Ot);J[Ot]=mt,mt+=kt}Fe=J[te]}function tn(de){de.preventDefault();const Pe=de.clientX-Sr,mt=mr+Pe;mt>r.minColumnWidth&&(H.style.left=mn(Pe,_r),ri=mt)}function Fn(de){const Pe=[];for(let mt=0;mt<te;mt++){const Ot=yr(mt);Pe.push({name:Ot.name,type:Ot.type})}or=JSON.stringify(Pe),Cr=X3e(or),de()}function hr(){window.localStorage.setItem(u,JSON.stringify(Lr))}function dn(){Or&&clearTimeout(Or),Or=setTimeout(hr,r.layoutStoreTimeout)}function Dr(){let de=Lr[Cr];return de===void 0&&(de={key:or,deviants:{}},Lr[Cr]=de),de}function Ir(){Dr().freezeLeft=m,dn()}function vi(de,Pe){Dr().deviants[de]=Pe,dn()}function Rn(de){const Pe=Dr();Pe.columnPositions=ee,Pe.timestampIndex=ae;for(let mt=0;mt<de;mt++)Pe.deviants[yr(mt).name]=pt(mt);dn()}function Sn(de,Pe){Yt(de,Pe),de<m&&(Wn(E.childNodes[de],Pe),Fr(B,0,Math.min(m,te),Xe),M(),vo()),Wn(h.childNodes[de],Pe),N(),Fr(Ht,Xe,Xe+se,Xe),Lt()}function On(de){de.preventDefault(),document.onmousemove=null,document.onmouseup=null,vi(yr(_r).name,ri),Sn(_r,ri),H.style.visibility="hidden",H.style.left=0,Hn=setTimeout(()=>{_r=void 0},500)}function kr(de){return Math.max(r.minColumnWidth,Math.ceil(de*r.cellWidthMultiplier))}function Cn(de,Pe){const mt=Oo(de),Ot=yr(Pe),kt="ARRAY"+"[".repeat(Ot.dim)+mt.slice(Ot.dim,-Ot.dim)+"]".repeat(Ot.dim),zt=Math.max(r.minColumnWidth,Math.ceil(kt.length*r.arrayCellWidthMultiplier)),G=p.getBoundingClientRect().width*r.maxCellWidthMultiplier;return Math.min(zt,G)}function Ti(de){D||(de.preventDefault(),O.style.left=b+"px",O.style.display="block",O.style.height=_e-(Zi()?Jn:0)+"px",R.style.height=O.style.height,V=de.offsetY-j.getBoundingClientRect().height/2,D=de.pageY,j.style.top=V+"px")}function gr(de){const Pe=de.relatedTarget;Pe!==j&&Pe!==O&&Pe!==T&&!L&&(de.preventDefault(),O.style.display="none",D=void 0)}function Ar(){let de=["```"];return Ht.forEach(Pe=>{if(Pe.style.display==="flex"){const mt=Pe.querySelector(".qg-c");mt&&de.push(mt.textContent)}}),de.push("```"),de.join(`
`)}function Xr(){let de=h.innerText.split(/\n/).filter((fe,be)=>be%2===0),Pe=Array(de.length).fill(0);for(const[fe,be]of de.entries())Pe[fe]=Math.max(Pe[fe],be.length);for(const fe of Ht){let be=fe.innerText.split(/\n/);for(const[ke,rt]of be.entries())Pe[ke]=Math.max(Pe[ke],rt.length)}let mt=["|"];for(const[fe,be]of de.entries())mt.push(be.padEnd(Pe[fe])),mt.push("|");let Ot=mt.join(" "),kt=["|"];for(const[fe,be]of de.entries())kt.push("-".repeat(Pe[fe])),kt.push("|");let zt=kt.join(" "),G=[];for(const fe of Ht){let be=fe.innerText.split(/\n/);if(be.length===1&&be[0]==="")continue;let ke=["|"];for(const[rt,Et]of be.entries())ke.push(Et.padEnd(Pe[rt])),ke.push("|");G.push(ke.join(" "))}let re=G.join(`
`);return[Ot,zt,re].join(`
`)}function Vr(){return h.innerText===`QUERY PLAN
string`?Ar():Xr()}function ti(){m>0?vr(0):vr(1),Di(Zt)}function co(de){const Pe=de.pageX-L,mt=b+Pe;O.style.left=mt+"px",C=m;let Ot=mt;for(let kt=0;kt<te;kt++){const zt=pt(kt);if(Ot-=zt,Ot<0){C=-Ot/zt<.5?kt+1:kt;break}}C>m&&p.scrollLeft>0&&(C=m),R.style.left=lt(C)+"px",R.style.display="block",Eo(de)}function Ri(){document.onmousemove=void 0,document.onmouseup=void 0,O.style.display="none",R.style.display="none",D=void 0,L=void 0,d.style.cursor=null,j.style.cursor=null,z.style.cursor=null,vr(C)}function bi(de){de.preventDefault(),L=de.pageX,document.onmousemove=co,document.onmouseup=Ri,d.style.cursor="grabbing",j.style.cursor="grabbing",z.style.cursor="grabbing"}function Eo(de){if(D){de.preventDefault();const Pe=de.pageY-D;j.style.top=Math.min(_e-j.getBoundingClientRect().height-(Zi()?Jn:0),Math.max(0,V+Pe))+"px"}}function En(de,Pe,mt,Ot){for(let kt=Pe,zt=Pe+mt;kt<zt;kt++){const G=yr(kt),re=document.createElement("div");qn(re,"qg-header"),Wn(re,pt(kt)),re.setAttribute("data-column-name",G.name),Ut(kt)&&qn(re,"qg-header-l");const fe=document.createElement("span");if(qn(fe,"qg-header-type"),G.type!=="ARRAY")fe.textContent=G.type.toLowerCase();else if(G.dim>2)fe.textContent=G.type.toUpperCase()+"("+G.elemType.toUpperCase()+","+G.dim+")";else{let Et=G.elemType.toLowerCase()+"[]";G.dim>1&&(Et+="[]"),fe.textContent=Et}const be=document.createElement("span");qn(be,"qg-header-name"),be.textContent=G.name;const ke=document.createElement("div");qn(ke,"qg-col-resize-hysteresis"),ke.columnIndex=kt,ke.onmousedown=Ln,ke.onmouseenter=Xt,ke.onmouseleave=un;const rt=document.createElement("span");qn(rt,"qg-header-border"),re.append(ke,rt),re.append(be,fe),re.onclick=Pt,de.append(re)}if(Ot){const kt=document.createElement("div");return kt.className="qg-header qg-stub",kt.style.width=Jn+"px",de.append(kt),kt}return null}function Hi(){J=[],Fe=0;for(let de=0;de<te;de++){const Pe=yr(de),mt=kr(Pe.name.length+Pe.type.length);J.push(Fe),Fe+=mt}J.push(Fe)}function pa(){qt=0,Ye=0,Jt=0,dt=0,h.innerHTML="",E.innerHTML="",g.innerHTML="",S.innerHTML="",Ht=[],B=[],me=[],ne=[],Oe=null,Ct=0,We=0,Ve=[],te=0,$=0,hn=null,_=null,Tt=null,Zt=-1,Xe=0,se=10,ot=0,ae=-1,ue=-1,en=-1,Ji=!1,_r=void 0,In(),or=void 0,Cr=void 0,b=0,Ie=!1,ss(0),ve()}function hi(de,Pe){de.classList.remove(Pe)}function qn(de,Pe){de&&de.classList.add(Pe)}function Vi(de){hi(de,i)}function qi(){Tt&&Tt.parentElement&&Tt.parentElement.rowIndex===en&&Tt.columnIndex===Zt?qn(Tt,i):Tt&&hi(Tt,i)}function wi(de){de&&(Tt!==de||!de.classList.contains(i))&&(Tt&&Vi(Tt),Tt=de,Zt=de.columnIndex,qi())}function Oo(de){return JSON.stringify(de,(Pe,mt)=>Number.isInteger(mt)?mt.toString()+".0":mt).replace(/"/g,"")}function xl(de,Pe,mt=null){const Ot=de.type==="ARRAY",kt=["FLOAT","DOUBLE"],zt=Ot?kt.includes(de.elemType):kt.includes(de.type);if(!Ot)return zt&&Number.isInteger(Pe)?Pe.toString()+".0":Pe.toString();const G=Oo(Pe),re=mt??p.getBoundingClientRect().width*r.maxCellWidthMultiplier,fe=Math.ceil(re/r.arrayCellWidthMultiplier),be=de.dim,ke=fe-(be*2+5),rt=G.slice(be,-be);if(rt.length>ke){const Et=rt.slice(0,ke);return"ARRAY"+"[".repeat(de.dim)+Et+"..."+"]".repeat(de.dim)}return"ARRAY"+"[".repeat(de.dim)+rt+"]".repeat(de.dim)}function ii(de,Pe,mt){if(mt!==null){const Ot=Dr().deviants[de.name]??null;Pe.textContent=K3e(xl(de,mt,Ot)),Pe.classList.remove("qg-null"),de.type==="ARRAY"&&Pe.classList.add("qg-arr")}else Pe.textContent="null",Pe.classList.add("qg-null")}function go(de,Pe,mt){const Ot=de.childNodes[mt%se];Un(Ot,mt),ii(yr(mt),Ot,Pe[ee[mt]])}function Wi(de){return Math.max(m,de)}function Fr(de,Pe,mt,Ot){if(de.length>0&&te>0&&Pe<mt){const kt=It();let zt=kt.t,G=kt.b;zt-=zt&He,G=G-(G&He)+Ee;for(let re=zt;re<G;re++){const fe=de[re&He];fe.style.width=Fe+"px";const be=Math.floor(re/it),ke=re%it;let rt,Et;if(be<me.length&&(rt=me[be])&&ke<rt.length&&(Et=rt[ke]))for(let Mt=Pe;Mt<mt;Mt++)go(fe,Et,Mt)}Xe=Math.max(0,Math.min(Ot,te-se)),ur()}}function yo(de){const Pe=p.scrollLeft;p.scrollLeft=de,h.scrollLeft=de,Pe===p.scrollLeft&&qi()}function Di(de){if(de!==-1){Zt=de;const Pe=Zt<m?_.childNodes[Zt]:hn.childNodes[Zt%se];Pe.columnIndex=Zt,wi(Pe)}}function Fo(de){de===l&&Xe>0&&te>se?Fr(Ht,m,se,0):de===c&&Xe+se<te&&Fr(Ht,Wi(te-se),te,te-se);const Pe=lt(Zt),mt=pt(Zt);if(de!==o&&(Zt>=m||de===l)){const Ot=Math.max(0,Pe-b);if(Ot<p.scrollLeft)yo(Ot);else if(Ot>p.scrollLeft){const kt=Pe+mt;kt>p.scrollLeft+p.clientWidth&&yo(kt-p.clientWidth)}}Di(Zt)}function Ai(de){if(en>0){en=Math.max(0,en-de),ko(),Re(),ma(),Fo(o);const Pe=en*Ce-Jt-5;Pe<p.scrollTop&&$i(Math.max(0,Pe))}}function Zi(){return p.scrollWidth>ot}function oa(de){const Pe=de[en&He];return Pe&&Pe.rowIndex===en?Pe.className="qg-r qg-r-active":Pe&&(Pe.className="qg-r"),Pe}function ma(){hn=oa(Ht),_=oa(B)}function ko(){hn&&(hn.className="qg-r"),_&&(_.className="qg-r")}function ge(de){if(en>-1&&en<dt-1){en=Math.min(dt-1,en+de),ko(),Re(),ma(),Fo(o);const Pe=Math.min(en*Ce+Ce-Jt,p.scrollHeight)-_e,mt=Zi()?Jn:0;Pe>p.scrollTop&&$i(Pe+mt)}}function Y(){const de=we+Le,Pe=we,mt=p.scrollLeft,Ot=p.getBoundingClientRect().width;if(J){if(mt+Ot>de){let kt=-1,zt=we;for(let G=Xe,re=se+Xe;G<re;G++)if(zt+=pt(G),zt>mt){kt=G;break}if(kt>Xe)Fr(Ht,Wi(se+Xe),Math.min(se+kt,te),kt);else if(kt===-1){let G=de,re=se+Xe;for(;G<mt;)G+=pt(++re);Fr(Ht,Wi(re),Math.min(se+re,te),re)}}else if(Pe>mt){let kt=Xe,zt=we;for(;zt>mt&&kt>0;)zt-=pt(--kt);const G=Math.min(se,Xe-kt);Fr(Ht,Wi(kt),Math.min(G+kt,te),kt)}}}function ve(){fi||(qn(d,"qg-hover"),fi=!0)}function Re(){fi&&(hi(d,"qg-hover"),fi=!1)}function Lt(de){const Pe=p.scrollLeft,mt=p.scrollTop;if(h.scrollLeft!==Pe&&(h.scrollLeft=Pe),m>0&&(Pe>0?qn(y,"qg-panel-scrolled-left"):hi(y,"qg-panel-scrolled-left")),mt>0?(qn(h,"qg-panel-scrolled-top"),qn(E,"qg-panel-scrolled-top")):(hi(h,"qg-panel-scrolled-top"),hi(E,"qg-panel-scrolled-top")),Y(),mt!==qt||!de){const Ot=Ye;mt>=jt-_e?(Ye=Math.max(0,Ne-_e),qt=mt,Jt=Math.max(0,Ye-qt),ge(dt-en)):(mt===0&&qt>0?(Ye=0,Jt=0,Ai(en)):Ye+=mt-qt,qt=mt),Ue(Ye-Ot)}Q(),qi()}function $t(){const de=p.getBoundingClientRect().width;if(Ie=de===0,!Ie)if(Fe<de)se=te,Xe=0,ur();else{let Pe=0,mt=0,Ot=0,kt=0;for(;mt<te;){const G=pt(mt);Ot+G>de?(kt<mt-Pe+1&&(kt=mt-Pe+1),Ot-=pt(Pe),Pe++):(Ot+=G,mt++)}kt=Math.max(kt,mt-Pe+1),se=Math.min(kt,te);const zt=Xe+se-te;zt>0&&Xe>=zt&&(Xe-=zt,ur())}}function on(de){for(let Pe=0,mt=Ht.length;Pe<mt;Pe++){const Ot=Ht[Pe];for(let kt=se;kt<de;kt++)Ot.childNodes[se].remove()}Fr(Ht,Wi(Xe),Xe+se,Xe)}function $n(de){for(let Pe=0,mt=Ht.length;Pe<mt;Pe++){const Ot=Ht[Pe];for(let kt=0;kt<de;kt++){const zt=document.createElement("div");zt.className="qg-c",Ot.append(zt)}for(let kt=0;kt<se;kt++)Un(Ot.childNodes[kt],Xe+kt)}Fr(Ht,Wi(Xe),Xe+se,Xe)}function Dn(){return Math.abs(p.scrollHeight-p.getBoundingClientRect().height)>.8}function A(){ir&&(Zi()&&Dn()?hi(ir,"qg-stub-transparent"):qn(ir,"qg-stub-transparent"))}function N(){A();const de=se;$t(),de<se?$n(se-de):de>se&&on(de)}function M(){let de=0;const Pe=Math.min(m,te);for(let mt=0;mt<Pe;mt++)de+=pt(mt);b=de}function F(){qa();for(let de=0;de<m;de++)Wn(E.childNodes[de],pt(de));for(let de=0,Pe=te-m;de<Pe;de++)Wn(h.childNodes[de],pt(de+m))}function Q(){const de=p.clientHeight+h.clientHeight;y.style.height=de+"px",w.style.height=p.clientHeight+"px",w.scrollTop=p.scrollTop}function Z(){p.scrollTop=w.scrollTop}function le(){return me.length===0?!0:me[Ct].length===0}function Se(){if(le()){Y(),Ue(0);return}if(Ji&&(Ji=!1,F()),Ie&&(Wa(),sa()),Q(),d.style.display!=="none"){_e=Math.max(p.getBoundingClientRect().height,r.minVpHeight),xn=Math.floor(_e/Ce);const de=p.getBoundingClientRect().width;ot!==de&&(ot=de,N()),Lt()}}function Te(){ko(),this.focus(),en=this.parentElement.rowIndex,ma(),wi(this)}function Je(de){de.preventDefault();const Pe=de.target;if(Pe&&!L){const mt=Pe.parentElement.rowIndex&He;qn(Ht[mt],"qg-r-hover"),qn(B[mt],"qg-r-hover")}}function yt(de){de.preventDefault();const Pe=de.target;if(Pe&&!L){const mt=Pe.parentElement.rowIndex&He;hi(Ht[mt],"qg-r-hover"),hi(B[mt],"qg-r-hover")}}function Rt(){Zt>-1&&Zt<te-1&&(Re(),Zt++,Fo(s))}function ct(){Zt>0&&(Re(),Zt--,Fo(a))}function At(){(Zt>0||p.scrollLeft>0)&&(Re(),Zt=0,Fo(l))}function jn(){Zt>-1&&Zt!==te-1&&(Re(),Zt=te-1,Fo(c))}function Qn(){Tt&&Vi(Tt)}function an(de){delete Ve["which"in de?de.which:de.keyCode]}function li(){if(Tt){er&&clearTimeout(er),qn(Tt,"qg-c-active-pulse");let de=Tt.textContent;if(Tt.classList.contains("qg-arr")){const Pe=Tt.parentElement.rowIndex,mt=Tt.columnIndex,Ot=Math.floor(Pe/it),kt=Pe%it;if(me[Ot]&&me[Ot][kt]){const zt=me[Ot][kt][ee[mt]];de=zt===null?"null":"ARRAY"+Oo(zt)}}nh(de).then(void 0),er=setTimeout(()=>{hi(Tt,"qg-c-active-pulse")},1e3)}}function xi(){Lr[Cr]=void 0,dn(),ss(0),E.innerHTML="",la(),Ra(),ae=ue,h.innerHTML="",Hi(),qa(!0),b=0,ir=En(h,0,te,!0),N(),M(),vo(),Fr(Ht,Wi(Xe),Xe+se,Xe),Fr(B,0,m,Xe),p.scrollLeft=0}function So(){return Ve[17]||Ve[91]||Ve[224]}function Ur(de){const Pe="which"in de?de.which:de.keyCode;let mt=!0;switch(Pe){case 33:Ai(xn);break;case 38:Ve[91]?Ai(en):Ai(1);break;case 40:Ve[91]?ge(dt-en):ge(1);break;case 34:ge(xn);break;case 39:Rt();break;case 37:ct();break;case 35:Ve[17]?ge(dt-en):jn();break;case 36:Ve[17]?Ai(en):At();break;case 113:Qn(),Gs("yield.focus");break;case 67:case 45:So()&&li();break;case 66:So()&&xi();break;case 191:Hr();break;default:Ve[Pe]=!0,mt=!1;break}mt&&de.preventDefault()}function Un(de,Pe){const mt=lt(Pe);de.style.left=mt+"px",de.style.width=lt(Pe+1)-mt+"px",de.style.height=r.rowHeight+"px",de.style.textAlign=Ut(Pe)?"left":"right",de.onclick=Te,de.onmouseenter=Je,de.onmouseleave=yt,de.classList.contains("qg-timestamp")&&hi(de,"qg-timestamp"),de.columnIndex===te-1&&hi(de,"qg-last-col"),de.columnIndex=Pe,Pe===ae&&qn(de,"qg-timestamp"),de.columnIndex===te-1&&qn(de,"qg-last-col")}function ji(de,Pe,mt,Ot){for(let kt=0;kt<Ee;kt++){const zt=document.createElement("div");zt.className="qg-r",zt.tabIndex=kt+kt;for(let G=0;G<mt;G++){const re=document.createElement("div");re.className="qg-c",Un(re,G),zt.append(re),kt===0&&G===0&&wi(re)}zt.style.top="-100",zt.style.height=Ce.toString()+"px",zt.style.width=Ot+"px",Pe.push(zt),de.append(zt)}}function ur(){if(Ie)return;let de=0;for(let mt=0;mt<Xe;mt++)de+=pt(mt);let Pe=0;for(let mt=Xe,Ot=Xe+se;mt<Ot;mt++)Pe+=pt(mt);we=de,Le=Pe}function pi(){Tt&&hn&&(wi(Tt),hn.focus())}function aa(){const de=p.getBoundingClientRect().width*r.maxCellWidthMultiplier,Pe=Array(te+1).fill(0);let mt=0;if(me&&me.length>0){const Ot=me[0];for(let kt=0;kt<te;kt++){let zt=pt(kt);for(let G=0;G<((Ot==null?void 0:Ot.length)??0);G++){const re=Ot[G][kt];let fe;if(re===null)fe="null";else if(Array.isArray(re)){const be=Cn(re,kt);zt=Math.min(de,Math.max(zt,be));continue}else fe=re.toString();zt=Math.min(de,Math.max(zt,kr(fe.length)))}Pe[kt]=mt,mt+=zt}return Pe[te]=mt,Pe}}function qa(de=!1){if(de){J=[...ne],Fe=J[te];return}const Pe=p.getBoundingClientRect().width*r.maxCellWidthMultiplier;if(Ji=Pe<.1,!Ji&&me&&me.length>0){const mt=Lr[Cr],Ot=mt!==void 0?mt.deviants:void 0,kt=me[0],zt=kt.length;ss(mt!==void 0?mt.freezeLeft:0);let G=0;for(let re=0;re<te;re++){let fe;if(Ot&&(fe=Ot[yr(re).name]),fe===void 0){fe=pt(re);for(let be=0;be<zt;be++){J[re]=G;const ke=kt[be][re];let rt;if(ke===null)rt="null";else if(yr(re).type==="ARRAY"){const Et=Cn(ke,re);fe=Math.min(Pe,Math.max(fe,Et));continue}else rt=ke.toString();fe=Math.min(Pe,Math.max(fe,kr(rt.length)))}}else J[re]=G;G+=fe}J[te]=G,Fe=G}}function Co(){Di(0),hn.focus()}function Na(){if(!Zn){Zn=!0;return}en=0,hn=Ht[en],_=B[en],Co()}function Ra(){ee=[];for(let de=0;de<te;de++)ee.push(de)}function No(de){pa(),Oe=de.query,me.push(de.dataset),q=de.columns,te=q.length,Ra(),ue=de.timestamp,ae=ue,$=de.count,Hi(),Wa()}function Wa(){$t(),ur()}function vo(){y.style.width=b+"px"}function sa(){if(Ie)return;const de=Lr[Cr];de&&de.columnPositions&&(ee=de.columnPositions,ae=de.timestampIndex),ne=aa(),qa(),M(),ir=En(h,0,te,!0),m>0?(En(E,0,Math.min(m,te),!1),Iu()):la(),vo(),ji(g,Ht,se,Fe),ji(S,B,Math.min(m,te),b),Gr(),$i(0),Se(),Na(),ma()}function Iu(){y.style.display="block",z.style.display="none",w.scrollTop=p.scrollTop}function la(){y.style.display="none",z.style.display="block";for(let de=0,Pe=B.length;de<Pe;de++)B[de].innerHTML=""}function ss(de){m=de!==void 0?de:0,Gs("freeze.state",{freezeLeft:m})}function vr(de){if(de!==void 0&&de!==m){if(de<m){for(let Pe=0,mt=B.length;Pe<mt;Pe++){const Ot=B[Pe];for(let kt=de;kt<m;kt++)Ot.childNodes[de].remove()}for(let Pe=de;Pe<m;Pe++)E.childNodes[de].remove();de===0&&la()}else{for(let Pe=0,mt=B.length;Pe<mt;Pe++){const Ot=B[Pe];for(let kt=m;kt<de;kt++){const zt=document.createElement("div");zt.className="qg-c",Un(zt,kt),Ot.append(zt)}}En(E,m,de-m,!1),Iu()}ss(de),Ir(),Fr(B,0,Math.min(m,te),Xe),M(),vo(),Fr(Ht,Wi(Xe),Xe+se,Xe)}}function ja(de){Zn=!1,setTimeout(()=>{No(de),Fn(sa)},0)}function uo(de,Pe,mt){{const Ot=kt=>{Pe.call(d,kt)};return d.addEventListener(de,Ot),Ot}}function Gs(de,Pe){d.dispatchEvent(new CustomEvent(de,{detail:Pe}))}function Gi(){h=document.createElement("div"),qn(h,"qg-header-row"),p=document.createElement("div"),p.onscroll=Lt,qn(p,"qg-viewport"),g=document.createElement("div"),g.className="qg-canvas",g.onkeydown=Ur,g.onkeyup=an,document.addEventListener("click",Pe=>{d.contains(Pe.target)||(Qn(),ko(),en=-1,Zt=-1)}),H=document.createElement("div"),H.className="qg-col-resize-ghost",p.append(g,H),y=document.createElement("div"),qn(y,"qg-panel-left"),E=document.createElement("div"),qn(E,"qg-header-left-row"),w=document.createElement("div"),w.onscroll=Z,qn(w,"qg-viewport-left"),S=document.createElement("div"),S.className="qg-canvas",S.onkeydown=Ur,S.onkeyup=an,w.append(S),T=document.createElement("div"),qn(T,"qg-panel-left-hysteresis"),T.onmouseenter=Ti,T.onmouseleave=gr,T.onmousemove=Eo,T.onmousedown=bi,O=document.createElement("div"),qn(O,"qg-panel-left-ghost"),O.onmousemove=Eo,O.onmouseleave=gr,j=document.createElement("div"),qn(j,"qg-panel-left-ghost-handle"),j.onmouseleave=gr,j.onmousedown=bi,O.append(j),y.append(E,w,T),R=document.createElement("div"),qn(R,"qg-panel-left-snap-ghost"),z=document.createElement("div"),qn(z,"qg-panel-left-initial-hysteresis"),z.onmouseenter=Ti,z.onmouseleave=gr,z.onmousemove=Eo,z.onmousedown=bi,d.append(h,p,y,O,R,z),d.onmousemove=ve,d.style.position="relative";const de=window.localStorage.getItem(u);de&&(Lr=JSON.parse(de)),new ResizeObserver(function(){d.getBoundingClientRect().height>0&&d.getBoundingClientRect().width>0&&Se()}).observe(d)}return Gi(),Se(),{clearCustomLayout:function(){xi()},shuffleFocusedColumnToFront:function(){Hr()},toggleFreezeLeft:function(){ti()},getResultAsMarkdown:function(){return Vr()},show:function(){d.style.display="flex",Se()},hide:function(){d.style.display="none"},focus:function(){pi()},setData:function(de){ja(de)},getSQL:function(){return Oe},render:function(){Se()},addEventListener:function(de,Pe){uo(de,Pe)}}}eh(g7e),eh(y7e),eh(v7e),eh(b7e),eh([w7e,x7e]),eh(_7e);var fie={exports:{}},hie;function Q3e(){return hie||(hie=1,(function(e,t){(function(n,r){e.exports=r()})(window,function(){return i={},n.m=r=[function(o,a,s){function l(u,d){d=d||{bubbles:!1,cancelable:!1,detail:void 0};var f=document.createEvent("CustomEvent");return f.initCustomEvent(u,d.bubbles,d.cancelable,d.detail),f}var c;a.__esModule=!0,a.hasClassInTree=function(u,d){function f(p,g){return g&&p&&p.classList&&p.classList.contains(g)?p:null}return f(u,d)||(function p(g,h){return g&&g!==document?f(g,h)?g:p(g.parentNode,h):null})(u,d)},a.ensureElementInView=function(u,d){var f=u.scrollTop+u.offsetTop,p=f+u.clientHeight,g=d.offsetTop,h=g+d.clientHeight;g<f?u.scrollTop-=f-g:p<h&&(u.scrollTop+=h-p)},a.putContent=function(u,d,f){var p=u.offsetHeight,g=u.getBoundingClientRect(),h=f?g.top:g.top-p,y=f?g.bottom:g.bottom+p;return h<=0?"below":y>=window.innerHeight?"above":f?d:"below"},a.debounce=function(u,d,f){var p;return d===void 0&&(d=100),f===void 0&&(f=!1),function(){for(var g=[],h=0;h<arguments.length;h++)g[h]=arguments[h];var y=self,b=f&&!p;clearTimeout(p),p=setTimeout(function(){p=null,f||u.apply(y,g)},d),b&&u.apply(y,g)}},a.isValueInArrayOfObjects=function(u,d,f){if(!Array.isArray(u))return u[d]===f;for(var p=0,g=u;p<g.length;p++){var h=g[p];if(h&&h[d]&&h[d]===f)return!0}return!1},a.highlight=function(u,d,f){var p=u,g=new RegExp("("+d.trim()+")(?![^<]*>[^<>]*</)","i");if(!u.match(g))return u;var h=u.match(g).index,y=h+u.match(g)[0].toString().length,b=u.substring(h,y);return p=p.replace(g,'<mark class="'+f+'">'+b+"</mark>")},a.kebabCase=function(u){var d=u.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,function(f){return"-"+f.toLowerCase()});return u[0]===u[0].toUpperCase()?d.substring(1):d},typeof(c=window).CustomEvent!="function"&&(l.prototype=c.Event.prototype,c.CustomEvent=l)},function(o,a,s){a.__esModule=!0;var l=(c.prototype.newOption=function(d){return{id:d.id?d.id:String(Math.floor(1e8*Math.random())),value:d.value?d.value:"",text:d.text?d.text:"",innerHTML:d.innerHTML?d.innerHTML:"",selected:!!d.selected&&d.selected,display:d.display===void 0||d.display,disabled:!!d.disabled&&d.disabled,placeholder:!!d.placeholder&&d.placeholder,class:d.class?d.class:void 0,data:d.data?d.data:{},mandatory:!!d.mandatory&&d.mandatory}},c.prototype.add=function(d){this.data.push({id:String(Math.floor(1e8*Math.random())),value:d.value,text:d.text,innerHTML:"",selected:!1,display:!0,disabled:!1,placeholder:!1,class:void 0,mandatory:d.mandatory,data:{}})},c.prototype.parseSelectData=function(){this.data=[];for(var d=0,f=this.main.select.element.childNodes;d<f.length;d++){var p=f[d];if(p.nodeName==="OPTGROUP"){for(var g={label:p.label,options:[]},h=0,y=p.childNodes;h<y.length;h++){var b=y[h];if(b.nodeName==="OPTION"){var w=this.pullOptionData(b);g.options.push(w),w.placeholder&&w.text.trim()!==""&&(this.main.config.placeholderText=w.text)}}this.data.push(g)}else p.nodeName==="OPTION"&&(w=this.pullOptionData(p),this.data.push(w),w.placeholder&&w.text.trim()!==""&&(this.main.config.placeholderText=w.text))}},c.prototype.pullOptionData=function(d){return{id:!!d.dataset&&d.dataset.id||String(Math.floor(1e8*Math.random())),value:d.value,text:d.text,innerHTML:d.innerHTML,selected:d.selected,disabled:d.disabled,placeholder:d.dataset.placeholder==="true",class:d.className,style:d.style.cssText,data:d.dataset,mandatory:!!d.dataset&&d.dataset.mandatory==="true"}},c.prototype.setSelectedFromSelect=function(){if(this.main.config.isMultiple){for(var d=[],f=0,p=this.main.select.element.options;f<p.length;f++){var g=p[f];if(g.selected){var h=this.getObjectFromData(g.value,"value");h&&h.id&&d.push(h.id)}}this.setSelected(d,"id")}else{var y=this.main.select.element;if(y.selectedIndex!==-1){var b=y.options[y.selectedIndex].value;this.setSelected(b,"value")}}},c.prototype.setSelected=function(d,f){f===void 0&&(f="id");for(var p=0,g=this.data;p<g.length;p++){var h=g[p];if(h.hasOwnProperty("label")){if(h.hasOwnProperty("options")){var y=h.options;if(y)for(var b=0,w=y;b<w.length;b++){var S=w[b];S.placeholder||(S.selected=this.shouldBeSelected(S,d,f))}}}else h.selected=this.shouldBeSelected(h,d,f)}},c.prototype.shouldBeSelected=function(d,f,p){if(p===void 0&&(p="id"),Array.isArray(f))for(var g=0,h=f;g<h.length;g++){var y=h[g];if(p in d&&String(d[p])===String(y))return!0}else if(p in d&&String(d[p])===String(f))return!0;return!1},c.prototype.getSelected=function(){for(var d={text:"",placeholder:this.main.config.placeholderText},f=[],p=0,g=this.data;p<g.length;p++){var h=g[p];if(h.hasOwnProperty("label")){if(h.hasOwnProperty("options")){var y=h.options;if(y)for(var b=0,w=y;b<w.length;b++){var S=w[b];S.selected&&(this.main.config.isMultiple?f.push(S):d=S)}}}else h.selected&&(this.main.config.isMultiple?f.push(h):d=h)}return this.main.config.isMultiple?f:d},c.prototype.addToSelected=function(d,f){if(f===void 0&&(f="id"),this.main.config.isMultiple){var p=[],g=this.getSelected();if(Array.isArray(g))for(var h=0,y=g;h<y.length;h++){var b=y[h];p.push(b[f])}p.push(d),this.setSelected(p,f)}},c.prototype.removeFromSelected=function(d,f){if(f===void 0&&(f="id"),this.main.config.isMultiple){for(var p=[],g=0,h=this.getSelected();g<h.length;g++){var y=h[g];String(y[f])!==String(d)&&p.push(y[f])}this.setSelected(p,f)}},c.prototype.onDataChange=function(){this.main.onChange&&this.isOnChangeEnabled&&this.main.onChange(JSON.parse(JSON.stringify(this.getSelected())))},c.prototype.getObjectFromData=function(d,f){f===void 0&&(f="id");for(var p=0,g=this.data;p<g.length;p++){var h=g[p];if(f in h&&String(h[f])===String(d))return h;if(h.hasOwnProperty("options")&&h.options)for(var y=0,b=h.options;y<b.length;y++){var w=b[y];if(String(w[f])===String(d))return w}}return null},c.prototype.search=function(d){if((this.searchValue=d).trim()!==""){var f=this.main.config.searchFilter,p=this.data.slice(0);d=d.trim();var g=p.map(function(h){if(h.hasOwnProperty("options")){var y=h,b=[];if(y.options&&(b=y.options.filter(function(S){return f(S,d)})),b.length!==0){var w=Object.assign({},y);return w.options=b,w}}return h.hasOwnProperty("text")&&f(h,d)?h:null});this.filtered=g.filter(function(h){return h})}else this.filtered=null},c);function c(d){this.contentOpen=!1,this.contentPosition="below",this.isOnChangeEnabled=!0,this.main=d.main,this.searchValue="",this.data=[],this.filtered=null,this.parseSelectData(),this.setSelectedFromSelect()}function u(d){return d.text!==void 0||(console.error("Data object option must have at least have a text value. Check object: "+JSON.stringify(d)),!1)}a.Data=l,a.validateData=function(d){if(!d)return console.error("Data must be an array of objects"),!1;for(var f=0,p=0,g=d;p<g.length;p++){var h=g[p];if(h.hasOwnProperty("label")){if(h.hasOwnProperty("options")){var y=h.options;if(y)for(var b=0,w=y;b<w.length;b++)u(w[b])||f++}}else u(h)||f++}return f===0},a.validateOption=u},function(o,a,s){a.__esModule=!0;var l=s(3),c=s(4),u=s(5),d=s(1),f=s(0),p=(g.prototype.validate=function(h){var y=typeof h.select=="string"?document.querySelector(h.select):h.select;if(!y)throw new Error("Could not find select element");if(y.tagName!=="SELECT")throw new Error("Element isnt of type select");return y},g.prototype.selected=function(){if(this.config.isMultiple){for(var h=[],y=0,b=S=this.data.getSelected();y<b.length;y++){var w=b[y];h.push(w.value)}return h}var S;return(S=this.data.getSelected())?S.value:""},g.prototype.set=function(h,y,b,w){y===void 0&&(y="value"),b===void 0&&(b=!0),this.config.isMultiple&&!Array.isArray(h)?this.data.addToSelected(h,y):this.data.setSelected(h,y),this.select.setValue(),this.data.onDataChange(),this.render(),b&&this.close()},g.prototype.setSelected=function(h,y,b,w){y===void 0&&(y="value"),b===void 0&&(b=!0),w===void 0&&(w=!0),this.set(h,y,b,w)},g.prototype.setData=function(h){if(d.validateData(h)){var y=JSON.parse(JSON.stringify(h)),b=this.data.getSelected();if(this.config.isAjax&&b)if(this.config.isMultiple)for(var w=0,S=b.reverse();w<S.length;w++){var E=S[w];y.unshift(E)}else y.unshift(this.data.getSelected()),y.unshift({text:"",placeholder:!0});this.select.create(y),this.data.parseSelectData(),this.data.setSelectedFromSelect()}else console.error("Validation problem on: #"+this.select.element.id)},g.prototype.addData=function(h){d.validateData([h])?(this.data.add(this.data.newOption(h)),this.select.create(this.data.data),this.data.parseSelectData(),this.data.setSelectedFromSelect(),this.render()):console.error("Validation problem on: #"+this.select.element.id)},g.prototype.open=function(){var h=this;if(this.config.isEnabled&&!this.data.contentOpen){if(this.beforeOpen&&this.beforeOpen(),this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.plus.classList.add("ss-cross"):this.slim.singleSelected&&(this.slim.singleSelected.arrowIcon.arrow.classList.remove("arrow-down"),this.slim.singleSelected.arrowIcon.arrow.classList.add("arrow-up")),this.slim[this.config.isMultiple?"multiSelected":"singleSelected"].container.classList.add(this.data.contentPosition==="above"?this.config.openAbove:this.config.openBelow),this.config.addToBody){var y=this.slim.container.getBoundingClientRect();this.slim.content.style.top=y.top+y.height+window.scrollY+"px",this.slim.content.style.left=y.left+window.scrollX+"px",this.slim.content.style.width=y.width+"px"}if(this.slim.content.classList.add(this.config.open),this.config.showContent.toLowerCase()==="up"||this.config.showContent.toLowerCase()!=="down"&&f.putContent(this.slim.content,this.data.contentPosition,this.data.contentOpen)==="above"?this.moveContentAbove():this.moveContentBelow(),!this.config.isMultiple){var b=this.data.getSelected();if(b){var w=b.id,S=this.slim.list.querySelector('[data-id="'+w+'"]');S&&f.ensureElementInView(this.slim.list,S)}}setTimeout(function(){h.data.contentOpen=!0,h.config.searchFocus&&h.slim.search.input.focus(),h.afterOpen&&h.afterOpen()},this.config.timeoutDelay)}},g.prototype.close=function(){var h=this;this.data.contentOpen&&(this.beforeClose&&this.beforeClose(),this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openAbove),this.slim.multiSelected.container.classList.remove(this.config.openBelow),this.slim.multiSelected.plus.classList.remove("ss-cross")):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openAbove),this.slim.singleSelected.container.classList.remove(this.config.openBelow),this.slim.singleSelected.arrowIcon.arrow.classList.add("arrow-down"),this.slim.singleSelected.arrowIcon.arrow.classList.remove("arrow-up")),this.slim.content.classList.remove(this.config.open),this.data.contentOpen=!1,this.search(""),setTimeout(function(){h.slim.content.removeAttribute("style"),h.data.contentPosition="below",h.config.isMultiple&&h.slim.multiSelected?(h.slim.multiSelected.container.classList.remove(h.config.openAbove),h.slim.multiSelected.container.classList.remove(h.config.openBelow)):h.slim.singleSelected&&(h.slim.singleSelected.container.classList.remove(h.config.openAbove),h.slim.singleSelected.container.classList.remove(h.config.openBelow)),h.slim.search.input.blur(),h.afterClose&&h.afterClose()},this.config.timeoutDelay))},g.prototype.moveContentAbove=function(){var h=0;this.config.isMultiple&&this.slim.multiSelected?h=this.slim.multiSelected.container.offsetHeight:this.slim.singleSelected&&(h=this.slim.singleSelected.container.offsetHeight);var y=h+this.slim.content.offsetHeight-1;this.slim.content.style.margin="-"+y+"px 0 0 0",this.slim.content.style.height=y-h+1+"px",this.slim.content.style.transformOrigin="center bottom",this.data.contentPosition="above",this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openBelow),this.slim.multiSelected.container.classList.add(this.config.openAbove)):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openBelow),this.slim.singleSelected.container.classList.add(this.config.openAbove))},g.prototype.moveContentBelow=function(){this.data.contentPosition="below",this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openAbove),this.slim.multiSelected.container.classList.add(this.config.openBelow)):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openAbove),this.slim.singleSelected.container.classList.add(this.config.openBelow))},g.prototype.enable=function(){this.config.isEnabled=!0,this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.container.classList.remove(this.config.disabled):this.slim.singleSelected&&this.slim.singleSelected.container.classList.remove(this.config.disabled),this.select.triggerMutationObserver=!1,this.select.element.disabled=!1,this.slim.search.input.disabled=!1,this.select.triggerMutationObserver=!0},g.prototype.disable=function(){this.config.isEnabled=!1,this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.container.classList.add(this.config.disabled):this.slim.singleSelected&&this.slim.singleSelected.container.classList.add(this.config.disabled),this.select.triggerMutationObserver=!1,this.select.element.disabled=!0,this.slim.search.input.disabled=!0,this.select.triggerMutationObserver=!0},g.prototype.search=function(h){if(this.data.searchValue!==h)if(this.slim.search.input.value=h,this.config.isAjax){var y=this;this.config.isSearching=!0,this.render(),this.ajax&&this.ajax(h,function(b){y.config.isSearching=!1,Array.isArray(b)?(b.unshift({text:"",placeholder:!0}),y.setData(b),y.data.search(h),y.render()):typeof b=="string"?y.slim.options(b):y.render()})}else this.data.search(h),this.render()},g.prototype.setSearchText=function(h){this.config.searchText=h},g.prototype.render=function(){this.config.isMultiple?this.slim.values():(this.slim.placeholder(),this.slim.deselect()),this.slim.options()},g.prototype.destroy=function(h){h===void 0&&(h=null);var y=h?document.querySelector("."+h+".ss-main"):this.slim.container,b=h?document.querySelector("[data-ssid="+h+"]"):this.select.element;if(y&&b&&(b.style.display="",delete b.dataset.ssid,b.slim=null,y.parentElement&&y.parentElement.removeChild(y),this.config.addToBody)){var w=h?document.querySelector("."+h+".ss-content"):this.slim.content;if(!w)return;document.body.removeChild(w)}},g);function g(h){var y=this;this.ajax=null,this.addable=null,this.beforeOnChange=null,this.onChange=null,this.beforeOpen=null,this.afterOpen=null,this.beforeClose=null,this.afterClose=null;var b=this.validate(h);b.dataset.ssid&&this.destroy(b.dataset.ssid),h.ajax&&(this.ajax=h.ajax),h.addable&&(this.addable=h.addable),this.config=new l.Config({select:b,isAjax:!!h.ajax,showSearch:h.showSearch,searchPlaceholder:h.searchPlaceholder,searchText:h.searchText,searchingText:h.searchingText,searchFocus:h.searchFocus,searchHighlight:h.searchHighlight,searchFilter:h.searchFilter,closeOnSelect:h.closeOnSelect,showContent:h.showContent,placeholderText:h.placeholder,allowDeselect:h.allowDeselect,allowDeselectOption:h.allowDeselectOption,hideSelectedOption:h.hideSelectedOption,deselectLabel:h.deselectLabel,isEnabled:h.isEnabled,valuesUseText:h.valuesUseText,showOptionTooltips:h.showOptionTooltips,selectByGroup:h.selectByGroup,limit:h.limit,timeoutDelay:h.timeoutDelay,addToBody:h.addToBody}),this.select=new c.Select({select:b,main:this}),this.data=new d.Data({main:this}),this.slim=new u.Slim({main:this}),this.select.element.parentNode&&this.select.element.parentNode.insertBefore(this.slim.container,this.select.element.nextSibling),h.data?this.setData(h.data):this.render(),document.addEventListener("click",function(w){w.target&&!f.hasClassInTree(w.target,y.config.id)&&y.close()}),this.config.showContent==="auto"&&window.addEventListener("scroll",f.debounce(function(w){y.data.contentOpen&&(f.putContent(y.slim.content,y.data.contentPosition,y.data.contentOpen)==="above"?y.moveContentAbove():y.moveContentBelow())}),!1),h.beforeOnChange&&(this.beforeOnChange=h.beforeOnChange),h.onChange&&(this.onChange=h.onChange),h.beforeOpen&&(this.beforeOpen=h.beforeOpen),h.afterOpen&&(this.afterOpen=h.afterOpen),h.beforeClose&&(this.beforeClose=h.beforeClose),h.afterClose&&(this.afterClose=h.afterClose),this.config.isEnabled||this.disable()}a.default=p},function(o,a,s){a.__esModule=!0;var l=(c.prototype.searchFilter=function(u,d){return u.text.toLowerCase().indexOf(d.toLowerCase())!==-1},c);function c(u){this.id="",this.isMultiple=!1,this.isAjax=!1,this.isSearching=!1,this.showSearch=!0,this.searchFocus=!0,this.searchHighlight=!1,this.closeOnSelect=!0,this.showContent="auto",this.searchPlaceholder="Search",this.searchText="No Results",this.searchingText="Searching...",this.placeholderText="Select Value",this.allowDeselect=!1,this.allowDeselectOption=!1,this.hideSelectedOption=!1,this.deselectLabel="x",this.isEnabled=!0,this.valuesUseText=!1,this.showOptionTooltips=!1,this.selectByGroup=!1,this.limit=0,this.timeoutDelay=200,this.addToBody=!1,this.main="ss-main",this.singleSelected="ss-single-selected",this.arrow="ss-arrow",this.multiSelected="ss-multi-selected",this.add="ss-add",this.plus="ss-plus",this.values="ss-values",this.value="ss-value",this.valueText="ss-value-text",this.valueDelete="ss-value-delete",this.content="ss-content",this.open="ss-open",this.openAbove="ss-open-above",this.openBelow="ss-open-below",this.search="ss-search",this.searchHighlighter="ss-search-highlight",this.addable="ss-addable",this.list="ss-list",this.optgroup="ss-optgroup",this.optgroupLabel="ss-optgroup-label",this.optgroupLabelSelectable="ss-optgroup-label-selectable",this.option="ss-option",this.optionSelected="ss-option-selected",this.highlighted="ss-highlighted",this.disabled="ss-disabled",this.hide="ss-hide",this.id="ss-"+Math.floor(1e5*Math.random()),this.style=u.select.style.cssText,this.class=u.select.className.split(" "),this.isMultiple=u.select.multiple,this.isAjax=u.isAjax,this.showSearch=u.showSearch!==!1,this.searchFocus=u.searchFocus!==!1,this.searchHighlight=u.searchHighlight===!0,this.closeOnSelect=u.closeOnSelect!==!1,u.showContent&&(this.showContent=u.showContent),this.isEnabled=u.isEnabled!==!1,u.searchPlaceholder&&(this.searchPlaceholder=u.searchPlaceholder),u.searchText&&(this.searchText=u.searchText),u.searchingText&&(this.searchingText=u.searchingText),u.placeholderText&&(this.placeholderText=u.placeholderText),this.allowDeselect=u.allowDeselect===!0,this.allowDeselectOption=u.allowDeselectOption===!0,this.hideSelectedOption=u.hideSelectedOption===!0,u.deselectLabel&&(this.deselectLabel=u.deselectLabel),u.valuesUseText&&(this.valuesUseText=u.valuesUseText),u.showOptionTooltips&&(this.showOptionTooltips=u.showOptionTooltips),u.selectByGroup&&(this.selectByGroup=u.selectByGroup),u.limit&&(this.limit=u.limit),u.searchFilter&&(this.searchFilter=u.searchFilter),u.timeoutDelay!=null&&(this.timeoutDelay=u.timeoutDelay),this.addToBody=u.addToBody===!0}a.Config=l},function(o,a,s){a.__esModule=!0;var l=s(0),c=(u.prototype.setValue=function(){if(this.main.data.getSelected()){if(this.main.config.isMultiple)for(var d=this.main.data.getSelected(),f=0,p=this.element.options;f<p.length;f++){var g=p[f];g.selected=!1;for(var h=0,y=d;h<y.length;h++)y[h].value===g.value&&(g.selected=!0)}else d=this.main.data.getSelected(),this.element.value=d?d.value:"";this.main.data.isOnChangeEnabled=!1,this.element.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.main.data.isOnChangeEnabled=!0}},u.prototype.addAttributes=function(){this.element.tabIndex=-1,this.element.style.display="none",this.element.dataset.ssid=this.main.config.id},u.prototype.addEventListeners=function(){var d=this;this.element.addEventListener("change",function(f){d.main.data.setSelectedFromSelect(),d.main.render()})},u.prototype.addMutationObserver=function(){var d=this;this.main.config.isAjax||(this.mutationObserver=new MutationObserver(function(f){d.triggerMutationObserver&&(d.main.data.parseSelectData(),d.main.data.setSelectedFromSelect(),d.main.render(),f.forEach(function(p){p.attributeName==="class"&&d.main.slim.updateContainerDivClass(d.main.slim.container)}))}),this.observeMutationObserver())},u.prototype.observeMutationObserver=function(){this.mutationObserver&&this.mutationObserver.observe(this.element,{attributes:!0,childList:!0,characterData:!0})},u.prototype.disconnectMutationObserver=function(){this.mutationObserver&&this.mutationObserver.disconnect()},u.prototype.create=function(d){this.element.innerHTML="";for(var f=0,p=d;f<p.length;f++){var g=p[f];if(g.hasOwnProperty("options")){var h=g,y=document.createElement("optgroup");if(y.label=h.label,h.options)for(var b=0,w=h.options;b<w.length;b++){var S=w[b];y.appendChild(this.createOption(S))}this.element.appendChild(y)}else this.element.appendChild(this.createOption(g))}},u.prototype.createOption=function(d){var f=document.createElement("option");return f.value=d.value!==""?d.value:d.text,f.innerHTML=d.innerHTML||d.text,d.selected&&(f.selected=d.selected),d.display===!1&&(f.style.display="none"),d.disabled&&(f.disabled=!0),d.placeholder&&f.setAttribute("data-placeholder","true"),d.mandatory&&f.setAttribute("data-mandatory","true"),d.class&&d.class.split(" ").forEach(function(p){f.classList.add(p)}),d.data&&typeof d.data=="object"&&Object.keys(d.data).forEach(function(p){f.setAttribute("data-"+l.kebabCase(p),d.data[p])}),f},u);function u(d){this.triggerMutationObserver=!0,this.element=d.select,this.main=d.main,this.element.disabled&&(this.main.config.isEnabled=!1),this.addAttributes(),this.addEventListeners(),this.mutationObserver=null,this.addMutationObserver(),this.element.slim=d.main}a.Select=c},function(o,a,s){a.__esModule=!0;var l=s(0),c=s(1),u=(d.prototype.containerDiv=function(){var f=document.createElement("div");return f.style.cssText=this.main.config.style,this.updateContainerDivClass(f),f},d.prototype.updateContainerDivClass=function(f){this.main.config.class=this.main.select.element.className.split(" "),f.className="",f.classList.add(this.main.config.id),f.classList.add(this.main.config.main);for(var p=0,g=this.main.config.class;p<g.length;p++){var h=g[p];h.trim()!==""&&f.classList.add(h)}},d.prototype.singleSelectedDiv=function(){var f=this,p=document.createElement("div");p.classList.add(this.main.config.singleSelected);var g=document.createElement("span");g.classList.add("placeholder"),p.appendChild(g);var h=document.createElement("span");h.innerHTML=this.main.config.deselectLabel,h.classList.add("ss-deselect"),h.onclick=function(w){w.stopPropagation(),f.main.config.isEnabled&&f.main.set("")},p.appendChild(h);var y=document.createElement("span");y.classList.add(this.main.config.arrow);var b=document.createElement("span");return b.classList.add("arrow-down"),y.appendChild(b),p.appendChild(y),p.onclick=function(){f.main.config.isEnabled&&(f.main.data.contentOpen?f.main.close():f.main.open())},{container:p,placeholder:g,deselect:h,arrowIcon:{container:y,arrow:b}}},d.prototype.placeholder=function(){var f=this.main.data.getSelected();if(f===null||f&&f.placeholder){var p=document.createElement("span");p.classList.add(this.main.config.disabled),p.innerHTML=this.main.config.placeholderText,this.singleSelected&&(this.singleSelected.placeholder.innerHTML=p.outerHTML)}else{var g="";f&&(g=f.innerHTML&&this.main.config.valuesUseText!==!0?f.innerHTML:f.text),this.singleSelected&&(this.singleSelected.placeholder.innerHTML=f?g:"")}},d.prototype.deselect=function(){if(this.singleSelected){if(!this.main.config.allowDeselect)return void this.singleSelected.deselect.classList.add("ss-hide");this.main.selected()===""?this.singleSelected.deselect.classList.add("ss-hide"):this.singleSelected.deselect.classList.remove("ss-hide")}},d.prototype.multiSelectedDiv=function(){var f=this,p=document.createElement("div");p.classList.add(this.main.config.multiSelected);var g=document.createElement("div");g.classList.add(this.main.config.values),p.appendChild(g);var h=document.createElement("div");h.classList.add(this.main.config.add);var y=document.createElement("span");return y.classList.add(this.main.config.plus),y.onclick=function(b){f.main.data.contentOpen&&(f.main.close(),b.stopPropagation())},h.appendChild(y),p.appendChild(h),p.onclick=function(b){f.main.config.isEnabled&&(b.target.classList.contains(f.main.config.valueDelete)||(f.main.data.contentOpen?f.main.close():f.main.open()))},{container:p,values:g,add:h,plus:y}},d.prototype.values=function(){if(this.multiSelected){for(var f,p=this.multiSelected.values.childNodes,g=this.main.data.getSelected(),h=[],y=0,b=p;y<b.length;y++){var w=b[y];f=!0;for(var S=0,E=g;S<E.length;S++){var _=E[S];String(_.id)===String(w.dataset.id)&&(f=!1)}f&&h.push(w)}for(var m=0,C=h;m<C.length;m++){var T=C[m];T.classList.add("ss-out"),this.multiSelected.values.removeChild(T)}for(p=this.multiSelected.values.childNodes,_=0;_<g.length;_++){f=!1;for(var O=0,R=p;O<R.length;O++)w=R[O],String(g[_].id)===String(w.dataset.id)&&(f=!0);f||(p.length!==0&&HTMLElement.prototype.insertAdjacentElement?_===0?this.multiSelected.values.insertBefore(this.valueDiv(g[_]),p[_]):p[_-1].insertAdjacentElement("afterend",this.valueDiv(g[_])):this.multiSelected.values.appendChild(this.valueDiv(g[_])))}if(g.length===0){var j=document.createElement("span");j.classList.add(this.main.config.disabled),j.innerHTML=this.main.config.placeholderText,this.multiSelected.values.innerHTML=j.outerHTML}}},d.prototype.valueDiv=function(f){var p=this,g=document.createElement("div");g.classList.add(this.main.config.value),g.dataset.id=f.id;var h=document.createElement("span");if(h.classList.add(this.main.config.valueText),h.innerHTML=f.innerHTML&&this.main.config.valuesUseText!==!0?f.innerHTML:f.text,g.appendChild(h),!f.mandatory){var y=document.createElement("span");y.classList.add(this.main.config.valueDelete),y.innerHTML=this.main.config.deselectLabel,y.onclick=function(b){b.preventDefault(),b.stopPropagation();var w=!1;if(p.main.beforeOnChange||(w=!0),p.main.beforeOnChange){for(var S=p.main.data.getSelected(),E=JSON.parse(JSON.stringify(S)),_=0;_<E.length;_++)E[_].id===f.id&&E.splice(_,1);p.main.beforeOnChange(E)!==!1&&(w=!0)}w&&(p.main.data.removeFromSelected(f.id,"id"),p.main.render(),p.main.select.setValue(),p.main.data.onDataChange())},g.appendChild(y)}return g},d.prototype.contentDiv=function(){var f=document.createElement("div");return f.classList.add(this.main.config.content),f},d.prototype.searchDiv=function(){var f=this,p=document.createElement("div"),g=document.createElement("input"),h=document.createElement("div");p.classList.add(this.main.config.search);var y={container:p,input:g};return this.main.config.showSearch||(p.classList.add(this.main.config.hide),g.readOnly=!0),g.type="search",g.placeholder=this.main.config.searchPlaceholder,g.tabIndex=0,g.setAttribute("aria-label",this.main.config.searchPlaceholder),g.setAttribute("autocapitalize","off"),g.setAttribute("autocomplete","off"),g.setAttribute("autocorrect","off"),g.onclick=function(b){setTimeout(function(){b.target.value===""&&f.main.search("")},10)},g.onkeydown=function(b){b.key==="ArrowUp"?(f.main.open(),f.highlightUp(),b.preventDefault()):b.key==="ArrowDown"?(f.main.open(),f.highlightDown(),b.preventDefault()):b.key==="Tab"?f.main.data.contentOpen?f.main.close():setTimeout(function(){f.main.close()},f.main.config.timeoutDelay):b.key==="Enter"&&b.preventDefault()},g.onkeyup=function(b){var w=b.target;if(b.key==="Enter"){if(f.main.addable&&b.ctrlKey)return h.click(),b.preventDefault(),void b.stopPropagation();var S=f.list.querySelector("."+f.main.config.highlighted);S&&S.click()}else b.key==="ArrowUp"||b.key==="ArrowDown"||(b.key==="Escape"?f.main.close():f.main.config.showSearch&&f.main.data.contentOpen?f.main.search(w.value):g.value="");b.preventDefault(),b.stopPropagation()},g.onfocus=function(){f.main.open()},p.appendChild(g),this.main.addable&&(h.classList.add(this.main.config.addable),h.innerHTML="+",h.onclick=function(b){if(f.main.addable){b.preventDefault(),b.stopPropagation();var w=f.search.input.value;if(w.trim()==="")return void f.search.input.focus();var S=f.main.addable(w),E="";if(!S)return;typeof S=="object"?c.validateOption(S)&&(f.main.addData(S),E=S.value?S.value:S.text):(f.main.addData(f.main.data.newOption({text:S,value:S})),E=S),f.main.search(""),setTimeout(function(){f.main.set(E,"value",!1,!1)},100),f.main.config.closeOnSelect&&setTimeout(function(){f.main.close()},100)}},p.appendChild(h),y.addable=h),y},d.prototype.highlightUp=function(){var f=this.list.querySelector("."+this.main.config.highlighted),p=null;if(f)for(p=f.previousSibling;p!==null&&p.classList.contains(this.main.config.disabled);)p=p.previousSibling;else{var g=this.list.querySelectorAll("."+this.main.config.option+":not(."+this.main.config.disabled+")");p=g[g.length-1]}if(p&&p.classList.contains(this.main.config.optgroupLabel)&&(p=null),p===null){var h=f.parentNode;if(h.classList.contains(this.main.config.optgroup)&&h.previousSibling){var y=h.previousSibling.querySelectorAll("."+this.main.config.option+":not(."+this.main.config.disabled+")");y.length&&(p=y[y.length-1])}}p&&(f&&f.classList.remove(this.main.config.highlighted),p.classList.add(this.main.config.highlighted),l.ensureElementInView(this.list,p))},d.prototype.highlightDown=function(){var f=this.list.querySelector("."+this.main.config.highlighted),p=null;if(f)for(p=f.nextSibling;p!==null&&p.classList.contains(this.main.config.disabled);)p=p.nextSibling;else p=this.list.querySelector("."+this.main.config.option+":not(."+this.main.config.disabled+")");if(p===null&&f!==null){var g=f.parentNode;g.classList.contains(this.main.config.optgroup)&&g.nextSibling&&(p=g.nextSibling.querySelector("."+this.main.config.option+":not(."+this.main.config.disabled+")"))}p&&(f&&f.classList.remove(this.main.config.highlighted),p.classList.add(this.main.config.highlighted),l.ensureElementInView(this.list,p))},d.prototype.listDiv=function(){var f=document.createElement("div");return f.classList.add(this.main.config.list),f},d.prototype.options=function(f){f===void 0&&(f="");var p,g=this.main.data.filtered||this.main.data.data;if((this.list.innerHTML="")!==f)return(p=document.createElement("div")).classList.add(this.main.config.option),p.classList.add(this.main.config.disabled),p.innerHTML=f,void this.list.appendChild(p);if(this.main.config.isAjax&&this.main.config.isSearching)return(p=document.createElement("div")).classList.add(this.main.config.option),p.classList.add(this.main.config.disabled),p.innerHTML=this.main.config.searchingText,void this.list.appendChild(p);if(g.length===0){var h=document.createElement("div");return h.classList.add(this.main.config.option),h.classList.add(this.main.config.disabled),h.innerHTML=this.main.config.searchText,void this.list.appendChild(h)}for(var y=function(E){if(E.hasOwnProperty("label")){var _=E,m=document.createElement("div");m.classList.add(b.main.config.optgroup);var C=document.createElement("div");C.classList.add(b.main.config.optgroupLabel),b.main.config.selectByGroup&&b.main.config.isMultiple&&C.classList.add(b.main.config.optgroupLabelSelectable),C.innerHTML=_.label,m.appendChild(C);var T=_.options;if(T){for(var O=0,R=T;O<R.length;O++){var j=R[O];m.appendChild(b.option(j))}if(b.main.config.selectByGroup&&b.main.config.isMultiple){var D=b;C.addEventListener("click",function(L){L.preventDefault(),L.stopPropagation();for(var V=0,z=m.children;V<z.length;V++){var B=z[V];B.className.indexOf(D.main.config.option)!==-1&&B.click()}})}}b.list.appendChild(m)}else b.list.appendChild(b.option(E))},b=this,w=0,S=g;w<S.length;w++)y(S[w])},d.prototype.option=function(f){if(f.placeholder){var p=document.createElement("div");return p.classList.add(this.main.config.option),p.classList.add(this.main.config.hide),p}var g=document.createElement("div");g.classList.add(this.main.config.option),f.class&&f.class.split(" ").forEach(function(w){g.classList.add(w)}),f.style&&(g.style.cssText=f.style);var h=this.main.data.getSelected();g.dataset.id=f.id,this.main.config.searchHighlight&&this.main.slim&&f.innerHTML&&this.main.slim.search.input.value.trim()!==""?g.innerHTML=l.highlight(f.innerHTML,this.main.slim.search.input.value,this.main.config.searchHighlighter):f.innerHTML&&(g.innerHTML=f.innerHTML),this.main.config.showOptionTooltips&&g.textContent&&g.setAttribute("title",g.textContent);var y=this;g.addEventListener("click",function(w){w.preventDefault(),w.stopPropagation();var S=this.dataset.id;if(f.selected===!0&&y.main.config.allowDeselectOption){var E=!1;if(y.main.beforeOnChange&&y.main.config.isMultiple||(E=!0),y.main.beforeOnChange&&y.main.config.isMultiple){for(var _=y.main.data.getSelected(),m=JSON.parse(JSON.stringify(_)),C=0;C<m.length;C++)m[C].id===S&&m.splice(C,1);y.main.beforeOnChange(m)!==!1&&(E=!0)}E&&(y.main.config.isMultiple?(y.main.data.removeFromSelected(S,"id"),y.main.render(),y.main.select.setValue(),y.main.data.onDataChange()):y.main.set(""))}else{if(f.disabled||f.selected||y.main.config.limit&&Array.isArray(h)&&y.main.config.limit<=h.length)return;if(y.main.beforeOnChange){var T=void 0,O=JSON.parse(JSON.stringify(y.main.data.getObjectFromData(S)));O.selected=!0,y.main.config.isMultiple?(T=JSON.parse(JSON.stringify(h))).push(O):T=JSON.parse(JSON.stringify(O)),y.main.beforeOnChange(T)!==!1&&y.main.set(S,"id",y.main.config.closeOnSelect)}else y.main.set(S,"id",y.main.config.closeOnSelect)}});var b=h&&l.isValueInArrayOfObjects(h,"id",f.id);return(f.disabled||b)&&(g.onclick=null,y.main.config.allowDeselectOption||g.classList.add(this.main.config.disabled),y.main.config.hideSelectedOption&&g.classList.add(this.main.config.hide)),b?g.classList.add(this.main.config.optionSelected):g.classList.remove(this.main.config.optionSelected),g},d);function d(f){this.main=f.main,this.container=this.containerDiv(),this.content=this.contentDiv(),this.search=this.searchDiv(),this.list=this.listDiv(),this.options(),this.singleSelected=null,this.multiSelected=null,this.main.config.isMultiple?(this.multiSelected=this.multiSelectedDiv(),this.multiSelected&&this.container.appendChild(this.multiSelected.container)):(this.singleSelected=this.singleSelectedDiv(),this.container.appendChild(this.singleSelected.container)),this.main.config.addToBody?(this.content.classList.add(this.main.config.id),document.body.appendChild(this.content)):this.container.appendChild(this.content),this.content.appendChild(this.search.container),this.content.appendChild(this.list)}a.Slim=u}],n.c=i,n.d=function(o,a,s){n.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:s})},n.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},n.t=function(o,a){if(1&a&&(o=n(o)),8&a||4&a&&typeof o=="object"&&o&&o.__esModule)return o;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:o}),2&a&&typeof o!="string")for(var l in o)n.d(s,l,(function(c){return o[c]}).bind(null,l));return s},n.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return n.d(a,"a",a),a},n.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},n.p="",n(n.s=2).default;function n(o){if(i[o])return i[o].exports;var a=i[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var r,i})})(fie)),fie.exports}var J3e=Q3e();const Tk=Ga(J3e),Ha="#eee",Nx=function(){return{axisLine:{lineStyle:{color:Ha}},axisTick:{lineStyle:{color:Ha}},axisLabel:{textStyle:{color:Ha}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:Ha}}}},Ak=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],Z3e={color:Ak,backgroundColor:"#282a36",tooltip:{axisPointer:{lineStyle:{color:Ha},crossStyle:{color:Ha}}},legend:{textStyle:{color:Ha}},textStyle:{color:Ha},title:{textStyle:{color:Ha}},toolbox:{iconStyle:{normal:{borderColor:Ha}}},dataZoom:{textStyle:{color:Ha}},timeline:{lineStyle:{color:Ha},itemStyle:{normal:{color:Ak[1]}},label:{normal:{textStyle:{color:Ha}}},controlStyle:{normal:{color:Ha,borderColor:Ha}}},timeAxis:Nx(),logAxis:Nx(),valueAxis:Nx(),categoryAxis:Nx(),line:{symbol:"circle"},graph:{color:Ak},gauge:{title:{textStyle:{color:Ha}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}},textStyle:{fontFamily:'"Open Sans", -apple-system, BlinkMacSystemFont, Helvetica, Roboto, sans-serif'}};function Ik(e,t){if(!e||!t||e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(Array.isArray(e[n])&&Array.isArray(t[n])){if(!Ik(e[n],t[n]))return!1}else if(e[n]!==t[n])return!1;return!0}eh([E7e,S7e]);function eNe(e,t,n){const r=e,i=Ck("#_qvis_frm_draw");let o,a,s,l,c,u,d;const f=new Set,p={title:{},tooltip:{},legend:{data:["Series"]},xAxis:{data:[]},yAxis:{},series:[{name:"Y-axis",type:"bar",data:[]}]};let g,h,y=!1;const b=new Tk({select:"#_qvis_frm_chart_type"}),w=new Tk({select:"#_qvis_frm_axis_x"}),S=new Tk({select:"#_qvis_frm_axis_y"});function E(){a.resize()}function _(H,J){for(let ne=0;ne<H.length;ne++)J.add(H[ne])}function m(){i.html('<i class="icon icon-stop"></i><span>Cancel</span>'),i.removeClass("js-chart-draw").addClass("js-chart-cancel")}function C(){i.html('<i class="icon icon-play"></i><span>Draw</span>'),i.removeClass("js-chart-cancel").addClass("js-chart-draw")}function T(H){try{let J;const ne=H.columns,q=H.dataset;if(ne&&q){const ee=new Map;for(J=0;J<ne.length;J++)ee.set(ne[J].name,J);let te;if(c!=null){const ue=ee.get(c),me=[];for(J=0;J<q.length;J++)me[J]=q[J][ue];te={type:"category",name:c,data:me}}else te={};const $=[];if(u.length>0)for(J=0;J<u.length;J++){const ue=ee.get(u[J]);if(ue){const me=[];for(let Fe=0;Fe<q.length;Fe++)me[Fe]=q[Fe][ue];d==="area"?$[J]={type:"line",name:u[J],data:me,areaStyle:{},smooth:!0,symbol:"none"}:$[J]={name:u[J],type:d,data:me,large:!0}}}const ae={tooltip:{trigger:"axis",axisPointer:{label:{show:!1}}},legend:{},xAxis:te,yAxis:{type:"value",scale:!0},series:$};a.setOption(ae,!0)}}finally{E(),C()}}function O(H){y=!1,Bn.publish(zn.MSG_QUERY_OK,{delta:new Date().getTime()-l,count:H.count}),g=H,h=s,T(H)}function R(H){y=!1,C(),Bn.publish(zn.MSG_QUERY_ERROR,{query:h,r:H.responseJSON,status:H.status,statusText:H.statusText,delta:new Date().getTime()-l})}async function j(){m(),y=!0,d=b.selected();const H=w.selected(),J=S.selected();if(Ik(H,c)&&Ik(J,u)&&s===h)T(g);else{f.clear(),c=w.selected(),c&&f.add(c),u=S.selected(),_(S.selected(),f);let ne="";f.forEach(function(ee){ne!==""&&(ne+=","),ne+=JSON.stringify(ee)}),l=new Date().getTime();const q=await n.queryRaw(s,{count:!1,timings:!1,cols:ne,src:"vis"});q.type===Xn.DQL?O(q):R(q),Bn.publish(zn.MSG_QUERY_RUNNING)}}function D(){a.setOption(p,!0)}function L(H){const J=[],ne=H.columns;for(let q=0;q<ne.length;q++)J[q]={text:G3e(ne[q].name),value:ne[q].name};w.setData(J),S.setData(J),S.set(J.slice(1).map(q=>q.value)),s=H.query,D()}function V(){n.abort()}function z(){return y?V():j(),j(),!1}function B(){o=r.find(".quick-vis-canvas")[0],Ck(window).resize(E),Bn.subscribe(zn.MSG_ACTIVE_SIDEBAR,E),a=C7e(o,Z3e),Bn.subscribe(zn.MSG_QUERY_DATASET,L),i.click(z),D()}B(),E()}let pie,mie,gie,yie,vie,bie,wie,xie,_ie,Eie,Sie,Ok,p1,Cie,Tie,Aie,Iie,Oie,kie,Nie,Rie,jie,Lie,kk,Mie,Pie,Die,Rx,Fie,Uie,zie,Bie,$ie,Hie,Nk,Rk,Vie,jk,jx,qie,Wie,Lx,Mx,Lk,Px,Gie,Dx,Cu,vd,Hf,Kie,Mk,Uc,Xie,Yie,Qie,Jie,Zie,eoe,toe,noe,roe,ioe,ooe,aoe,Pk,soe,loe,coe,uoe,doe,foe,Wp,Dk,Fk,hoe,poe,Fx,Uk,Ux,zx,zk,moe;pie=U.div.withConfig({displayName:"Result__Root"})([`
  display: flex;
  flex: 1;
  width: 100%;
`]),mie=U(Sf).withConfig({displayName:"Result__Wrapper"})([`
  overflow: hidden;
`]),gie=U(Ef).withConfig({displayName:"Result__Content"})([`
  flex: 1 1 0;
  color: `,`;

  *::selection {
    background: `,`;
    color: `,`;
  }
`],vt("foreground"),vt("red"),vt("foreground")),yie=U.div.withConfig({displayName:"Result__Actions"})([`
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: max-content;
  gap: 0;
  align-items: center;
  justify-content: flex-end;
  padding: 0 1rem;
  width: 100%;
  height: 4.5rem;
  border-bottom: 2px solid `,`;
  background: `,`;
`],({theme:e})=>e.color.backgroundDarker,({theme:e})=>e.color.backgroundLighter),vie=U(Iee).withConfig({displayName:"Result__TableFreezeColumnIcon"})([`
  transform: scaleX(-1);
`]),bie=U(st).withConfig({displayName:"Result__RowCount"})([`
  margin-right: 1rem;
  line-height: 1.285;
`]),wie=U(vn).withConfig({displayName:"Result__DownloadButton"})([`
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0 1rem;
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
`]),xie=U(jU).withConfig({displayName:"Result__ArrowIcon"})([`
  transform: `,`;
`],({$open:e})=>e?"rotate(180deg)":"rotate(0deg)"),_ie=U(vn).withConfig({displayName:"Result__DownloadDropdownButton"})([`
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0 0.5rem;
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
`]),Eie=U(vn).withConfig({displayName:"Result__DownloadMenuItem"})([`
  display: flex;
  align-items: center;
  gap: 1.2rem;
  width: 100%;
  height: 3rem;
  padding: 0 1rem;
  font-size: 1.4rem;
`]),Sie=({viewMode:e})=>{const{quest:t}=x.useContext(Xa),[n,r]=x.useState(),i=oi(Mr.query.getResult),o=oi(Mr.console.getActiveSidebar),a=x.useRef(),[s,l]=x.useState(0),[c,u]=x.useState(!1),d=ls();x.useEffect(()=>{const y=Y3e(document.getElementById("grid"),async function(b,w,S,E){try{const _=await t.queryRaw(b,{limit:`${w},${S}`,nm:!0});_.type===Xn.DQL&&E(_)}catch(_){d(An.query.addNotification({query:`${b}@${md+1}-${md+1}`,content:v.jsx(st,{color:"red",children:_.error}),sideContent:v.jsx(Vl,{query:b}),type:ca.ERROR,updateActiveNotification:!0})),d(An.query.stopRunning())}});a.current=y,eNe(Ck("#quick-vis"),window.bus,t),y.addEventListener("header.click",function(b){Bn.publish(zn.MSG_EDITOR_INSERT_COLUMN,b.detail.columnName)}),y.addEventListener("yield.focus",function(){Bn.publish(zn.MSG_EDITOR_FOCUS)}),y.addEventListener("freeze.state",function(b){l(b.detail.freezeLeft)})},[]),x.useEffect(()=>{var y;(i==null?void 0:i.type)===Xn.DQL&&(r(i.count),(y=a==null?void 0:a.current)==null||y.setData(i))},[i]),x.useEffect(()=>{var w,S;const y=document.getElementById("grid"),b=document.getElementById("quick-vis");!y||!b||(e==="grid"?(b.style.display="none",(w=a==null?void 0:a.current)==null||w.show()):((S=a==null?void 0:a.current)==null||S.hide(),b.style.display="flex"))},[e]),x.useEffect(()=>{var y;(y=a==null?void 0:a.current)==null||y.render()},[o]);const[f,p]=x.useState(!1),g=[{tooltipText:"Copy result to Markdown",trigger:v.jsx(ul,{onClick:()=>{var y;nh((y=a==null?void 0:a.current)==null?void 0:y.getResultAsMarkdown()).then(()=>{p(!0),setTimeout(()=>p(!1),1e3)})},children:f?v.jsx(jX,{size:"18px"}):v.jsx(FX,{size:"18px"})})},{tooltipText:"Freeze left column",trigger:v.jsx(ul,{onClick:()=>{var y,b;(y=a==null?void 0:a.current)==null||y.toggleFreezeLeft(),(b=a==null?void 0:a.current)==null||b.focus()},selected:s>0,children:v.jsx(vie,{size:"18px"})})},{tooltipText:"Move selected column to the front",trigger:v.jsx(vn,{skin:"transparent",onClick:()=>{var y;return(y=a==null?void 0:a.current)==null?void 0:y.shuffleFocusedColumnToFront()},children:v.jsx(die,{size:"18px"})})},{tooltipText:"Reset grid layout",trigger:v.jsx(vn,{skin:"transparent",onClick:()=>{var y;return(y=a==null?void 0:a.current)==null?void 0:y.clearCustomLayout()},children:v.jsx(tY,{size:"18px"})})},{tooltipText:"Refresh",trigger:v.jsx(vn,{skin:"transparent",onClick:()=>{var b;const y=(b=a==null?void 0:a.current)==null?void 0:b.getSQL();y&&Bn.publish(zn.MSG_QUERY_EXEC,{q:y})},children:v.jsx(gv,{size:"18px"})})}];x.useEffect(()=>{(i==null?void 0:i.type)===Xn.DQL&&r(i.count)},[i]);const h=y=>{var E;u(!1);const b=(E=a==null?void 0:a.current)==null?void 0:E.getSQL();if(!b){Ro.error("No SQL query found to download");return}const w=`exp?${Nm.encodeParams({query:b,version:SS,fmt:y,filename:`questdb-query-${Date.now().toString()}`,...y==="parquet"?{rmode:"nodelay"}:{}})}`,S=document.createElement("iframe");S.style.display="none",document.body.appendChild(S),S.onerror=_=>{typeof _=="object"&&Ro.error("An error occurred while downloading the file");const m=_;Ro.error(`An error occurred while downloading the file: ${m}`)},S.onload=()=>{var m,C;const _=(C=(m=S.contentDocument)==null?void 0:m.body)==null?void 0:C.textContent;if(_){let T="An error occurred while downloading the file";try{const O=JSON.parse(_);T+=`: ${O.error??_}`}catch{T+=`: ${_}`}Ro.error(T)}document.body.removeChild(S)},S.src=w};return v.jsx(pie,{children:v.jsxs(mie,{children:[v.jsxs(yie,{children:[n&&v.jsx(bie,{color:"foreground",children:`${n.toLocaleString()} row${n>1?"s":""}`}),e==="grid"&&g.map(y=>v.jsx(mi,{delay:350,placement:"bottom",trigger:y.trigger,children:v.jsx(_i,{children:y.tooltipText})},y.tooltipText)),v.jsx(wie,{skin:"secondary","data-hook":"download-parquet-button",onClick:()=>h("parquet"),children:v.jsxs(tt,{align:"center",gap:"0.5rem",style:{lineHeight:"1.285"},children:[v.jsx(GU,{height:"18px",width:"18px"}),"Download as Parquet"]})}),v.jsx(If,{active:c,onToggle:u,placement:"bottom-end",modifiers:[{name:"offset",options:{offset:[0,4]}}],trigger:v.jsx(_ie,{skin:"secondary","data-hook":"download-dropdown-button",children:v.jsx(xie,{size:"18px",$open:c})}),children:v.jsx(Eie,{"data-hook":"download-csv-button",skin:"secondary",onClick:()=>h("csv"),children:"Download as CSV"})})]}),v.jsxs(gie,{children:[v.jsx("div",{id:"grid"}),v.jsxs("div",{id:"quick-vis",children:[v.jsx("div",{className:"quick-vis-controls",children:v.jsxs("form",{className:"v-fit",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"_qvis_frm_chart_type",children:"Chart type"}),v.jsxs("select",{id:"_qvis_frm_chart_type",children:[v.jsx("option",{children:"bar"}),v.jsx("option",{children:"line"}),v.jsx("option",{children:"area"})]})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"_qvis_frm_axis_x",children:"Labels"}),v.jsx("select",{id:"_qvis_frm_axis_x","data-hook":"chart-panel-labels-select"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"_qvis_frm_axis_y",children:"Series"}),v.jsx("select",{id:"_qvis_frm_axis_y","data-hook":"chart-panel-series-select",multiple:!0})]}),v.jsxs("button",{className:"button-primary js-chart-draw",id:"_qvis_frm_draw","data-hook":"chart-panel-draw-button",children:[v.jsx("i",{className:"icon icon-play"}),v.jsx("span",{children:"Draw"})]})]})}),v.jsx("div",{className:"quick-vis-canvas"})]})]})]})})},Ok=x.createContext({query:"",setQuery:()=>{},selectOpen:!1,setSelectOpen:()=>{},selectedTables:[],setSelectedTables:()=>{},handleSelectToggle:()=>{},selectedTablesMap:new Map,focusedIndex:null,setFocusedIndex:()=>{}}),p1=()=>{const e=x.useContext(Ok);if(!e)throw new Error("useSchema must be used within SchemaProvider");return e},Cie=({children:e})=>{const[t,n]=x.useState(""),[r,i]=x.useState(!1),[o,a]=x.useState([]),[s,l]=x.useState(null),c=x.useMemo(()=>new Map(o.map(f=>[`${f.name}-${f.type}`,f])),[o]),u=({name:f,type:p})=>{const g=`${f}-${p}`;c.has(g)?a(o.filter(h=>`${h.name}-${h.type}`!==g)):a([...o,{name:f,type:p}])},d=f=>{i(f),f||a([])};return v.jsx(Ok.Provider,{value:{query:t,setQuery:n,selectOpen:r,setSelectOpen:d,selectedTables:o,setSelectedTables:a,handleSelectToggle:u,selectedTablesMap:c,focusedIndex:s,setFocusedIndex:l},children:e})},Tie=U(tt).attrs({justifyContent:"space-between",gap:"1rem",alignItems:"center"}).withConfig({displayName:"toolbar__Root"})([`
  width: 100%;
  padding-right: 2rem;
`]),Aie=U.div.withConfig({displayName:"toolbar__Filter"})([`
  position: relative;
  display: flex;
  width: 100%;
`]),Iie=U(Xc).withConfig({displayName:"toolbar__CloseIcon"})([`
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  right: 0.5rem;
`]),Oie=U(cs).withConfig({displayName:"toolbar__StyledInput"})([`
  padding-left: 0.75rem;
  padding-right: 3.5rem;
  width: 100%;

  &::placeholder {
    color: `,`;
  }

  &::selection {
    background: rgba(255, 255, 255, 0.3);
    color: inherit;
  }
`],({theme:e})=>e.color.gray2),kie=U(vn).withConfig({displayName:"toolbar__StyledButton"})([`
  &:disabled {
    border: none;
  }
`]),Nie=U(tt).attrs({gap:"0.5rem"}).withConfig({displayName:"toolbar__Error"})([`
  &,
  button {
    color: `,`;
    cursor: `,`;
  }
`],({theme:e,suspendedTablesCount:t})=>e.color[`${t>0?"red":"gray1"}`],({suspendedTablesCount:e})=>e>0?"pointer":"default"),Rie=({suspendedTablesCount:e,filterSuspendedOnly:t,setFilterSuspendedOnly:n})=>{var s;const{setQuery:r}=p1(),{leftPanelState:i,updateLeftPanelState:o}=vc(),a=ie.useRef(null);return v.jsxs(Tie,{children:[v.jsxs(Aie,{children:[((s=a.current)==null?void 0:s.value)&&v.jsx(Iie,{size:"20px",onClick:()=>{var l;r(""),(l=a.current)!=null&&l.value&&(a.current.value="")},"data-hook":"schema-search-clear-button"}),v.jsx(Oie,{ref:a,name:"table_filter",placeholder:"Filter...",onChange:l=>r(l.target.value),onKeyDown:l=>{var c;l.key==="Escape"&&((c=a.current)!=null&&c.value&&a.current.value.length>0?(r(""),a.current.value=""):o({type:null,width:i.width}))}})]}),e>0&&v.jsx(Nie,{suspendedTablesCount:e,children:v.jsx(mi,{placement:"bottom",trigger:v.jsx(kie,{skin:"transparent",onClick:()=>n(!t),prefixIcon:v.jsx(Ic,{size:"18px"}),"data-hook":"schema-filter-suspended-button",children:v.jsx("span",{children:e})}),children:v.jsx(_i,{children:"Show suspended tables"})})})]})},jie=U.div.withConfig({displayName:"LoadingError__Wrapper"})([`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  width: 100%;
  height: 100%;
`]),Lie=U(HU).withConfig({displayName:"LoadingError__CloudOffIcon"})([`
  height: 3rem;
`]),kk=U(st).withConfig({displayName:"LoadingError__ErrorTextLine"})([`
  margin-top: 1rem;
`]),Mie=({error:e})=>v.jsxs(jie,{children:[v.jsx(Lie,{}),v.jsx(kk,{color:"white",children:"Cannot load tables"}),e&&v.jsx(kk,{color:"gray2",size:"sm",children:e.error})]}),Pie="1.4rem",Die="1.4rem",Rx=U.div.withConfig({displayName:"table-icon__Root"})([`
  display: flex;
  align-items: center;
  width: `,`;
  height: `,`;
  position: relative;
  flex-shrink: 0;
  svg {
    color: `,`;
  }
`],Pie,Die,vt("cyan")),Fie=U.span.withConfig({displayName:"table-icon__Asterisk"})([`
  position: absolute;
  top: -0.6rem;
  right: -0.3rem;
  font-size: 1rem;
  line-height: 1.8rem;
  color: `,`;
`],vt("orange")),Uie=({height:e="14px",width:t="14px"})=>v.jsx("svg",{viewBox:"0 0 24 24",height:e,width:t,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{d:"M3 3h18a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zM4 8h16V5H4v3zM4 10h16v9H4v-9z",fillRule:"evenodd",clipRule:"evenodd"})}),zie=({height:e="14px",width:t="14px"})=>v.jsxs("svg",{viewBox:"0 0 28 28",height:e,width:t,xmlns:"http://www.w3.org/2000/svg",children:[v.jsxs("g",{stroke:"currentColor",strokeWidth:"2",fill:"none",transform:"translate(-2, -2)",children:[v.jsx("line",{x1:"3",y1:"4",x2:"22",y2:"4"}),v.jsx("line",{x1:"4",y1:"4",x2:"4",y2:"22"}),v.jsx("line",{x1:"21",y1:"4",x2:"21",y2:"11"}),v.jsx("line",{x1:"4",y1:"21",x2:"11",y2:"21"})]}),v.jsxs("g",{transform:"translate(6,6)",fill:"currentColor",children:[v.jsx("path",{fill:"none",d:"M0 0h24v24H0z"}),v.jsx("path",{d:"M4 8h16V5H4v3zm10 11v-9h-4v9h4zm2 0h4v-9h-4v9zm-8 0v-9H4v9h4zM3 3h18a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"})]})]}),Bie=({height:e="14px",width:t="14px"})=>v.jsx("svg",{viewBox:"0 0 24 24",height:e,width:t,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{d:"M12 3c5.392 0 9.878 3.88 10.819 9-.94 5.12-5.427 9-10.819 9-5.392 0-9.878-3.88-10.819-9C2.121 6.88 6.608 3 12 3zm0 16a9.005 9.005 0 0 0 8.777-7 9.005 9.005 0 0 0-17.554 0A9.005 9.005 0 0 0 12 19zm0-2.5a4.5 4.5 0 1 1 0-9 4.5 4.5 0 0 1 0 9zm0-2a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"})}),fN=({kind:e,walEnabled:t,partitionBy:n,designatedTimestamp:r})=>{const i=n&&n!=="NONE",o=i?`Partitioned by "${n.toLowerCase()}"`:"Unpartitioned",a=r?`ordered on "${r}" column`:"unordered",s=`${t?"WAL-based table":"Legacy table format"}. ${o}, ${a}.`,l=t?"WAL-based tables are the current and most up-to-date table format. This format supports advanced data recovery, replication and high-throughput ingestion. This is the recommended format if your table contains time-series data that has a designated timestamp.":"Legacy table format, without WAL (write-ahead-log). This table format should only be used when table does not have timestamp column and generally not a time series. These tables are not replicated and could be slower to ingress data into.";return e==="view"?v.jsx(Rx,{"data-hook":"table-icon",children:v.jsx(Bie,{height:"14px",width:"14px"})}):e==="matview"?v.jsx(mi,{trigger:v.jsx(Rx,{"data-hook":"table-icon",children:v.jsx(zie,{height:"14px",width:"14px"})}),delay:1e3,placement:"bottom",children:v.jsxs(_i,{children:[o,", ",a,"."]})}):v.jsx(mi,{trigger:v.jsxs(Rx,{"data-hook":"table-icon",children:[!t&&v.jsx(Fie,{children:"*"}),i?v.jsx(Yl,{size:"14px"}):v.jsx(Uie,{height:"14px"})]}),delay:1e3,placement:"bottom",children:v.jsxs(_i,{children:[s,v.jsx("br",{}),v.jsx("br",{}),l]})})},$ie=U(tt).attrs({align:"center",justifyContent:"center"}).withConfig({displayName:"checkbox__Root"})([`
  width: 16px;
  height: 16px;
  flex-shrink: 0;
  opacity: `,`;
  transition: opacity 275ms ease-in-out;
  pointer-events: `,`;
`],({$visible:e})=>e?1:0,({$visible:e})=>e?"auto":"none"),Hie=U.div.withConfig({displayName:"checkbox__Unchecked"})([`
  width: 14px;
  height: 14px;
  border-radius: 50%;
  border: 1px solid `,`;
  cursor: pointer;
`],vt("gray2")),Nk=({visible:e,checked:t,onClick:n})=>v.jsx($ie,{...n?{onClick:n}:{},$visible:e,children:t?v.jsx(Nu,{size:"16px"}):v.jsx(Hie,{})}),Rk="yyyy-MM-ddTHH:mm:ss.SSSUUUz",Vie="yyyy-MM-ddTHH:mm:ss.SSSUUUNNNz",jk=5e5,jx=e=>e.startsWith("GEOHASH"),qie=/^[a-z][a-z0-9]*(\[\])+$/i,Wie=e=>qie.test(e),Lx=e=>["TIMESTAMP","TIMESTAMP_NS"].includes(e),Mx=e=>e==="TIMESTAMP_NS"?Vie:Rk,Lk=e=>{const t=/\(([^)]+)\)/g.exec(e);return t&&t.length>1?t[1]:""},Px=e=>jx(e)?"GEOHASH":Wie(e)?"ARRAY":e.toUpperCase(),Gie=e=>e.type==="GEOHASH"?{...e,type:`GEOHASH(${e.precision})`}:e,Dx="questdb:expanded:",Cu=`${Dx}tables`,vd=`${Dx}matviews`,Hf=`${Dx}views`,Kie=e=>{try{const t=localStorage.getItem(e);return t===null?Cu===e?(Mk(e,!0),!0):!1:t==="true"}catch{return!1}},Mk=(e,t)=>{try{if(localStorage.setItem(e,t?"true":"false"),!t){const n=Object.keys(localStorage).filter(r=>r.startsWith(e)&&r!==e);return n.forEach(r=>localStorage.removeItem(r)),[e,...n]}return[e]}catch(n){return console.warn("Failed to save to localStorage:",n),[e]}},Uc=e=>Kie(e),Xie=(e,t)=>Mk(e,t),Yie=U(st).withConfig({displayName:"Row__Type"})([`
  align-items: center;
  display: inline-block;
`]),Qie=U(st).withConfig({displayName:"Row__Title"})([`
  .highlight {
    background-color: #7c804f;
    color: `,`;
  }
`],({theme:e})=>e.color.foreground),Jie=U.div.withConfig({displayName:"Row__Wrapper"})([`
  position: relative;
  display: flex;
  flex-direction: column;
  padding: 0.5rem 0;
  user-select: none;
  border: 1px solid transparent;
  border-radius: 0.4rem;
  min-width: fit-content;
  width: 100%;
  flex-grow: 1;

  cursor: `,`;

  `,`

  `,`
`],({$selectOpen:e})=>e?"pointer":"default",({$level:e})=>e&&`
    padding-left: ${e*1.5+1}rem;
  `,({$focused:e,theme:t})=>e&&`
    outline: none;
    background: ${t.color.tableSelection};
    border: 1px solid ${t.color.cyan};
  `),Zie=U(Qie).withConfig({displayName:"Row__StyledTitle"})([`
  display: flex;
  align-items: center;
  gap: 0.8rem;
  z-index: 1;
  flex-shrink: 0;
  margin-right: 1rem;

  .highlight {
    background-color: #45475a;
    color: `,`;
  }

  svg {
    color: `,`;
  }
`],({theme:e})=>e.color.foreground,vt("cyan")),eoe=U.span.withConfig({displayName:"Row__TableActions"})([`
  z-index: 1;
  position: relative;
  display: inline-flex;
  align-items: center;
`]),toe=U.div.withConfig({displayName:"Row__FlexRow"})([`
  display: flex;
  align-items: center;
  padding-right: 1rem;
  transform: translateX(
    `,`
  );
  transition: transform 275ms ease-in-out;
`],({$selectOpen:e,$isTableKind:t})=>e&&t?"1rem":"0"),noe=U.span.withConfig({displayName:"Row__Spacer"})([`
  flex: 1;
`]),roe=U(OA).withConfig({displayName:"Row__SortDownIcon"})([`
  color: `,`;
  margin-right: 0.8rem;
  flex-shrink: 0;
`],vt("green")),ioe=U(pm).withConfig({displayName:"Row__ChevronRightIcon"})([`
  color: `,`;
  margin-right: 1.5rem;
  cursor: pointer;
  flex-shrink: 0;
  width: 1.5rem;
  transform: rotateZ(`,`);
  position: absolute;
  left: -2rem;
`],vt("gray2"),({$expanded:e})=>e?"90deg":"0deg"),ooe=U(zU).withConfig({displayName:"Row__DotIcon"})([`
  color: `,`;
  margin-right: 1rem;
`],vt("gray2")),aoe=U(JU).withConfig({displayName:"Row__Loader"})([`
  margin-left: 1rem;
  color: `,`;
  `,`;
`],vt("orange"),Um),Pk=U.div.withConfig({displayName:"Row__ErrorIconWrapper"})([`
  display: inline-flex;
  align-items: center;
  align-self: center;

  svg {
    color: #f47474;
  }
`]),soe=U.div.withConfig({displayName:"Row__ErrorItem"})([`
  display: flex;
  align-items: center;
  gap: 0.5rem;
`]),loe=U.div.withConfig({displayName:"Row__TypeIcon"})([`
  margin-right: 0.8rem;
  display: flex;
  align-items: center;
  color: `,`;

  svg {
    color: `,`;
  }
`],vt("cyan"),({$type:e})=>vt(e==="SYMBOL"?"yellow":"cyan")),coe={number:{types:["BOOLEAN","BYTE","SHORT","INT","LONG","LONG256","DOUBLE","FLOAT","BINARY","UUID"],icon:kX},date:{types:["DATE"],icon:NX},text:{types:["CHAR","VARCHAR","STRING"],icon:HX},symbol:{types:["SYMBOL"],icon:BX},time:{types:["TIMESTAMP","INTERVAL","TIMESTAMP_NS"],icon:OA},network:{types:["IPV4"],icon:DX},geo:{types:["GEOHASH"],icon:PX},array:{types:["ARRAY"],icon:VX}},uoe=({icon:e,size:t="14px",type:n})=>v.jsx(loe,{$type:n,children:v.jsx(e,{size:t})}),doe=e=>{const t=Object.values(coe).find(({types:n})=>n.some(r=>r===Px(e)));return v.jsx(uoe,{icon:(t==null?void 0:t.icon)??ooe,type:e})},foe=({isDesignatedTimestamp:e,type:t})=>t?e?v.jsx(Aa,{icon:v.jsx(roe,{"data-hook":"designated-timestamp-icon",size:"14px"}),placement:"top",tooltip:"Designated timestamp"}):doe(t):null,Wp=({className:e,designatedTimestamp:t,expanded:n,kind:r,name:i,partitionBy:o,walEnabled:a,onExpandCollapse:s,navigateInTree:l,"data-hook":c,isLoading:u,type:d,errors:f,value:p,id:g,index:h})=>{const{query:y,selectOpen:b,selectedTables:w,handleSelectToggle:S,focusedIndex:E,setFocusedIndex:_}=p1(),[m,C]=x.useState(!1),T=x.useRef(null),O=x.useRef(null),R=["folder","table","matview","view"].includes(r)||r==="column"&&d==="SYMBOL",j=["table","matview","view"].includes(r),D=[vd,Cu,Hf].includes(g??""),L=["column","table","matview","view"].includes(r)&&y&&i.toLowerCase().includes(y.toLowerCase()),V=!!w.find(H=>H.name===i&&H.type===r),z=()=>{R&&s()},B=()=>{j&&b&&S&&S({name:i,type:r}),(!b||D)&&E!==h&&_(h)};return x.useEffect(()=>(u?T.current=setTimeout(()=>{C(!0)},500):C(!1),()=>{T.current&&(clearTimeout(T.current),T.current=null)}),[u]),x.useLayoutEffect(()=>{var H;E===h&&((H=O.current)==null||H.focus())},[E]),b&&!j&&!D?null:v.jsx(Jie,{$level:g?g.split(":").length-2:0,$selectOpen:b,$focused:E===h,ref:O,"data-hook":c??"schema-row","data-kind":r,"data-search-match":L,"data-expanded":n,"data-index":h,"data-id":g,className:e,tabIndex:100,onBlur:()=>{E===h&&_(null)},onContextMenu:H=>{j||H.preventDefault()},onDoubleClick:z,onClick:B,onKeyDown:H=>{H.preventDefault(),R&&(H.key==="Enter"||H.key==="ArrowRight"&&!n||H.key==="ArrowLeft"&&n)&&z();const J=(!R||!n)&&H.key==="ArrowLeft",ne=(!R||n)&&H.key==="ArrowRight"||H.key==="ArrowDown"||H.key==="Tab";J&&l({to:"parent",id:g}),ne&&l({to:"next",id:g}),(H.key==="ArrowUp"||H.shiftKey&&H.key==="Tab")&&l({to:"previous",id:g}),H.key==="Home"&&l({to:"start"}),H.key==="End"&&l({to:"end"}),H.key==="PageUp"&&l({to:"pageUp"}),H.key==="PageDown"&&l({to:"pageDown"})},children:v.jsxs(tt,{align:"center",justifyContent:"flex-start",gap:"2rem",style:{width:"100%",position:"relative",minWidth:"fit-content"},children:[j&&v.jsx("div",{style:{position:"absolute",left:"-2rem"},children:v.jsx(Nk,{visible:b,checked:V})}),v.jsxs(toe,{$selectOpen:b,$isTableKind:j,children:[R&&(!b||!j)&&v.jsx(ioe,{size:"15px",$expanded:n,onClick:z}),r==="column"&&v.jsx(foe,{isDesignatedTimestamp:i===t,type:d}),v.jsxs(Zie,{color:"foreground",ellipsis:!0,"data-hook":`schema-${r}-title`,children:[j&&v.jsx(fN,{designatedTimestamp:t,partitionBy:o,walEnabled:a,kind:r}),r==="detail"&&v.jsx(C0,{size:"14px"}),["column","table","matview","view"].includes(r)?v.jsx(hk,{highlightClassName:"highlight",searchWords:[y??""],textToHighlight:i}):i]}),d&&v.jsxs(Yie,{color:"gray2",transform:"lowercase",ellipsis:!0,children:["(",d,")"]}),r==="detail"&&!u&&v.jsx(st,{color:"gray2",children:p}),m&&v.jsx(aoe,{size:"18px"}),v.jsx(noe,{}),f&&f.length>0&&v.jsx(eoe,{children:v.jsx(mi,{placement:"top",trigger:v.jsx(Pk,{"data-hook":"schema-row-error-icon",children:v.jsx(Ic,{size:"18px"})}),children:v.jsx(_i,{children:f.length>1?f.map(H=>v.jsxs(soe,{children:[v.jsx(Pk,{children:v.jsx(Ic,{size:"18px"})}),v.jsx(st,{color:"foreground",children:H})]},H)):v.jsx(st,{color:"foreground",children:f[0]})})})})]})]})})},Dk=(e,t)=>[{id:`${t}:indexed`,kind:"detail",name:"Indexed",parent:t,value:e.indexed?"Yes":"No",children:[]},{id:`${t}:symbolCapacity`,kind:"detail",name:"Symbol capacity",parent:t,value:e.symbolCapacity.toString(),children:[]},{id:`${t}:symbolCached`,kind:"detail",name:"Cached",parent:t,value:e.symbolCached?"Yes":"No",children:[]}],Fk=e=>[{id:`${e}:indexed`,kind:"detail",name:"Indexed",isLoading:!0,parent:e,value:"Loading...",children:[]},{id:`${e}:symbolCapacity`,kind:"detail",name:"Symbol capacity",isLoading:!0,parent:e,value:"Loading...",children:[]},{id:`${e}:symbolCached`,kind:"detail",name:"Cached",isLoading:!0,parent:e,value:"Loading...",children:[]}],hoe=(e,t,n)=>n.map(r=>{const i=`${t}:${r.column_name}`,o=Uc(i);return{id:i,kind:"column",table:e,name:r.column_name,parent:t,isExpanded:o,designatedTimestamp:e.designatedTimestamp,type:r.data_type,children:o&&r.data_type==="SYMBOL"?Fk(i):[]}}),poe=(e,t)=>[{id:`${t}:partitionBy`,kind:"detail",name:"Partitioning",parent:t,value:e.partitionBy&&e.partitionBy!=="NONE"?`By ${e.partitionBy.toLowerCase()}`:"None",children:[]},{id:`${t}:walEnabled`,kind:"detail",name:"WAL",parent:t,value:e.walEnabled?"Enabled":"Disabled",children:[]}],Fx=(e,t,n=!1,r=!1,i,o,a,s)=>{const l=`${t}:${e.table_name}`,c=n?i==null?void 0:i.find(y=>y.view_name===e.table_name):void 0,u=r?o==null?void 0:o.find(y=>y.view_name===e.table_name):void 0,d=a==null?void 0:a.find(y=>y.name===e.table_name),f=`${l}:columns`,p=`${l}:baseTables`,g=`${l}:storageDetails`,h={id:l,kind:n?"matview":r?"view":"table",name:e.table_name,table:e,matViewData:c,viewData:u,parent:t,isExpanded:Uc(l),partitionBy:e.partitionBy,walEnabled:e.walEnabled,designatedTimestamp:e.designatedTimestamp,walTableData:d,children:[{id:f,kind:"folder",name:"Columns",table:e,parent:l,isExpanded:Uc(f),children:hoe(e,f,s)},...r?[]:[{id:g,kind:"folder",name:"Storage details",parent:l,isExpanded:Uc(g),children:poe(e,g)}]]};return n&&c&&h.children.push({id:p,kind:"folder",name:"Base tables",parent:l,isExpanded:Uc(p),children:[{id:`${p}:${c.base_table_name}`,kind:"detail",name:c.base_table_name,parent:p,children:[]}]}),h},Uk=(e,t)=>{var u;const[n,r,i,...o]=t.split(":"),a=`${n}:${r}:${i}`;let s=e[a];if(!s)return;let l=a,c=e;for(const d of o){l=`${l}:${d}`;const f=(u=s==null?void 0:s.children)==null?void 0:u.find(p=>p.id===l);if(!f)return;c=s,s=f}return{node:s,parent:c}},Ux=(e,t,n)=>{const r=Uk(e,t);if(!r)return e;const{node:i,parent:o}=r,a={...e};if(i){const s=n(i);o.id?o.children=o.children.map(l=>l.id===t?s:l):a[t]=s}return a},zx=(e,t)=>e.findIndex(n=>n.id===t),zk=e=>{const t=[e];return e.isExpanded&&e.children.forEach(n=>{t.push(...zk(n))}),t},moe=({virtuosoRef:e,focusedIndex:t,setFocusedIndex:n,wrapperRef:r})=>{x.useEffect(()=>{const i=o=>{var a;t!==null&&r.current&&!r.current.contains(document.activeElement)&&(o.key==="ArrowDown"||o.key==="ArrowUp"||o.key==="Home"||o.key==="End"||o.key==="PageUp"||o.key==="PageDown")&&(o.preventDefault(),o.stopPropagation(),(a=e.current)==null||a.scrollIntoView({index:t}))};return window.addEventListener("keydown",i,!0),()=>window.removeEventListener("keydown",i,!0)},[t,e,r]),x.useEffect(()=>{const i=o=>{r.current&&!r.current.contains(o.target)&&t!==null&&n(null)};return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[t,n])};var Bk="ContextMenu",[tNe]=lc(Bk,[_w]),as=_w(),[nNe,goe]=tNe(Bk),yoe=e=>{const{__scopeContextMenu:t,children:n,onOpenChange:r,dir:i,modal:o=!0}=e,[a,s]=x.useState(!1),l=as(t),c=cc(r),u=x.useCallback(d=>{s(d),c(d)},[c]);return v.jsx(nNe,{scope:t,open:a,onOpenChange:u,modal:o,children:v.jsx(YK,{...l,dir:i,open:a,onOpenChange:u,modal:o,children:n})})};yoe.displayName=Bk;var voe="ContextMenuTrigger",boe=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,disabled:r=!1,...i}=e,o=goe(voe,n),a=as(n),s=x.useRef({x:0,y:0}),l=x.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...s.current})}),c=x.useRef(0),u=x.useCallback(()=>window.clearTimeout(c.current),[]),d=f=>{s.current={x:f.clientX,y:f.clientY},o.onOpenChange(!0)};return x.useEffect(()=>u,[u]),x.useEffect(()=>void(r&&u()),[r,u]),v.jsxs(v.Fragment,{children:[v.jsx(QK,{...a,virtualRef:l}),v.jsx(to.span,{"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,...i,ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:r?e.onContextMenu:tr(e.onContextMenu,f=>{u(),d(f),f.preventDefault()}),onPointerDown:r?e.onPointerDown:tr(e.onPointerDown,Bx(f=>{u(),c.current=window.setTimeout(()=>d(f),700)})),onPointerMove:r?e.onPointerMove:tr(e.onPointerMove,Bx(u)),onPointerCancel:r?e.onPointerCancel:tr(e.onPointerCancel,Bx(u)),onPointerUp:r?e.onPointerUp:tr(e.onPointerUp,Bx(u))})]})});boe.displayName=voe;var rNe="ContextMenuPortal",woe=e=>{const{__scopeContextMenu:t,...n}=e,r=as(t);return v.jsx(JK,{...r,...n})};woe.displayName=rNe;var xoe="ContextMenuContent",_oe=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=goe(xoe,n),o=as(n),a=x.useRef(!1);return v.jsx(ZK,{...o,...r,ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:s=>{var l;(l=e.onCloseAutoFocus)==null||l.call(e,s),!s.defaultPrevented&&a.current&&s.preventDefault(),a.current=!1},onInteractOutside:s=>{var l;(l=e.onInteractOutside)==null||l.call(e,s),!s.defaultPrevented&&!i.modal&&(a.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_oe.displayName=xoe;var iNe="ContextMenuGroup",oNe=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=as(n);return v.jsx(eX,{...i,...r,ref:t})});oNe.displayName=iNe;var aNe="ContextMenuLabel",sNe=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=as(n);return v.jsx(tX,{...i,...r,ref:t})});sNe.displayName=aNe;var lNe="ContextMenuItem",Eoe=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=as(n);return v.jsx(nX,{...i,...r,ref:t})});Eoe.displayName=lNe;var cNe="ContextMenuCheckboxItem",uNe=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=as(n);return v.jsx(rX,{...i,...r,ref:t})});uNe.displayName=cNe;var dNe="ContextMenuRadioGroup",fNe=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=as(n);return v.jsx(iX,{...i,...r,ref:t})});fNe.displayName=dNe;var hNe="ContextMenuRadioItem",pNe=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=as(n);return v.jsx(oX,{...i,...r,ref:t})});pNe.displayName=hNe;var mNe="ContextMenuItemIndicator",gNe=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=as(n);return v.jsx(aX,{...i,...r,ref:t})});gNe.displayName=mNe;var yNe="ContextMenuSeparator",vNe=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=as(n);return v.jsx(sX,{...i,...r,ref:t})});vNe.displayName=yNe;var bNe="ContextMenuArrow",wNe=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=as(n);return v.jsx(lX,{...i,...r,ref:t})});wNe.displayName=bNe;var xNe="ContextMenuSubTrigger",_Ne=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=as(n);return v.jsx(cX,{...i,...r,ref:t})});_Ne.displayName=xNe;var ENe="ContextMenuSubContent",SNe=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=as(n);return v.jsx(uX,{...i,...r,ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});SNe.displayName=ENe;function Bx(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var CNe=yoe,TNe=boe,ANe=woe,INe=_oe,ONe=Eoe;let Soe,Coe,Toe,Aoe,Ioe,Ooe,$x,Tu,koe,Noe,$k,Roe,joe,Hx,Loe,Moe,Hk,Poe,Doe,Foe,Uoe,zoe,Boe,$oe,Hoe,Voe,qoe,Vk;Soe=U(INe).withConfig({displayName:"ContextMenu__StyledContent"})([`
  background-color: #343846; /* vscode-menu-background */
  border-radius: 0.5rem;
  padding: 0.4rem;
  box-shadow: 0 0.2rem 0.8rem rgba(0, 0, 0, 0.36); /* vscode-widget-shadow */
  z-index: 9999;
  min-width: 160px;
`]),Coe=U(ONe).withConfig({displayName:"ContextMenu__StyledItem"})([`
  font-size: 1.3rem;
  height: 3rem;
  font-family: "system-ui", sans-serif;
  cursor: pointer;
  color: rgb(248, 248, 242); /* vscode-menu-foreground */
  display: flex;
  align-items: center;
  padding: 1rem 1.2rem;
  border-radius: 0.4rem;
  border: 1px solid transparent;

  &[data-highlighted] {
    background: #043c5c;
    border: 1px solid #8be9fd;
  }

  &[data-disabled] {
    opacity: 0.5;
    pointer-events: none;
  }
`]),Toe=U.span.withConfig({displayName:"ContextMenu__IconWrapper"})([`
  margin-right: 1.2rem;
  display: flex;
  align-items: center;
  justify-content: center;
`]),Aoe=CNe,Ioe=TNe,Ooe=ie.forwardRef((e,t)=>v.jsx(ANe,{children:v.jsx(Soe,{...e,ref:t})})),$x=ie.forwardRef(({children:e,icon:t,...n},r)=>v.jsxs(Coe,{...n,ref:r,children:[t&&v.jsx(Toe,{children:t}),e]})),Tu={[zd.TOO_MANY_OPEN_FILES]:{title:"System limit for open files",message:"Too many open files, please, increase the maximum number of open file handlers OS limit",link:"https://questdb.io/docs/deployment/capacity-planning/#maximum-open-files"},[zd.DISK_FULL]:{title:"OS configuration",message:"No space left on device, please, extend the volume or free existing disk space up",link:"https://questdb.io/docs/deployment/capacity-planning/#os-configuration"},[zd.OUT_OF_MMAP_AREAS]:{title:"Max virtual memory areas limit",message:"Out of virtual memory mapping areas, please, increase the maximum number of memory-mapped areas OS limit",link:"https://questdb.io/docs/deployment/capacity-planning/#max-virtual-memory-areas-limit"},[zd.OUT_OF_MEMORY]:{title:"Out of memory",message:"Out of memory, please, analyze system metrics, and upgrade memory, if necessary",link:"https://questdb.io/docs/deployment/capacity-planning/#cpu-and-ram-configuration"},[zd.UNSUPPORTED_FILE_SYSTEM]:{title:"Unsupported file system",message:"DB root is located on an unsupported file system, please, move the DB root to a volume with supported file system",link:"https://questdb.io/docs/operations/backup/#supported-filesystems"}},koe=U(pr.Content).withConfig({displayName:"SuspensionDialog__StyledDialogContent"})([`
  border-color: `,`;
`],({$success:e,theme:t})=>e?t.color.green:t.color.red),Noe=U(pr.Description).withConfig({displayName:"SuspensionDialog__StyledDescription"})([`
  display: grid;
  gap: 2rem;
`]),$k=U(tt).attrs({align:"center",flexDirection:"column"}).withConfig({displayName:"SuspensionDialog__ContentBlockBox"})([`
  width: 100%;
`]),Roe=U.div.withConfig({displayName:"SuspensionDialog__FormWrapper"})([`
  width: 100%;
  display: grid;
  grid-template-columns: 100px auto;
  gap: 1rem;
`]),joe=U(wr.Input).withConfig({displayName:"SuspensionDialog__TransactionInput"})([`
  width: 10rem;
`]),Hx=U(tt).withConfig({displayName:"SuspensionDialog__Icon"})([`
  height: 4.8rem;
`]),Loe=U(cs).withConfig({displayName:"SuspensionDialog__StyledInput"})([`
  width: 100%;
  font-family: `,`;
  background: #313340;
  border-color: `,`;
`],({theme:e})=>e.fontMonospace,({theme:e})=>e.color.selection),Moe=U(Yl).withConfig({displayName:"SuspensionDialog__StyledTable"})([`
  color: `,`;
`],({$success:e,theme:t})=>e?t.color.green:t.color.red),Hk="Error restarting transaction",Poe=({walTableData:e,open:t,onOpenChange:n,kind:r})=>{const{quest:i}=x.useContext(Xa),[o,a]=x.useState(!1),[s,l]=x.useState(!1),[c,u]=x.useState(),d=parseFloat(e.sequencerTxn)-parseFloat(e.writerTxn),f=async p=>{a(!0),u(void 0);const g=`ALTER ${r==="matview"?"MATERIALIZED VIEW":"TABLE"}`;try{const h=await i.query(`${g} '${e.name}' RESUME WAL${p.resume_transaction_id?` FROM TRANSACTION ${p.resume_transaction_id}`:""}`);h&&h.type===Xn.DDL?l(!0):u(Hk),a(!1)}catch(h){const y=h;a(!1),u(`${Hk}${y.error?`: ${y.error}`:""}`)}};return x.useEffect(()=>{t&&(u(void 0),l(!1))},[t]),v.jsx(pr.Root,{open:t,onOpenChange:p=>{p||Bn.publish(zn.MSG_QUERY_SCHEMA),n(p)},children:v.jsxs(pr.Portal,{children:[v.jsx(eo,{children:v.jsx(Zl,{primitive:pr.Overlay})}),v.jsxs(koe,{"data-hook":"schema-suspension-dialog","data-table-name":e.name,onClick:p=>{p.stopPropagation()},onEscapeKeyDown:()=>n(!1),onPointerDownOutside:()=>n(!1),$success:s,children:[v.jsx(pr.Title,{children:v.jsxs(tt,{children:[v.jsx(Moe,{size:20,$success:s}),I_(r)," is suspended: ",e.name]})}),v.jsx(Noe,{children:v.jsxs(tt,{gap:"3rem",flexDirection:"column",align:"center",children:[c&&v.jsx(st,{color:"red",children:c}),s&&v.jsx(st,{color:"green",size:"lg",children:"WAL resumed successfully!"}),e.errorTag&&!s&&Tu[e.errorTag]&&v.jsx(st,{color:"red","data-hook":"schema-suspension-dialog-error-message",size:"lg",align:"center",children:Tu[e.errorTag].message}),v.jsxs(tt,{gap:"2rem",align:"flex-start",children:[v.jsxs(tt,{gap:"1rem",flexDirection:"column",align:"center",children:[v.jsx(Hx,{children:v.jsx("img",{src:"assets/icon-copy.svg",alt:"Copy icon",width:"48",height:"48"})}),v.jsx(st,{color:"foreground",size:"lg",children:e.sequencerTxn})]}),v.jsx(Hx,{children:v.jsx("img",{src:"assets/line.svg",alt:"Broken transation illustration",width:"108",height:"18"})}),v.jsxs(tt,{gap:"1rem",flexDirection:"column",align:"center",children:[v.jsx(Hx,{children:v.jsx("img",{src:"assets/icon-database.svg",alt:"Database icon",width:"36",height:"38"})}),v.jsx(st,{color:"foreground",size:"lg",children:e.writerTxn})]})]}),v.jsxs(st,{color:"foreground",size:"lg",children:[d," transaction",d===1?"":"s"," behind"]}),e.errorMessage&&v.jsxs(tt,{flexDirection:"column",gap:"1rem",style:{width:"100%"},children:[v.jsx(st,{color:"foreground",children:"Server message:"}),v.jsxs(tt,{gap:"0.5rem",style:{width:"100%"},children:[v.jsx(Loe,{name:"server_message",disabled:!0,value:e.errorMessage}),v.jsx(AG,{iconOnly:!0,text:e.errorMessage??""})]})]}),e.errorTag&&Tu[e.errorTag]&&v.jsxs($k,{gap:"0.5rem",children:[v.jsx(st,{color:"foreground",children:"Workarounds and documentation:"}),v.jsx(pp,{color:"cyan",hoverColor:"cyan",href:Tu[e.errorTag].link,rel:"noreferrer",target:"_blank","data-hook":"schema-suspension-dialog-error-link",children:v.jsxs(tt,{align:"center",gap:"0.25rem",children:[v.jsx(Oh,{size:"16px"}),Tu[e.errorTag].title]})})]}),v.jsxs($k,{gap:"2rem",children:[v.jsx(st,{color:"gray2",children:"If you have addressed the issue, restart the process:"}),v.jsx(wr,{name:"resume_transaction_form",onSubmit:f,defaultValues:{resume_transaction_id:void 0},validationSchema:Mo.object({resume_transaction_id:Mo.number().optional().allow("")}),children:v.jsxs(Roe,{children:[v.jsx(wr.Item,{name:"resume_transaction_id",children:v.jsx(joe,{name:"resume_transaction_id",placeholder:(parseInt(e.writerTxn)+1).toString()})}),v.jsx(wr.Submit,{disabled:o,prefixIcon:v.jsx(h4,{size:"18px"}),variant:"secondary","data-hook":"schema-suspension-dialog-restart-transaction",children:o?"Restarting...":"Resume WAL"})]})})]})]})}),v.jsx(pr.ActionButtons,{children:v.jsx(pr.Close,{asChild:!0,children:v.jsx(vn,{prefixIcon:s?v.jsx(GX,{size:18}):v.jsx(T0,{size:18}),skin:s?"success":"secondary","data-hook":"schema-suspension-dialog-dismiss",onClick:()=>n(!1),children:s?"Close":"Dismiss"})})})]})]})})},Doe=U(Wp).withConfig({displayName:"VirtualTables__SectionHeader"})([`
  cursor: `,`;
  pointer-events: `,`;

  `,`
`],({$disabled:e})=>e?"not-allowed":"default",({$disabled:e})=>e?"none":"auto",({$disabled:e})=>e&&`
    opacity: 0.5;
  `),Foe=U(Wp).withConfig({displayName:"VirtualTables__TableRow"})([`
  `,`
`],({$contextMenuOpen:e,theme:t})=>e&&`
    background: ${t.color.tableSelection};
    border: 1px solid ${t.color.cyan};
  `),Uoe=U.div.withConfig({displayName:"VirtualTables__FlexSpacer"})([`
  flex: 1;
`]),zoe=U(d4).withConfig({displayName:"VirtualTables__Loader"})([`
  margin-left: 1rem;
  align-self: center;
  color: `,`;
  `,`;
`],vt("foreground"),Um),I_=e=>{switch(e){case"table":return"Table";case"matview":return"Materialized view";case"view":return"View";default:return""}},Boe=()=>{const[e,t]=x.useState(!1);return x.useEffect(()=>{const n=setTimeout(()=>t(!0),1e3);return()=>clearTimeout(n)},[]),e?v.jsx(zoe,{size:"22px"}):null},$oe=({tables:e,walTables:t,materializedViews:n,views:r,filterSuspendedOnly:i,state:o,loadingError:a})=>{const{query:s,focusedIndex:l,setFocusedIndex:c}=p1(),{quest:u}=x.useContext(Xa),d=oi(Mr.query.getColumns),{status:f,setStatus:p,abortController:g,canUse:h,hasSchemaAccess:y,currentModel:b,apiKey:w,isConfigured:S}=kd(),{findConversationByTableId:E,createConversation:_,openChatWindow:m,addMessage:C,updateMessage:T,updateConversationName:O,persistMessages:R,setIsStreaming:j}=Ad(),[D,L]=x.useState({}),[V,z]=x.useState(null),[B,H]=x.useState(null),J=x.useRef(new Map),ne=x.useRef(new Set),q=x.useRef(D),ee=x.useRef(null),te=x.useRef(null),$=x.useRef(null);moe({virtuosoRef:ee,focusedIndex:l,setFocusedIndex:c,wrapperRef:$});const[ae,ue,me]=x.useMemo(()=>e.reduce((Oe,ye)=>{var Le,ot;const Ve=ye.table_name.toLowerCase(),Xe=s.toLowerCase(),se=Ve.includes(Xe),we=!!s&&!!((Le=d[ye.table_name])!=null&&Le.some(_e=>_e.column_name.toLowerCase().includes(Xe)));if((!i||ye.walEnabled&&((ot=t==null?void 0:t.find(_e=>_e.name===ye.table_name))!=null&&ot.suspended))&&(se||we)){const _e=ye.table_type??"T";return Oe[_e==="M"?1:_e==="V"?2:0].push({...ye,hasColumnMatches:we}),Oe}return Oe},[[],[],[]]).map(Oe=>Oe.sort((ye,Ve)=>ye.table_name.toLowerCase().localeCompare(Ve.table_name.toLowerCase()))),[e,s,i,t,d]),Fe=x.useMemo(()=>Object.values(D).reduce((Oe,ye)=>(Oe.push(...zk(ye)),Oe),[]),[D]),Ie=async(Oe,ye)=>{var Ve,Xe;try{const se=ye==="matview"?await u.showMatViewDDL(Oe):ye==="view"?await u.showViewDDL(Oe):await u.showTableDDL(Oe);if((se==null?void 0:se.type)===Xn.DQL&&((Xe=(Ve=se.data)==null?void 0:Ve[0])!=null&&Xe.ddl))return se.data[0].ddl}catch{const se=ye==="matview"?"materialized view":ye==="view"?"view":"table";Ro.error(`Cannot fetch schema for ${se} '${Oe}'`)}return null},Ee=async(Oe,ye)=>{const Ve=await Ie(Oe,ye);Ve&&(await nh(Ve),Ro.success("Schema copied to clipboard"))},He=async Oe=>{var ot;const ye=Oe.name,Ve=Oe.kind,Xe=(ot=Oe.table)==null?void 0:ot.id;if(!h){Ro.error("AI Assistant is not enabled. Please configure your API key in settings.");return}if(Xe==null){Ro.error("Cannot find table ID");return}const se=await Ie(ye,Ve);if(!se)return;const we=E(Xe);if(we){m(we.id);return}const Le=await _({tableId:Xe});O(Le.id,`${ye} schema explanation`),await m(Le.id),mN(pN({conversationId:Le.id,tableName:ye,schema:se,kindLabel:I_(Ve),schemaDisplayData:{tableName:ye,kind:Ve,partitionBy:Oe.partitionBy,walEnabled:Oe.walEnabled,designatedTimestamp:Oe.designatedTimestamp},settings:{model:b,apiKey:w},questClient:u,tables:e,hasSchemaAccess:y,abortSignal:g==null?void 0:g.signal}),{addMessage:C,updateMessage:T,setStatus:p,setIsStreaming:j,persistMessages:R})},it=x.useCallback(async(Oe,ye)=>{try{const Ve=await u.showSymbolColumnDetails(Oe,ye);if(Ve&&Ve.type===Xn.DQL&&Ve.data.length>0)return Ve.data[0]}catch{Ro.error(`Cannot fetch column details from table '${Oe}' for column ${ye}`)}return null},[u]),St=x.useCallback(async(Oe,ye,Ve)=>{ne.current.add(Oe);const Xe=J.current.get(Oe);if(Xe)return Dk(Xe,Oe);const se=await it(ye,Ve);return se?(J.current.set(Oe,se),Dk(se,Oe)):[]},[it]),xt=x.useCallback(Oe=>{const ye=!Uc(Oe);let Ve={...D};Xie(Oe,ye).forEach(se=>{Ve=Ux(Ve,se,we=>({...we,isExpanded:ye}))});const Xe=Oe.split(":");if(Xe.length>2&&Xe.slice(-2)[0]==="columns"){let se;ye?se=Fk(Oe):(ne.current.delete(Oe),se=[]),Ve=Ux(Ve,Oe,we=>({...we,children:se}))}L(Ve)},[D]),Ct=x.useCallback(Oe=>{if(!ee.current)return;const{to:ye}=Oe;switch(ye){case"start":ee.current.scrollIntoView({index:0,align:"start",done:()=>c(0)});break;case"end":ee.current.scrollIntoView({index:Fe.length-1,align:"end",done:()=>c(Fe.length-1)});break;case"next":{const{id:Ve}=Oe,Xe=Math.min(Fe.length-1,zx(Fe,Ve)+1);ee.current.scrollIntoView({index:Xe,done:()=>c(Xe)});break}case"previous":{const{id:Ve}=Oe,Xe=Math.max(0,zx(Fe,Ve)-1);ee.current.scrollIntoView({index:Xe,done:()=>c(Xe)});break}case"parent":{const{id:Ve}=Oe,Xe=Ve.split(":").slice(0,-1).join(":"),se=zx(Fe,Xe);se!==-1&&ee.current.scrollIntoView({index:se,done:()=>c(se)});break}case"pageUp":{if(!te.current)return;const{startIndex:Ve,endIndex:Xe}=te.current,se=Xe-Ve,we=l!==-1&&l!==Ve?Ve:Math.max(0,Ve-se);ee.current.scrollIntoView({index:we,align:"start",done:()=>c(we)});break}case"pageDown":{if(!te.current)return;const{startIndex:Ve,endIndex:Xe}=te.current,se=Xe-Ve,we=l!==-1&&l!==Xe?Xe:Math.min(Fe.length-1,Xe+se);ee.current.scrollIntoView({index:we,align:"end",done:()=>c(we)});break}}},[Fe,ee,te,l,c]),We=x.useCallback(Oe=>{var Ve,Xe,se,we,Le,ot,_e,Ce,dt;const ye=Fe[Oe];if(ye.kind==="column"&&ye.isExpanded&&ye.type==="SYMBOL"&&!ne.current.has(ye.id)){const Ne=Uk(q.current,ye.id);if(Ne&&Ne.node.children.some(Ye=>Ye.isLoading)){const Ye=ye.id.split(":"),jt=Ye.slice(-1)[0],qt=Ye.slice(-3)[0];St(ye.id,qt,jt).then(Jt=>{L(Ht=>Ux(Ht,ye.id,en=>({...en,children:Jt})))})}}if(ye.kind==="detail")return v.jsx(Wp,{kind:"detail",index:Oe,name:ye.value?`${ye.name}:`:ye.name,value:ye.value,isLoading:ye.isLoading,id:ye.id,onExpandCollapse:()=>{},navigateInTree:Ct});if(ye.id===Cu||ye.id===vd||ye.id===Hf){const Ne=ye.id===Cu,Ye=ye.id===vd,jt=Ne?ae.length===0:Ye?ue.length===0:me.length===0,qt=Ne?"tables":Ye?"materialized-views":"views";return v.jsx(Doe,{$disabled:jt,name:ye.name,kind:"folder",index:Oe,expanded:ye.isExpanded,"data-hook":`${ye.isExpanded?"collapse":"expand"}-${qt}`,onExpandCollapse:()=>xt(ye.id),id:ye.id,navigateInTree:Ct})}if(ye.kind==="folder")return v.jsx(Wp,{kind:"folder",index:Oe,name:ye.name,expanded:ye.isExpanded,onExpandCollapse:()=>xt(ye.id),id:ye.id,navigateInTree:Ct});if(ye.kind==="table"||ye.kind==="matview"||ye.kind==="view"){const Ne=ye.kind!=="view";return v.jsx(v.Fragment,{children:v.jsxs(Aoe,{onOpenChange:Ye=>z(Ye?ye.id:null),children:[v.jsx(Ioe,{children:v.jsxs(v.Fragment,{children:[v.jsx(Foe,{$contextMenuOpen:V===ye.id,kind:ye.kind,name:ye.name,index:Oe,expanded:ye.isExpanded,onExpandCollapse:()=>xt(ye.id),navigateInTree:Ct,partitionBy:ye.partitionBy,walEnabled:ye.walEnabled,designatedTimestamp:ye.designatedTimestamp,id:ye.id,errors:[...((Ve=ye.matViewData)==null?void 0:Ve.view_status)==="invalid"?[`Materialized view is invalid${((Xe=ye.matViewData)==null?void 0:Xe.invalidation_reason)&&`: ${(se=ye.matViewData)==null?void 0:se.invalidation_reason}`}`]:[],...((we=ye.viewData)==null?void 0:we.view_status)==="invalid"?[`View is invalid${((Le=ye.viewData)==null?void 0:Le.invalidation_reason)&&`: ${(ot=ye.viewData)==null?void 0:ot.invalidation_reason}`}`]:[],...(_e=ye.walTableData)!=null&&_e.suspended?["Suspended"]:[]]}),Ne&&((Ce=ye.walTableData)==null?void 0:Ce.suspended)&&v.jsx(Poe,{walTableData:ye.walTableData,kind:ye.kind,open:B===ye.id,onOpenChange:Ye=>{H(Ye?ye.id:null)}})]})}),v.jsxs(Ooe,{children:[v.jsx($x,{"data-hook":"table-context-menu-copy-schema",onClick:async()=>await Ee(ye.name,ye.kind),icon:v.jsx(th,{size:16}),children:"Copy schema"}),S&&v.jsx($x,{"data-hook":"table-context-menu-explain-schema",onClick:async()=>await He(ye),icon:v.jsx(Cd,{size:16,variant:"filled",inverted:!0}),disabled:!h||!y||dm(f),children:"Explain schema with AI"}),Ne&&v.jsx($x,{"data-hook":"table-context-menu-resume-wal",onClick:()=>{var Ye;return((Ye=ye.walTableData)==null?void 0:Ye.suspended)&&setTimeout(()=>H(ye.id))},icon:v.jsx(h4,{size:16}),disabled:!((dt=ye.walTableData)!=null&&dt.suspended),children:"Resume WAL"})]})]})})}return ye.kind==="column"?v.jsx(Wp,{kind:"column",name:ye.name,index:Oe,expanded:ye.isExpanded,onExpandCollapse:()=>xt(ye.id),designatedTimestamp:ye.designatedTimestamp,type:ye.type,isLoading:ye.isLoading,id:ye.id,navigateInTree:Ct}):null},[Fe,ae,ue,me,xt,V,B,Ct,St]);return x.useEffect(()=>{if(o.view===Vx.ready){const Oe={[Cu]:{id:Cu,kind:"folder",name:`Tables (${ae.length})`,isExpanded:ae.length===0?!1:Uc(Cu),children:ae.map(ye=>{const Ve=Fx(ye,Cu,!1,!1,n,r,t,d[ye.table_name]??[]);if(ye.hasColumnMatches){Ve.isExpanded=!0;const Xe=Ve.children.find(se=>se.id.endsWith(":columns"));Xe&&(Xe.isExpanded=!0)}return Ve})},[vd]:{id:vd,kind:"folder",name:`Materialized views (${ue.length})`,isExpanded:ue.length===0?!1:Uc(vd),children:ue.map(ye=>{const Ve=Fx(ye,vd,!0,!1,n,r,t,d[ye.table_name]??[]);if(ye.hasColumnMatches){Ve.isExpanded=!0;const Xe=Ve.children.find(se=>se.id.endsWith(":columns"));Xe&&(Xe.isExpanded=!0)}return Ve})},[Hf]:{id:Hf,kind:"folder",name:`Views (${me.length})`,isExpanded:me.length===0?!1:Uc(Hf),children:me.map(ye=>{const Ve=Fx(ye,Hf,!1,!0,n,r,t,d[ye.table_name]??[]);if(ye.hasColumnMatches){Ve.isExpanded=!0;const Xe=Ve.children.find(se=>se.id.endsWith(":columns"));Xe&&(Xe.isExpanded=!0)}return Ve})}};ne.current.clear(),L(Oe)}},[o.view,ae,ue,me,n,r,t,d]),x.useEffect(()=>{J.current.clear(),ne.current.clear()},[d]),x.useEffect(()=>{q.current=D},[D]),o.view===Vx.loading?v.jsx(Boe,{}):o.view===Vx.error?a?v.jsx(Mie,{error:a}):v.jsx(Uoe,{}):v.jsx(v.Fragment,{children:v.jsx("div",{ref:$,style:{height:"100%"},children:v.jsx(lO,{totalCount:Fe.length,ref:ee,"data-hook":"schema-tree",rangeChanged:Oe=>{te.current=Oe},data:Fe,itemContent:Oe=>We(Oe),style:{height:"100%"}})})})},Hoe=Vn([`
  display: flex;
  justify-content: center;
`]),Voe=U(Sf).withConfig({displayName:"Schema__Wrapper"})([`
  overflow-x: auto;
  height: 100%;
  `,`
`],({open:e})=>!e&&Vn([`
      display: none;
    `])),qoe=U(Ef).withConfig({displayName:"Schema__Content"})([`
  display: flex;
  flex-direction: column;
  overflow: auto;
  `,`;
`],({_loading:e})=>e&&Hoe),Vk=U(ul).withConfig({displayName:"Schema__ToolbarToggleButton"})([`
  &&:not(:disabled) {
    width: auto;
    padding: 0 1rem;
    height: 3rem;
  }
`]);var Vx=(e=>(e[e.loading=0]="loading",e[e.error=1]="error",e[e.ready=2]="ready",e))(Vx||{});const kNe={view:0},NNe=(e,t)=>({...e,...t}),RNe=({innerRef:e,...t})=>{const[n,r]=x.useReducer(NNe,kNe),{quest:i}=x.useContext(Xa),[o,a]=x.useState(null),s=x.useRef(null),[l,c]=x.useState(),[u,d]=x.useState(),[f,p]=x.useState(),[g,h]=x.useState(),y=ls(),[b,w]=x.useState(!1),{autoRefreshTables:S,updateSettings:E}=vc(),[_,m]=x.useState(!1),C=x.useRef(!1),T=x.useRef(0),{addBuffer:O}=Ys(),{selectOpen:R,setSelectOpen:j,selectedTables:D,setSelectedTables:L}=p1(),V=async()=>{try{const $=await i.showTables();if($&&$.type===Xn.DQL){s.current=null;const ae=$.data.map(me=>({...me,table_type:me.table_type??(me.matView?"M":"T")}));c(ae),y(An.query.setTables(ae));const ue=await i.query("wal_tables()");ue&&ue.type===Xn.DQL&&d(ue.data.filter(me=>$.data.map(Fe=>Fe.table_name).includes(me.name))),z(),ae.some(me=>me.table_type==="V")&&B(),r({view:2})}else r({view:1})}catch{r({view:1})}},z=async()=>{try{const $=await i.query("materialized_views()");$&&$.type===Xn.DQL&&p($.data)}catch{}},B=async()=>{try{const $=await i.showViews();$&&$.type===Xn.DQL&&h($.data)}catch{}},H=async()=>{const $=["information_schema.questdb_columns()","information_schema.columns()"];for(const ae of $)try{const ue=await i.query(ae);if((ue==null?void 0:ue.type)===Xn.DQL){y(An.query.setColumns(ue.data));return}}catch{}r({view:1})},J=async()=>{if(!l)return;const $=[],ae=await Promise.all(D.map(async ue=>{var me,Fe;try{const Ie=ue.type==="matview"?await i.showMatViewDDL(ue.name):ue.type==="view"?await i.showViewDDL(ue.name):await i.showTableDDL(ue.name);if((Ie==null?void 0:Ie.type)===Xn.DQL&&((Fe=(me=Ie.data)==null?void 0:me[0])!=null&&Fe.ddl))return Ie.data[0].ddl;$.push(ue)}catch{$.push(ue)}}));if($.length===0)nh(ae.join(`

`)),Ro.success("Schemas copied to clipboard");else{const ue=$.map(me=>me.name).sort().join(", ");Ro.error(`Cannot copy schemas from tables: ${ue}`)}j(!1)},ne=x.useCallback(async()=>{const $=RO.find(ae=>ae.dateFrom==="now-1h"&&ae.dateTo==="now");await O({metricsViewState:{metrics:[],dateFrom:$.dateFrom,dateTo:$.dateTo,refreshRate:r1.AUTO,viewMode:_u.GRID}})},[O]);x.useEffect(()=>{V(),H(),Bn.subscribe(zn.MSG_CONNECTION_ERROR,$=>{$&&(s.current=$,a($))}),Bn.subscribe(zn.MSG_CONNECTION_OK,()=>{s.current!==null&&(V(),H())})},[]);const q=x.useCallback(()=>{const $=Date.now();C.current&&$-T.current>1e4&&(T.current=$,V(),H())},[]);x.useEffect(()=>{S?(Bn.subscribe(zn.MSG_QUERY_SCHEMA,()=>{V(),H()}),window.addEventListener("focus",q),m(!0),C.current=!0):_&&(Bn.unsubscribe(zn.MSG_QUERY_SCHEMA),window.removeEventListener("focus",q),m(!1),C.current=!1)},[S]);const ee=x.useMemo(()=>{if(!l)return[];const $=l.filter(me=>(me.table_type??"T")==="T").map(me=>({name:me.table_name,type:"table"})),ae=l.filter(me=>me.table_type==="M").map(me=>({name:me.table_name,type:"matview"})),ue=l.filter(me=>me.table_type==="V").map(me=>({name:me.table_name,type:"view"}));return[...$,...ae,...ue]},[l]),te=x.useMemo(()=>(u==null?void 0:u.filter($=>$.suspended).length)??0,[u]);return x.useEffect(()=>{te===0&&b&&w(!1)},[te,b]),v.jsxs(Voe,{ref:e,...t,children:[v.jsx(uw.Header,{afterTitle:v.jsxs("div",{style:{display:"flex",marginRight:"1rem",justifyContent:"space-between",flex:1},children:[v.jsx(Rie,{suspendedTablesCount:te,filterSuspendedOnly:b,setFilterSuspendedOnly:w}),l&&v.jsxs(tt,{align:"center",gap:"0",children:[R&&v.jsx(mi,{delay:350,placement:"bottom",trigger:v.jsx(vn,{skin:"transparent","data-hook":"schema-copy-to-clipboard-button",disabled:D.length===0,onClick:J,children:v.jsx(th,{size:"18px"})}),children:v.jsx(_i,{children:"Copy schemas to clipboard"})}),R&&v.jsx(mi,{delay:350,placement:"bottom",trigger:v.jsx(vn,{skin:"transparent","data-hook":"schema-select-all-button",onClick:()=>{D.length===ee.length?L([]):L(ee)},children:v.jsx(Nk,{visible:!0,checked:D.length===ee.length})}),children:v.jsxs(_i,{children:[D.length===ee.length?"Deselect":"Select"," ","all"]})}),R&&v.jsx(mi,{delay:350,placement:"bottom",trigger:v.jsx(vn,{"data-hook":"schema-cancel-select-button",skin:"transparent",onClick:()=>{L([]),j(!1)},children:v.jsx(Xc,{size:"18px"})}),children:v.jsx(_i,{children:"Cancel"})}),!R&&v.jsx(mi,{delay:350,placement:"bottom",trigger:v.jsx(vn,{"data-hook":"schema-add-metrics-button",skin:"transparent",onClick:ne,children:v.jsx(o1,{size:"20px"})}),children:v.jsx(_i,{children:"Add metrics"})}),!R&&v.jsx(mi,{delay:350,placement:"right",trigger:v.jsx(Vk,{"data-hook":"schema-select-button",onClick:()=>{R&&L([]),j(!R)},...R?{className:"selected"}:{},selected:R,disabled:(l==null?void 0:l.length)===0,children:v.jsx(BU,{size:"18px"})}),children:v.jsx(_i,{children:"Select"})}),!R&&v.jsx(mi,{delay:350,placement:"right",trigger:v.jsx(Vk,{"data-hook":"schema-auto-refresh-button",onClick:()=>{E(Mn.AUTO_REFRESH_TABLES,!S),V(),H()},selected:S,children:v.jsx(gv,{size:"18px"})}),children:v.jsxs(_i,{children:["Auto refresh ",S?"enabled":"disabled"]})})]})]})}),v.jsx(qoe,{_loading:n.view===0,children:v.jsx($oe,{tables:l??[],walTables:u,materializedViews:f,views:g,filterSuspendedOnly:b,state:n,loadingError:o})})]})},jNe=(e,t)=>v.jsx(Cie,{children:v.jsx(RNe,{...e,innerRef:t})}),Woe=x.forwardRef(jNe),LNe=U.div.withConfig({displayName:"start__Items"})([`
  display: grid;
  grid-auto-flow: row;
  grid-auto-columns: max-content;
  gap: 4rem;
  text-align: center;
  justify-items: center;
`]),MNe=U(bf).withConfig({displayName:"start__StyledHeading"})([`
  color: `,`;
`],({theme:e})=>e.color.foreground),PNe=U.div.withConfig({displayName:"start__Actions"})([`
  display: grid;
  gap: 2rem;
  grid-template-columns: repeat(2, 1fr);
`]),Goe=U(tt).attrs({flexDirection:"column",gap:"2rem"}).withConfig({displayName:"start__Action"})([`
  padding: 2rem;
  border-radius: `,`;
  background: #2c2e3d;
  cursor: pointer;

  &,
  &:hover {
    `,`;
  }

  > * {
    opacity: 0.8;
  }

  &:hover {
    background: #3f4252;

    > * {
      opacity: 1;
    }
  }
`],({theme:e})=>e.borderRadius,dI),DNe=()=>{const e=ls();return v.jsxs(LNe,{children:[v.jsxs(MNe,{level:3,children:["Enter a query and press ",v.jsx(st,{color:"green",children:"Run"})," to view results."]}),v.jsxs(PNe,{children:[v.jsxs(Goe,{onClick:()=>e(An.console.setActiveBottomPanel("import")),children:[v.jsx("img",{alt:"File upload icon",width:"60",height:"80",src:"assets/upload.svg"}),v.jsx(bf,{level:5,children:"Import CSV"})]}),v.jsxs(Goe,{onClick:()=>e(An.console.setActiveSidebar("create")),children:[v.jsx("img",{alt:"Create table icon",width:"60",height:"80",src:"assets/create-table.svg"}),v.jsx(bf,{level:5,children:"Create table"})]})]})]})},FNe=U(Ef).withConfig({displayName:"zero-state__StyledPaneContent"})([`
  align-items: center;
  justify-content: center;
`]),UNe=()=>{const{quest:e}=x.useContext(Xa),[t,n]=x.useState(!0),[r,i]=x.useState([]),o=async()=>{try{const a=await e.showTables();a&&a.type===Xn.DQL&&i(a.data)}catch{return}finally{n(!1)}};return x.useEffect(()=>{o()},[]),v.jsx(Sf,{children:v.jsx(FNe,{children:!t&&r.length<=2&&v.jsx(DNe,{})})})},qk=U(tt).attrs({flexDirection:"column"}).withConfig({displayName:"Sidebar"})([`
  padding-top: `,`;
  width: 4.5rem;
  height: 100%;
  background: `,`;
  gap: 1rem;
  flex-shrink: 0;
  justify-content: `,`;
  align-items: center;
`],({align:e})=>e==="top"?"0.5rem":"0",({theme:e})=>e.color.backgroundDarker,({align:e})=>e==="top"?"flex-start":"flex-end"),Wk=U(ul).withConfig({displayName:"navigation__Navigation"})([`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  cursor: pointer;

  & > span {
    margin-left: 0 !important;
  }

  & > :not(:first-child) {
    margin-top: 0.3rem;
  }
`]),zNe=(e,t=2)=>Math.round((e+Number.EPSILON)*10**t)/10**t,BNe=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],Koe=(e,t=0,n=1e3)=>e<n?`${zNe(e)} ${BNe[t]}`:Koe(e/n,t+1),$Ne=U(Nu).withConfig({displayName:"file-status__CheckboxCircleIcon"})([`
  color: `,`;
`],({theme:e})=>e.color.green),HNe=U(tt).withConfig({displayName:"file-status__StyledBox"})([`
  gap: 0.5rem;
  white-space: nowrap;
`]),VNe=e=>{if(!e.isUploading&&e.uploaded&&e.uploadResult)return{label:`Imported ${e.uploadResult.rowsImported.toLocaleString()} row${e.uploadResult.rowsImported>1||e.uploadResult.rowsImported===0?"s":""}`,type:rs.SUCCESS,icon:v.jsx($Ne,{size:"16px"})};if(e.error)return{label:"Upload error",type:rs.ERROR};if(e.isUploading)return{label:`Uploading: ${e.uploadProgress.toFixed(2)}%`,type:rs.WARNING};switch(e.status){case Il.EXISTS:return{label:"Table already exists",type:rs.WARNING};case Il.RESERVED_NAME:return{label:"Reserved table name",type:rs.ERROR};case Il.DOES_NOT_EXIST:return{label:"Ready to upload",type:rs.SUCCESS}}},qNe=({file:e})=>{const t=VNe(e);return t?v.jsx(tt,{gap:"1rem",align:"flex-start",flexDirection:"column","data-hook":"import-file-status",children:v.jsx(wC,{type:t.type,children:v.jsxs(HNe,{children:[t.icon," ",t.label]})})}):v.jsx(v.Fragment,{})},WNe=U(yv).withConfig({displayName:"upload-settings-dialog__SettingsIcon"})([`
  color: `,`;
`],({theme:e})=>e.color.foreground),GNe=U(tt).attrs({justifyContent:"space-between",gap:"2rem"}).withConfig({displayName:"upload-settings-dialog__Row"})([`
  width: 100%;
`]),KNe=U(tt).attrs({gap:"0",flexDirection:"column"}).withConfig({displayName:"upload-settings-dialog__Items"})([`
  height: 100%;
`]),XNe=U(tt).attrs({gap:"0",flexDirection:"column"}).withConfig({displayName:"upload-settings-dialog__Inputs"})([`
  width: 100%;
  height: 100%;
  overflow: auto;
`]),YNe=U(Ta.GroupItem).withConfig({displayName:"upload-settings-dialog__Option"})([`
  width: 100%;

  &:nth-child(even) {
    background: #242531;
  }
`]),QNe=U.div.withConfig({displayName:"upload-settings-dialog__InputWrapper"})([`
  flex-shrink: 0;
  width: 30%;
`]),JNe=({file:e,open:t,onOpenChange:n,onSubmit:r})=>{const{delimiter:i,overwrite:o,forceHeader:a,skipLev:s,atomicity:l,maxUncommitedRows:c}=e.settings,u={delimiter:i,overwrite:o,forceHeader:a,skipLev:s,atomicity:l,maxUncommitedRows:c},[d,f]=ie.useState(u),p=[{type:"input",name:"maxUncommitedRows",label:"Maximum number of uncommited rows",placeholder:jk.toString(),description:v.jsx(v.Fragment,{children:"Set this parameter to determine the size of the commit batch based on the RAM size of the machine to avoid running out of memory during an import."}),defaultValue:d.maxUncommitedRows},{type:"input",name:"delimiter",label:"Delimiter",placeholder:"Automatic",description:v.jsx(v.Fragment,{children:"Delimiter character. When not set, import will try to detect the delimiter automatically. You can define the parameter here to disable auto-detection and allow single-line file import."}),defaultValue:d.delimiter},{type:"select",name:"atomicity",label:"Atomicity",description:v.jsxs(v.Fragment,{children:["Behavior when an error is detected in the data.",v.jsx("br",{}),v.jsx("strong",{children:"Abort"}),": the entire file will be skipped.",v.jsx("br",{}),v.jsx("strong",{children:"Skip row"}),": the row is skipped.",v.jsx("br",{}),v.jsx("strong",{children:"Skip column"}),": the column is skipped."]}),defaultValue:d.atomicity,options:[{label:"Skip column",value:"skipCol"},{label:"Skip row",value:"skipRow"},{label:"Abort import",value:"abort"}]},{type:"switch",name:"forceHeader",label:"Force header",description:v.jsxs(v.Fragment,{children:["When set to ",v.jsx("strong",{children:"false"}),", QuestDB will try to infer if the first line of the file is the header line.",v.jsx("br",{}),"When set to ",v.jsx("strong",{children:"true"}),", QuestDB will expect that line to be the header line."]}),defaultValue:d.forceHeader},{type:"switch",name:"skipLev",label:"Skip line extra values",description:v.jsxs(v.Fragment,{children:["When set to ",v.jsx("strong",{children:"true"}),", the parser will ignore extra values. When set to ",v.jsx("strong",{children:"false"}),", the parser will ignore the entire line. An extra value is something in addition to what is defined by the header."]}),defaultValue:d.skipLev}];return v.jsx(Ta,{open:t,title:v.jsxs(tt,{children:[v.jsx(WNe,{size:"20px"}),v.jsxs(st,{color:"foreground",children:["Settings for ",e.fileObject.name]})]}),trigger:v.jsx(vn,{skin:"secondary",prefixIcon:v.jsx(yv,{size:"18px"}),onClick:()=>n(!0),children:"Settings"}),onDismiss:()=>{f(u),n(!1)},afterTitle:v.jsxs(tt,{gap:"1rem",children:[v.jsx(vn,{prefixIcon:v.jsx(T0,{size:18}),skin:"secondary",onClick:()=>{f(u),n(!1)},type:"button",children:"Dismiss"}),v.jsx(vn,{prefixIcon:v.jsx(yv,{size:18}),skin:"success",onClick:()=>{r(d),n(!1)},children:"Submit"})]}),children:v.jsx(Ta.ContentWrapper,{children:v.jsx(KNe,{children:v.jsx(XNe,{children:p.map(g=>v.jsx(YNe,{children:v.jsxs(GNe,{children:[v.jsxs(tt,{gap:"1rem",flexDirection:"column",align:"flex-start",justifyContent:"flex-start",children:[v.jsx(st,{color:"foreground",weight:600,children:g.label}),g.description&&v.jsx(st,{color:"gray2",size:"sm",children:g.description})]}),v.jsxs(QNe,{children:[g.type==="input"&&v.jsx(cs,{name:g.name,defaultValue:g.defaultValue,placeholder:g.placeholder,onChange:h=>f({...d,[g.name]:h.target.value})}),g.type==="select"&&v.jsx(_f,{name:g.name,defaultValue:g.defaultValue,onChange:h=>f({...d,[g.name]:h.target.value}),options:g.options}),g.type==="switch"&&v.jsx(pI,{checked:g.defaultValue,onChange:h=>f({...d,[g.name]:h})})]})]},g.name)},g.name))})})})})},ZNe=({file:e,onUpload:t,onRemove:n,onSettingsChange:r})=>{const[i,o]=x.useState(!1);return v.jsxs(tt,{gap:"1rem",align:"center",children:[v.jsx(JNe,{open:i,onOpenChange:o,onSubmit:r,file:e}),v.jsx(vn,{disabled:e.isUploading,"data-hook":"import-upload-button",skin:"primary",prefixIcon:v.jsx(oz,{size:"18px"}),onClick:()=>t(e.id),children:e.isUploading?"Uploading...":"Upload"}),v.jsx(mi,{placement:"top",trigger:v.jsx(vn,{disabled:e.isUploading,skin:"secondary",onClick:()=>{n(e.id)},children:v.jsx(Xc,{size:"18px"})}),children:v.jsx(_i,{children:"Remove file from queue"})})]})},Xoe=e=>{const t=e.length;if(t>127||["telemetry","telemetry_config"].includes(e))return!1;for(let n=0;n<t;n++)switch(e.charAt(n)){case".":if(n==0||n==t-1||e.charAt(n-1)==".")return!1;break;case"?":case",":case"'":case'"':case"\\":case"/":case":":case")":case"(":case"+":case"*":case"%":case"~":case"\0":case"":case"":case"":case"":case"":case"":case"\x07":case"\b":case"	":case"\v":case"\f":case"\r":case`
`:case"":case"":case"\x7F":case"0xfeff":return!1}return e.length>0&&e.charAt(0)!=" "&&e.charAt(t-1)!=" "},eRe=U.ul.withConfig({displayName:"rename-table-dialog__List"})([`
  list-style-position: inside;
  padding-left: 0;

  li {
    margin-bottom: 1rem;
  }
`]),tRe=U(pr.Description).withConfig({displayName:"rename-table-dialog__StyledDescription"})([`
  display: grid;
  gap: 2rem;
`]),nRe=Mo.object({name:Mo.string().required().custom((e,t)=>Xoe(e)?e:t.error("string.validTableName")).messages({"string.empty":"Please enter a name","string.validTableName":"Invalid table name"})}),rRe=({open:e,onOpenChange:t,onNameChange:n,file:r})=>{const i=r.table_name??r.fileObject.name;return v.jsxs(pr.Root,{open:e,children:[v.jsx(pr.Trigger,{asChild:!0,children:v.jsx(eo,{children:v.jsx(vn,{skin:"transparent",prefixIcon:v.jsx(Qd,{size:"14px"}),onClick:()=>t(r),children:TS(i,20)})})}),v.jsxs(pr.Portal,{children:[v.jsx(eo,{children:v.jsx(Zl,{primitive:pr.Overlay})}),v.jsx(pr.Content,{onEscapeKeyDown:()=>t(void 0),onInteractOutside:()=>t(void 0),children:v.jsxs(wr,{name:"rename-table",defaultValues:{name:i},onSubmit:o=>{n(o.name),t(void 0)},validationSchema:nRe,children:[v.jsx(pr.Title,{children:v.jsxs(tt,{children:[v.jsx(Qd,{size:20}),"Change table name"]})}),v.jsxs(tRe,{children:[v.jsx(wr.Item,{name:"name",label:"Table name",children:v.jsx(wr.Input,{name:"name"})}),v.jsx(st,{color:"foreground",children:v.jsxs(eRe,{children:[v.jsx("li",{children:"Max 127 characters"}),v.jsx("li",{children:"Must not contain dot at the beginning"}),v.jsxs("li",{children:["Must not contain the following characters:"," ",v.jsx("strong",{children:`? , ' " \\ / : ) ( + * & ~ \r 
`})]}),v.jsx("li",{children:"No control characters and UTF-8 BOM (Byte Order Mark)"}),v.jsxs("li",{children:["Cannot be named ",v.jsx("strong",{children:"telemetry"})," or"," ",v.jsx("strong",{children:"telemetry_config"})]})]})})]}),v.jsxs(pr.ActionButtons,{children:[v.jsx(pr.Close,{asChild:!0,children:v.jsx(vn,{prefixIcon:v.jsx(T0,{size:18}),skin:"secondary",onClick:()=>t(void 0),children:"Dismiss"})}),v.jsx(pr.Close,{asChild:!0,children:v.jsx(eo,{children:v.jsx(wr.Submit,{prefixIcon:v.jsx(Qd,{size:18}),variant:"success",children:"Change"})})})]})]})})]})]})},Gk=U.div.withConfig({displayName:"controls__Controls"})([`
  display: grid;
  grid-template-columns: var(--columns);
  gap: 1rem;
  width: 100%;
  align-items: flex-end;
  justify-items: center;
`]),Yoe=({url:e,text:t,tooltipText:n="Documentation"})=>v.jsx(mi,{placement:"bottom",trigger:v.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",children:v.jsxs(vn,{skin:"transparent",type:"button",children:[v.jsx(hc,{size:"14"}),t&&v.jsx("span",{children:t})]})}),children:v.jsx(_i,{children:n})}),iRe=[{label:"AUTO",value:""},{label:"BINARY",value:"BINARY"},{label:"BOOLEAN",value:"BOOLEAN"},{label:"BYTE",value:"BYTE"},{label:"CHAR",value:"CHAR"},{label:"DATE",value:"DATE"},{label:"DOUBLE",value:"DOUBLE"},{label:"FLOAT",value:"FLOAT"},{label:"GEOHASH",value:"GEOHASH"},{label:"INT",value:"INT"},{label:"IPV4",value:"IPV4"},{label:"LONG",value:"LONG"},{label:"LONG256",value:"LONG256"},{label:"SHORT",value:"SHORT"},{label:"STRING",value:"STRING"},{label:"VARCHAR",value:"VARCHAR"},{label:"SYMBOL",value:"SYMBOL"},{label:"TIMESTAMP",value:"TIMESTAMP"},{label:"TIMESTAMP_NS",value:"TIMESTAMP_NS"},{label:"UUID",value:"UUID"}],oRe=U(st).attrs({color:"foreground"}).withConfig({displayName:"column__IndexNumber"})([""]),aRe=U.div.withConfig({displayName:"column__Root"})([`
  display: grid;
  gap: 1rem;
  grid-template-columns: 40px auto;
  padding: 2rem;
  `,`;
`],({odd:e})=>e&&"background-color: #242531;"),sRe=U(tt).attrs({gap:"0",align:"center",justifyContent:"center"}).withConfig({displayName:"column__Index"})([`
  width: 4rem;
  height: 3rem;
`]),lRe=U(Gk).withConfig({displayName:"column__TimestampControls"})([`
  justify-items: flex-start;
`]),cRe=({action:e,disabled:t,column:n,index:r,onSetTimestamp:i,onFocus:o,timestamp:a,lastFocusedIndex:s})=>{const[l,c]=x.useState(n.name);return n?v.jsxs(aRe,{odd:r%2!==0,disabled:t,"data-hook":`table-schema-dialog-column-${r}`,onFocus:()=>o(r),children:[v.jsx(sRe,{children:v.jsx(oRe,{color:"foreground",children:r+1})}),v.jsxs(tt,{flexDirection:"column",gap:"1rem",align:"stretch",children:[v.jsxs(Gk,{children:[v.jsx(wr.Item,{name:`schemaColumns.${r}.name`,children:v.jsx(wr.Input,{placeholder:"Name",disabled:t,defaultValue:n.name,onChange:u=>c(u.target.value),name:`schemaColumns.${r}.name`,autoComplete:"off",required:!0,...s===r&&{autoFocus:!0}})}),v.jsx(wr.Item,{name:`schemaColumns.${r}.type`,children:v.jsx(wr.Select,{defaultValue:e==="import"?n.type:"VARCHAR",name:`schemaColumns.${r}.type`,options:iRe.filter(u=>!(u.value===""&&e==="add"))})})]}),Lx(n.type)&&v.jsxs(tt,{flexDirection:"column",gap:"1rem",children:[v.jsxs(lRe,{children:[e==="import"&&v.jsx(wr.Item,{name:`schemaColumns.${r}.pattern`,children:v.jsx(wr.Input,{name:`schemaColumns.${r}.pattern`,placeholder:"Dataset pattern",defaultValue:n.pattern!==""?n.pattern:Mx(n.type),required:!0})}),v.jsx(Aa,{icon:v.jsx(vn,{disabled:l==="","data-hook":`table-schema-dialog-column-${r}-designated-button`,skin:a!==""&&n.name!==""&&a===n.name?"success":"secondary",onClick:()=>i(n.name),type:"button",prefixIcon:v.jsx("input",{type:"checkbox",checked:a!==""&&n.name!==""&&a===n.name,onChange:()=>{}}),children:"Designated"}),tooltip:"Mark this column as a designated timestamp",placement:"top"})]}),e==="import"&&v.jsxs(st,{color:"gray2",children:["Example: ",Rk,v.jsx("br",{}),v.jsx(Yoe,{url:"https://questdb.io/docs/reference/function/date-time/#timestamp-format",text:"Timestamp format docs",tooltipText:"Timestamp format documentation"})]})]}),n.type==="GEOHASH"&&v.jsxs(Gk,{children:[v.jsx(wr.Item,{name:`schemaColumns.${r}.precision`,children:v.jsx(wr.Input,{name:`schemaColumns.${r}.precision`,placeholder:"Precision",required:!0})}),v.jsx(Yoe,{url:"https://questdb.io/docs/concept/geohashes/#specifying-geohash-precision",text:"Docs",tooltipText:"GEOHASH type documentation"})]})]})]},n.name):null},uRe=U(tt).attrs({align:"center",gap:"1.5rem"}).withConfig({displayName:"columns__Disclaimer"})([`
  width: 100%;
  padding: 2rem;
  color: `,`;
`],({theme:e,isEditLocked:t})=>e.color[t?"orange":"foreground"]),dRe=U.div.withConfig({displayName:"columns__SchemaRoot"})([`
  width: 100%;
  height: 100%;
`]),fRe=U(Ta.GroupItem).attrs({direction:"column"}).withConfig({displayName:"columns__Error"})([`
  align-items: center;
`]),hRe=({action:e,isEditLocked:t,onColumnFocus:n,lastFocusedIndex:r})=>{const{formState:i,getValues:o,setValue:a,watch:s}=kc(),l=s("timestamp"),c=o().schemaColumns,u=x.useCallback(f=>{const p=s(`schemaColumns.${f}`);return v.jsx(v.Fragment,{children:v.jsx(cRe,{action:e,column:p,disabled:t,index:f,lastFocusedIndex:r,onFocus:n,onSetTimestamp:g=>{a("timestamp",l===g?"":g)},timestamp:l})})},[l,c.length,c.map(f=>f.type).join(",")]),d=i.errors.schemaColumns;return v.jsxs(v.Fragment,{children:[e==="import"&&!t&&v.jsxs(uRe,{isEditLocked:!1,children:[v.jsx(hc,{size:"20px"}),v.jsxs(st,{color:"foreground",children:["Column names have to match the CSV header.",v.jsx("br",{}),"Order is not important."]})]}),d&&(Array.isArray(d)?d:[d]).map(f=>v.jsx(fRe,{children:v.jsx(st,{color:"red",children:f==null?void 0:f.message})},f==null?void 0:f.message)),v.jsx(dRe,{children:c.length>0&&v.jsx(_Ie,{itemContent:u,totalCount:c.length,followOutput:!0})}),v.jsx(wr.Input,{name:"timestamp",hidden:!0})]})};var Qoe=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M12 13a5 5 0 1 1-.001 10.001A5 5 0 0 1 12 13zm1 2h-2v1.999L9 17v2l2-.001V21h2v-2.001L15 19v-2l-2-.001V15zm7-12a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h16zM5 5v4h14V5H5z"}))});Qoe.displayName="InsertRowBottom";var Joe=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),x.createElement("path",{d:"M20 13a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1h16zm-1 2H5v4h14v-4zM12 1a5 5 0 1 1-.001 10.001A5 5 0 0 1 12 1zm1 2h-2v1.999L9 5v2l2-.001V9h2V6.999L15 7V5l-2-.001V3z"}))});Joe.displayName="InsertRowTop";const pRe=({action:e,ctaText:t,lastFocusedIndex:n,onAdded:r,isEditLocked:i,onDismiss:o})=>{const a={name:"",type:e==="import"?"":"VARCHAR",pattern:"",precision:""},{insert:s}=d4e({name:"schemaColumns"}),{getValues:l,setValue:c}=kc(),u=l().schemaColumns;return v.jsxs(tt,{gap:"1rem",children:[!i&&v.jsxs(ie.Fragment,{children:[v.jsx(mi,{trigger:v.jsx(vn,{disabled:u.length===0||n===void 0,skin:"secondary",type:"button",onClick:()=>{c("schemaColumns",u.filter((d,f)=>f!==n)),r(void 0)},children:v.jsx(WU,{size:"18px"})}),placement:"bottom",children:v.jsx(_i,{children:n!==void 0&&`Remove column ${n+1}`})}),v.jsx(mi,{trigger:v.jsx(vn,{disabled:u.length===0||n===void 0,skin:"secondary",type:"button",onClick:()=>{const d=n!==void 0?n:u.length;s(d,a),r(d)},children:v.jsx(Joe,{size:"20px"})}),placement:"bottom",children:v.jsx(_i,{children:n!==void 0?`Insert column above ${n+1}`:"Insert column"})}),v.jsx(mi,{trigger:v.jsx(vn,{skin:"secondary",type:"button",onClick:()=>{const d=n!==void 0?n+1:u.length;s(d,a),r(d)},children:v.jsx(Qoe,{size:"20px"})}),placement:"bottom",children:v.jsx(_i,{children:n!==void 0?`Insert column below ${n+1}`:"Insert column"})})]}),v.jsx(wr.Submit,{prefixIcon:v.jsx(Yl,{size:18}),variant:"success",children:t}),v.jsx(PG,{...o?{onClick:o}:{},children:v.jsx(fm,{size:16,weight:"bold"})})]})},mRe=U(Ta.ContentWrapper).withConfig({displayName:"dialog__StyledContentWrapper"})([`
  --columns: auto 140px; /* magic numbers to fit input, type dropdown and remove button nicely */
`]),gRe=U(tt).attrs({gap:"0",flexDirection:"column"}).withConfig({displayName:"dialog__Items"})([`
  height: 100%;
`]),yRe=U(tt).attrs({gap:"0",flexDirection:"column"}).withConfig({displayName:"dialog__Inputs"})([`
  width: 100%;
  height: 100%;
  overflow: auto;
`]),vRe=U.div.withConfig({displayName:"dialog__Controls"})([`
  display: grid;
  grid-template-columns: `,`;
  gap: 1rem;
  align-items: flex-start;
  width: 100%;
`],({action:e})=>e==="add"?"auto 120px 120px":"1fr"),bRe=["NONE","HOUR","DAY","MONTH","YEAR"],Zoe=({action:e,name:t,schema:n,partitionBy:r,timestamp:i,ttlValue:o,ttlUnit:a,open:s,isEditLocked:l,hasWalSetting:c,walEnabled:u,onOpenChange:d,onSchemaChange:f,trigger:p,tables:g,ctaText:h})=>{const y={name:t,schemaColumns:n,partitionBy:r,timestamp:i,ttlValue:o,ttlUnit:a,walEnabled:c?"false":void 0},[b,w]=x.useState(y),[S,E]=x.useState(y),[_,m]=x.useState(),C=ls(),T=()=>{w({name:t,schemaColumns:n,partitionBy:r,timestamp:i,ttlValue:o,ttlUnit:a,walEnabled:c&&u!==void 0?u.toString():void 0})},O=()=>{T(),d(void 0),C(An.console.setActiveSidebar(void 0))},R=Mo.object({name:Mo.string().required().custom((D,L)=>Xoe(D)?e==="add"&&(g!=null&&g.find(V=>V.table_name.toLowerCase()===D.toLowerCase()))?L.error("string.uniqueTableName"):D:L.error("string.validTableName")).messages({"string.empty":"Please enter a name","string.validTableName":"Invalid table name","string.uniqueTableName":"Table name must be unique"}),partitionBy:Mo.string().required().custom((D,L)=>D!=="NONE"&&S.timestamp===""?L.error("string.timestampRequired"):D).messages({"string.timestampRequired":"Designated timestamp is required when partitioning is set to anything other than NONE"}),ttlValue:Mo.number(),ttlUnit:Mo.string(),walEnabled:Mo.any().allow("true","false").empty(),timestamp:Mo.string().allow(""),schemaColumns:Mo.array().custom((D,L)=>e==="add"&&D.length===0?L.error("array.required"):D).unique((D,L)=>D.name.trim().toLowerCase()===L.name.trim().toLowerCase()).messages({"array.required":"Please add at least one column","array.unique":"Column names must be unique"})});x.useEffect(()=>{n&&T()},[n]),x.useEffect(()=>{s&&m(void 0)},[s]);const j=b.schemaColumns.length;return v.jsx(Ta,{mode:e==="add"?"side":"modal",open:s,trigger:p??v.jsx(vn,{"data-hook":"table-schema-dialog-trigger",skin:j>0?"transparent":"secondary",prefixIcon:j>0?v.jsx(Qd,{size:"18px"}):v.jsx(Yl,{size:"18px"}),onClick:()=>d(t),children:j>0?`${j} col${j>1?"s":""}`:"Add"}),onDismiss:O,onOpenChange:D=>{D&&e==="add"&&C(An.console.setActiveSidebar(D?"create":void 0))},children:v.jsx(mRe,{mode:e==="add"?"side":"modal","data-hook":"create-table-panel",children:v.jsxs(wr,{name:"table-schema",defaultValues:b,onSubmit:D=>{f(D),d(void 0),C(An.console.setActiveSidebar(void 0))},onChange:D=>E(D),validationSchema:R,children:[v.jsx(uw.Header,{title:t!==""?`Table schema for ${t}`:"Create table",afterTitle:v.jsx(pRe,{ctaText:h,action:e,isEditLocked:l,lastFocusedIndex:_,onAdded:m,onDismiss:O})}),v.jsx(gRe,{children:v.jsxs(yRe,{children:[v.jsx(Ta.GroupItem,{direction:"column",children:v.jsxs(vRe,{action:e,children:[e==="add"&&v.jsx(wr.Item,{name:"name",label:"Table name",children:v.jsx(wr.Input,{name:"name",autoComplete:"off",autoFocus:!0})}),v.jsx(tt,{align:"flex-end",children:v.jsx(wr.Item,{name:"partitionBy",label:v.jsx(mi,{trigger:v.jsxs(tt,{align:"center",justifyContent:"center",gap:"0.5rem",children:[v.jsx(C0,{size:"14"}),v.jsx("span",{children:"Partition by"})]}),placement:"bottom",children:v.jsx(_i,{children:"Splits data into smaller chunks by intervals of time in order to improve the performance and scalability of the database system."})}),children:v.jsx(wr.Select,{name:"partitionBy",options:bRe.map(D=>({label:D,value:D}))})})}),c&&v.jsx(tt,{align:"flex-end",children:v.jsx(wr.Item,{name:"walEnabled",label:v.jsx(mi,{trigger:v.jsxs(tt,{align:"center",justifyContent:"center",gap:"0.5rem",children:[v.jsx(C0,{size:"14"}),v.jsx("span",{children:"WAL"})]}),placement:"bottom",children:v.jsxs(_i,{children:["WAL (Write-Ahead Log) allows concurrent data ingestion and modifications via multiple interfaces as well as table schema changes.",S.partitionBy==="NONE"&&v.jsxs(v.Fragment,{children:[v.jsx("br",{}),v.jsx("br",{}),"To enable WAL, set `Partition by` to a value other than NONE."]})]})}),children:v.jsx(wr.Select,{name:"walEnabled",disabled:S.partitionBy==="NONE",options:[{label:"Enabled",value:"true"},{label:"Disabled",value:"false"}]})})}),e==="import"&&v.jsx(st,{color:"gray2",children:"If you are changing the partitioning strategy, you will need to set `Write mode` to `Overwrite` in Settings."})]})}),v.jsx(Ta.GroupHeader,{children:v.jsx(st,{color:"foreground",children:"Columns"})}),v.jsx(hRe,{action:e,isEditLocked:l,onColumnFocus:m,lastFocusedIndex:_})]})})]})})})},wRe=U(p4).withConfig({displayName:"upload-result-dialog__SearchIcon"})([`
  color: `,`;
`],({theme:e})=>e.color.foreground),xRe=U(MI).withConfig({displayName:"upload-result-dialog__StyledTable"})([`
  width: 100%;
  table-layout: fixed;
  border-collapse: separate;
  border-spacing: 0 2rem;
  padding: 0 2rem;

  th {
    padding: 0 1.5rem;
    color: `,`;
  }

  td {
    padding: 1.5rem;
  }

  tbody td {
    background: #242531;

    &:first-child {
      border-top-left-radius: `,`;
      border-bottom-left-radius: `,`;
    }

    &:last-child {
      border-top-right-radius: `,`;
      border-bottom-right-radius: `,`;
    }
  }
`],({theme:e})=>e.color.foreground,({theme:e})=>e.borderRadius,({theme:e})=>e.borderRadius,({theme:e})=>e.borderRadius,({theme:e})=>e.borderRadius),_Re=U(tt).attrs({justifyContent:"space-between",gap:"2rem"}).withConfig({displayName:"upload-result-dialog__Stat"})([`
  width: 100%;
`]),ERe=U(vn).withConfig({displayName:"upload-result-dialog__DetailsButton"})([`
  position: relative;
`]),SRe=U.span.withConfig({displayName:"upload-result-dialog__NotificationCircle"})([`
  position: absolute;
  right: -0.4rem;
  top: -0.4rem;
  width: 0.8rem;
  height: 0.8rem;
  border-radius: 50%;
  background-color: `,`;
`],({theme:e})=>e.color.red),CRe=({file:e})=>{var i,o,a,s,l,c;const t=e.table_name??e.fileObject.name,n=[{label:"Header forced",value:(i=e.uploadResult)==null?void 0:i.header.toString()},{label:"Table name",value:(o=e.uploadResult)==null?void 0:o.location},{label:"Imported rows",value:(a=e.uploadResult)==null?void 0:a.rowsImported.toLocaleString()},{label:"Rejected rows",value:(s=e.uploadResult)==null?void 0:s.rowsRejected.toLocaleString()}],r=((l=e.uploadResult)==null?void 0:l.columns.reduce((u,d)=>u+d.errors,0))??0;return v.jsx(Ta,{title:v.jsxs(tt,{children:[v.jsx(wRe,{size:20}),v.jsxs(st,{color:"foreground",children:["Import details for ",t]})]}),trigger:v.jsxs(ERe,{skin:"success",prefixIcon:v.jsx(p4,{size:"14px"}),children:[r>0&&v.jsx(SRe,{}),"Details"]}),withCloseButton:!0,children:v.jsxs(tt,{flexDirection:"column",gap:"0",children:[n.map(u=>v.jsx(Ta.GroupItem,{direction:"column",children:v.jsxs(_Re,{children:[v.jsx(st,{color:"gray2",children:u.label}),v.jsx(st,{color:"foreground",children:u.value})]})},u.label)),v.jsx(Ta.GroupHeader,{children:v.jsx(st,{color:"foreground",children:"Table schema"})}),v.jsx(xRe,{columns:[{header:"Name",render:({data:u})=>v.jsx(st,{color:"foreground",children:u.name})},{header:"Type",align:"flex-end",render:({data:u})=>v.jsx(st,{color:"foreground",children:u.type})},{header:"Size",width:"100px",align:"flex-end",render:({data:u})=>v.jsx(st,{color:"foreground",children:u.size.toLocaleString()})},{header:"Errors",width:"100px",align:"flex-end",render:({data:u})=>v.jsx(st,{color:u.errors>0?"red":"foreground",children:u.errors.toLocaleString()})}],rows:((c=e.uploadResult)==null?void 0:c.columns)??[]})]})})},TRe=(e,t)=>Array.from(e).filter(n=>t.includes(n.name)),ARe=U(tt).attrs({flexDirection:"column"}).withConfig({displayName:"dropbox__Root"})([`
  flex: 1;
  width: 100%;
  padding: 4rem 0 0;
  gap: 2rem;
  background: `,`;
  border: 3px dashed `,`;
  box-shadow: inset 0 0 10px 0 #1b1c23;
  transition: all 0.15s ease-in-out;
`],({theme:e})=>e.color.backgroundLighter,({isDragging:e})=>e?"#7f839b":"#333543"),eae=({files:e,onFilesDropped:t,dialogOpen:n,render:r})=>{const[i,o]=x.useState(!1),[a,s]=x.useState([]),l=x.useRef(null),c=x.useRef(e.map(g=>g.table_name)),u=g=>{g.preventDefault(),g.stopPropagation(),o(g.type==="dragenter"||g.type==="dragover")},d=g=>{g.preventDefault(),g.stopPropagation(),o(!1),f(g.dataTransfer.files)},f=g=>{var y;const h=TRe(g,c.current);s(h),t(Array.from(g).filter(b=>!h.includes(b))),(y=l.current)==null||y.setAttribute("value","")},p=g=>{var y;const h=(y=g.clipboardData)==null?void 0:y.files;h&&f(h)};return x.useEffect(()=>()=>{window.removeEventListener("paste",p)},[]),x.useEffect(()=>{n?window.removeEventListener("paste",p):window.addEventListener("paste",p)},[n]),x.useEffect(()=>{c.current=e.map(g=>g.table_name)},[e]),v.jsx(ARe,{onDragEnter:u,onDragOver:u,onDragLeave:u,onDrop:d,isDragging:i,"data-hook":"import-dropbox",children:r({duplicates:a,addToQueue:f})})},IRe=U(tt).attrs({flexDirection:"column",gap:"2rem"}).withConfig({displayName:"files-to-upload__Root"})([`
  padding: 2rem;
`]),ORe=U(MI).withConfig({displayName:"files-to-upload__StyledTable"})([`
  width: 100%;
  table-layout: fixed;
  border-collapse: separate;
  border-spacing: 0 2rem;

  th {
    padding: 0 1.5rem;
  }

  td {
    padding: 1.5rem;
  }

  tbody td {
    background: #242531;

    &:first-child {
      border-top-left-radius: `,`;
      border-bottom-left-radius: `,`;
    }

    &:last-child {
      border-top-right-radius: `,`;
      border-bottom-right-radius: `,`;
    }
  }
`],({theme:e})=>e.borderRadius,({theme:e})=>e.borderRadius,({theme:e})=>e.borderRadius,({theme:e})=>e.borderRadius),kRe=U(tt).attrs({justifyContent:"center"}).withConfig({displayName:"files-to-upload__EmptyState"})([`
  width: 100%;
  background: #242531;
  border-radius: `,`;
  padding: 1rem;
`],({theme:e})=>e.borderRadius),tae=U(tt).withConfig({displayName:"files-to-upload__FileTextBox"})([`
  padding: 0 1.1rem;
`]),NRe=U.span.withConfig({displayName:"files-to-upload__BrowseTextLink"})([`
  text-decoration: underline;
  cursor: pointer;

  &:hover {
    text-decoration: none;
  }
`]),RRe=({files:e,onDialogToggle:t,onFileRemove:n,onFilePropertyChange:r,onFileUpload:i,onFilesDropped:o,onViewData:a,dialogOpen:s,ownedByList:l})=>{const c=x.useRef(null),[u,d]=ie.useState(),[f,p]=ie.useState();x.useEffect(()=>{t(u!==void 0||f!==void 0)},[u,f]);const g=[];return g.push({header:"File",align:"flex-start",...e.length>0&&{width:"400px"},render:({data:h})=>{const y=v.jsxs(tae,{align:"center",gap:"1rem",children:[v.jsx(st,{color:"foreground",children:TS(h.fileObject.name,20)}),v.jsx(st,{color:"gray2",size:"sm",children:Koe(h.fileObject.size)})]});return v.jsxs(tt,{align:"center",gap:"1rem",children:[v.jsx(MX,{size:"46px"}),v.jsxs(tt,{gap:"1rem",align:"flex-4tart",flexDirection:"column",children:[h.fileObject.name.length>20&&v.jsx(mi,{placement:"top",trigger:y,children:v.jsx(_i,{children:h.fileObject.name})}),h.fileObject.name.length<=20&&y,v.jsxs(tt,{gap:"1rem",align:"center",children:[v.jsx(qNe,{file:h}),!h.isUploading&&h.uploadResult!==void 0&&v.jsxs(ie.Fragment,{children:[v.jsx(CRe,{file:h}),v.jsx(vn,{skin:"secondary",prefixIcon:v.jsx(c4,{size:"18px"}),onClick:()=>a(h.uploadResult),children:"Result"})]})]}),h.uploadResult&&h.uploadResult.rowsRejected>0||h.error&&v.jsxs(tae,{flexDirection:"column",gap:"1rem",align:"flex-start",children:[h.uploadResult&&h.uploadResult.rowsRejected>0&&v.jsxs(st,{color:"orange",size:"sm",children:[h.uploadResult.rowsRejected.toLocaleString()," row",h.uploadResult.rowsRejected>1?"s":""," ","rejected"]}),h.error&&v.jsx(st,{color:"red",size:"sm",children:h.error})]})]})]})}},{header:"Table name",align:"flex-end",width:"180px",render:({data:h})=>v.jsx(rRe,{open:u===h.id,onOpenChange:y=>d(y==null?void 0:y.id),onNameChange:y=>{r(h.id,{table_name:y})},file:h})}),l&&l.length>0&&g.push({header:v.jsx(mi,{placement:"top",trigger:v.jsxs(tt,{align:"center",gap:"0.5rem","data-hook":"import-table-column-owner",children:["Table owner",v.jsx(hc,{size:"16px"})]}),children:v.jsx(_i,{children:"Required for external (non-database) users."})}),align:"center",width:"150px",render:({data:h})=>v.jsx(_f,{name:"table_owner",defaultValue:l[0]??"",onChange:y=>r(h.id,{table_owner:y.target.value}),options:Object.values(l).map(y=>({label:y,value:y}))})}),g.push({header:v.jsx(mi,{placement:"top",trigger:v.jsxs(tt,{align:"center",gap:"0.5rem","data-hook":"import-table-column-schema",children:["Schema",v.jsx(hc,{size:"16px"})]}),children:v.jsx(_i,{children:"Optional. By default, QuestDB will infer schema from the CSV file structure"})}),align:"center",width:"150px",render:({data:h})=>{const y=h.table_name??h.fileObject.name;return v.jsx(Zoe,{action:"import",open:f===h.id,onOpenChange:b=>p(b?h.id:void 0),onSchemaChange:b=>{r(h.id,{schema:b.schemaColumns,partitionBy:b.partitionBy,timestamp:b.timestamp})},name:y,schema:h.schema,partitionBy:h.partitionBy,ttlValue:h.ttlValue,ttlUnit:h.ttlUnit,timestamp:h.timestamp,isEditLocked:h.exists&&h.table_name===h.fileObject.name,hasWalSetting:!1,ctaText:"Save"})}},{header:v.jsx(mi,{placement:"top",trigger:v.jsxs(tt,{align:"center",gap:"0.5rem",children:["Write mode",v.jsx(hc,{size:"16px"})]}),children:v.jsxs(_i,{children:[v.jsx("strong",{children:"Append"}),": data will be appended to the set.",v.jsx("br",{}),v.jsx("strong",{children:"Overwrite"}),": any existing data or structure will be overwritten. Required for partitioning and timestamp related changes."]})}),align:"center",width:"150px",render:({data:h})=>v.jsx(_f,{name:"overwrite",defaultValue:h.settings.overwrite?"true":"false",onChange:y=>r(h.id,{settings:{...h.settings,overwrite:y.target.value==="true"}}),options:[{label:"Append",value:"false"},{label:"Overwrite",value:"true"}]})},{align:"flex-end",width:"300px",render:({data:h})=>v.jsx(ZNe,{file:h,onUpload:i,onRemove:n,onSettingsChange:y=>{r(h.id,{settings:y})}})}),v.jsx(eae,{files:e,onFilesDropped:o,dialogOpen:s,render:({duplicates:h,addToQueue:y})=>v.jsxs(IRe,{children:[v.jsx(bf,{level:3,children:"Upload queue"}),v.jsx("input",{type:"file",id:"file",onChange:b=>{b.target.files!==null&&y(b.target.files)},multiple:!0,ref:c,style:{display:"none"},value:""}),v.jsxs(st,{color:"foreground",children:["You can drag and drop more files or"," ",v.jsx(NRe,{onClick:()=>{var b;(b=c.current)==null||b.click()},children:"browse from disk"})]}),h.length>0&&v.jsxs(st,{color:"red",children:["File",h.length>1?"s":""," already added to queue:"," ",h.map(b=>b.name).join(", "),". Change target table name and try again."]}),v.jsx(ORe,{columns:g,rows:e}),e.length===0&&v.jsx(kRe,{children:v.jsx(st,{color:"gray2",align:"center",children:"No files in queue"})})]})})},jRe=U(tt).attrs({flexDirection:"column",gap:"2rem"}).withConfig({displayName:"upload__Actions"})([`
  margin: auto;
`]),LRe=U.div.withConfig({displayName:"upload__Info"})([`
  margin-top: 1rem;
  padding: 2rem;
  background: `,`;
  border-radius: `,`;
  text-align: center;
`],({theme:e})=>e.color.backgroundDarker,({theme:e})=>e.borderRadius),nae=U(st).withConfig({displayName:"upload__InfoText"})([`
  line-height: 1.75;
  color: #8b8fa7;

  a {
    color: `,`;
  }
`],({theme:e})=>e.color.foreground),rae=()=>v.jsx("a",{href:"https://questdb.io/docs/guides/import-csv/#import-csv-via-copy-sql",target:"_blank",rel:"noopener noreferrer",children:"COPY"}),MRe=({files:e,onFilesDropped:t,dialogOpen:n})=>{const{quest:r}=x.useContext(Xa),[i,o]=x.useState(!1),a=x.useRef(null),s=async()=>{try{const l=await r.query("(show parameters) where property_path ilike 'cairo.sql.copy.root'");l.type==="dql"&&l.count>0&&o(l.data[0].value!==null&&l.data[0].value!=="null")}catch{return}};return x.useEffect(()=>{s()},[]),v.jsx(eae,{files:e,onFilesDropped:t,dialogOpen:n,render:({duplicates:l,addToQueue:c})=>v.jsx(ie.Fragment,{children:v.jsxs(jRe,{children:[v.jsx("img",{alt:"File upload icon",width:"60",height:"80",src:"assets/upload.svg"}),v.jsx(bf,{level:3,children:"Drag CSV files here or paste from clipboard"}),v.jsx("input",{type:"file",id:"file",onChange:u=>{u.target.files!==null&&c(u.target.files)},multiple:!0,ref:a,style:{display:"none"},value:""}),v.jsx(vn,{onClick:()=>{var u;(u=a.current)==null||u.click()},prefixIcon:v.jsx(tz,{size:"18px"}),skin:"secondary","data-hook":"import-browse-from-disk",children:"Browse from disk"}),l.length>0&&v.jsxs(st,{color:"red",children:["File",l.length>1?"s":""," already added to queue:"," ",l.map(u=>u.name).join(", "),". Change target table name and try again."]}),v.jsx(LRe,{children:i?v.jsxs(nae,{children:["Suitable for small batches of CSV file upload.",v.jsx("br",{}),"For database migrations, we recommend the ",v.jsx(rae,{})," ","command."]}):v.jsxs(nae,{children:["Note: COPY SQL is not available for CSV Import on this database. Refer ",v.jsx(rae,{})," to enable it."]})})]})})})},PRe=U(tt).attrs({gap:"4rem",flexDirection:"column"}).withConfig({displayName:"ImportCSVFiles__Root"})([`
  flex: 1;
`]),DRe=({onViewData:e,onUpload:t})=>{const{quest:n}=x.useContext(Xa),[r,i]=x.useState([]),[o,a]=x.useState(!1),s=oi(Mr.query.getTables),l=x.useRef(null),c=l5e(l),[u,d]=x.useState("upload"),[f,p]=x.useState([]),g=async()=>{if(Ki(Mn.RELEASE_TYPE)==="EE")try{let E=[];const _=await n.query("select current_user()");if(_.type==="dql"&&_.count>0){const m=Object.values(_.data[0])[0];if(m){dh.isSSOAuthenticated()||E.push(m);const C=await n.query(`show groups '${m}'`);if(C.type==="dql"&&C.count>0){const T=C.data.map(O=>Object.values(O)[0]);E=E.concat(T)}}}p(E)}catch{return}};x.useEffect(()=>{g()},[]);const h=(E,_)=>{i(m=>m.map(C=>C.id===E?{...C,..._}:C))},y=(E,_)=>{h(E.id,{isUploading:_})},b=async E=>await Promise.all(E.map(async _=>{var D,L,V,z;const m=await n.checkCSVFile(_.name),C=m.status===Il.EXISTS?await(async()=>{const B=await n.showColumns(_.name);return B&&B.type===Xn.DQL?B.data.map(H=>({name:H.column,type:Px(H.type),pattern:Mx(H.type),precision:jx(H.type)?Lk(H.type):""})):[]})():[],T=m.status===Il.EXISTS&&s?((D=s.find(B=>B.table_name===_.name))==null?void 0:D.partitionBy)??"NONE":"NONE",O=m.status===Il.EXISTS&&s?((L=s.find(B=>B.table_name===_.name))==null?void 0:L.ttlValue)??0:0,R=m.status===Il.EXISTS&&s?((V=s.find(B=>B.table_name===_.name))==null?void 0:V.ttlUnit)??"HOURS":"HOURS",j=m.status===Il.EXISTS&&s?((z=s.find(B=>B.table_name===_.name))==null?void 0:z.designatedTimestamp)??"":"";return{id:crypto.randomUUID(),fileObject:_,table_name:_.name,table_owner:f[0],status:m.status,exists:m.status===Il.EXISTS,schema:C,partitionBy:T,ttlValue:O,ttlUnit:R,timestamp:j,settings:{forceHeader:!1,overwrite:!1,skipLev:!1,delimiter:"",atomicity:"skipCol",maxUncommitedRows:jk},isUploading:!1,uploaded:!1,uploadResult:void 0,uploadProgress:0}})),w=async E=>{const _=await b(E);i(m=>[...m,..._]),d("list")},S=async()=>{const E=await Promise.all(r.map(async _=>{const m=await n.checkCSVFile(_.table_name);return{..._,status:m.status}}));i(E)};return x.useEffect(()=>{c&&S()},[c]),v.jsxs(PRe,{ref:l,children:[u==="upload"&&v.jsx(MRe,{files:r,onFilesDropped:w,dialogOpen:o}),u==="list"&&v.jsx(RRe,{dialogOpen:o,files:r,onViewData:e,onFilesDropped:w,onDialogToggle:a,ownedByList:f,onFileUpload:async E=>{const _=r.find(m=>m.id===E);if(!_.isUploading){y(_,!0);try{const m=await n.uploadCSVFile({file:_.fileObject,name:_.table_name,owner:_.table_owner,settings:_.settings,schema:_.schema.map(Gie),partitionBy:_.partitionBy,timestamp:_.timestamp,onProgress:C=>{h(_.id,{uploadProgress:C})}});h(_.id,{uploaded:m.status==="OK",uploadResult:m.status==="OK"?m:void 0,schema:m.status==="OK"?m.columns.map(C=>{const T=_.schema.find(O=>O.name===C.name);return{...Kpe(C,["name"]),type:Px(C.type),pattern:Lx(C.type)?T!=null&&T.pattern?T==null?void 0:T.pattern:Mx(C.type):"",precision:jx(C.type)?Lk(C.type):void 0}}):_.schema,error:m.status==="OK"?void 0:m.status}),y(_,!1),t(m)}catch{y(_,!1),h(_.id,{uploaded:!1,uploadResult:void 0,uploadProgress:0,error:"Upload error"})}}},onFileRemove:E=>{const _=r.find(m=>m.id===E);i(r.filter(m=>m.fileObject.name!==_.fileObject.name))},onFilePropertyChange:async(E,_)=>{const m=await Promise.all(r.map(async C=>{if(C.id===E){const T=_.table_name?await n.checkCSVFile(_.table_name):await Promise.resolve({status:C.status});return{...C,..._,status:T.status,error:_.table_name?void 0:C.error}}else return C}));i(m)}})]})},FRe=()=>v.jsx(Sf,{children:v.jsx(Ef,{children:v.jsx(DRe,{onUpload:()=>{Bn.publish(zn.MSG_QUERY_SCHEMA)},onViewData:e=>{e.status==="OK"&&(Bn.publish(zn.MSG_QUERY_SCHEMA),Bn.publish(zn.MSG_QUERY_FIND_N_EXEC,{query:`"${e.location}"`,options:{appendAt:"end"}}))}})})});function m1(){return m1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m1.apply(null,arguments)}var bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function g1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var iae,oae={exports:{}},Kk,aae,sae,URe=(iae||(iae=1,Kk=oae,(function(){var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if(o==="string"||o==="number")n.push(i);else if(Array.isArray(i)){if(i.length){var a=t.apply(null,i);a&&n.push(a)}}else if(o==="object")if(i.toString===Object.prototype.toString)for(var s in i)e.call(i,s)&&i[s]&&n.push(s);else n.push(i.toString())}}return n.join(" ")}Kk.exports?(t.default=t,Kk.exports=t):window.classNames=t})()),oae.exports),Xk=g1(URe),lae,Kl=g1((function(){if(sae)return aae;sae=1;var e=/^\s+|\s+$/g,t=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,r=/^0o[0-7]+$/i,i=parseInt,o=Object.prototype.toString;function a(l){var c=typeof l;return!!l&&(c=="object"||c=="function")}function s(l){if(typeof l=="number")return l;if((function(d){return typeof d=="symbol"||(function(f){return!!f&&typeof f=="object"})(d)&&o.call(d)=="[object Symbol]"})(l))return NaN;if(a(l)){var c=typeof l.valueOf=="function"?l.valueOf():l;l=a(c)?c+"":c}if(typeof l!="string")return l===0?l:+l;l=l.replace(e,"");var u=n.test(l);return u||r.test(l)?i(l.slice(2),u?2:8):t.test(l)?NaN:+l}return aae=function(l,c,u){return u===void 0&&(u=c,c=void 0),u!==void 0&&(u=(u=s(u))==u?u:0),c!==void 0&&(c=(c=s(c))==c?c:0),(function(d,f,p){return d==d&&(p!==void 0&&(d=d<=p?d:p),f!==void 0&&(d=d>=f?d:f)),d})(s(l),c,u)}})()),Yk={exports:{}},zRe=(lae||(lae=1,(function(e,t){var n="__lodash_hash_undefined__",r=9007199254740991,i="[object Arguments]",o="[object Array]",a="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",p="[object Promise]",g="[object RegExp]",h="[object Set]",y="[object String]",b="[object Symbol]",w="[object WeakMap]",S="[object ArrayBuffer]",E="[object DataView]",_=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,C={};C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C[i]=C[o]=C[S]=C[a]=C[E]=C[s]=C[l]=C[c]=C[u]=C[d]=C[f]=C[g]=C[h]=C[y]=C[w]=!1;var T=typeof bd=="object"&&bd&&bd.Object===Object&&bd,O=typeof self=="object"&&self&&self.Object===Object&&self,R=T||O||Function("return this")(),j=t&&!t.nodeType&&t,D=j&&e&&!e.nodeType&&e,L=D&&D.exports===j,V=L&&T.process,z=(function(){try{return V&&V.binding&&V.binding("util")}catch{}})(),B=z&&z.isTypedArray;function H(Me,ut){for(var It=-1,Ue=Me==null?0:Me.length;++It<Ue;)if(ut(Me[It],It,Me))return!0;return!1}function J(Me){var ut=-1,It=Array(Me.size);return Me.forEach(function(Ue,lt){It[++ut]=[lt,Ue]}),It}function ne(Me){var ut=-1,It=Array(Me.size);return Me.forEach(function(Ue){It[++ut]=Ue}),It}var q,ee,te,$=Array.prototype,ae=Function.prototype,ue=Object.prototype,me=R["__core-js_shared__"],Fe=ae.toString,Ie=ue.hasOwnProperty,Ee=(q=/[^.]+$/.exec(me&&me.keys&&me.keys.IE_PROTO||""))?"Symbol(src)_1."+q:"",He=ue.toString,it=RegExp("^"+Fe.call(Ie).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),St=L?R.Buffer:void 0,xt=R.Symbol,Ct=R.Uint8Array,We=ue.propertyIsEnumerable,Oe=$.splice,ye=xt?xt.toStringTag:void 0,Ve=Object.getOwnPropertySymbols,Xe=St?St.isBuffer:void 0,se=(ee=Object.keys,te=Object,function(Me){return ee(te(Me))}),we=or(R,"DataView"),Le=or(R,"Map"),ot=or(R,"Promise"),_e=or(R,"Set"),Ce=or(R,"WeakMap"),dt=or(Object,"create"),Ne=Zn(we),Ye=Zn(Le),jt=Zn(ot),qt=Zn(_e),Jt=Zn(Ce),Ht=xt?xt.prototype:void 0,en=Ht?Ht.valueOf:void 0;function hn(Me){var ut=-1,It=Me==null?0:Me.length;for(this.clear();++ut<It;){var Ue=Me[ut];this.set(Ue[0],Ue[1])}}function Zt(Me){var ut=-1,It=Me==null?0:Me.length;for(this.clear();++ut<It;){var Ue=Me[ut];this.set(Ue[0],Ue[1])}}function Tt(Me){var ut=-1,It=Me==null?0:Me.length;for(this.clear();++ut<It;){var Ue=Me[ut];this.set(Ue[0],Ue[1])}}function xn(Me){var ut=-1,It=Me==null?0:Me.length;for(this.__data__=new Tt;++ut<It;)this.add(Me[ut])}function Jn(Me){var ut=this.__data__=new Zt(Me);this.size=ut.size}function ir(Me,ut){var It=Gr(Me),Ue=!It&&Hr(Me),lt=!It&&!Ue&&Kr(Me),pt=!It&&!Ue&&!lt&&Wn(Me),Ut=It||Ue||lt||pt,Pt=Ut?(function(Xt,un){for(var Ln=-1,Yt=Array(Xt);++Ln<Xt;)Yt[Ln]=un(Ln);return Yt})(Me.length,String):[],In=Pt.length;for(var mn in Me)!Ie.call(Me,mn)||Ut&&(mn=="length"||lt&&(mn=="offset"||mn=="parent")||pt&&(mn=="buffer"||mn=="byteLength"||mn=="byteOffset")||er(mn,In))||Pt.push(mn);return Pt}function Bt(Me,ut){for(var It=Me.length;It--;)if(yr(Me[It][0],ut))return It;return-1}function Sr(Me){return Me==null?Me===void 0?"[object Undefined]":"[object Null]":ye&&ye in Object(Me)?(function(ut){var It=Ie.call(ut,ye),Ue=ut[ye];try{ut[ye]=void 0;var lt=!0}catch{}var pt=He.call(ut);return lt&&(It?ut[ye]=Ue:delete ut[ye]),pt})(Me):(function(ut){return He.call(ut)})(Me)}function _r(Me){return ln(Me)&&Sr(Me)==i}function mr(Me,ut,It,Ue,lt){return Me===ut||(Me==null||ut==null||!ln(Me)&&!ln(ut)?Me!=Me&&ut!=ut:(function(pt,Ut,Pt,In,mn,Xt){var un=Gr(pt),Ln=Gr(Ut),Yt=un?o:Or(pt),tn=Ln?o:Or(Ut),Fn=(Yt=Yt==i?f:Yt)==f,hr=(tn=tn==i?f:tn)==f,dn=Yt==tn;if(dn&&Kr(pt)){if(!Kr(Ut))return!1;un=!0,Fn=!1}if(dn&&!Fn)return Xt||(Xt=new Jn),un||Wn(pt)?fi(pt,Ut,Pt,In,mn,Xt):(function(Sn,On,kr,Cn,Ti,gr,Ar){switch(kr){case E:if(Sn.byteLength!=On.byteLength||Sn.byteOffset!=On.byteOffset)return!1;Sn=Sn.buffer,On=On.buffer;case S:return!(Sn.byteLength!=On.byteLength||!gr(new Ct(Sn),new Ct(On)));case a:case s:case d:return yr(+Sn,+On);case l:return Sn.name==On.name&&Sn.message==On.message;case g:case y:return Sn==On+"";case u:var Xr=J;case h:var Vr=1&Cn;if(Xr||(Xr=ne),Sn.size!=On.size&&!Vr)return!1;var ti=Ar.get(Sn);if(ti)return ti==On;Cn|=2,Ar.set(Sn,On);var co=fi(Xr(Sn),Xr(On),Cn,Ti,gr,Ar);return Ar.delete(Sn),co;case b:if(en)return en.call(Sn)==en.call(On)}return!1})(pt,Ut,Yt,Pt,In,mn,Xt);if(!(1&Pt)){var Dr=Fn&&Ie.call(pt,"__wrapped__"),Ir=hr&&Ie.call(Ut,"__wrapped__");if(Dr||Ir){var vi=Dr?pt.value():pt,Rn=Ir?Ut.value():Ut;return Xt||(Xt=new Jn),mn(vi,Rn,Pt,In,Xt)}}return!!dn&&(Xt||(Xt=new Jn),(function(Sn,On,kr,Cn,Ti,gr){var Ar=1&kr,Xr=Ji(Sn),Vr=Xr.length,ti=Ji(On),co=ti.length;if(Vr!=co&&!Ar)return!1;for(var Ri=Vr;Ri--;){var bi=Xr[Ri];if(!(Ar?bi in On:Ie.call(On,bi)))return!1}var Eo=gr.get(Sn);if(Eo&&gr.get(On))return Eo==On;var En=!0;gr.set(Sn,On),gr.set(On,Sn);for(var Hi=Ar;++Ri<Vr;){var pa=Sn[bi=Xr[Ri]],hi=On[bi];if(Cn)var qn=Ar?Cn(hi,pa,bi,On,Sn,gr):Cn(pa,hi,bi,Sn,On,gr);if(!(qn===void 0?pa===hi||Ti(pa,hi,kr,Cn,gr):qn)){En=!1;break}Hi||(Hi=bi=="constructor")}if(En&&!Hi){var Vi=Sn.constructor,qi=On.constructor;Vi==qi||!("constructor"in Sn)||!("constructor"in On)||typeof Vi=="function"&&Vi instanceof Vi&&typeof qi=="function"&&qi instanceof qi||(En=!1)}return gr.delete(Sn),gr.delete(On),En})(pt,Ut,Pt,In,mn,Xt))})(Me,ut,It,Ue,mr,lt))}function ri(Me){return!(!Pi(Me)||(function(ut){return!!Ee&&Ee in ut})(Me))&&($i(Me)?it:_).test(Zn(Me))}function Hn(Me){if(It=(ut=Me)&&ut.constructor,Ue=typeof It=="function"&&It.prototype||ue,ut!==Ue)return se(Me);var ut,It,Ue,lt=[];for(var pt in Object(Me))Ie.call(Me,pt)&&pt!="constructor"&&lt.push(pt);return lt}function fi(Me,ut,It,Ue,lt,pt){var Ut=1&It,Pt=Me.length,In=ut.length;if(Pt!=In&&!(Ut&&In>Pt))return!1;var mn=pt.get(Me);if(mn&&pt.get(ut))return mn==ut;var Xt=-1,un=!0,Ln=2&It?new xn:void 0;for(pt.set(Me,ut),pt.set(ut,Me);++Xt<Pt;){var Yt=Me[Xt],tn=ut[Xt];if(Ue)var Fn=Ut?Ue(tn,Yt,Xt,ut,Me,pt):Ue(Yt,tn,Xt,Me,ut,pt);if(Fn!==void 0){if(Fn)continue;un=!1;break}if(Ln){if(!H(ut,function(hr,dn){if(Dr=dn,!Ln.has(Dr)&&(Yt===hr||lt(Yt,hr,It,Ue,pt)))return Ln.push(dn);var Dr})){un=!1;break}}else if(Yt!==tn&&!lt(Yt,tn,It,Ue,pt)){un=!1;break}}return pt.delete(Me),pt.delete(ut),un}function Ji(Me){return(function(ut,It,Ue){var lt=It(ut);return Gr(ut)?lt:(function(pt,Ut){for(var Pt=-1,In=Ut.length,mn=pt.length;++Pt<In;)pt[mn+Pt]=Ut[Pt];return pt})(lt,Ue(ut))})(Me,Tr,Cr)}function Lr(Me,ut){var It,Ue,lt=Me.__data__;return((Ue=typeof(It=ut))=="string"||Ue=="number"||Ue=="symbol"||Ue=="boolean"?It!=="__proto__":It===null)?lt[typeof ut=="string"?"string":"hash"]:lt.map}function or(Me,ut){var It=(function(Ue,lt){return Ue==null?void 0:Ue[lt]})(Me,ut);return ri(It)?It:void 0}hn.prototype.clear=function(){this.__data__=dt?dt(null):{},this.size=0},hn.prototype.delete=function(Me){var ut=this.has(Me)&&delete this.__data__[Me];return this.size-=ut?1:0,ut},hn.prototype.get=function(Me){var ut=this.__data__;if(dt){var It=ut[Me];return It===n?void 0:It}return Ie.call(ut,Me)?ut[Me]:void 0},hn.prototype.has=function(Me){var ut=this.__data__;return dt?ut[Me]!==void 0:Ie.call(ut,Me)},hn.prototype.set=function(Me,ut){var It=this.__data__;return this.size+=this.has(Me)?0:1,It[Me]=dt&&ut===void 0?n:ut,this},Zt.prototype.clear=function(){this.__data__=[],this.size=0},Zt.prototype.delete=function(Me){var ut=this.__data__,It=Bt(ut,Me);return!(It<0||(It==ut.length-1?ut.pop():Oe.call(ut,It,1),--this.size,0))},Zt.prototype.get=function(Me){var ut=this.__data__,It=Bt(ut,Me);return It<0?void 0:ut[It][1]},Zt.prototype.has=function(Me){return Bt(this.__data__,Me)>-1},Zt.prototype.set=function(Me,ut){var It=this.__data__,Ue=Bt(It,Me);return Ue<0?(++this.size,It.push([Me,ut])):It[Ue][1]=ut,this},Tt.prototype.clear=function(){this.size=0,this.__data__={hash:new hn,map:new(Le||Zt),string:new hn}},Tt.prototype.delete=function(Me){var ut=Lr(this,Me).delete(Me);return this.size-=ut?1:0,ut},Tt.prototype.get=function(Me){return Lr(this,Me).get(Me)},Tt.prototype.has=function(Me){return Lr(this,Me).has(Me)},Tt.prototype.set=function(Me,ut){var It=Lr(this,Me),Ue=It.size;return It.set(Me,ut),this.size+=It.size==Ue?0:1,this},xn.prototype.add=xn.prototype.push=function(Me){return this.__data__.set(Me,n),this},xn.prototype.has=function(Me){return this.__data__.has(Me)},Jn.prototype.clear=function(){this.__data__=new Zt,this.size=0},Jn.prototype.delete=function(Me){var ut=this.__data__,It=ut.delete(Me);return this.size=ut.size,It},Jn.prototype.get=function(Me){return this.__data__.get(Me)},Jn.prototype.has=function(Me){return this.__data__.has(Me)},Jn.prototype.set=function(Me,ut){var It=this.__data__;if(It instanceof Zt){var Ue=It.__data__;if(!Le||Ue.length<199)return Ue.push([Me,ut]),this.size=++It.size,this;It=this.__data__=new Tt(Ue)}return It.set(Me,ut),this.size=It.size,this};var Cr=Ve?function(Me){return Me==null?[]:(Me=Object(Me),(function(ut,It){for(var Ue=-1,lt=ut==null?0:ut.length,pt=0,Ut=[];++Ue<lt;){var Pt=ut[Ue];It(Pt,Ue,ut)&&(Ut[pt++]=Pt)}return Ut})(Ve(Me),function(ut){return We.call(Me,ut)}))}:function(){return[]},Or=Sr;function er(Me,ut){return!!(ut=ut??r)&&(typeof Me=="number"||m.test(Me))&&Me>-1&&Me%1==0&&Me<ut}function Zn(Me){if(Me!=null){try{return Fe.call(Me)}catch{}try{return Me+""}catch{}}return""}function yr(Me,ut){return Me===ut||Me!=Me&&ut!=ut}(we&&Or(new we(new ArrayBuffer(1)))!=E||Le&&Or(new Le)!=u||ot&&Or(ot.resolve())!=p||_e&&Or(new _e)!=h||Ce&&Or(new Ce)!=w)&&(Or=function(Me){var ut=Sr(Me),It=ut==f?Me.constructor:void 0,Ue=It?Zn(It):"";if(Ue)switch(Ue){case Ne:return E;case Ye:return u;case jt:return p;case qt:return h;case Jt:return w}return ut});var Hr=_r((function(){return arguments})())?_r:function(Me){return ln(Me)&&Ie.call(Me,"callee")&&!We.call(Me,"callee")},Gr=Array.isArray,Kr=Xe||function(){return!1};function $i(Me){if(!Pi(Me))return!1;var ut=Sr(Me);return ut==c||ut=="[object GeneratorFunction]"||ut=="[object AsyncFunction]"||ut=="[object Proxy]"}function Ni(Me){return typeof Me=="number"&&Me>-1&&Me%1==0&&Me<=r}function Pi(Me){var ut=typeof Me;return Me!=null&&(ut=="object"||ut=="function")}function ln(Me){return Me!=null&&typeof Me=="object"}var Wn=B?(function(Me){return function(ut){return Me(ut)}})(B):function(Me){return ln(Me)&&Ni(Me.length)&&!!C[Sr(Me)]};function Tr(Me){return(ut=Me)!=null&&Ni(ut.length)&&!$i(ut)?ir(Me):Hn(Me);var ut}e.exports=function(Me,ut){return mr(Me,ut)}})(Yk,Yk.exports)),Yk.exports),BRe=g1(zRe);function cae(e,t,n){return e[t]?e[t][0]?e[t][0][n]:e[t][n]:t==="contentBoxSize"?e.contentRect[n==="inlineSize"?"width":"height"]:void 0}function $Re(e){e===void 0&&(e={});var t=e.onResize,n=x.useRef(void 0);n.current=t;var r=e.round||Math.round,i=x.useRef(),o=x.useState({width:void 0,height:void 0}),a=o[0],s=o[1],l=x.useRef(!1);x.useEffect(function(){return l.current=!1,function(){l.current=!0}},[]);var c=x.useRef({width:void 0,height:void 0}),u=(function(d,f){var p=x.useRef(null),g=x.useRef(null);g.current=f;var h=x.useRef(null);x.useEffect(function(){y()});var y=x.useCallback(function(){var b=h.current,w=g.current,S=b||(w?w instanceof Element?w:w.current:null);p.current&&p.current.element===S&&p.current.subscriber===d||(p.current&&p.current.cleanup&&p.current.cleanup(),p.current={element:S,subscriber:d,cleanup:S?d(S):void 0})},[d]);return x.useEffect(function(){return function(){p.current&&p.current.cleanup&&(p.current.cleanup(),p.current=null)}},[]),x.useCallback(function(b){h.current=b,y()},[y])})(x.useCallback(function(d){return i.current&&i.current.box===e.box&&i.current.round===r||(i.current={box:e.box,round:r,instance:new ResizeObserver(function(f){var p=f[0],g=e.box==="border-box"?"borderBoxSize":e.box==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",h=cae(p,g,"inlineSize"),y=cae(p,g,"blockSize"),b=h?r(h):void 0,w=y?r(y):void 0;if(c.current.width!==b||c.current.height!==w){var S={width:b,height:w};c.current.width=b,c.current.height=w,n.current?n.current(S):l.current||s(S)}})}),i.current.instance.observe(d,{box:e.box}),function(){i.current&&i.current.instance.unobserve(d)}},[e.box,r]),e.ref);return x.useMemo(function(){return{ref:u,width:a.width,height:a.height}},[u,a.width,a.height])}var HRe="allotment-module_splitView__L-yRc",VRe="allotment-module_sashContainer__fzwJF",qRe="allotment-module_splitViewContainer__rQnVa",uae="allotment-module_splitViewView__MGZ6O",WRe="allotment-module_vertical__WSwwa",GRe="allotment-module_horizontal__7doS8",KRe="allotment-module_separatorBorder__x-rDS";let y1,dae=!1,fae=!1;typeof navigator=="object"&&(y1=navigator.userAgent,fae=y1.indexOf("Macintosh")>=0,dae=(y1.indexOf("Macintosh")>=0||y1.indexOf("iPad")>=0||y1.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0);const hae=dae,XRe=fae,pae=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?x.useLayoutEffect:x.useEffect;let YRe=class{constructor(){this._size=void 0}getSize(){return this._size}setSize(e){this._size=e}};function qx(e,t){const n=e.length,r=n-t.length;return r>=0&&e.slice(r,n)===t}var mae,gae={exports:{}},yae,vae,QRe=(mae||(mae=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,d||l,f),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function a(l,c){--l._eventsCount==0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1)),s.prototype.eventNames=function(){var l,c,u=[];if(this._eventsCount===0)return u;for(c in l=this._events)t.call(l,c)&&u.push(n?c.slice(1):c);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},s.prototype.listeners=function(l){var c=n?n+l:l,u=this._events[c];if(!u)return[];if(u.fn)return[u.fn];for(var d=0,f=u.length,p=new Array(f);d<f;d++)p[d]=u[d].fn;return p},s.prototype.listenerCount=function(l){var c=n?n+l:l,u=this._events[c];return u?u.fn?1:u.length:0},s.prototype.emit=function(l,c,u,d,f,p){var g=n?n+l:l;if(!this._events[g])return!1;var h,y,b=this._events[g],w=arguments.length;if(b.fn){switch(b.once&&this.removeListener(l,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,u),!0;case 4:return b.fn.call(b.context,c,u,d),!0;case 5:return b.fn.call(b.context,c,u,d,f),!0;case 6:return b.fn.call(b.context,c,u,d,f,p),!0}for(y=1,h=new Array(w-1);y<w;y++)h[y-1]=arguments[y];b.fn.apply(b.context,h)}else{var S,E=b.length;for(y=0;y<E;y++)switch(b[y].once&&this.removeListener(l,b[y].fn,void 0,!0),w){case 1:b[y].fn.call(b[y].context);break;case 2:b[y].fn.call(b[y].context,c);break;case 3:b[y].fn.call(b[y].context,c,u);break;case 4:b[y].fn.call(b[y].context,c,u,d);break;default:if(!h)for(S=1,h=new Array(w-1);S<w;S++)h[S-1]=arguments[S];b[y].fn.apply(b[y].context,h)}}return!0},s.prototype.on=function(l,c,u){return o(this,l,c,u,!1)},s.prototype.once=function(l,c,u){return o(this,l,c,u,!0)},s.prototype.removeListener=function(l,c,u,d){var f=n?n+l:l;if(!this._events[f])return this;if(!c)return a(this,f),this;var p=this._events[f];if(p.fn)p.fn!==c||d&&!p.once||u&&p.context!==u||a(this,f);else{for(var g=0,h=[],y=p.length;g<y;g++)(p[g].fn!==c||d&&!p[g].once||u&&p[g].context!==u)&&h.push(p[g]);h.length?this._events[f]=h.length===1?h[0]:h:a(this,f)}return this},s.prototype.removeAllListeners=function(l){var c;return l?(c=n?n+l:l,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(gae)),gae.exports),Qk=g1(QRe);function bae(e,t){const n=e.indexOf(t);n>-1&&(e.splice(n,1),e.unshift(t))}function Jk(e,t){const n=e.indexOf(t);n>-1&&(e.splice(n,1),e.push(t))}function pl(e,t,n=1){const r=Math.max(0,Math.ceil((t-e)/n)),i=new Array(r);let o=-1;for(;++o<r;)i[o]=e+o*n;return i}var JRe=g1((function(){if(vae)return yae;vae=1;var e=/^\s+|\s+$/g,t=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,r=/^0o[0-7]+$/i,i=parseInt,o=typeof bd=="object"&&bd&&bd.Object===Object&&bd,a=typeof self=="object"&&self&&self.Object===Object&&self,s=o||a||Function("return this")(),l=Object.prototype.toString,c=Math.max,u=Math.min,d=function(){return s.Date.now()};function f(g){var h=typeof g;return!!g&&(h=="object"||h=="function")}function p(g){if(typeof g=="number")return g;if((function(b){return typeof b=="symbol"||(function(w){return!!w&&typeof w=="object"})(b)&&l.call(b)=="[object Symbol]"})(g))return NaN;if(f(g)){var h=typeof g.valueOf=="function"?g.valueOf():g;g=f(h)?h+"":h}if(typeof g!="string")return g===0?g:+g;g=g.replace(e,"");var y=n.test(g);return y||r.test(g)?i(g.slice(2),y?2:8):t.test(g)?NaN:+g}return yae=function(g,h,y){var b,w,S,E,_,m,C=0,T=!1,O=!1,R=!0;if(typeof g!="function")throw new TypeError("Expected a function");function j(B){var H=b,J=w;return b=w=void 0,C=B,E=g.apply(J,H)}function D(B){var H=B-m;return m===void 0||H>=h||H<0||O&&B-C>=S}function L(){var B=d();if(D(B))return V(B);_=setTimeout(L,(function(H){var J=h-(H-m);return O?u(J,S-(H-C)):J})(B))}function V(B){return _=void 0,R&&b?j(B):(b=w=void 0,E)}function z(){var B=d(),H=D(B);if(b=arguments,w=this,m=B,H){if(_===void 0)return(function(J){return C=J,_=setTimeout(L,h),T?j(J):E})(m);if(O)return _=setTimeout(L,h),j(m)}return _===void 0&&(_=setTimeout(L,h)),E}return h=p(h)||0,f(y)&&(T=!!y.leading,S=(O="maxWait"in y)?c(p(y.maxWait)||0,h):S,R="trailing"in y?!!y.trailing:R),z.cancel=function(){_!==void 0&&clearTimeout(_),C=0,b=m=w=_=void 0},z.flush=function(){return _===void 0?E:V(d())},z}})()),ZRe="sash-module_sash__K-9lB",e6e="sash-module_disabled__Hm-wx",t6e="sash-module_mac__Jf6OJ",wae="sash-module_vertical__pB-rs",n6e="sash-module_minimum__-UKxp",r6e="sash-module_maximum__TCWxD",xae="sash-module_horizontal__kFbiw",Zk="sash-module_hover__80W6I",e3="sash-module_active__bJspD";let ml=(function(e){return e.Vertical="VERTICAL",e.Horizontal="HORIZONTAL",e})({}),Vs=(function(e){return e.Disabled="DISABLED",e.Minimum="MINIMUM",e.Maximum="MAXIMUM",e.Enabled="ENABLED",e})({}),_ae=hae?20:8;const Eae=new Qk;let Sae=class extends Qk{get state(){return this._state}set state(e){this._state!==e&&(this.el.classList.toggle(e6e,e===Vs.Disabled),this.el.classList.toggle("sash-disabled",e===Vs.Disabled),this.el.classList.toggle(n6e,e===Vs.Minimum),this.el.classList.toggle("sash-minimum",e===Vs.Minimum),this.el.classList.toggle(r6e,e===Vs.Maximum),this.el.classList.toggle("sash-maximum",e===Vs.Maximum),this._state=e,this.emit("enablementChange",e))}constructor(e,t,n){var r;super(),this.el=void 0,this.layoutProvider=void 0,this.orientation=void 0,this.size=void 0,this.hoverDelay=300,this.hoverDelayer=JRe(i=>i.classList.add("sash-hover",Zk),this.hoverDelay),this._state=Vs.Enabled,this.onPointerStart=i=>{const o=i.pageX,a=i.pageY,s={startX:o,currentX:o,startY:a,currentY:a};this.el.classList.add("sash-active",e3),this.emit("start",s),this.el.setPointerCapture(i.pointerId);const l=u=>{u.preventDefault();const d={startX:o,currentX:u.pageX,startY:a,currentY:u.pageY};this.emit("change",d)},c=u=>{u.preventDefault(),this.el.classList.remove("sash-active",e3),this.hoverDelayer.cancel(),this.emit("end"),this.el.releasePointerCapture(u.pointerId),window.removeEventListener("pointermove",l),window.removeEventListener("pointerup",c)};window.addEventListener("pointermove",l),window.addEventListener("pointerup",c)},this.onPointerDoublePress=()=>{this.emit("reset")},this.onMouseEnter=()=>{this.el.classList.contains(e3)?(this.hoverDelayer.cancel(),this.el.classList.add("sash-hover",Zk)):this.hoverDelayer(this.el)},this.onMouseLeave=()=>{this.hoverDelayer.cancel(),this.el.classList.remove("sash-hover",Zk)},this.el=document.createElement("div"),this.el.classList.add("sash",ZRe),this.el.dataset.testid="sash",e.append(this.el),XRe&&this.el.classList.add("sash-mac",t6e),this.el.addEventListener("pointerdown",this.onPointerStart),this.el.addEventListener("dblclick",this.onPointerDoublePress),this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("mouseleave",this.onMouseLeave),typeof n.size=="number"?(this.size=n.size,n.orientation===ml.Vertical?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=_ae,Eae.on("onDidChangeGlobalSize",i=>{this.size=i,this.layout()})),this.layoutProvider=t,this.orientation=(r=n.orientation)!=null?r:ml.Vertical,this.orientation===ml.Horizontal?(this.el.classList.add("sash-horizontal",xae),this.el.classList.remove("sash-vertical",wae)):(this.el.classList.remove("sash-horizontal",xae),this.el.classList.add("sash-vertical",wae)),this.layout()}layout(){if(this.orientation===ml.Vertical){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}dispose(){this.el.removeEventListener("pointerdown",this.onPointerStart),this.el.removeEventListener("dblclick",this.onPointerDoublePress),this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("mouseleave",()=>this.onMouseLeave),this.el.remove()}},Wx;var t3;(t3=Wx||(Wx={})).Distribute={type:"distribute"},t3.Split=function(e){return{type:"split",index:e}},t3.Invisible=function(e){return{type:"invisible",cachedVisibleSize:e}};let gl=(function(e){return e.Normal="NORMAL",e.Low="LOW",e.High="HIGH",e})({}),Cae=class{constructor(e,t,n){this.container=void 0,this.view=void 0,this._size=void 0,this._cachedVisibleSize=void 0,this.container=e,this.view=t,this.container.classList.add("split-view-view",uae),this.container.dataset.testid="split-view-view",typeof n=="number"?(this._size=n,this._cachedVisibleSize=void 0,e.classList.add("split-view-view-visible")):(this._size=0,this._cachedVisibleSize=n.cachedVisibleSize)}set size(e){this._size=e}get size(){return this._size}get priority(){return this.view.priority}get snap(){return!!this.view.snap}get cachedVisibleSize(){return this._cachedVisibleSize}get visible(){return this._cachedVisibleSize===void 0}setVisible(e,t){e!==this.visible&&(e?(this.size=Kl(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof t=="number"?t:this.size,this.size=0),this.container.classList.toggle("split-view-view-visible",e),this.view.setVisible&&this.view.setVisible(e))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}set enabled(e){this.container.style.pointerEvents=e?"":"none"}layout(e){this.layoutContainer(e),this.view.layout(this.size,e)}},i6e=class extends Cae{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}},o6e=class extends Cae{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}},a6e=class extends Qk{get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}constructor(e,t={},n,r,i){var o,a;if(super(),this.onDidChange=void 0,this.onDidDragStart=void 0,this.onDidDragEnd=void 0,this.orientation=void 0,this.sashContainer=void 0,this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.sashDragState=void 0,this.proportionalLayout=void 0,this.getSashOrthogonalSize=void 0,this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onSashEnd=s=>{this.emit("sashchange",s),this.saveProportions();for(const l of this.viewItems)l.enabled=!0},this.orientation=(o=t.orientation)!=null?o:ml.Vertical,this.proportionalLayout=(a=t.proportionalLayout)!=null?a:!0,this.getSashOrthogonalSize=t.getSashOrthogonalSize,n&&(this.onDidChange=n),r&&(this.onDidDragStart=r),i&&(this.onDidDragEnd=i),this.sashContainer=document.createElement("div"),this.sashContainer.classList.add("sash-container",VRe),e.prepend(this.sashContainer),t.descriptor){this.size=t.descriptor.size;for(const[s,l]of t.descriptor.views.entries()){const c=l.size,u=l.container,d=l.view;this.addView(u,d,c,s,!0)}this.contentSize=this.viewItems.reduce((s,l)=>s+l.size,0),this.saveProportions()}}addView(e,t,n,r=this.viewItems.length,i){let o;o=typeof n=="number"?n:n.type==="split"?this.getViewSize(n.index)/2:n.type==="invisible"?{cachedVisibleSize:n.cachedVisibleSize}:t.minimumSize;const a=this.orientation===ml.Vertical?new o6e(e,t,o):new i6e(e,t,o);if(this.viewItems.splice(r,0,a),this.viewItems.length>1){const s=this.orientation===ml.Vertical?new Sae(this.sashContainer,{getHorizontalSashTop:u=>this.getSashPosition(u),getHorizontalSashWidth:this.getSashOrthogonalSize},{orientation:ml.Horizontal}):new Sae(this.sashContainer,{getVerticalSashLeft:u=>this.getSashPosition(u),getVerticalSashHeight:this.getSashOrthogonalSize},{orientation:ml.Vertical}),l=this.orientation===ml.Vertical?u=>({sash:s,start:u.startY,current:u.currentY}):u=>({sash:s,start:u.startX,current:u.currentX});s.on("start",u=>{var d;this.emit("sashDragStart"),this.onSashStart(l(u));const f=this.viewItems.map(p=>p.size);(d=this.onDidDragStart)==null||d.call(this,f)}),s.on("change",u=>this.onSashChange(l(u))),s.on("end",()=>{var u;this.emit("sashDragEnd"),this.onSashEnd(this.sashItems.findIndex(f=>f.sash===s));const d=this.viewItems.map(f=>f.size);(u=this.onDidDragEnd)==null||u.call(this,d)}),s.on("reset",()=>{const u=this.sashItems.findIndex(h=>h.sash===s),d=pl(u,-1,-1),f=pl(u+1,this.viewItems.length),p=this.findFirstSnapIndex(d),g=this.findFirstSnapIndex(f);(typeof p!="number"||this.viewItems[p].visible)&&(typeof g!="number"||this.viewItems[g].visible)&&this.emit("sashreset",u)});const c={sash:s};this.sashItems.splice(r-1,0,c)}i||this.relayout(),i||typeof n=="number"||n.type!=="distribute"||this.distributeViewSizes()}removeView(e,t){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");const n=this.viewItems.splice(e,1)[0].view;if(this.viewItems.length>=1){const r=Math.max(e-1,0);this.sashItems.splice(r,1)[0].sash.dispose()}return this.relayout(),t&&t.type==="distribute"&&this.distributeViewSizes(),n}moveView(e,t,n){const r=this.getViewCachedVisibleSize(t),i=r===void 0?this.getViewSize(t):Wx.Invisible(r),o=this.removeView(t);this.addView(e,o,i,n)}getViewCachedVisibleSize(e){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[e].cachedVisibleSize}layout(e=this.size){const t=Math.max(this.size,this.contentSize);if(this.size=e,this.proportions)for(let n=0;n<this.viewItems.length;n++){const r=this.viewItems[n];r.size=Kl(Math.round(this.proportions[n]*e),r.minimumSize,r.maximumSize)}else{const n=pl(0,this.viewItems.length),r=n.filter(o=>this.viewItems[o].priority===gl.Low),i=n.filter(o=>this.viewItems[o].priority===gl.High);this.resize(this.viewItems.length-1,e-t,void 0,r,i)}this.distributeEmptySpace(),this.layoutViews()}resizeView(e,t){if(e<0||e>=this.viewItems.length)return;const n=pl(0,this.viewItems.length).filter(a=>a!==e),r=[...n.filter(a=>this.viewItems[a].priority===gl.Low),e],i=n.filter(a=>this.viewItems[a].priority===gl.High),o=this.viewItems[e];t=Math.round(t),t=Kl(t,o.minimumSize,Math.min(o.maximumSize,this.size)),o.size=t,this.relayout(r,i)}resizeViews(e){for(let t=0;t<e.length;t++){const n=this.viewItems[t];let r=e[t];r=Math.round(r),r=Kl(r,n.minimumSize,Math.min(n.maximumSize,this.size)),n.size=r}this.contentSize=this.viewItems.reduce((t,n)=>t+n.size,0),this.saveProportions(),this.layout(this.size)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}isViewVisible(e){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[e].visible}setViewVisible(e,t){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");this.viewItems[e].setVisible(t),this.distributeEmptySpace(e),this.layoutViews(),this.saveProportions()}distributeViewSizes(){const e=[];let t=0;for(const a of this.viewItems)a.maximumSize-a.minimumSize>0&&(e.push(a),t+=a.size);const n=Math.floor(t/e.length);for(const a of e)a.size=Kl(n,a.minimumSize,a.maximumSize);const r=pl(0,this.viewItems.length),i=r.filter(a=>this.viewItems[a].priority===gl.Low),o=r.filter(a=>this.viewItems[a].priority===gl.High);this.relayout(i,o)}dispose(){this.sashItems.forEach(e=>e.sash.dispose()),this.sashItems=[],this.sashContainer.remove()}relayout(e,t){const n=this.viewItems.reduce((r,i)=>r+i.size,0);this.resize(this.viewItems.length-1,this.size-n,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}onSashStart({sash:e,start:t}){const n=this.sashItems.findIndex(r=>r.sash===e);(r=>{const i=this.viewItems.map(b=>b.size);let o,a,s=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY;const c=pl(n,-1,-1),u=pl(n+1,this.viewItems.length),d=c.reduce((b,w)=>b+(this.viewItems[w].minimumSize-i[w]),0),f=c.reduce((b,w)=>b+(this.viewItems[w].viewMaximumSize-i[w]),0),p=u.length===0?Number.POSITIVE_INFINITY:u.reduce((b,w)=>b+(i[w]-this.viewItems[w].minimumSize),0),g=u.length===0?Number.NEGATIVE_INFINITY:u.reduce((b,w)=>b+(i[w]-this.viewItems[w].viewMaximumSize),0);s=Math.max(d,g),l=Math.min(p,f);const h=this.findFirstSnapIndex(c),y=this.findFirstSnapIndex(u);if(typeof h=="number"){const b=this.viewItems[h],w=Math.floor(b.viewMinimumSize/2);o={index:h,limitDelta:b.visible?s-w:s+w,size:b.size}}if(typeof y=="number"){const b=this.viewItems[y],w=Math.floor(b.viewMinimumSize/2);a={index:y,limitDelta:b.visible?l+w:l-w,size:b.size}}this.sashDragState={start:r,current:r,index:n,sizes:i,minDelta:s,maxDelta:l,snapBefore:o,snapAfter:a}})(t)}onSashChange({current:e}){const{index:t,start:n,sizes:r,minDelta:i,maxDelta:o,snapBefore:a,snapAfter:s}=this.sashDragState;this.sashDragState.current=e;const l=e-n;this.resize(t,l,r,void 0,void 0,i,o,a,s),this.distributeEmptySpace(),this.layoutViews()}getSashPosition(e){let t=0;for(let n=0;n<this.sashItems.length;n++)if(t+=this.viewItems[n].size,this.sashItems[n].sash===e)return t;return 0}resize(e,t,n=this.viewItems.map(c=>c.size),r,i,o=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,s,l){if(e<0||e>=this.viewItems.length)return 0;const c=pl(e,-1,-1),u=pl(e+1,this.viewItems.length);if(i)for(const m of i)bae(c,m),bae(u,m);if(r)for(const m of r)Jk(c,m),Jk(u,m);const d=c.map(m=>this.viewItems[m]),f=c.map(m=>n[m]),p=u.map(m=>this.viewItems[m]),g=u.map(m=>n[m]),h=c.reduce((m,C)=>m+(this.viewItems[C].minimumSize-n[C]),0),y=c.reduce((m,C)=>m+(this.viewItems[C].maximumSize-n[C]),0),b=u.length===0?Number.POSITIVE_INFINITY:u.reduce((m,C)=>m+(n[C]-this.viewItems[C].minimumSize),0),w=u.length===0?Number.NEGATIVE_INFINITY:u.reduce((m,C)=>m+(n[C]-this.viewItems[C].maximumSize),0),S=Math.max(h,w,o),E=Math.min(b,y,a);let _=!1;if(s){const m=this.viewItems[s.index],C=t>=s.limitDelta;_=C!==m.visible,m.setVisible(C,s.size)}if(!_&&l){const m=this.viewItems[l.index],C=t<l.limitDelta;_=C!==m.visible,m.setVisible(C,l.size)}if(_)return this.resize(e,t,n,r,i,o,a);for(let m=0,C=t=Kl(t,S,E);m<d.length;m++){const T=d[m],O=Kl(f[m]+C,T.minimumSize,T.maximumSize);C-=O-f[m],T.size=O}for(let m=0,C=t;m<p.length;m++){const T=p[m],O=Kl(g[m]-C,T.minimumSize,T.maximumSize);C+=O-g[m],T.size=O}return t}distributeEmptySpace(e){const t=this.viewItems.reduce((l,c)=>l+c.size,0);let n=this.size-t;const r=pl(0,this.viewItems.length),i=[],o=r.filter(l=>this.viewItems[l].priority===gl.Low),a=r.filter(l=>this.viewItems[l].priority===gl.Normal),s=r.filter(l=>this.viewItems[l].priority===gl.High);i.push(...s,...a,...o),typeof e=="number"&&Jk(i,e);for(let l=0;n!==0&&l<i.length;l++){const c=this.viewItems[i[l]],u=Kl(c.size+n,c.minimumSize,c.maximumSize);n-=u-c.size,c.size=u}}layoutViews(){var e;this.contentSize=this.viewItems.reduce((n,r)=>n+r.size,0);let t=0;for(const n of this.viewItems)n.layout(t),t+=n.size;(e=this.onDidChange)!=null&&e.call(this,this.viewItems.map(n=>n.size)),this.sashItems.forEach(n=>n.sash.layout()),this.updateSashEnablement()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(e=>e.size/this.contentSize))}updateSashEnablement(){let e=!1;const t=this.viewItems.map(s=>e=s.size-s.minimumSize>0||e);e=!1;const n=this.viewItems.map(s=>e=s.maximumSize-s.size>0||e),r=[...this.viewItems].reverse();e=!1;const i=r.map(s=>e=s.size-s.minimumSize>0||e).reverse();e=!1;const o=r.map(s=>e=s.maximumSize-s.size>0||e).reverse();let a=0;for(let s=0;s<this.sashItems.length;s++){const{sash:l}=this.sashItems[s];a+=this.viewItems[s].size;const c=!(t[s]&&o[s+1]),u=!(n[s]&&i[s+1]);if(c&&u){const d=pl(s,-1,-1),f=pl(s+1,this.viewItems.length),p=this.findFirstSnapIndex(d),g=this.findFirstSnapIndex(f),h=typeof p=="number"&&!this.viewItems[p].visible,y=typeof g=="number"&&!this.viewItems[g].visible;h&&i[s]&&(a>0||this.startSnappingEnabled)?l.state=Vs.Minimum:y&&t[s]&&(a<this.contentSize||this.endSnappingEnabled)?l.state=Vs.Maximum:l.state=Vs.Disabled}else l.state=c&&!u?Vs.Minimum:!c&&u?Vs.Maximum:Vs.Enabled}}findFirstSnapIndex(e){for(const t of e){const n=this.viewItems[t];if(n.visible&&n.snap)return t}for(const t of e){const n=this.viewItems[t];if(n.visible&&n.maximumSize-n.minimumSize>0)return;if(!n.visible&&n.snap)return t}}},Gp=class{constructor(e){this.size=void 0,this.size=e}getPreferredSize(){return this.size}},Tae=class{constructor(e,t){this.proportion=void 0,this.layoutService=void 0,this.proportion=e,this.layoutService=t}getPreferredSize(){return this.proportion*this.layoutService.getSize()}},Gx=class{getPreferredSize(){}},Aae=class{get preferredSize(){return this.layoutStrategy.getPreferredSize()}set preferredSize(e){if(typeof e=="number")this.layoutStrategy=new Gp(e);else if(typeof e=="string"){const t=e.trim();if(qx(t,"%")){const n=Number(t.slice(0,-1))/100;this.layoutStrategy=new Tae(n,this.layoutService)}else if(qx(t,"px")){const n=Number(t.slice(0,-2))/100;this.layoutStrategy=new Gp(n)}else if(typeof Number.parseFloat(t)=="number"){const n=Number.parseFloat(t);this.layoutStrategy=new Gp(n)}else this.layoutStrategy=new Gx}else this.layoutStrategy=new Gx}constructor(e,t){var n;if(this.minimumSize=0,this.maximumSize=Number.POSITIVE_INFINITY,this.element=void 0,this.priority=void 0,this.snap=void 0,this.layoutService=void 0,this.layoutStrategy=void 0,this.layoutService=e,this.element=t.element,this.minimumSize=typeof t.minimumSize=="number"?t.minimumSize:30,this.maximumSize=typeof t.maximumSize=="number"?t.maximumSize:Number.POSITIVE_INFINITY,typeof t.preferredSize=="number")this.layoutStrategy=new Gp(t.preferredSize);else if(typeof t.preferredSize=="string"){const r=t.preferredSize.trim();if(qx(r,"%")){const i=Number(r.slice(0,-1))/100;this.layoutStrategy=new Tae(i,this.layoutService)}else if(qx(r,"px")){const i=Number(r.slice(0,-2));this.layoutStrategy=new Gp(i)}else if(typeof Number.parseFloat(r)=="number"){const i=Number.parseFloat(r);this.layoutStrategy=new Gp(i)}else this.layoutStrategy=new Gx}else this.layoutStrategy=new Gx;this.priority=(n=t.priority)!=null?n:gl.Normal,this.snap=typeof t.snap=="boolean"&&t.snap}layout(e){}};function Iae(e){return e.minSize!==void 0||e.maxSize!==void 0||e.preferredSize!==void 0||e.priority!==void 0||e.visible!==void 0}const n3=x.forwardRef(({className:e,children:t},n)=>ie.createElement("div",{ref:n,className:Xk("split-view-view",uae,e)},t));n3.displayName="Allotment.Pane";const Oae=x.forwardRef(({children:e,className:t,id:n,maxSize:r=1/0,minSize:i=30,proportionalLayout:o=!0,separator:a=!0,sizes:s,defaultSizes:l=s,snap:c=!1,vertical:u=!1,onChange:d,onReset:f,onVisibleChange:p,onDragStart:g,onDragEnd:h},y)=>{const b=x.useRef(null),w=x.useRef([]),S=x.useRef(new Map),E=x.useRef(null),_=x.useRef(new Map),m=x.useRef(new YRe),C=x.useRef([]),[T,O]=x.useState(!1),R=x.useMemo(()=>ie.Children.toArray(e).filter(ie.isValidElement),[e]),j=x.useCallback(D=>{var L,V;const z=(L=C.current)==null?void 0:L[D];return typeof(z==null?void 0:z.preferredSize)=="number"&&((V=E.current)!=null&&V.resizeView(D,Math.round(z.preferredSize)),!0)},[]);return x.useImperativeHandle(y,()=>({reset:()=>{if(f)f();else{var D;(D=E.current)==null||D.distributeViewSizes();for(let L=0;L<C.current.length;L++)j(L)}},resize:D=>{var L;(L=E.current)==null||L.resizeViews(D)}})),pae(()=>{let D=!0;l&&_.current.size!==l.length&&(D=!1,console.warn(`Expected ${l.length} children based on defaultSizes but found ${_.current.size}`)),D&&l&&(w.current=R.map(z=>z.key));const L=m1({orientation:u?ml.Vertical:ml.Horizontal,proportionalLayout:o},D&&l&&{descriptor:{size:l.reduce((z,B)=>z+B,0),views:l.map((z,B)=>{var H,J,ne,q;const ee=S.current.get(w.current[B]),te=new Aae(m.current,m1({element:document.createElement("div"),minimumSize:(H=ee==null?void 0:ee.minSize)!=null?H:i,maximumSize:(J=ee==null?void 0:ee.maxSize)!=null?J:r,priority:(ne=ee==null?void 0:ee.priority)!=null?ne:gl.Normal},(ee==null?void 0:ee.preferredSize)&&{preferredSize:ee==null?void 0:ee.preferredSize},{snap:(q=ee==null?void 0:ee.snap)!=null?q:c}));return C.current.push(te),{container:[..._.current.values()][B],size:z,view:te}})}});E.current=new a6e(b.current,L,d,g,h),E.current.on("sashDragStart",()=>{var z;(z=b.current)==null||z.classList.add("split-view-sash-dragging")}),E.current.on("sashDragEnd",()=>{var z;(z=b.current)==null||z.classList.remove("split-view-sash-dragging")}),E.current.on("sashchange",z=>{if(p&&E.current){const B=R.map(H=>H.key);for(let H=0;H<B.length;H++){const J=S.current.get(B[H]);(J==null?void 0:J.visible)!==void 0&&J.visible!==E.current.isViewVisible(H)&&p(H,E.current.isViewVisible(H))}}}),E.current.on("sashreset",z=>{if(f)f();else{var B;if(j(z)||j(z+1))return;(B=E.current)==null||B.distributeViewSizes()}});const V=E.current;return()=>{V.dispose()}},[]),pae(()=>{if(T){const $=R.map(Ie=>Ie.key),ae=[...w.current],ue=$.filter(Ie=>!w.current.includes(Ie)),me=$.filter(Ie=>w.current.includes(Ie)),Fe=w.current.map(Ie=>!$.includes(Ie));for(let Ie=Fe.length-1;Ie>=0;Ie--){var D;Fe[Ie]&&((D=E.current)!=null&&D.removeView(Ie),ae.splice(Ie,1),C.current.splice(Ie,1))}for(const Ie of ue){var L,V,z,B,H;const Ee=S.current.get(Ie),He=new Aae(m.current,m1({element:document.createElement("div"),minimumSize:(L=Ee==null?void 0:Ee.minSize)!=null?L:i,maximumSize:(V=Ee==null?void 0:Ee.maxSize)!=null?V:r,priority:(z=Ee==null?void 0:Ee.priority)!=null?z:gl.Normal},(Ee==null?void 0:Ee.preferredSize)&&{preferredSize:Ee==null?void 0:Ee.preferredSize},{snap:(B=Ee==null?void 0:Ee.snap)!=null?B:c}));(H=E.current)!=null&&H.addView(_.current.get(Ie),He,Wx.Distribute,$.findIndex(it=>it===Ie)),ae.splice($.findIndex(it=>it===Ie),0,Ie),C.current.splice($.findIndex(it=>it===Ie),0,He)}for(;!BRe($,ae);)for(const[Ie,Ee]of $.entries()){const He=ae.findIndex(it=>it===Ee);if(He!==Ie){var J;(J=E.current)==null||J.moveView(_.current.get(Ee),He,Ie);const it=ae[He];ae.splice(He,1),ae.splice(Ie,0,it);break}}for(const Ie of ue){var ne;const Ee=$.findIndex(it=>it===Ie),He=C.current[Ee].preferredSize;He!==void 0&&((ne=E.current)==null||ne.resizeView(Ee,He))}for(const Ie of[...ue,...me]){var q,ee;const Ee=S.current.get(Ie),He=$.findIndex(it=>it===Ie);Ee&&Iae(Ee)&&Ee.visible!==void 0&&((q=E.current)==null?void 0:q.isViewVisible(He))!==Ee.visible&&((ee=E.current)==null||ee.setViewVisible(He,Ee.visible))}for(const Ie of me){const Ee=S.current.get(Ie),He=$.findIndex(it=>it===Ie);if(Ee&&Iae(Ee)){var te;Ee.preferredSize!==void 0&&C.current[He].preferredSize!==Ee.preferredSize&&(C.current[He].preferredSize=Ee.preferredSize);let it=!1;Ee.minSize!==void 0&&C.current[He].minimumSize!==Ee.minSize&&(C.current[He].minimumSize=Ee.minSize,it=!0),Ee.maxSize!==void 0&&C.current[He].maximumSize!==Ee.maxSize&&(C.current[He].maximumSize=Ee.maxSize,it=!0),it&&((te=E.current)==null||te.layout())}}(ue.length>0||Fe.length>0)&&(w.current=$)}},[R,T,r,i,c]),x.useEffect(()=>{E.current&&(E.current.onDidChange=d)},[d]),x.useEffect(()=>{E.current&&(E.current.onDidDragStart=g)},[g]),x.useEffect(()=>{E.current&&(E.current.onDidDragEnd=h)},[h]),$Re({ref:b,onResize:({width:D,height:L})=>{var V;D&&L&&((V=E.current)!=null&&V.layout(u?L:D),m.current.setSize(u?L:D),O(!0))}}),x.useEffect(()=>{hae&&s6e(20)},[]),ie.createElement("div",{ref:b,className:Xk("split-view",u?"split-view-vertical":"split-view-horizontal",{"split-view-separator-border":a},HRe,u?WRe:GRe,{[KRe]:a},t),id:n},ie.createElement("div",{className:Xk("split-view-container",qRe)},ie.Children.toArray(e).map(D=>{if(!ie.isValidElement(D))return null;const L=D.key;return D.type.displayName==="Allotment.Pane"?(S.current.set(L,D.props),ie.cloneElement(D,{key:L,ref:V=>{const z=D.ref;z&&(z.current=V),V?_.current.set(L,V):_.current.delete(L)}})):ie.createElement(n3,{key:L,ref:V=>{V?_.current.set(L,V):_.current.delete(L)}},D)})))});function s6e(e){const t=Kl(e,4,20),n=Kl(e,1,8);document.documentElement.style.setProperty("--sash-size",t+"px"),document.documentElement.style.setProperty("--sash-hover-size",n+"px"),(function(r){_ae=r,Eae.emit("onDidChangeGlobalSize",r)})(t)}Oae.displayName="Allotment";var Au=Object.assign(Oae,{Pane:n3});const l6e=({size:e})=>v.jsxs("svg",{width:e,height:e,viewBox:"0 0 26 26",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("path",{d:"M25 22.3704H1V24.1481H25V22.3704Z",fill:"currentColor"}),v.jsx("path",{d:"M1 19.2593V21.037H25V19.7037L21.8889 13.4815H16.1111V16.5926H9.88889V13.4815H4.11111L1 19.2593Z",fill:"currentColor"}),v.jsx("path",{d:"M13 1.92593L6.33337 8.59259H11.2223V14.8148H14.3334V8.59259H19.6667L13 1.92593Z",fill:"currentColor"})]});class r3{static async searchInSingleBuffer(t,n,r={},i,o,a=1e4){const{caseSensitive:s=!1,wholeWord:l=!1,useRegex:c=!1}=r;if(typeof t.id!="number")return[];const u=[];try{if(i!=null&&i.aborted)throw new Js;const d=await this.findTitleMatches(t.label,n,{caseSensitive:s,wholeWord:l,useRegex:c},o);if(i!=null&&i.aborted)throw new Js;for(const f of d){if(u.length>=a)break;u.push(this.createTitleMatch(t,f.start,f.end))}if(u.length<a&&t.value){const f=a-u.length,p=await this.searchInBuffer(t,n,{caseSensitive:s,wholeWord:l,useRegex:c},f,o);if(i!=null&&i.aborted)throw new Js;u.push(...p)}return u}catch(d){throw d instanceof Js||d instanceof jd&&(d.partialSearchMatches&&u.push(...d.partialSearchMatches),d.partialSearchMatches=u),d}}static async*searchInBuffers(t,n,r={},i,o){const{caseSensitive:a=!1,wholeWord:s=!1,useRegex:l=!1,includeDeleted:c=!0}=r,u=this.sortBuffersByPriority(t,c);let d=[];const f=1e4,p=3e4;let g=!1,h=!1;const y=[],b=Date.now();for(const S of u){if(i!=null&&i.aborted)throw new Js;if(Date.now()-b>p){h=!0;break}if(typeof S.id!="number")continue;const E=f-d.length;if(E<=0){g=!0;break}try{const _=Date.now(),m=await this.searchInSingleBuffer(S,n,{caseSensitive:a,wholeWord:s,useRegex:l},i,o,E),C=Date.now()-_;if(m.length>0?(d=[...d,...m],yield{bufferLabel:S.label,currentMatches:m,isComplete:!1,bufferId:S.id,searchDuration:C}):yield{bufferLabel:S.label,currentMatches:[],isComplete:!1,bufferId:S.id,searchDuration:C},d.length>=f){g=!0;break}}catch(_){if(_ instanceof Js)throw _;if(_ instanceof jd){h=!0,y.push(S.label);const m=_.partialSearchMatches||[];m.length>0&&(d=[...d,...m],yield{bufferLabel:S.label,currentMatches:m,isComplete:!1,error:_})}else throw yield{bufferLabel:S.label,currentMatches:[],isComplete:!1,error:_},_}}const w={query:n,matches:d,limitReached:g};if(h){const S=y.length===1?`1 tab (${y[0]})`:`${y.length} tabs`;throw new jd(`Search timed out after processing ${S}.${d.length>0?" Showing partial results.":""}`,d)}return w}static sortBuffersByPriority(t,n=!0){const r=t.filter(o=>!o.archived).sort((o,a)=>o.position!==void 0&&a.position!==void 0?o.position-a.position:0),i=n?t.filter(o=>o.archived).sort((o,a)=>o.archivedAt&&a.archivedAt?a.archivedAt-o.archivedAt:0):[];return[...r,...i]}static async searchInBuffer(t,n,r,i,o){var a;if(!t.value)return[];try{return(await nL(t.value,n,r,i,o)).map(s=>({bufferId:t.id,bufferLabel:t.label,range:{startLineNumber:s.lineNumber,startColumn:s.column,endLineNumber:s.endLineNumber,endColumn:s.endColumn},text:s.text,previewText:s.previewText,matchStartInPreview:s.matchStartInPreview,matchEndInPreview:s.matchEndInPreview,isArchived:t.archived||!1,archivedAt:t.archivedAt,isMetricsMatch:!!t.metricsViewState}))}catch(s){if(s instanceof jd){const l=((a=s.partialMatches)==null?void 0:a.map(c=>({bufferId:t.id,bufferLabel:t.label,range:{startLineNumber:c.lineNumber,startColumn:c.column,endLineNumber:c.endLineNumber,endColumn:c.endColumn},text:c.text,previewText:c.previewText,matchStartInPreview:c.matchStartInPreview,matchEndInPreview:c.matchEndInPreview,isArchived:t.archived||!1,archivedAt:t.archivedAt,isMetricsMatch:!!t.metricsViewState})))||[];throw new jd(s.message,l)}throw s}}static groupMatchesByBuffer(t){const n=new Map;for(const r of t)n.has(r.bufferId)||n.set(r.bufferId,[]),n.get(r.bufferId).push(r);return n}static createTitleMatch(t,n,r){return{bufferId:t.id,bufferLabel:t.label,range:{startLineNumber:1,startColumn:n+1,endLineNumber:1,endColumn:r+1},text:t.label.substring(n,r),previewText:t.label,matchStartInPreview:n,matchEndInPreview:r,isArchived:t.archived||!1,archivedAt:t.archivedAt,isTitleMatch:!0,isMetricsMatch:!!t.metricsViewState}}static async findTitleMatches(t,n,r,i){return(await nL(t,n,r,1,i)).map(o=>({start:o.startOffset,end:o.endOffset}))}}const c6e=U.div.withConfig({displayName:"VirtualizedTree__Wrapper"})([`
  height: 100%;
  width: 100%;

  &:focus {
    outline: none;
  }
`]);function u6e(e,t){const{items:n,renderItem:r,onItemClick:i,onItemDoubleClick:o,onItemKeyDown:a,onBlur:s,focusedIndex:l,setFocusedIndex:c,className:u,style:d}=e,f=x.useRef(null),p=x.useRef(null),g=x.useRef(null),h=x.useCallback(S=>n.findIndex(E=>E.id===S),[n]),y=x.useCallback(S=>{if(!f.current)return;const{to:E}=S;switch(E){case"start":f.current.scrollIntoView({index:0,align:"start",done:()=>c(0)});break;case"end":f.current.scrollIntoView({index:n.length-1,align:"end",done:()=>c(n.length-1)});break;case"next":{const{id:_}=S,m=Math.min(n.length-1,h(_)+1);f.current.scrollIntoView({index:m,done:()=>c(m)});break}case"previous":{const{id:_}=S,m=Math.max(0,h(_)-1);f.current.scrollIntoView({index:m,done:()=>c(m)});break}case"parent":{const{id:_}=S,m=Math.max(0,h(_)-1);f.current.scrollIntoView({index:m,done:()=>c(m)});break}case"pageUp":{if(!p.current)return;const{startIndex:_,endIndex:m}=p.current,C=m-_,T=l!==null&&l!==_?_:Math.max(0,_-C);f.current.scrollIntoView({index:T,align:"start",done:()=>c(T)});break}case"pageDown":{if(!p.current)return;const{startIndex:_,endIndex:m}=p.current,C=m-_,T=l!==null&&l!==m?m:Math.min(n.length-1,m+C);f.current.scrollIntoView({index:T,align:"end",done:()=>c(T)});break}}},[n,l,c,h]),b=x.useCallback(S=>{f.current&&f.current.scrollIntoView({index:S,done:()=>c(S)})},[c]);x.useImperativeHandle(t,()=>({navigateInTree:y,scrollToIndex:b}),[y,b]);const w=x.useCallback(S=>{if(l===null&&n.length>0){if(["ArrowDown","ArrowUp","Tab","Enter","Home","End","PageUp","PageDown"].includes(S.key)){S.preventDefault(),c(0);return}return}if(l===null)return;const E=n[l];if(E&&!(a&&(a(E,l,S),S.defaultPrevented)))switch(S.key){case"ArrowDown":S.preventDefault(),y({to:"next",id:E.id});break;case"Tab":S.shiftKey?(S.preventDefault(),y({to:"previous",id:E.id})):(S.preventDefault(),y({to:"next",id:E.id}));break;case"ArrowUp":S.preventDefault(),y({to:"previous",id:E.id});break;case"Home":S.preventDefault(),y({to:"start"});break;case"End":S.preventDefault(),y({to:"end"});break;case"PageUp":S.preventDefault(),y({to:"pageUp"});break;case"PageDown":S.preventDefault(),y({to:"pageDown"});break}},[l,n,a,y]);return v.jsx(c6e,{ref:g,className:u,style:d,tabIndex:0,onKeyDown:w,onBlur:S=>{var E;s==null||s(),(E=g.current)!=null&&E.contains(S.relatedTarget)||c(null)},children:v.jsx(lO,{totalCount:n.length,ref:f,rangeChanged:S=>{p.current=S},data:n,itemContent:S=>{const E=n[S],_=l===S;return v.jsx("div",{role:"presentation",onClick:m=>{m.stopPropagation(),c(S),i==null||i(E,S)},onDoubleClick:()=>o==null?void 0:o(E,S),"data-index":S,"data-id":E.id,children:r(E,S,_)})},style:{height:"100%"}})})}let kae,Nae,Kx,Rae,i3,o3,Xx,jae,Lae,Mae,Pae,Dae,Fae,Uae,zae,Bae,$ae,Hae,Vae,Yx,qae,Wae,Gae,Kae,Xae,Yae,Qae,Qx,Jae,Zae,ese,tse,nse,rse,ise,v1,Kp,b1,qs,wd,xd,ose,ase,sse,lse,cse,a3,use,dse,fse,hse,pse,mse,gse,yse,vse,bse,wse,xse,_se,Ese,Sse,Cse,Tse,Ase,Ise,Ose,kse,Nse,Rse,jse,Lse;kae=x.forwardRef(u6e),Nae=U.div.withConfig({displayName:"SearchResults__ResultsContainer"})([`
  padding: 0;
  width: 100%;
  height: 100%;
`]),Kx=U.div.withConfig({displayName:"SearchResults__ItemWrapper"})([`
  position: relative;
  display: flex;
  align-items: center;
  padding: 0.5rem 0;
  padding-left: `,`rem;
  padding-right: 1rem;
  user-select: none;
  border: 1px solid transparent;
  border-radius: 0.4rem;
  width: 100%;
  min-height: 3.2rem;

  `,`
`],e=>(e.$level||0)*1.5+1,({$focused:e,theme:t})=>e&&`
    outline: none;
    background: ${t.color.tableSelection};
    border: 1px solid ${t.color.cyan};
  `),Rae=U.div.withConfig({displayName:"SearchResults__ChevronIcon"})([`
  position: absolute;
  left: 0.5rem;
  color: `,`;
  display: flex;
  align-items: center;
  cursor: pointer;

  svg {
    width: 1.5rem;
    height: 1.5rem;
  }
`],({theme:e})=>e.color.gray2),i3=U.div.withConfig({displayName:"SearchResults__FileIcon"})([`
  margin-right: 0.8rem;
  display: flex;
  align-items: center;

  svg {
    width: 1.4rem;
    height: 1.4rem;
  }
`]),o3=U(st).withConfig({displayName:"SearchResults__ItemText"})([`
  flex: 1;
  font-weight: 500;
  color: `,`;
  font-style: `,`;
  display: flex;
  align-items: center;
  gap: 0.8rem;

  .highlight {
    background-color: #45475a;
    color: `,`;
  }

  mark {
    background-color: rgb(163, 127, 96);
    border-radius: 0.2rem;
    color: `,`;
    padding: 0.2rem;
  }
`],({theme:e,$isArchived:t})=>t?e.color.gray2:e.color.foreground,e=>e.$isArchived?"italic":"normal",({theme:e})=>e.color.foreground,({theme:e})=>e.color.foreground),Xx=U.span.withConfig({displayName:"SearchResults__BufferStatus"})([`
  color: `,`;
  font-size: 1rem;
  margin-left: 0.4rem;
  padding: 0.2rem 0.4rem;
  background: `,`;
  border-radius: 0.2rem;
`],({theme:e})=>e.color.gray2,({theme:e})=>e.color.selection),jae=U.span.withConfig({displayName:"SearchResults__MatchCount"})([`
  color: `,`;
  font-size: 1.1rem;
  margin-left: 0.8rem;
`],({theme:e})=>e.color.gray2),Lae=U.span.withConfig({displayName:"SearchResults__LineNumber"})([`
  color: `,`;
  margin-right: 0.5rem;
  text-align: left;
  font-family:
    SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New",
    monospace;
  font-size: 1.1rem;
  min-width: 3.4rem;
`],({theme:e})=>e.color.comment),Mae=U.span.withConfig({displayName:"SearchResults__MatchText"})([`
  color: `,`;
  font-family:
    SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New",
    monospace;
  white-space: pre;
  font-size: 1.1rem;

  mark {
    background-color: rgb(163, 127, 96);
    border-radius: 0.2rem;
    color: `,`;
    padding: 0.2rem;
  }
`],({theme:e})=>e.color.foreground,({theme:e})=>e.color.foreground),Pae=U.div.withConfig({displayName:"SearchResults__NoResults"})([`
  padding: 2rem 1.2rem;
  color: `,`;
  font-size: 1.3rem;
  text-align: center;
`],({theme:e})=>e.color.gray2),Dae=({groupedMatches:e,searchQuery:t,staleBuffers:n})=>{const{setActiveBuffer:r,buffers:i,setTemporaryBuffer:o,temporaryBufferId:a,editorRef:s,updateBuffer:l}=Ys(),[c,u]=x.useState(new Map(Array.from(e.keys()).map(L=>[L,!0]))),[d,f]=x.useState(null),p=x.useRef(null),g=x.useRef([]),h=x.useRef(null),y=x.useRef(null),b=x.useMemo(()=>i.filter(L=>!L.archived||L.isTemporary).length,[i]),w=x.useMemo(()=>{const L=[];return Array.from(e.entries()).forEach(([V,z])=>{const B=z[0],H=z.every(ne=>ne.isTitleMatch),J=z.find(ne=>ne.isTitleMatch);if(H)z.forEach((ne,q)=>{L.push({type:"title-match",match:ne,id:`title-match-${V}-${q}`,isMetricsMatch:!!B.isMetricsMatch})});else{const ne=`header-${V}`;L.push({type:"header",bufferId:V,bufferLabel:B.bufferLabel,isArchived:B.isArchived||!1,matchCount:z.length-(J?1:0),id:ne,titleMatch:J,isMetricsMatch:!!B.isMetricsMatch,isStale:n.includes(V)}),c.get(V)===!0&&z.forEach((q,ee)=>{q.isTitleMatch||L.push({type:"match",match:q,id:`match-${V}-${q.range.startLineNumber}-${q.range.startColumn}-${ee}`,parentId:ne,isMetricsMatch:!!q.isMetricsMatch})})}}),L},[e,c,n]),S=x.useCallback(async()=>{if(a!==null){const L=i.find(z=>z.id===a),V={archived:!1,archivedAt:void 0,isTemporary:!1};if(L)return await l(a,V),await r({...L,...V},{focus:!0,fromSearch:!0}),L}return null},[a,i,l,r]),E=x.useCallback(L=>{u(V=>{const z=new Map(V),B=z.get(L)??!0;return z.set(L,!B),z})},[]),_=x.useCallback(L=>{if(L.type==="header")return L.bufferId;if(L.type==="match"||L.type==="title-match")return L.match.bufferId},[]),m=x.useCallback(async(L,V)=>{const z=_(L);if(!z)return null;const B=i==null?void 0:i.find(H=>H.id===z);if(!B)return null;B.archived?V?a!==null&&a===z?await S():(await l(z,{archived:!1,archivedAt:void 0,position:b}),await r(B,{focus:!0,fromSearch:!0}),a!==null&&await l(a,{isTemporary:!1})):a!==z&&await o(B):(a!==null&&await l(a,{isTemporary:!1}),await r(B,{focus:V,fromSearch:!0}))},[_,i,a,l,r,S,b,o]),C=x.useCallback(L=>{var V,z,B,H,J,ne,q,ee;L.isMetricsMatch||(L.type==="header"||L.type==="title-match"?((V=s.current)==null||V.revealPositionInCenter({lineNumber:1,column:1}),(z=s.current)==null||z.setPosition({lineNumber:1,column:1}),g.current=((H=(B=s.current)==null?void 0:B.getModel())==null?void 0:H.deltaDecorations(g.current,[]))??[]):L.type==="match"&&((J=s.current)==null||J.revealPositionInCenter({lineNumber:L.match.range.startLineNumber,column:L.match.range.startColumn}),(ne=s.current)==null||ne.setPosition({lineNumber:L.match.range.startLineNumber,column:L.match.range.startColumn}),g.current=((ee=(q=s.current)==null?void 0:q.getModel())==null?void 0:ee.deltaDecorations(g.current,[{range:L.match.range,options:{isWholeLine:!1,className:"searchHighlight"}}]))??[]))},[s]),T=async L=>{var z,B;if(L===null){g.current=((B=(z=s.current)==null?void 0:z.getModel())==null?void 0:B.deltaDecorations(g.current,[]))??[];return}const V=w.at(L);V&&(await m(V,!1),C(V))},O=async L=>{var V;L&&(await m(L,!0),C(L),L.isMetricsMatch?f(null):(V=s.current)==null||V.focus())},R=(L,V,z)=>{var B,H;if(z.key==="Enter"&&(z.preventDefault(),O(L)),L.type==="header"){const J=c.get(L.bufferId)===!0;if(z.key==="ArrowRight"){z.preventDefault(),J?(B=h.current)==null||B.navigateInTree({to:"next",id:L.id}):E(L.bufferId);return}if(z.key==="ArrowLeft"&&J){z.preventDefault(),E(L.bufferId);return}}else if(L.type==="match"){if(z.key==="ArrowLeft"){z.preventDefault();const J=w.findIndex(ne=>ne.id===L.parentId);J!==-1&&h.current&&h.current.scrollToIndex(J);return}else if(z.key==="ArrowRight"){z.preventDefault(),(H=h.current)==null||H.navigateInTree({to:"next",id:L.id});return}}},j=x.useCallback((L,V,z)=>{const B=L.substring(0,V),H=L.substring(V,z),J=L.substring(z);return v.jsxs("span",{children:[B,v.jsx("mark",{children:H}),J]})},[]),D=x.useCallback((L,V,z)=>{if(L.type==="header"){const B=c.get(L.bufferId)===!0;return v.jsxs(Kx,{$focused:z,$isHeader:!0,$level:1,"data-hook":"search-result-buffer-group","data-active":z,role:"treeitem","aria-expanded":B,"aria-level":1,"aria-label":`${L.bufferLabel} ${L.isArchived?"closed":""} - ${L.matchCount} ${L.matchCount>1?"results":"result"}`,children:[v.jsx(Rae,{onClick:H=>{H.stopPropagation(),E(L.bufferId)},"aria-hidden":"true",children:B?v.jsx(bv,{}):v.jsx(pm,{})}),v.jsx(i3,{"aria-hidden":"true",children:L.isMetricsMatch?v.jsx(LO,{}):v.jsx(oh,{})}),v.jsxs(o3,{$isArchived:L.isArchived,children:[L.titleMatch?j(L.titleMatch.previewText,L.titleMatch.matchStartInPreview,L.titleMatch.matchEndInPreview):L.bufferLabel,L.isArchived&&v.jsx(Xx,{children:"closed"}),L.isStale&&v.jsx(Xx,{children:"stale"})]}),v.jsx(jae,{children:L.matchCount>1?`${L.matchCount} results`:`${L.matchCount} result`})]})}else return L.type==="title-match"?v.jsxs(Kx,{$focused:z,$level:1,"data-hook":"search-result-title-match","data-active":z,role:"treeitem","aria-level":1,"aria-label":`${L.match.bufferLabel} ${L.match.isArchived?"closed":""}`,children:[v.jsx(i3,{"data-hook":"search-result-title-match-icon","aria-hidden":"true",children:L.isMetricsMatch?v.jsx(LO,{}):v.jsx(oh,{})}),v.jsxs(o3,{$isArchived:L.match.isArchived,"data-hook":"search-result-title-match-text",children:[j(L.match.previewText,L.match.matchStartInPreview,L.match.matchEndInPreview),L.match.isArchived&&v.jsx(Xx,{"data-hook":"search-result-title-match-closed-status",children:"closed"})]})]}):v.jsxs(Kx,{$focused:z,$level:2,"data-hook":"search-result-match","data-active":z,role:"treeitem","aria-level":2,"aria-label":`Line ${L.match.range.startLineNumber}: ${L.match.previewText}`,children:[v.jsx(Lae,{"data-hook":"search-result-line-number","aria-hidden":"true",children:L.match.range.startLineNumber}),v.jsx(Mae,{children:j(L.match.previewText,L.match.matchStartInPreview,L.match.matchEndInPreview)})]})},[c,E,j]);return x.useEffect(()=>{p.current!==d&&(T(d),p.current=d)},[d,T]),x.useEffect(()=>{u(L=>{const V=new Map(L);return Array.from(e.keys()).forEach(z=>{V.has(z)||V.set(z,!0)}),Array.from(V.keys()).forEach(z=>{e.has(z)||V.delete(z)}),V})},[e]),x.useEffect(()=>{const L=async V=>{if(y.current&&!y.current.contains(V.target)&&a!==null){const z=V.target;z!=null&&z.closest(".monaco-editor")||z!=null&&z.closest(".metrics-root")?await S():await l(a,{isTemporary:!1},!0)}};return document.addEventListener("mousedown",L),()=>{document.removeEventListener("mousedown",L)}},[a,l,S]),e.size===0&&t.trim()?v.jsx(Pae,{"data-hook":"search-no-results",role:"status","aria-live":"polite",children:"No results found"}):v.jsx(Nae,{ref:y,tabIndex:-1,role:"tree","aria-label":`Search results: ${e.size} buffers found`,children:v.jsx(kae,{ref:h,items:w,renderItem:D,onItemDoubleClick:O,onItemKeyDown:R,focusedIndex:d,setFocusedIndex:f})})},Fae=ie.memo(Dae,(e,t)=>e.groupedMatches===t.groupedMatches&&e.staleBuffers===t.staleBuffers),Uae=U(Sf).withConfig({displayName:"SearchPanel__Wrapper"})([`
  overflow-x: auto;
  height: 100%;
  `,`
`],({$open:e})=>!e&&Vn([`
      display: none;
    `])),zae=U(Ef).withConfig({displayName:"SearchPanel__Content"})([`
  display: flex;
  flex-direction: column;
  overflow: auto;
`]),Bae=U.div.withConfig({displayName:"SearchPanel__SearchInputContainer"})([`
  padding: 0 1rem 0.5rem 1rem;
  border-bottom: 1px solid `,`;
`],({theme:e})=>e.color.selection),$ae=U.div.withConfig({displayName:"SearchPanel__InputWrapper"})([`
  position: relative;
  height: 4.5rem;
  display: flex;
  align-items: center;
  width: 100%;
`]),Hae=U(cs).withConfig({displayName:"SearchPanel__StyledInput"})([`
  padding-right: 8rem;
  width: 100%;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;

  &::placeholder {
    color: `,`;
  }

  &::selection {
    background: rgba(255, 255, 255, 0.3);
    color: inherit;
  }
`],({theme:e})=>e.color.gray2),Vae=U.div.withConfig({displayName:"SearchPanel__ToggleButtonsContainer"})([`
  position: absolute;
  right: 0.5rem;
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  gap: 0.2rem;
`]),Yx=U.button.withConfig({displayName:"SearchPanel__ToggleButton"})([`
  background: transparent;
  border: 1px solid transparent;
  color: `,`;
  width: 2rem;
  height: 2rem;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  border-radius: 0.2rem;
  font-size: 1.2rem;

  `,`
`],({theme:e})=>e.color.foreground,({active:e,theme:t})=>e&&`
    background: ${t.color.background};
    border: 1px solid ${t.color.pink};
  `),qae=U.div.withConfig({displayName:"SearchPanel__SearchSummary"})([`
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 4rem;
  padding: 1rem;
  color: `,`;
  font-size: 1.1rem;
`],({theme:e})=>e.color.gray2),Wae=U.div.withConfig({displayName:"SearchPanel__CheckboxWrapper"})([`
  display: flex;
  align-items: center;
  padding: 0.4rem 0;

  input {
    margin-left: 0;
  }
`]),Gae=U.label.withConfig({displayName:"SearchPanel__CheckboxLabel"})([`
  color: `,`;
  font-size: 1.2rem;
  margin-left: 0.6rem;
  cursor: pointer;
`],({theme:e})=>e.color.foreground),Kae=U.div.withConfig({displayName:"SearchPanel__SearchResultsContainer"})([`
  flex: 1;
  overflow-y: auto;
`]),Xae=U.div.withConfig({displayName:"SearchPanel__SearchError"})([`
  background: transparent;

  border-radius: 0.4rem;
  margin: 0.5rem 0 1rem 0;
  color: `,`;
  font-size: 1.2rem;
  align-items: center;
  gap: 0.8rem;

  svg {
    display: inline;
    color: `,`;
    align-self: flex-start;
    width: 1.6rem;
    height: 1.6rem;
    margin-right: 0.3rem;
    flex-shrink: 0;
    transform: translateY(-0.1rem);
  }
`],({theme:e})=>e.color.gray2,({theme:e})=>e.color.red),Yae=U.div.withConfig({displayName:"SearchPanel__LoaderContainer"})([`
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-left: auto;
  gap: 0.5rem;
  color: `,`;
`],vt("offWhite")),Qae=()=>{const[e,t]=x.useState(!1);return x.useEffect(()=>{const n=setTimeout(()=>{t(!0)},1500);return()=>clearTimeout(n)},[]),e?v.jsxs(Yae,{children:[v.jsx(wv,{}),"Searching..."]}):null},Qx=(e,t)=>JSON.stringify({query:e,options:t}),Jae=ie.forwardRef(({open:e},t)=>{const{setSearchPanelOpen:n}=TG(),[r,i]=x.useState(""),[o,a]=x.useState({caseSensitive:!1,wholeWord:!1,useRegex:!1,includeDeleted:!0}),[s,l]=x.useState({query:"",matches:[]}),[c,u]=x.useState([]),[d,f]=x.useState(null),[p,g]=x.useState(!1),h=x.useRef(null),y=x.useRef(0),b=x.useRef(!1),w=x.useRef(null),S=x.useRef(null),E=x.useRef({}),_=x.useRef(s),m=x.useRef([]),C=x.useRef({}),T=x.useRef(new Map);x.useEffect(()=>{_.current=s},[s]),x.useEffect(()=>{m.current=c},[c]);const O=x.useCallback(async()=>{const H=++y.current;w.current&&w.current.abort();const J=new AbortController;if(w.current=J,Qx(r,o)===S.current)return;if(!r.trim()){l({query:r,matches:[]}),g(!1),f(null);return}const ne=await La.getAll();if(!ne||ne.length===0){l({query:r,matches:[]}),g(!1);return}g(!0),b.current=!0,r!==_.current.query&&(C.current={});try{f(null),u([]);let q=[];const ee=r3.searchInBuffers(ne,r,o,J.signal,H.toString());for(;;){const{value:te,done:$}=await ee.next();if(J.signal.aborted)throw new Js;if($){const ue=te;H===y.current&&(l(ue),S.current=null);break}const ae=te;ae&&H===y.current&&(ae.bufferId&&ae.searchDuration!==void 0&&(C.current[ae.bufferId]={duration:ae.searchDuration,query:r}),ae.currentMatches.length>0&&(q=[...q,...ae.currentMatches],l({query:r,matches:q})))}}catch(q){if(q instanceof Js)return;if(H===y.current){const ee=q;if(q instanceof jd){const te=q.partialSearchMatches||[];l({query:r,matches:te,limitReached:!0}),f({type:"timeout",message:ee.message}),S.current=Qx(r,o)}else l({query:r,matches:[]}),f({type:ee.name,message:ee.message}),S.current=Qx(r,o)}}finally{if(H===y.current){g(!1),b.current=!1;const q=E.current[H];q&&Object.keys(q).length>0&&setTimeout(async()=>{const ee=_.current,te=m.current,{result:$,staleBuffers:ae,buffersToRefresh:ue}=await D(H,ee,te);H===y.current&&(l($),u(ae),ue.length>0&&await j(ue))},100)}}},[r,o]),R=x.useCallback(async(H,J,ne)=>{try{const q=await La.getById(H);return!q||J.aborted?[]:await r3.searchInSingleBuffer(q,r,o,J,`queue-${H}-${Date.now()}`,ne)}catch(q){return q instanceof Js?[]:[]}},[r,o,La]),j=async H=>{for(const J of H){const ne=T.current.get(J);ne&&ne.abort();const q=new AbortController;T.current.set(J,q);try{const ee=await R(J,q.signal,1e4);l(te=>{const $=te.matches.findIndex(ue=>ue.bufferId===J),ae=te.matches.filter(ue=>ue.bufferId!==J);if($===-1||ee.length===0)return{...te,matches:[...ae,...ee]};{const ue=ae.slice(0,$),me=ae.slice($);return{...te,matches:[...ue,...ee,...me]}}}),u(te=>te.filter($=>$!==J))}catch(ee){if(ee instanceof Js)continue;u(te=>[...te.filter($=>$!==J),J])}finally{T.current.delete(J)}}},D=async(H,J,ne)=>{var ae,ue;const q=E.current[H];if(!q)return{result:J,staleBuffers:ne,buffersToRefresh:[]};let ee=[...J.matches],te=[...ne];const $=[];for(const[me,Fe]of Object.entries(q)){const{delete:Ie,metaUpdate:Ee,contentUpdate:He}=Fe,it=Number(me);let St=He;if(Ie&&(ee=ee.filter(xt=>xt.bufferId!==it),te=te.filter(xt=>xt!==it)),Ee){const xt=await La.getMetaById(it);xt&&(ee=ee.map(Ct=>(Ct.isTitleMatch&&(St=!0),Ct.bufferId===it?{...Ct,bufferLabel:xt.label,isArchived:xt.archived,archivedAt:xt.archivedAt}:Ct)))}if(St){const xt=!C.current[it],Ct=((ae=C.current[it])==null?void 0:ae.query)===r&&(((ue=C.current[it])==null?void 0:ue.duration)||0)<5e3;xt||Ct?$.push(it):te.includes(it)||te.push(it)}}return delete E.current[H],{result:{...J,matches:ee},staleBuffers:te,buffersToRefresh:$}};x.useEffect(()=>{const H=J=>{var ee,te,$,ae,ue;if(!J||r.trim()==="")return;const{type:ne}=J;ne!=="deleteAll"&&(E.current[y.current]=E.current[y.current]||{});const q=E.current[y.current];switch(ne){case"deleteAll":y.current++,w.current&&w.current.abort(),l({query:r,matches:[]}),E.current={},u([]);break;case"delete":{const{bufferId:me}=J;q&&(q[me]={delete:!0,metaUpdate:!1,contentUpdate:!1});break}case"update":{const{bufferId:me}=J;q&&(q[me]={delete:(ee=q[me])==null?void 0:ee.delete,metaUpdate:(J==null?void 0:J.metaUpdate)||((te=q[me])==null?void 0:te.metaUpdate),contentUpdate:(J==null?void 0:J.contentUpdate)||(($=q[me])==null?void 0:$.contentUpdate)});break}case"archive":{const{bufferId:me}=J;q&&(q[me]={delete:(ae=q[me])==null?void 0:ae.delete,metaUpdate:!0,contentUpdate:(ue=q[me])==null?void 0:ue.contentUpdate});break}}b.current||(async()=>{const me=_.current,Fe=m.current,Ie=y.current;if(!("bufferId"in J)||!J.bufferId)return;const{result:Ee,staleBuffers:He,buffersToRefresh:it}=await D(Ie,me,Fe);l(Ee),u(He),it.length>0&&await j(it)})()};return Bn.subscribe(zn.BUFFERS_UPDATED,H),()=>{Bn.unsubscribe(zn.BUFFERS_UPDATED,H),T.current.forEach(J=>{J.abort()}),T.current.clear()}},[r]),aQ(()=>{const H=setTimeout(()=>{ai.ready&&O()},300);return()=>clearTimeout(H)},[O]),aQ(()=>{h.current&&e&&(h.current.focus(),h.current.select())},[e]);const L=H=>{a(J=>({...J,[H]:!J[H]}))},V=x.useMemo(()=>r3.groupMatchesByBuffer(s.matches),[s]),z=x.useCallback(()=>{if(!r.trim())return"";const H=V.size,J=s.matches.length,ne=s.limitReached;return J===0?null:`${ne?`${J}+`:J} result${J!==1?"s":""} in ${H} tab${H!==1?"s":""}`},[V]),B=x.useCallback(()=>{h.current&&(h.current.focus(),h.current.select())},[]);return ie.useImperativeHandle(t,()=>({focusSearchInput:B}),[B]),x.useEffect(()=>()=>{w.current&&w.current.abort(),tL()},[]),v.jsx(Uae,{$open:e,children:v.jsxs(zae,{children:[v.jsxs(Bae,{children:[v.jsxs($ae,{children:[v.jsx(Hae,{ref:h,placeholder:"Search in tabs...",value:r,onChange:H=>i(H.target.value),onKeyDown:H=>{H.key==="Enter"?O():H.key==="Escape"&&(r.length>0?i(""):n(!1))},"aria-label":"Search in tabs","aria-describedby":"search-summary","data-hook":"search-input"}),v.jsxs(Vae,{children:[v.jsx(Yx,{active:o.caseSensitive||!1,onClick:()=>L("caseSensitive"),title:"Match Case (Alt+C)","aria-label":"Match Case","aria-pressed":o.caseSensitive||!1,"data-hook":"search-option-case-sensitive",children:"Aa"}),v.jsx(Yx,{active:o.wholeWord||!1,onClick:()=>L("wholeWord"),title:"Match Whole Word (Alt+W)","aria-label":"Match Whole Word","aria-pressed":o.wholeWord||!1,"data-hook":"search-option-whole-word",children:"W"}),v.jsx(Yx,{active:o.useRegex||!1,onClick:()=>L("useRegex"),title:"Use Regular Expression (Alt+R)","aria-label":"Use Regular Expression","aria-pressed":o.useRegex||!1,"data-hook":"search-option-regex",children:".*"})]})]}),v.jsxs(Wae,{children:[v.jsx(rp,{id:"search-include-closed",checked:o.includeDeleted||!1,onChange:()=>L("includeDeleted"),"aria-describedby":"search-include-closed-label","data-hook":"search-option-include-closed"}),v.jsx(Gae,{id:"search-include-closed-label",htmlFor:"search-include-closed","data-hook":"search-option-include-closed-label",children:"Include closed tabs"})]}),d&&v.jsxs(Xae,{"data-hook":"search-error",children:[v.jsx(Ic,{}),d.message]})]}),v.jsxs(qae,{"data-hook":"search-summary",children:[z(),p&&v.jsx(Qae,{})]}),v.jsx(Kae,{children:!p||V.size>0?v.jsx(Fae,{groupedMatches:V,searchQuery:r,staleBuffers:c}):null})]})})}),Zae=U.div.withConfig({displayName:"AssistantModes__Container"})([`
  display: flex;
  flex-direction: column;
  gap: 0.8rem;
  align-items: flex-start;
  width: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  min-height: 0;
`]),ese=U.div.withConfig({displayName:"AssistantModes__ModeHeader"})([`
  border: 1px solid `,`;
  border-radius: 0.4rem;
  display: flex;
  `,`
  `,`
  width: 100%;
`],vt("selection"),({$expanded:e})=>e?Vn([`
          flex-direction: column;
          align-items: flex-start;
        `]):Vn([`
          align-items: center;
          justify-content: space-between;
          padding: 1rem 1.2rem;
        `]),({$abort:e})=>e&&Vn([`
      border-color: `,`;
    `],vt("red"))),tse=U.div.withConfig({displayName:"AssistantModes__ModeHeaderTop"})([`
  display: flex;
  gap: 1rem;
  align-items: center;
  `,`
  `,`
`],({$expanded:e})=>e&&Vn([`
      border-bottom: 1px solid `,`;
      padding: 1rem 1.2rem;
      width: 100%;
    `],vt("selection")),({$expanded:e})=>!e&&Vn([`
      flex: 1 0 0;
      min-height: 0;
      min-width: 0;
    `])),nse=U.div.withConfig({displayName:"AssistantModes__ModeChevron"})([`
  width: 1.6rem;
  height: 1.6rem;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  color: `,`;
  cursor: pointer;

  &:hover {
    opacity: 0.8;
  }
`],vt("foreground")),rse=U.div.withConfig({displayName:"AssistantModes__ModeTitle"})([`
  font-weight: 500;
  font-size: 1.4rem;
  color: `,`;
  text-align: center;
  margin-right: auto;
`],vt("foreground")),ise=U.div.withConfig({displayName:"AssistantModes__ReasoningThread"})([`
  display: flex;
  flex-direction: column;
  gap: 1rem;
  align-items: flex-start;
  padding: 1rem 1.2rem;
  width: 100%;
`]),v1=U.div.withConfig({displayName:"AssistantModes__ReasoningItem"})([`
  display: flex;
  gap: 1rem;
  align-items: center;
  padding: 0.2rem 0.6rem;
  padding-left: 0;
  width: 100%;
`]),Kp=U.div.withConfig({displayName:"AssistantModes__ReasoningIcon"})([`
  width: 1.6rem;
  height: 1.6rem;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  color: `,`;
`],vt("foreground")),b1=U.div.withConfig({displayName:"AssistantModes__ReasoningText"})([`
  display: flex;
  flex: 1 0 0;
  flex-wrap: wrap;
  gap: 0.4rem;
  align-items: center;
  min-height: 0;
  min-width: 0;
`]),qs=U.span.withConfig({displayName:"AssistantModes__ReasoningTextPart"})([`
  font-weight: 400;
  font-size: 1.3rem;
  color: `,`;
`],vt("gray2")),wd=U.div.withConfig({displayName:"AssistantModes__CodeBadge"})([`
  background: #2d303e;
  border: 1px solid #44475a;
  border-radius: 0.6rem;
  padding: 0.2rem 0.6rem;
  display: flex;
  gap: 1rem;
  align-items: center;
  position: relative;
`]),xd=U.span.withConfig({displayName:"AssistantModes__CodeBadgeText"})([`
  font-family: `,`;
  font-size: 1.3rem;
  color: #9089fc;
`],({theme:e})=>e.fontMonospace),ose=U(Nu).withConfig({displayName:"AssistantModes__CheckIcon"})([`
  width: 1.6rem;
  height: 1.6rem;
  color: `,`;
  flex-shrink: 0;
`],vt("pink")),ase=U(ny).withConfig({displayName:"AssistantModes__CloseCircleIcon"})([`
  color: `,`;
  flex-shrink: 0;
`],vt("red")),sse=(e,t)=>{if(e===bo.Processing&&t&&"type"in t)switch(t.type){case"fix":return"Processing fix request";case"explain":return"Processing explain request";default:return e}return e},lse=e=>[bo.InvestigatingTable,bo.InvestigatingDocs].includes(e.type),k_=(e,t,n)=>{const r=[];let i=null;for(const a of e){const s=a.type;!i||i.type!==s?(i={id:`section-${r.length}-${s}`,type:s,active:!1,abort:s===bo.Aborted,operations:[a]},r.push(i)):i.operations.push(a)}const o=r[r.length-1];return n&&o&&o.type===t&&(o.active=!0),o&&o.type===bo.Aborted&&(o.active=!1),r},cse=({operationHistory:e,status:t,isLive:n=!1,onScrollNeeded:r})=>{const[i,o]=x.useState({}),a=x.useRef(0),s=x.useRef(null),l=x.useMemo(()=>k_(e,t,n),[e,t,n]),c=x.useRef(n);x.useEffect(()=>{if(c.current&&!n){const d={};l.forEach(f=>{d[f.id]=!0}),o(d)}else if(n&&l.length>a.current){const d={};l.forEach((f,p)=>{p<l.length-1&&(d[f.id]=!0)}),o(d),r==null||r()}a.current=l.length,c.current=n},[l,n,r]);const u=d=>{o(f=>({...f,[d]:!f[d]}))};return e.length===0?null:v.jsx(Zae,{ref:s,"data-hook":"assistant-modes-container",children:l.map((d,f)=>{const p=lse(d),g=f===l.length-1,h=n?g:!0,y=i[d.id]===void 0?h&&p:!i[d.id]&&p;return v.jsxs(ese,{$expanded:y,$abort:d.abort,"data-hook":`assistant-mode-${d.type.toLowerCase().replace(/\s+/g,"-")}`,children:[v.jsxs(tse,{$expanded:y,children:[v.jsx(Kp,{children:d.active?v.jsx(ty,{size:16}):d.abort?v.jsx(ase,{size:16}):v.jsx(ose,{})}),v.jsx(rse,{children:d.type}),p&&v.jsx(nse,{onClick:()=>u(d.id),children:y?v.jsx(bv,{size:16}):v.jsx(pm,{size:16})})]}),y&&v.jsx(ise,{children:d.operations.map((b,w)=>{const S=`${d.id}-${w}-${JSON.stringify(b.args)}`;if(b.type===bo.Processing){const E=sse(b.type,b.args);return v.jsxs(v1,{children:[v.jsx(Kp,{children:v.jsx(ih,{style:{width:"16px",height:"16px"}})}),v.jsx(b1,{children:v.jsx(qs,{children:E})})]},S)}if(b.type===bo.InvestigatingTable){const E=b.args&&"name"in b.args?b.args.name:"table",_=b.args&&"tableOpType"in b.args?b.args.tableOpType:"details";return v.jsxs(v1,{children:[v.jsx(Kp,{children:v.jsx(Yl,{size:16})}),v.jsxs(b1,{children:[v.jsx(qs,{children:"Investigating"}),v.jsx(wd,{children:v.jsx(xd,{children:E})}),v.jsx(qs,{children:_})]})]},S)}if(b.type===bo.InvestigatingDocs){const E=b.args&&"items"in b.args&&Array.isArray(b.args.items)?b.args.items:null;if(E&&E.length>0)return v.jsx(ie.Fragment,{children:E.map((C,T)=>{const O=`${S}-item-${T}`;return v.jsxs(v1,{children:[v.jsx(Kp,{children:v.jsx(oh,{size:16})}),v.jsx(b1,{children:C.section?v.jsxs(v.Fragment,{children:[v.jsx(qs,{children:"Investigating"}),v.jsx(wd,{children:v.jsx(xd,{children:C.section})}),v.jsx(qs,{children:"in"}),v.jsx(wd,{children:v.jsx(xd,{children:C.name})})]}):v.jsxs(v.Fragment,{children:[v.jsx(qs,{children:"Investigating"}),v.jsx(wd,{children:v.jsx(xd,{children:C.name})})]})})]},O)})},S);const _=b.args&&"name"in b.args?b.args.name:null,m=b.args&&"section"in b.args?b.args.section:null;return v.jsxs(v1,{children:[v.jsx(Kp,{children:v.jsx(oh,{size:16})}),v.jsx(b1,{children:_&&m?v.jsxs(v.Fragment,{children:[v.jsx(qs,{children:"Investigating"}),v.jsx(wd,{children:v.jsx(xd,{children:m})}),v.jsx(qs,{children:"in"}),v.jsx(wd,{children:v.jsx(xd,{children:_})}),v.jsx(qs,{children:"documentation"})]}):_?v.jsxs(v.Fragment,{children:[v.jsx(qs,{children:"Investigating"}),v.jsx(wd,{children:v.jsx(xd,{children:_})}),v.jsx(qs,{children:"documentation"})]}):v.jsx(qs,{children:"Investigating documentation"})})]},S)}return null})})]},d.id)})})},a3=e=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",...e,children:[v.jsx("path",{d:"M4.5 15L12 7.5L19.5 15",stroke:"url(#paint0_linear_214_5568)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),v.jsx("defs",{children:v.jsxs("linearGradient",{id:"paint0_linear_214_5568",x1:"12",y1:"7.5",x2:"12",y2:"15",gradientUnits:"userSpaceOnUse",children:[v.jsx("stop",{stopColor:"#D14671"}),v.jsx("stop",{offset:"1",stopColor:"#892C6C"})]})})]}),use=U.div.withConfig({displayName:"AIStatusIndicator__Container"})([`
  position: absolute;
  bottom: 2rem;
  right: 2rem;
  width: 38.3rem;
  background: `,`;
  border: 1px solid rgba(255, 255, 255, 0.12);
  border-radius: 0.8rem;
  padding: 1.2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
  z-index: 1000;
  box-shadow: 0 0.4rem 1.2rem rgba(0, 0, 0, 0.3);
  max-height: 50vh;
`],vt("backgroundDarker")),dse=U.div.withConfig({displayName:"AIStatusIndicator__ChatStreaming"})([`
  background: `,`;
  border-radius: 0.4rem;
  padding: 2rem;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  gap: 1rem;
  align-items: center;
  max-height: 13.8rem;
  position: relative;
  overflow: hidden;
  flex-shrink: 0;
`],vt("backgroundLighter")),fse=U(vn).attrs({skin:"transparent"}).withConfig({displayName:"AIStatusIndicator__CloseButton"})([`
  width: 2.4rem;
  height: 2.4rem;
  padding: 0;
  flex-shrink: 0;

  &:hover {
    background: transparent !important;
    svg {
      color: `,`;
    }
  }
`],vt("foreground")),hse=U.div.withConfig({displayName:"AIStatusIndicator__ChatStreamingOverlay"})([`
  background: linear-gradient(
    180deg,
    `,` 0%,
    rgba(40, 42, 54, 0) 60%
  );
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1001;
`],vt("backgroundLighter")),pse=U.div.withConfig({displayName:"AIStatusIndicator__ThoughtStreams"})([`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-end;
  width: 32rem;
`]),mse=U.div.withConfig({displayName:"AIStatusIndicator__ThoughtStream"})([`
  background: `,`;
  border: 1px solid transparent;
  background:
    linear-gradient(`,", ",`)
      padding-box,
    `,` border-box;
  `,`
  border-radius: 1rem;
  display: flex;
  gap: 0.8rem;
  align-items: center;
  padding: 0;
  height: 4.3rem;
  width: 32rem;
  position: relative;
  margin-bottom: `,`;
  transition: transform 200ms;
  z-index: `,`;
  `,`
`],vt("backgroundDarker"),vt("backgroundDarker"),vt("backgroundDarker"),T_,({$abort:e})=>e&&Vn([`
      background: `,`;
    `],vt("red")),({$level:e})=>e?"-1.2rem":0,({$active:e})=>e?10:1,({$level:e})=>e&&Vn([`
      transform: scale(`,`);
      transform-origin: bottom center;
    `],1-Math.abs(e)*.05)),gse=U.div.withConfig({displayName:"AIStatusIndicator__ThoughtStreamContent"})([`
  display: flex;
  align-items: center;
  background: `,`;
  gap: 0.8rem;
  width: 100%;
  height: 100%;
  border-radius: 1rem;
  padding: 0.95rem 1.2rem;
`],vt("backgroundDarker")),yse=U(Nu).withConfig({displayName:"AIStatusIndicator__CheckIcon"})([`
  width: 2.4rem;
  height: 2.4rem;
  color: `,`;
  flex-shrink: 0;
`],vt("pink")),vse=U(ny).withConfig({displayName:"AIStatusIndicator__CloseCircleIcon"})([`
  color: `,`;
  flex-shrink: 0;
`],vt("red")),bse=U.div.withConfig({displayName:"AIStatusIndicator__ThoughtText"})([`
  font-weight: 500;
  font-size: 1.6rem;
  color: `,`;
  `,`
`],vt("gray2"),({$active:e})=>e&&yN),wse=U.div.withConfig({displayName:"AIStatusIndicator__Header"})([`
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  flex-shrink: 0;
`]),xse=U.div.withConfig({displayName:"AIStatusIndicator__HeaderLeft"})([`
  display: flex;
  flex: 1 0 0;
  gap: 1rem;
  align-items: center;
  justify-content: flex-start;
  min-height: 0;
  min-width: 0;
`]),_se=U.div.withConfig({displayName:"AIStatusIndicator__WorkingText"})([`
  font-family: `,`;
  font-size: 1.6rem;
  color: `,`;
  text-transform: uppercase;
`],({theme:e})=>e.fontMonospace,vt("foreground")),Ese=U(vn).withConfig({displayName:"AIStatusIndicator__AIStopButton"})([`
  width: 2.2rem;
  height: 2.2rem;
  flex-shrink: 0;
  border-radius: 100%;
  background: #da152832;
  border: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;

  &:hover {
    background: `,` !important;
    svg {
      color: `,`;
    }
  }
`],({theme:e})=>e.color.red,({theme:e})=>e.color.foreground),Sse=U(vn).attrs({skin:"transparent"}).withConfig({displayName:"AIStatusIndicator__ViewChatButton"})([`
  gap: 1rem;
`]),Cse=U(vn).attrs({skin:"transparent"}).withConfig({displayName:"AIStatusIndicator__ChevronButton"})([`
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 2.4rem;
  height: 2.4rem;
  flex-shrink: 0;
  margin-right: 1rem;
  color: `,`;

  &:hover {
    background: transparent !important;
    svg {
      filter: brightness(1.2);
    }
  }
`],vt("foreground")),Tse=U.div.withConfig({displayName:"AIStatusIndicator__ExtendedThinkingLabel"})([`
  display: flex;
  gap: 0.8rem;
  align-items: center;
  justify-content: center;
  width: 100%;
  flex-shrink: 0;
`]),Ase=U.div.withConfig({displayName:"AIStatusIndicator__BrainIconWrapper"})([`
  width: 1.6rem;
  height: 1.6rem;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
`]),Ise=U.p.withConfig({displayName:"AIStatusIndicator__ExtendedThinkingText"})([`
  flex: 1 0 0;
  font-weight: 400;
  font-size: 1.1rem;
  color: `,`;
  min-height: 0;
  min-width: 0;
  margin: 0;
`],vt("gray2")),Ose=U.div.withConfig({displayName:"AIStatusIndicator__AssistantModesContainer"})([`
  display: flex;
  flex-direction: column;
  gap: 1.2rem;
  align-items: flex-start;
  padding-top: 0.8rem;
  width: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  min-height: 0;
  flex: 1 1 auto;
  max-height: 100%;
  box-shadow: inset 0 0.1rem 0.4rem rgba(0, 0, 0, 0.3);
`]),kse=()=>{const{status:e,currentOperation:t,currentModel:n,abortOperation:r,clearOperation:i}=kd(),{chatWindowState:o,openChatWindow:a}=Ad(),[s,l]=x.useState(!1),[c,u]=x.useState(!1),d=e===null&&t.length>0,f=e===bo.Aborted,p=x.useRef(null),g=oi(Mr.console.getActiveSidebar),h=x.useRef(null),y=x.useMemo(()=>{var _;return(_=da.find(m=>m.value===n))==null?void 0:_.isSlow},[n]),b=x.useMemo(()=>k_(t,e,!0),[t,e]),w=()=>{l(!s),s||setTimeout(()=>{var _;return(_=p.current)==null?void 0:_.scrollTo({top:p.current.scrollHeight,behavior:"smooth"})})},S=()=>{d&&i(),u(!0)},E=()=>{setTimeout(()=>{var _;return(_=p.current)==null?void 0:_.scrollTo({top:p.current.scrollHeight,behavior:"smooth"})})};return x.useEffect(()=>{s&&E()},[b,s]),x.useEffect(()=>{h.current===null&&e!==null&&u(!1),e===null&&g==="aiChat"&&i(),h.current=e},[e,g,i]),!t||t.length===0||c||g==="aiChat"?null:v.jsxs(use,{"data-hook":"ai-status-indicator",children:[v.jsxs(dse,{children:[b.length>1&&v.jsx(hse,{}),v.jsx(pse,{children:b.map((_,m)=>v.jsx(mse,{$active:_.active,$abort:_.abort,$level:m-(b.length-1),children:v.jsxs(gse,{children:[_.active?v.jsx(ty,{size:24}):_.abort?v.jsx(vse,{size:24}):v.jsx(yse,{}),v.jsx(bse,{$active:_.active,children:_.type})]})},_.id))})]}),v.jsxs(wse,{children:[v.jsxs(xse,{children:[v.jsx(Cd,{size:24,variant:"filled"}),v.jsx(_se,{"data-hook":"ai-status-text",children:f?"Cancelled":d?"Completed":"Working..."}),dm(e)&&v.jsx(Ese,{title:"Cancel current operation",onClick:r,"data-hook":"ai-status-stop",children:v.jsx(C_,{size:"14px",color:"#da1e28"})}),o.activeConversationId&&v.jsxs(Sse,{onClick:()=>a(o.activeConversationId),"data-hook":"ai-status-view-chat",children:["View chat",v.jsx(LG,{size:14,weight:"fill"})]})]}),v.jsx(Cse,{onClick:w,type:"button",children:s?v.jsx(a3,{style:{transform:"rotate(180deg)"}}):v.jsx(a3,{})}),!f&&v.jsx(fse,{skin:"transparent",onClick:S,children:v.jsx(fm,{size:16,weight:"bold"})})]}),y&&v.jsxs(Tse,{children:[v.jsx(Ase,{children:v.jsx(ih,{})}),v.jsx(Ise,{children:"Extended thinking model enabled. Responses may be slow."})]}),s&&v.jsx(Ose,{ref:p,children:v.jsx(cse,{operationHistory:t,status:e,isLive:!0,onScrollNeeded:E})})]})},Nse=U.div.withConfig({displayName:"AIChatErrorBoundary__Wrapper"})([`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  width: 100%;
  height: 100%;
  padding: 2rem;
  background: `,`;
  border-left: 0.2rem `,` solid;
`],vt("chatBackground"),vt("backgroundDarker")),Rse=U.div.withConfig({displayName:"AIChatErrorBoundary__IconWrapper"})([`
  color: `,`;
  margin-bottom: 1rem;
`],vt("red")),jse=U(st).withConfig({displayName:"AIChatErrorBoundary__ErrorTextLine"})([`
  margin-top: 0.5rem;
`]),Lse=U(vn).withConfig({displayName:"AIChatErrorBoundary__RetryButton"})([`
  margin-top: 1.5rem;
  gap: 0.5rem;
`]);class d6e extends x.Component{constructor(t){super(t),this.handleRetry=()=>{var n,r;this.setState({hasError:!1,error:null}),(r=(n=this.props).onReset)==null||r.call(n)},this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("AIChatWindow error:",t,n)}render(){return this.state.hasError?v.jsxs(Nse,{children:[v.jsx(Rse,{children:v.jsx(MG,{size:48,weight:"light"})}),v.jsx(st,{color:"foreground",children:"Something went wrong"}),this.state.error&&v.jsx(jse,{color:"gray2",size:"sm",children:this.state.error.message}),v.jsxs(Lse,{skin:"secondary",onClick:this.handleRetry,children:[v.jsx(jG,{size:16}),"Try again"]})]}):this.props.children}}const f6e=x.lazy(()=>YT(()=>import("./index-CPCltHRD.js"),__vite__mapDeps([2,1]),import.meta.url)),h6e=U.div.withConfig({displayName:"Console__LoaderContainer"})([`
  display: flex;
  align-items: center;
  background: `,`;
  justify-content: center;
  height: 100%;
  width: 100%;
`],vt("chatBackground")),p6e=U.div.withConfig({displayName:"Console__Root"})([`
  display: flex;
  flex-direction: row;
  flex: 1;
  max-height: 100%;
`]),m6e=U.div.withConfig({displayName:"Console__MainContent"})([`
  display: flex;
  flex-direction: column;
  flex: 1;
  height: 100%;
  min-width: 0;
`]),g6e=U.div.withConfig({displayName:"Console__Top"})([`
  display: flex;
  height: 100%;
  flex: 1;
  position: relative;
  overflow: hidden;
`]),y6e=U.div.withConfig({displayName:"Console__Bottom"})([`
  display: flex;
  height: 100%;
  flex: 1;
  min-height: 0px;
`]),s3=U.div.withConfig({displayName:"Console__Tab"})([`
  display: flex;
  width: calc(100% - 4.5rem);
  height: 100%;
  overflow: auto;
`]),v6e=U.div.withConfig({displayName:"Console__Drawer"})([`
  background: `,`;
  height: 100%;
  `,`
`],vt("chatBackground"),({$aiChat:e})=>e&&`
    display: none;
  `),b6e=[{icon:v.jsx(c4,{size:rc}),mode:"grid",tooltipText:"Grid"},{icon:v.jsx(ez,{size:rc}),mode:"chart",tooltipText:"Chart"}],w6e=()=>{const e=ls(),{sm:t}=uI(),{resultsSplitterBasis:n,updateSettings:r,leftPanelState:i,updateLeftPanelState:o,aiChatPanelWidth:a,updateAiChatPanelWidth:s}=vc(),l=oi(Mr.query.getResult),c=oi(Mr.console.getActiveSidebar),u=oi(Mr.console.getActiveBottomPanel),{consoleConfig:d}=Rl(),{isSearchPanelOpen:f,setSearchPanelOpen:p,searchPanelRef:g}=TG(),h=i.type===Gu.DATASOURCES,[y,b]=x.useState("grid"),w=ie.useRef(null),S=ie.useRef(null),E=ie.useRef(null),_=ie.useRef(null),m=C=>{w.current&&(w.current.style.display=C==="result"?"flex":"none"),S.current&&(S.current.style.display=C==="zeroState"?"flex":"none"),E.current&&(E.current.style.display=C==="import"?"flex":"none")};return x.useEffect(()=>{w.current&&l?e(An.console.setActiveBottomPanel("result")):S.current&&e(An.console.setActiveBottomPanel("zeroState"))},[l]),x.useEffect(()=>{m(u)},[u]),v.jsx(p6e,{children:v.jsxs(Au,{onDragEnd:C=>{c!==void 0&&C[1]!==void 0&&s(C[1])},children:[v.jsxs(Au.Pane,{children:[v.jsx(m6e,{children:v.jsxs(Au,{vertical:!0,onDragEnd:C=>{r(Mn.RESULTS_SPLITTER_BASIS,C[0])},children:[v.jsx(Au.Pane,{minSize:100,preferredSize:n,children:v.jsxs(g6e,{children:[v.jsxs(qk,{align:"top",children:[!t&&v.jsx(mi,{placement:"right",trigger:v.jsx(Wk,{"data-hook":"tables-panel-button",direction:"left",onClick:()=>{o(h?{type:null,width:i.width}:{type:Gu.DATASOURCES,width:i.width})},selected:h,children:v.jsx(qU,{size:rc})}),children:v.jsxs(_i,{children:[h?"Hide":"Show"," data sources"]})}),v.jsx(mi,{placement:"right",trigger:v.jsx(Wk,{"data-hook":"search-panel-button",direction:"left",onClick:()=>p(!f),selected:f,children:v.jsx(QU,{size:rc})}),children:v.jsx(_i,{children:f?"Hide search in tabs":"Search in tabs"})})]}),v.jsxs(Au,{ref:_,onDragEnd:C=>{C[0]!==0&&o({type:i.type,width:C[0]})},snap:!0,children:[v.jsxs(Au.Pane,{preferredSize:i.width,visible:(h||f)&&!t,minSize:250,children:[v.jsx(Woe,{open:h}),v.jsx(Jae,{ref:g,open:f})]}),v.jsx(Au.Pane,{children:v.jsx(cie,{})})]})]})}),v.jsx(Au.Pane,{minSize:100,children:v.jsxs(y6e,{children:[v.jsxs(qk,{align:"bottom",children:[l&&b6e.map(({icon:C,mode:T,tooltipText:O})=>v.jsx(mi,{placement:"right",trigger:v.jsx(Wk,{"data-hook":`${T}-panel-button`,direction:"left",onClick:()=>{e(An.console.setActiveBottomPanel("result")),b(T)},selected:u==="result"&&y===T,children:C}),children:v.jsx(_i,{children:O})},T)),v.jsx(mi,{placement:"right",trigger:v.jsx(ul,{readOnly:d.readOnly,...!d.readOnly&&{onClick:()=>{e(An.console.setActiveBottomPanel("import"))}},selected:u==="import","data-hook":"import-panel-button",children:v.jsx(l6e,{size:rc})}),children:v.jsx(_i,{children:d.readOnly?"To use this feature, turn off read-only mode in the configuration file":"Import files from CSV"})})]}),v.jsx(s3,{ref:w,children:l&&v.jsx(Sie,{viewMode:y})}),v.jsx(s3,{ref:S,children:v.jsx(UNe,{})}),v.jsx(s3,{ref:E,children:v.jsx(FRe,{})})]})})]})}),v.jsx(kse,{})]}),v.jsxs(Au.Pane,{minSize:470,preferredSize:a,visible:!!c,children:[v.jsx(v6e,{id:"side-panel-right",$aiChat:c==="aiChat"}),c==="aiChat"&&v.jsx(d6e,{children:v.jsx(x.Suspense,{fallback:v.jsx(h6e,{children:v.jsx(ty,{size:24})}),children:v.jsx(f6e,{})})})]})]})})},l3=280,x6e=U.div.withConfig({displayName:"SideMenu__Backdrop"})([`
  position: fixed;
  top: 4rem;
  right: 0;
  bottom: 0;
  left: 0;
  background: rgba(0, 0, 0, 0.3);
  z-index: 24;

  &:hover {
    cursor: pointer;
  }
`]),_6e=U.div.withConfig({displayName:"SideMenu__Wrapper"})([`
  position: fixed;
  top: 4rem;
  right: 0;
  bottom: 0;
  width: `,`px;
  background: `,`;
  border-left: 1px solid `,`;
  z-index: 25;

  &.side-menu-slide-enter {
    width: 0;
  }

  &.side-menu-slide-enter-active {
    width: `,`px;
    transition: width `,`ms;
  }

  &.side-menu-slide-exit {
    width: `,`px;
  }

  &.side-menu-slide-exit-active {
    width: 0;
    transition: width `,`ms;
  }
`],l3,vt("backgroundDarker"),vt("black"),l3,Io.REG,l3,Io.REG),E6e=()=>{const e=oi(Mr.console.getSideMenuOpened),t=ls(),n=x.useCallback(()=>{t(An.console.toggleSideMenu())},[t]);return v.jsxs(v.Fragment,{children:[v.jsx(Lc,{classNames:"fade-reg",in:e,timeout:Io.REG,unmountOnExit:!0,children:v.jsx(x6e,{onClick:n})}),v.jsx(Lc,{classNames:"side-menu-slide",in:e,timeout:Io.REG,unmountOnExit:!0,children:v.jsx(_6e,{children:v.jsx(Woe,{})})})]})},S6e=Vn([`
  background: `,`;
`],vt("selection")),C6e=U.div.withConfig({displayName:"Row__Wrapper"})([`
  display: flex;
  height: 2.4rem;
  padding: 0 0.6rem;
  line-height: 2.4rem;
  align-items: center;
  transition: background `,`ms;
  cursor: pointer;
  user-select: none;

  `,`;

  > span:not(:last-child) {
    margin-right: 0.6rem;
  }
`],Io.FAST,({active:e})=>e&&S6e),T6e=U(st).withConfig({displayName:"Row__Value"})([`
  flex: 1 1 auto;
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
  opacity: 0.7;
`]),A6e=U(YU).withConfig({displayName:"Row__FileIcon"})([`
  height: 2.2rem;
  flex: 0 0 12px;
  margin: 0 0.6rem;
  color: `,`;
`],vt("orange")),I6e=U(st).withConfig({displayName:"Row__Name"})([`
  flex: 0 0 auto;
`]),O6e=({active:e,onMouseEnter:t,onMouseLeave:n,onClick:r,query:i})=>v.jsxs(C6e,{active:e,onClick:r,onMouseEnter:t,onMouseLeave:n,children:[v.jsx(A6e,{size:"12px"}),i.name&&v.jsx(I6e,{color:"foreground",size:"sm",children:i.name}),v.jsx(T6e,{color:"foreground",size:"sm",children:i.value})]}),k6e=U.div.withConfig({displayName:"QueryPicker__Wrapper"})([`
  display: flex;
  max-height: 650px;
  width: 600px;
  max-width: 100vw;
  padding: 0.6rem 0;
  flex-direction: column;
  background: `,`;
  box-shadow: `,` 0px 5px 8px;
  border: 1px solid `,`;
  border-radius: 4px;
  overflow: auto;
`],vt("backgroundDarker"),vt("black"),vt("black")),N6e=U(st).withConfig({displayName:"QueryPicker__Helper"})([`
  padding: 1rem;
  text-align: center;
  opacity: 0.5;
`]),R6e=U(st).withConfig({displayName:"QueryPicker__Esc"})([`
  padding: 0 2px;
  background: `,`;
  border-radius: 2px;
`],vt("foreground")),j6e=e=>{const t=[...e],n=[];let r=0;for(;t.length;){const i=t.shift();if(typeof i.queries>"u")n.push({type:"query",id:r,data:i});else{const o=i;n.push({type:"descriptor",id:r,data:o}),t.unshift(...o.queries)}r++}return n},Jx=({type:e})=>e==="query",L6e=U(st).withConfig({displayName:"QueryPicker__Title"})([`
  padding: 0.6rem 1.2rem 0.4rem;
  margin-top: 0.6rem;
  border-top: 1px solid `,`;
  background: `,`;
`],({theme:e})=>e.color.selection,({theme:e})=>e.color.black40),M6e=U(st).withConfig({displayName:"QueryPicker__Description"})([`
  padding: 0 1.2rem 1rem;
  color: `,`;
  opacity: 0.7;
  background: `,`;
`],({theme:e})=>e.color.foreground,({theme:e})=>e.color.black40),P6e=({hidePicker:e,queries:t,ref:n})=>{const r=gu("ArrowDown"),i=gu("ArrowUp"),o=gu("Enter"),[a,s]=x.useState(-1),[l,c]=x.useState([]),{appendQuery:u}=Ys();x.useEffect(()=>{c(j6e(t))},[t]);const d=x.useCallback(f=>{e(),u(f.value,{appendAt:"end"})},[e]);return x.useEffect(()=>{var f,p,g,h;if(l.length){if(r){const y=((f=l.find(Jx))==null?void 0:f.id)??0,b=((p=l.slice(a+1).find(Jx))==null?void 0:p.id)??y;s(b)}if(i){const y=((g=[...l].reverse().find(Jx))==null?void 0:g.id)??l.length-1,b=((h=[...l].slice(0,a).reverse().find(Jx))==null?void 0:h.id)??y;s(b)}}},[i,r,l]),x.useEffect(()=>{if(o){const f=l.find(({id:p,type:g})=>p===a&&g==="query");f&&d(f.data)}},[a,o,e,t,d]),v.jsxs(k6e,{ref:n,children:[v.jsxs(N6e,{_style:"italic",color:"foreground",size:"xs",children:["Navigate the list with ",v.jsx(dz,{size:"16px"}),v.jsx(cz,{size:"16px"})," keys, exit with\xA0",v.jsx(R6e,{_style:"normal",size:"ms",weight:700,children:"Esc"})]}),l.map(f=>{if(f.type==="query"){const h=f.data;return v.jsx(O6e,{active:f.id===a,hidePicker:e,onClick:()=>d(h),onMouseEnter:()=>s(f.id),onMouseLeave:()=>s(-1),query:h},f.id)}const{title:p,description:g}=f.data;return v.jsxs(ie.Fragment,{children:[v.jsx(L6e,{color:"foreground",size:"md",children:p}),v.jsx(M6e,{color:"foreground",children:g})]},f.id)})]})},D6e=(e,t)=>v.jsx(P6e,{...e,ref:t}),F6e=x.forwardRef(D6e);function c3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Mse(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function u3(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(l){Mse(o,r,i,a,s,"next",l)}function s(l){Mse(o,r,i,a,s,"throw",l)}a(void 0)}))}}function Xp(e,t,n){return t=w1(t),(function(r,i){if(i&&(typeof i=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o})(r)})(e,d3()?Reflect.construct(t,n||[],w1(e).constructor):t.apply(e,n))}function Yp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qp(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}function Jp(e,t,n){return(t=(function(r){var i=(function(o,a){if(typeof o!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var l=s.call(o,a);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)})(r,"string");return typeof i=="symbol"?i:i+""})(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Va(){return Va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Va.apply(null,arguments)}function w1(e){return w1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w1(e)}function Zp(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x1(e,t)}function d3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(d3=function(){return!!e})()}function Pse(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,r)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pse(Object(n),!0).forEach((function(r){Jp(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pse(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function zc(e,t){if(e==null)return{};var n,r,i=(function(a,s){if(a==null)return{};var l={};for(var c in a)if({}.hasOwnProperty.call(a,c)){if(s.includes(c))continue;l[c]=a[c]}return l})(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vf(){Vf=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(B,H,J){B[H]=J.value},o=typeof Symbol=="function"?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(B,H,J){return Object.defineProperty(B,H,{value:J,enumerable:!0,configurable:!0,writable:!0}),B[H]}try{c({},"")}catch{c=function(B,H,J){return B[H]=J}}function u(B,H,J,ne){var q=H&&H.prototype instanceof b?H:b,ee=Object.create(q.prototype),te=new V(ne||[]);return i(ee,"_invoke",{value:R(B,J,te)}),ee}function d(B,H,J){try{return{type:"normal",arg:B.call(H,J)}}catch(ne){return{type:"throw",arg:ne}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",g="executing",h="completed",y={};function b(){}function w(){}function S(){}var E={};c(E,a,(function(){return this}));var _=Object.getPrototypeOf,m=_&&_(_(z([])));m&&m!==n&&r.call(m,a)&&(E=m);var C=S.prototype=b.prototype=Object.create(E);function T(B){["next","throw","return"].forEach((function(H){c(B,H,(function(J){return this._invoke(H,J)}))}))}function O(B,H){function J(q,ee,te,$){var ae=d(B[q],B,ee);if(ae.type!=="throw"){var ue=ae.arg,me=ue.value;return me&&typeof me=="object"&&r.call(me,"__await")?H.resolve(me.__await).then((function(Fe){J("next",Fe,te,$)}),(function(Fe){J("throw",Fe,te,$)})):H.resolve(me).then((function(Fe){ue.value=Fe,te(ue)}),(function(Fe){return J("throw",Fe,te,$)}))}$(ae.arg)}var ne;i(this,"_invoke",{value:function(q,ee){function te(){return new H((function($,ae){J(q,ee,$,ae)}))}return ne=ne?ne.then(te,te):te()}})}function R(B,H,J){var ne=f;return function(q,ee){if(ne===g)throw Error("Generator is already running");if(ne===h){if(q==="throw")throw ee;return{value:e,done:!0}}for(J.method=q,J.arg=ee;;){var te=J.delegate;if(te){var $=j(te,J);if($){if($===y)continue;return $}}if(J.method==="next")J.sent=J._sent=J.arg;else if(J.method==="throw"){if(ne===f)throw ne=h,J.arg;J.dispatchException(J.arg)}else J.method==="return"&&J.abrupt("return",J.arg);ne=g;var ae=d(B,H,J);if(ae.type==="normal"){if(ne=J.done?h:p,ae.arg===y)continue;return{value:ae.arg,done:J.done}}ae.type==="throw"&&(ne=h,J.method="throw",J.arg=ae.arg)}}}function j(B,H){var J=H.method,ne=B.iterator[J];if(ne===e)return H.delegate=null,J==="throw"&&B.iterator.return&&(H.method="return",H.arg=e,j(B,H),H.method==="throw")||J!=="return"&&(H.method="throw",H.arg=new TypeError("The iterator does not provide a '"+J+"' method")),y;var q=d(ne,B.iterator,H.arg);if(q.type==="throw")return H.method="throw",H.arg=q.arg,H.delegate=null,y;var ee=q.arg;return ee?ee.done?(H[B.resultName]=ee.value,H.next=B.nextLoc,H.method!=="return"&&(H.method="next",H.arg=e),H.delegate=null,y):ee:(H.method="throw",H.arg=new TypeError("iterator result is not an object"),H.delegate=null,y)}function D(B){var H={tryLoc:B[0]};1 in B&&(H.catchLoc=B[1]),2 in B&&(H.finallyLoc=B[2],H.afterLoc=B[3]),this.tryEntries.push(H)}function L(B){var H=B.completion||{};H.type="normal",delete H.arg,B.completion=H}function V(B){this.tryEntries=[{tryLoc:"root"}],B.forEach(D,this),this.reset(!0)}function z(B){if(B||B===""){var H=B[a];if(H)return H.call(B);if(typeof B.next=="function")return B;if(!isNaN(B.length)){var J=-1,ne=function q(){for(;++J<B.length;)if(r.call(B,J))return q.value=B[J],q.done=!1,q;return q.value=e,q.done=!0,q};return ne.next=ne}}throw new TypeError(typeof B+" is not iterable")}return w.prototype=S,i(C,"constructor",{value:S,configurable:!0}),i(S,"constructor",{value:w,configurable:!0}),w.displayName=c(S,l,"GeneratorFunction"),t.isGeneratorFunction=function(B){var H=typeof B=="function"&&B.constructor;return!!H&&(H===w||(H.displayName||H.name)==="GeneratorFunction")},t.mark=function(B){return Object.setPrototypeOf?Object.setPrototypeOf(B,S):(B.__proto__=S,c(B,l,"GeneratorFunction")),B.prototype=Object.create(C),B},t.awrap=function(B){return{__await:B}},T(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(B,H,J,ne,q){q===void 0&&(q=Promise);var ee=new O(u(B,H,J,ne),q);return t.isGeneratorFunction(H)?ee:ee.next().then((function(te){return te.done?te.value:ee.next()}))},T(C),c(C,l,"Generator"),c(C,a,(function(){return this})),c(C,"toString",(function(){return"[object Generator]"})),t.keys=function(B){var H=Object(B),J=[];for(var ne in H)J.push(ne);return J.reverse(),function q(){for(;J.length;){var ee=J.pop();if(ee in H)return q.value=ee,q.done=!1,q}return q.done=!0,q}},t.values=z,V.prototype={constructor:V,reset:function(B){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!B)for(var H in this)H.charAt(0)==="t"&&r.call(this,H)&&!isNaN(+H.slice(1))&&(this[H]=e)},stop:function(){this.done=!0;var B=this.tryEntries[0].completion;if(B.type==="throw")throw B.arg;return this.rval},dispatchException:function(B){if(this.done)throw B;var H=this;function J(ae,ue){return ee.type="throw",ee.arg=B,H.next=ae,ue&&(H.method="next",H.arg=e),!!ue}for(var ne=this.tryEntries.length-1;ne>=0;--ne){var q=this.tryEntries[ne],ee=q.completion;if(q.tryLoc==="root")return J("end");if(q.tryLoc<=this.prev){var te=r.call(q,"catchLoc"),$=r.call(q,"finallyLoc");if(te&&$){if(this.prev<q.catchLoc)return J(q.catchLoc,!0);if(this.prev<q.finallyLoc)return J(q.finallyLoc)}else if(te){if(this.prev<q.catchLoc)return J(q.catchLoc,!0)}else{if(!$)throw Error("try statement without catch or finally");if(this.prev<q.finallyLoc)return J(q.finallyLoc)}}}},abrupt:function(B,H){for(var J=this.tryEntries.length-1;J>=0;--J){var ne=this.tryEntries[J];if(ne.tryLoc<=this.prev&&r.call(ne,"finallyLoc")&&this.prev<ne.finallyLoc){var q=ne;break}}q&&(B==="break"||B==="continue")&&q.tryLoc<=H&&H<=q.finallyLoc&&(q=null);var ee=q?q.completion:{};return ee.type=B,ee.arg=H,q?(this.method="next",this.next=q.finallyLoc,y):this.complete(ee)},complete:function(B,H){if(B.type==="throw")throw B.arg;return B.type==="break"||B.type==="continue"?this.next=B.arg:B.type==="return"?(this.rval=this.arg=B.arg,this.method="return",this.next="end"):B.type==="normal"&&H&&(this.next=H),y},finish:function(B){for(var H=this.tryEntries.length-1;H>=0;--H){var J=this.tryEntries[H];if(J.finallyLoc===B)return this.complete(J.completion,J.afterLoc),L(J),y}},catch:function(B){for(var H=this.tryEntries.length-1;H>=0;--H){var J=this.tryEntries[H];if(J.tryLoc===B){var ne=J.completion;if(ne.type==="throw"){var q=ne.arg;L(J)}return q}}throw Error("illegal catch attempt")},delegateYield:function(B,H,J){return this.delegate={iterator:z(B),resultName:H,nextLoc:J},this.method==="next"&&(this.arg=e),y}},t}function x1(e,t){return x1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},x1(e,t)}function _s(e,t){return(function(n){if(Array.isArray(n))return n})(e)||(function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s,l,c=[],u=!0,d=!1;try{if(s=(i=i.call(n)).next,r===0){if(Object(i)!==i)return;u=!1}else for(;!(u=(o=s.call(i)).done)&&(c.push(o.value),c.length!==r);u=!0);}catch(f){d=!0,a=f}finally{try{if(!u&&i.return!=null&&(l=i.return(),Object(l)!==l))return}finally{if(d)throw a}}return c}})(e,t)||Dse(e,t)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function _1(e){return(function(t){if(Array.isArray(t))return c3(t)})(e)||(function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)})(e)||Dse(e)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function Dse(e,t){if(e){if(typeof e=="string")return c3(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c3(e,t):void 0}}function f3(e){var t=typeof Map=="function"?new Map:void 0;return f3=function(n){if(n===null||!(function(i){try{return Function.toString.call(i).indexOf("[native code]")!==-1}catch{return typeof i=="function"}})(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,r)}function r(){return(function(i,o,a){if(d3())return Reflect.construct.apply(null,arguments);var s=[null];s.push.apply(s,o);var l=new(i.bind.apply(i,s));return a&&x1(l,a.prototype),l})(n,arguments,w1(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),x1(r,n)},f3(e)}function U6e(){return ie.createElement("svg",{width:"15",height:"15",className:"DocSearch-Control-Key-Icon"},ie.createElement("path",{d:"M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953",strokeWidth:"1.2",stroke:"currentColor",fill:"none",strokeLinecap:"square"}))}function Fse(){return ie.createElement("svg",{width:"20",height:"20",className:"DocSearch-Search-Icon",viewBox:"0 0 20 20","aria-hidden":"true"},ie.createElement("path",{d:"M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z",stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"}))}var z6e=["translations"],h3="Ctrl",B6e=ie.forwardRef((function(e,t){var n=e.translations,r=n===void 0?{}:n,i=zc(e,z6e),o=r.buttonText,a=o===void 0?"Search":o,s=r.buttonAriaLabel,l=s===void 0?"Search":s,c=_s(x.useState(null),2),u=c[0],d=c[1];x.useEffect((function(){typeof navigator<"u"&&(/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)?d("\u2318"):d(h3))}),[]);var f=_s(u===h3?[h3,"Ctrl",ie.createElement(U6e,null)]:["Meta","Command",u],3),p=f[0],g=f[1],h=f[2];return ie.createElement("button",Va({type:"button",className:"DocSearch DocSearch-Button","aria-label":"".concat(l," (").concat(g,"+K)")},i,{ref:t}),ie.createElement("span",{className:"DocSearch-Button-Container"},ie.createElement(Fse,null),ie.createElement("span",{className:"DocSearch-Button-Placeholder"},a)),ie.createElement("span",{className:"DocSearch-Button-Keys"},u!==null&&ie.createElement(ie.Fragment,null,ie.createElement(Use,{reactsToKey:p},h),ie.createElement(Use,{reactsToKey:"k"},"K"))))}));function Use(e){var t=e.reactsToKey,n=e.children,r=_s(x.useState(!1),2),i=r[0],o=r[1];return x.useEffect((function(){if(t)return window.addEventListener("keydown",a),window.addEventListener("keyup",s),function(){window.removeEventListener("keydown",a),window.removeEventListener("keyup",s)};function a(l){l.key===t&&o(!0)}function s(l){l.key!==t&&l.key!=="Meta"||o(!1)}}),[t]),ie.createElement("kbd",{className:i?"DocSearch-Button-Key DocSearch-Button-Key--pressed":"DocSearch-Button-Key"},n)}function zse(e,t){var n=void 0;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n&&clearTimeout(n),n=setTimeout((function(){return e.apply(void 0,i)}),t)}}function E1(e){return e.reduce((function(t,n){return t.concat(n)}),[])}var $6e=0;function p3(e){return e.collections.length===0?0:e.collections.reduce((function(t,n){return t+n.items.length}),0)}function Bse(e){return e!==Object(e)}function $se(e,t){if(e===t)return!0;if(Bse(e)||Bse(t)||typeof e=="function"||typeof t=="function")return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(!(i in t)||!$se(e[i],t[i]))return!1}return!0}var Zx=function(){},H6e=[{segment:"autocomplete-core",version:"1.17.9"}];function Hse(e){var t=e.item,n=e.items,r=n===void 0?[]:n;return{index:t.__autocomplete_indexName,items:[t],positions:[1+r.findIndex((function(i){return i.objectID===t.objectID}))],queryID:t.__autocomplete_queryID,algoliaSource:["autocomplete"]}}function V6e(e,t){return(function(n){if(Array.isArray(n))return n})(e)||(function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s,l,c=[],u=!0,d=!1;try{if(s=(i=i.call(n)).next,r!==0)for(;!(u=(o=s.call(i)).done)&&(c.push(o.value),c.length!==r);u=!0);}catch(f){d=!0,a=f}finally{try{if(!u&&i.return!=null&&(l=i.return(),Object(l)!==l))return}finally{if(d)throw a}}return c}})(e,t)||(function(n,r){if(n){if(typeof n=="string")return Vse(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Vse(n,r)}})(e,t)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function Vse(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var q6e=["items"],W6e=["items"];function S1(e){return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S1(e)}function e_(e){return(function(t){if(Array.isArray(t))return m3(t)})(e)||(function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)})(e)||(function(t,n){if(t){if(typeof t=="string")return m3(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m3(t,n)}})(e)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function m3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qse(e,t){if(e==null)return{};var n,r,i=(function(a,s){if(a==null)return{};var l,c,u={},d=Object.keys(a);for(c=0;c<d.length;c++)l=d[c],s.indexOf(l)>=0||(u[l]=a[l]);return u})(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wse(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,r)}return n}function em(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wse(Object(n),!0).forEach((function(r){G6e(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wse(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function G6e(e,t,n){return(t=(function(r){var i=(function(o,a){if(S1(o)!=="object"||o===null)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var l=s.call(o,a);if(S1(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)})(r,"string");return S1(i)==="symbol"?i:String(i)})(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t_(e){return e.map((function(t){var n=t.items,r=qse(t,q6e);return em(em({},r),{},{objectIDs:(n==null?void 0:n.map((function(i){return i.objectID})))||r.objectIDs})}))}function K6e(e){var t,n,r,i=(t=V6e((e.version||"").split(".").map(Number),2),n=t[0],r=t[1],n>=3||n===2&&r>=4||n===1&&r>=10);function o(a,s,l){if(i&&l!==void 0){var c=l[0].__autocomplete_algoliaCredentials,u={"X-Algolia-Application-Id":c.appId,"X-Algolia-API-Key":c.apiKey};e.apply(void 0,[a].concat(e_(s),[{headers:u}]))}else e.apply(void 0,[a].concat(e_(s)))}return{init:function(a,s){e("init",{appId:a,apiKey:s})},setAuthenticatedUserToken:function(a){e("setAuthenticatedUserToken",a)},setUserToken:function(a){e("setUserToken",a)},clickedObjectIDsAfterSearch:function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];s.length>0&&o("clickedObjectIDsAfterSearch",t_(s),s[0].items)},clickedObjectIDs:function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];s.length>0&&o("clickedObjectIDs",t_(s),s[0].items)},clickedFilters:function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];s.length>0&&e.apply(void 0,["clickedFilters"].concat(s))},convertedObjectIDsAfterSearch:function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];s.length>0&&o("convertedObjectIDsAfterSearch",t_(s),s[0].items)},convertedObjectIDs:function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];s.length>0&&o("convertedObjectIDs",t_(s),s[0].items)},convertedFilters:function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];s.length>0&&e.apply(void 0,["convertedFilters"].concat(s))},viewedObjectIDs:function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];s.length>0&&s.reduce((function(c,u){var d=u.items,f=qse(u,W6e);return[].concat(e_(c),e_((function(p){for(var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,h=[],y=0;y<p.objectIDs.length;y+=g)h.push(em(em({},p),{},{objectIDs:p.objectIDs.slice(y,y+g)}));return h})(em(em({},f),{},{objectIDs:(d==null?void 0:d.map((function(p){return p.objectID})))||f.objectIDs})).map((function(p){return{items:d,payload:p}}))))}),[]).forEach((function(c){var u=c.items;return o("viewedObjectIDs",[c.payload],u)}))},viewedFilters:function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];s.length>0&&e.apply(void 0,["viewedFilters"].concat(s))}}}function X6e(e){var t=e.items.reduce((function(n,r){var i;return n[r.__autocomplete_indexName]=((i=n[r.__autocomplete_indexName])!==null&&i!==void 0?i:[]).concat(r),n}),{});return Object.keys(t).map((function(n){return{index:n,items:t[n],algoliaSource:["autocomplete"]}}))}function C1(e){return e.objectID&&e.__autocomplete_indexName&&e.__autocomplete_queryID}function T1(e){return T1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T1(e)}function tm(e){return(function(t){if(Array.isArray(t))return g3(t)})(e)||(function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)})(e)||(function(t,n){if(t){if(typeof t=="string")return g3(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g3(t,n)}})(e)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function g3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gse(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,r)}return n}function Xl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gse(Object(n),!0).forEach((function(r){Y6e(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gse(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function Y6e(e,t,n){return(t=(function(r){var i=(function(o,a){if(T1(o)!=="object"||o===null)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var l=s.call(o,a);if(T1(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)})(r,"string");return T1(i)==="symbol"?i:String(i)})(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kse="2.15.0",Q6e="https://cdn.jsdelivr.net/npm/search-insights@".concat(Kse,"/dist/search-insights.min.js"),J6e=zse((function(e){var t=e.onItemsChange,n=e.items,r=e.insights,i=e.state;t({insights:r,insightsEvents:X6e({items:n}).map((function(o){return Xl({eventName:"Items Viewed"},o)})),state:i})}),400);function Xse(e){var t=(function(f){return Xl({onItemsChange:function(p){var g=p.insights,h=p.insightsEvents,y=p.state;g.viewedObjectIDs.apply(g,tm(h.map((function(b){return Xl(Xl({},b),{},{algoliaSource:Yse(b.algoliaSource,y.context)})}))))},onSelect:function(p){var g=p.insights,h=p.insightsEvents,y=p.state;g.clickedObjectIDsAfterSearch.apply(g,tm(h.map((function(b){return Xl(Xl({},b),{},{algoliaSource:Yse(b.algoliaSource,y.context)})}))))},onActive:Zx,__autocomplete_clickAnalytics:!0},f)})(e),n=t.insightsClient,r=t.insightsInitParams,i=t.onItemsChange,o=t.onSelect,a=t.onActive,s=t.__autocomplete_clickAnalytics,l=n;if(n||(function(f){typeof window<"u"&&f({window})})((function(f){var p=f.window,g=p.AlgoliaAnalyticsObject||"aa";typeof g=="string"&&(l=p[g]),l||(p.AlgoliaAnalyticsObject=g,p[g]||(p[g]=function(){p[g].queue||(p[g].queue=[]);for(var h=arguments.length,y=new Array(h),b=0;b<h;b++)y[b]=arguments[b];p[g].queue.push(y)}),p[g].version=Kse,l=p[g],(function(h){var y="[Autocomplete]: Could not load search-insights.js. Please load it manually following https://alg.li/insights-autocomplete";try{var b=h.document.createElement("script");b.async=!0,b.src=Q6e,b.onerror=function(){console.error(y)},document.body.appendChild(b)}catch{console.error(y)}})(p))})),!l)return{};r&&l("init",Xl({partial:!0},r));var c=K6e(l),u={current:[]},d=zse((function(f){var p=f.state;if(p.isOpen){var g=p.collections.reduce((function(h,y){return[].concat(tm(h),tm(y.items))}),[]).filter(C1);$se(u.current.map((function(h){return h.objectID})),g.map((function(h){return h.objectID})))||(u.current=g,g.length>0&&J6e({onItemsChange:i,items:g,insights:c,state:p}))}}),0);return{name:"aa.algoliaInsightsPlugin",subscribe:function(f){var p=f.setContext,g=f.onSelect,h=f.onActive;function y(b){p({algoliaInsightsPlugin:{__algoliaSearchParameters:Xl(Xl({},s?{clickAnalytics:!0}:{}),b?{userToken:Z6e(b)}:{}),insights:c}})}l("addAlgoliaAgent","insights-plugin"),y(),l("onUserTokenChange",(function(b){y(b)})),l("getUserToken",null,(function(b,w){y(w)})),g((function(b){var w=b.item,S=b.state,E=b.event,_=b.source;C1(w)&&o({state:S,event:E,insights:c,item:w,insightsEvents:[Xl({eventName:"Item Selected"},Hse({item:w,items:_.getItems().filter(C1)}))]})})),h((function(b){var w=b.item,S=b.source,E=b.state,_=b.event;C1(w)&&a({state:E,event:_,insights:c,item:w,insightsEvents:[Xl({eventName:"Item Active"},Hse({item:w,items:S.getItems().filter(C1)}))]})}))},onStateChange:function(f){var p=f.state;d({state:p})},__autocomplete_pluginOptions:e}}function Yse(){var e,t=arguments.length>1?arguments[1]:void 0;return[].concat(tm(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]),["autocomplete-internal"],tm((e=t.algoliaInsightsPlugin)!==null&&e!==void 0&&e.__automaticInsights?["autocomplete-automatic"]:[]))}function Z6e(e){return typeof e=="number"?e.toString():e}function n_(e,t){var n=t;return{then:function(r,i){return n_(e.then(r_(r,n,e),r_(i,n,e)),n)},catch:function(r){return n_(e.catch(r_(r,n,e)),n)},finally:function(r){return r&&n.onCancelList.push(r),n_(e.finally(r_(r&&function(){return n.onCancelList=[],r()},n,e)),n)},cancel:function(){n.isCanceled=!0;var r=n.onCancelList;n.onCancelList=[],r.forEach((function(i){i()}))},isCanceled:function(){return n.isCanceled===!0}}}function Qse(e){return n_(e,{isCanceled:!1,onCancelList:[]})}function r_(e,t,n){return e?function(r){return t.isCanceled?r:e(r)}:n}function Jse(e,t,n,r){if(!n)return null;if(e<0&&(t===null||r!==null&&t===0))return n+e;var i=(t===null?-1:t)+e;return i<=-1||i>=n?r===null?null:0:i}function Zse(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,r)}return n}function ele(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zse(Object(n),!0).forEach((function(r){e8e(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zse(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function e8e(e,t,n){return(t=(function(r){var i=(function(o,a){if(A1(o)!=="object"||o===null)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var l=s.call(o,a);if(A1(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)})(r,"string");return A1(i)==="symbol"?i:String(i)})(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A1(e){return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A1(e)}function qf(e){var t=(function(i){var o=i.collections.map((function(a){return a.items.length})).reduce((function(a,s,l){var c=(a[l-1]||0)+s;return a.push(c),a}),[]).reduce((function(a,s){return s<=i.activeItemId?a+1:a}),0);return i.collections[o]})(e);if(!t)return null;var n=t.items[(function(i){for(var o=i.state,a=i.collection,s=!1,l=0,c=0;s===!1;){var u=o.collections[l];if(u===a){s=!0;break}c+=u.items.length,l++}return o.activeItemId-c})({state:e,collection:t})],r=t.source;return{item:n,itemInputValue:r.getItemInputValue({item:n,state:e}),itemUrl:r.getItemUrl({item:n,state:e}),source:r}}function yl(e,t,n){return[e,n==null?void 0:n.sourceId,t].filter(Boolean).join("-").replace(/\s/g,"")}var t8e=/((gt|sm)-|galaxy nexus)|samsung[- ]|samsungbrowser/i;function tle(e){return e.nativeEvent||e}function I1(e){return I1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I1(e)}function nle(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,r)}return n}function n8e(e,t,n){return(t=(function(r){var i=(function(o,a){if(I1(o)!=="object"||o===null)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var l=s.call(o,a);if(I1(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)})(r,"string");return I1(i)==="symbol"?i:String(i)})(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r8e(e,t,n){var r,i=t.initialState;return{getState:function(){return i},dispatch:function(o,a){var s=(function(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?nle(Object(u),!0).forEach((function(d){n8e(l,d,u[d])})):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):nle(Object(u)).forEach((function(d){Object.defineProperty(l,d,Object.getOwnPropertyDescriptor(u,d))}))}return l})({},i);i=e(i,{type:o,props:t,payload:a}),n({state:i,prevState:s})},pendingRequests:(r=[],{add:function(o){return r.push(o),o.finally((function(){r=r.filter((function(a){return a!==o}))}))},cancelAll:function(){r.forEach((function(o){return o.cancel()}))},isEmpty:function(){return r.length===0}})}}function O1(e){return O1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O1(e)}function rle(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,r)}return n}function i_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rle(Object(n),!0).forEach((function(r){i8e(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rle(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function i8e(e,t,n){return(t=(function(r){var i=(function(o,a){if(O1(o)!=="object"||o===null)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var l=s.call(o,a);if(O1(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)})(r,"string");return O1(i)==="symbol"?i:String(i)})(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k1(e){return k1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k1(e)}function o8e(e){return(function(t){if(Array.isArray(t))return y3(t)})(e)||(function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)})(e)||(function(t,n){if(t){if(typeof t=="string")return y3(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y3(t,n)}})(e)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function y3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ile(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,r)}return n}function nm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ile(Object(n),!0).forEach((function(r){a8e(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ile(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function a8e(e,t,n){return(t=(function(r){var i=(function(o,a){if(k1(o)!=="object"||o===null)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var l=s.call(o,a);if(k1(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)})(r,"string");return k1(i)==="symbol"?i:String(i)})(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s8e(e,t){var n,r=typeof window<"u"?window:{},i=e.plugins||[];return nm(nm({debug:!1,openOnFocus:!1,enterKeyHint:void 0,ignoreCompositionEvents:!1,placeholder:"",autoFocus:!1,defaultActiveItemId:null,stallThreshold:300,insights:void 0,environment:r,shouldPanelOpen:function(o){return p3(o.state)>0},reshape:function(o){return o.sources}},e),{},{id:(n=e.id)!==null&&n!==void 0?n:"autocomplete-".concat($6e++),plugins:i,initialState:nm({activeItemId:null,query:"",completion:null,collections:[],isOpen:!1,status:"idle",context:{}},e.initialState),onStateChange:function(o){var a;(a=e.onStateChange)===null||a===void 0||a.call(e,o),i.forEach((function(s){var l;return(l=s.onStateChange)===null||l===void 0?void 0:l.call(s,o)}))},onSubmit:function(o){var a;(a=e.onSubmit)===null||a===void 0||a.call(e,o),i.forEach((function(s){var l;return(l=s.onSubmit)===null||l===void 0?void 0:l.call(s,o)}))},onReset:function(o){var a;(a=e.onReset)===null||a===void 0||a.call(e,o),i.forEach((function(s){var l;return(l=s.onReset)===null||l===void 0?void 0:l.call(s,o)}))},getSources:function(o){return Promise.all([].concat(o8e(i.map((function(a){return a.getSources}))),[e.getSources]).filter(Boolean).map((function(a){return(function(s,l){var c=[];return Promise.resolve(s(l)).then((function(u){return Promise.all(u.filter((function(d){return!!d})).map((function(d){if(d.sourceId,c.includes(d.sourceId))throw new Error("[Autocomplete] The `sourceId` ".concat(JSON.stringify(d.sourceId)," is not unique."));c.push(d.sourceId);var f={getItemInputValue:function(g){return g.state.query},getItemUrl:function(){},onSelect:function(g){(0,g.setIsOpen)(!1)},onActive:Zx,onResolve:Zx};Object.keys(f).forEach((function(g){f[g].__default=!0}));var p=ele(ele({},f),d);return Promise.resolve(p)})))}))})(a,o)}))).then((function(a){return E1(a)})).then((function(a){return a.map((function(s){return nm(nm({},s),{},{onSelect:function(l){s.onSelect(l),t.forEach((function(c){var u;return(u=c.onSelect)===null||u===void 0?void 0:u.call(c,l)}))},onActive:function(l){s.onActive(l),t.forEach((function(c){var u;return(u=c.onActive)===null||u===void 0?void 0:u.call(c,l)}))},onResolve:function(l){s.onResolve(l),t.forEach((function(c){var u;return(u=c.onResolve)===null||u===void 0?void 0:u.call(c,l)}))}})}))}))},navigator:nm({navigate:function(o){var a=o.itemUrl;r.location.assign(a)},navigateNewTab:function(o){var a=o.itemUrl,s=r.open(a,"_blank","noopener");s==null||s.focus()},navigateNewWindow:function(o){var a=o.itemUrl;r.open(a,"_blank","noopener")}},e.navigator)})}function N1(e){return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N1(e)}function ole(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,r)}return n}function o_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ole(Object(n),!0).forEach((function(r){ale(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ole(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function ale(e,t,n){return(t=(function(r){var i=(function(o,a){if(N1(o)!=="object"||o===null)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var l=s.call(o,a);if(N1(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)})(r,"string");return N1(i)==="symbol"?i:String(i)})(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R1(e){return R1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R1(e)}function sle(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,r)}return n}function rm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sle(Object(n),!0).forEach((function(r){l8e(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sle(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function l8e(e,t,n){return(t=(function(r){var i=(function(o,a){if(R1(o)!=="object"||o===null)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var l=s.call(o,a);if(R1(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)})(r,"string");return R1(i)==="symbol"?i:String(i)})(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lle(e){return(function(t){if(Array.isArray(t))return v3(t)})(e)||(function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)})(e)||(function(t,n){if(t){if(typeof t=="string")return v3(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v3(t,n)}})(e)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function v3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a_(e){return!!e.execute}function c8e(e,t,n){if(i=e,!!(i!=null&&i.execute)){var r=e.requesterId==="algolia"?Object.assign.apply(Object,[{}].concat(lle(Object.keys(n.context).map((function(o){var a;return(a=n.context[o])===null||a===void 0?void 0:a.__algoliaSearchParameters}))))):{};return rm(rm({},e),{},{requests:e.queries.map((function(o){return{query:e.requesterId==="algolia"?rm(rm({},o),{},{params:rm(rm({},r),o.params)}):o,sourceId:t,transformResponse:e.transformResponse}}))})}var i;return{items:e,sourceId:t}}function u8e(e){var t=e.reduce((function(n,r){if(!a_(r))return n.push(r),n;var i=r.searchClient,o=r.execute,a=r.requesterId,s=r.requests,l=n.find((function(d){return a_(r)&&a_(d)&&d.searchClient===i&&!!a&&d.requesterId===a}));if(l){var c;(c=l.items).push.apply(c,lle(s))}else{var u={execute:o,requesterId:a,items:s,searchClient:i};n.push(u)}return n}),[]).map((function(n){if(!a_(n))return Promise.resolve(n);var r=n,i=r.execute,o=r.items;return i({searchClient:r.searchClient,requests:o})}));return Promise.all(t).then((function(n){return E1(n)}))}function d8e(e,t,n){return t.map((function(r){var i,o=e.filter((function(c){return c.sourceId===r.sourceId})),a=o.map((function(c){return c.items})),s=o[0].transformResponse,l=s?s({results:i=a,hits:i.map((function(c){return c.hits})).filter(Boolean),facetHits:i.map((function(c){var u;return(u=c.facetHits)===null||u===void 0?void 0:u.map((function(d){return{label:d.value,count:d.count,_highlightResult:{label:{value:d.highlighted}}}}))})).filter(Boolean)}):a;return r.onResolve({source:r,results:a,items:l,state:n.getState()}),l.every(Boolean),'The `getItems` function from source "'.concat(r.sourceId,'" must return an array of items but returned ').concat(JSON.stringify(void 0),`.

Did you forget to return items?

See: https://www.algolia.com/doc/ui-libraries/autocomplete/core-concepts/sources/#param-getitems`),{source:r,items:l}}))}function j1(e){return j1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j1(e)}var f8e=["event","nextState","props","query","refresh","store"];function cle(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,r)}return n}function Wf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cle(Object(n),!0).forEach((function(r){h8e(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cle(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function h8e(e,t,n){return(t=(function(r){var i=(function(o,a){if(j1(o)!=="object"||o===null)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var l=s.call(o,a);if(j1(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)})(r,"string");return j1(i)==="symbol"?i:String(i)})(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p8e(e,t){if(e==null)return{};var n,r,i=(function(a,s){if(a==null)return{};var l,c,u={},d=Object.keys(a);for(c=0;c<d.length;c++)l=d[c],s.indexOf(l)>=0||(u[l]=a[l]);return u})(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ule,b3,s_,L1=null,dle=(ule=-1,b3=-1,s_=void 0,function(e){var t=++ule;return Promise.resolve(e).then((function(n){return s_&&t<b3?s_:(b3=t,s_=n,n)}))});function Gf(e){var t=e.event,n=e.nextState,r=n===void 0?{}:n,i=e.props,o=e.query,a=e.refresh,s=e.store,l=p8e(e,f8e);L1&&i.environment.clearTimeout(L1);var c=l.setCollections,u=l.setIsOpen,d=l.setQuery,f=l.setActiveItemId,p=l.setStatus,g=l.setContext;if(d(o),f(i.defaultActiveItemId),!o&&i.openOnFocus===!1){var h,y=s.getState().collections.map((function(S){return Wf(Wf({},S),{},{items:[]})}));p("idle"),c(y),u((h=r.isOpen)!==null&&h!==void 0?h:i.shouldPanelOpen({state:s.getState()}));var b=Qse(dle(y).then((function(){return Promise.resolve()})));return s.pendingRequests.add(b)}p("loading"),L1=i.environment.setTimeout((function(){p("stalled")}),i.stallThreshold);var w=Qse(dle(i.getSources(Wf({query:o,refresh:a,state:s.getState()},l)).then((function(S){return Promise.all(S.map((function(E){return Promise.resolve(E.getItems(Wf({query:o,refresh:a,state:s.getState()},l))).then((function(_){return c8e(_,E.sourceId,s.getState())}))}))).then(u8e).then((function(E){var _,m=E.some((function(C){return(function(T){return!Array.isArray(T)&&!!(T!=null&&T._automaticInsights)})(C.items)}));return m&&g({algoliaInsightsPlugin:Wf(Wf({},((_=s.getState().context)===null||_===void 0?void 0:_.algoliaInsightsPlugin)||{}),{},{__automaticInsights:m})}),d8e(E,S,s)})).then((function(E){return(function(_){var m=_.collections,C=_.props,T=_.state,O=m.reduce((function(j,D){return o_(o_({},j),{},ale({},D.source.sourceId,o_(o_({},D.source),{},{getItems:function(){return E1(D.items)}})))}),{}),R=C.plugins.reduce((function(j,D){return D.reshape?D.reshape(j):j}),{sourcesBySourceId:O,state:T}).sourcesBySourceId;return E1(C.reshape({sourcesBySourceId:R,sources:Object.values(R),state:T})).filter(Boolean).map((function(j){return{source:j,items:j.getItems()}}))})({collections:E,props:i,state:s.getState()})}))})))).then((function(S){var E;p("idle"),c(S);var _=i.shouldPanelOpen({state:s.getState()});u((E=r.isOpen)!==null&&E!==void 0?E:i.openOnFocus&&!o&&_||_);var m=qf(s.getState());if(s.getState().activeItemId!==null&&m){var C=m.item,T=m.itemInputValue,O=m.itemUrl,R=m.source;R.onActive(Wf({event:t,item:C,itemInputValue:T,itemUrl:O,refresh:a,source:R,state:s.getState()},l))}})).finally((function(){p("idle"),L1&&i.environment.clearTimeout(L1)}));return s.pendingRequests.add(w)}function M1(e){return M1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M1(e)}var m8e=["event","props","refresh","store"];function fle(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,r)}return n}function Kf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fle(Object(n),!0).forEach((function(r){g8e(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fle(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function g8e(e,t,n){return(t=(function(r){var i=(function(o,a){if(M1(o)!=="object"||o===null)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var l=s.call(o,a);if(M1(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)})(r,"string");return M1(i)==="symbol"?i:String(i)})(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y8e(e,t){if(e==null)return{};var n,r,i=(function(a,s){if(a==null)return{};var l,c,u={},d=Object.keys(a);for(c=0;c<d.length;c++)l=d[c],s.indexOf(l)>=0||(u[l]=a[l]);return u})(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function P1(e){return P1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P1(e)}var v8e=["props","refresh","store"],b8e=["inputElement","formElement","panelElement"],w8e=["inputElement"],x8e=["inputElement","maxLength"],_8e=["source"],E8e=["item","source"];function hle(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,r)}return n}function ka(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hle(Object(n),!0).forEach((function(r){S8e(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hle(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function S8e(e,t,n){return(t=(function(r){var i=(function(o,a){if(P1(o)!=="object"||o===null)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var l=s.call(o,a);if(P1(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)})(r,"string");return P1(i)==="symbol"?i:String(i)})(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function im(e,t){if(e==null)return{};var n,r,i=(function(a,s){if(a==null)return{};var l,c,u={},d=Object.keys(a);for(c=0;c<d.length;c++)l=d[c],s.indexOf(l)>=0||(u[l]=a[l]);return u})(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function C8e(e){var t=e.props,n=e.refresh,r=e.store,i=im(e,v8e);return{getEnvironmentProps:function(o){var a=o.inputElement,s=o.formElement,l=o.panelElement;function c(u){!r.getState().isOpen&&r.pendingRequests.isEmpty()||u.target===a||[s,l].some((function(d){return f=d,p=u.target,f===p||f.contains(p);var f,p}))===!1&&(r.dispatch("blur",null),t.debug||r.pendingRequests.cancelAll())}return ka({onTouchStart:c,onMouseDown:c,onTouchMove:function(u){r.getState().isOpen!==!1&&a===t.environment.document.activeElement&&u.target!==a&&a.blur()}},im(o,b8e))},getRootProps:function(o){return ka({role:"combobox","aria-expanded":r.getState().isOpen,"aria-haspopup":"listbox","aria-controls":r.getState().isOpen?r.getState().collections.map((function(a){var s=a.source;return yl(t.id,"list",s)})).join(" "):void 0,"aria-labelledby":yl(t.id,"label")},o)},getFormProps:function(o){return o.inputElement,ka({action:"",noValidate:!0,role:"search",onSubmit:function(a){var s;a.preventDefault(),t.onSubmit(ka({event:a,refresh:n,state:r.getState()},i)),r.dispatch("submit",null),(s=o.inputElement)===null||s===void 0||s.blur()},onReset:function(a){var s;a.preventDefault(),t.onReset(ka({event:a,refresh:n,state:r.getState()},i)),r.dispatch("reset",null),(s=o.inputElement)===null||s===void 0||s.focus()}},im(o,w8e))},getLabelProps:function(o){return ka({htmlFor:yl(t.id,"input"),id:yl(t.id,"label")},o)},getInputProps:function(o){var a;function s(h){(t.openOnFocus||r.getState().query)&&Gf(ka({event:h,props:t,query:r.getState().completion||r.getState().query,refresh:n,store:r},i)),r.dispatch("focus",null)}var l=o||{};l.inputElement;var c=l.maxLength,u=c===void 0?512:c,d=im(l,x8e),f=qf(r.getState()),p=(function(h){return!!(h&&h.match(t8e))})(((a=t.environment.navigator)===null||a===void 0?void 0:a.userAgent)||""),g=t.enterKeyHint||(f!=null&&f.itemUrl&&!p?"go":"search");return ka({"aria-autocomplete":"both","aria-activedescendant":r.getState().isOpen&&r.getState().activeItemId!==null?yl(t.id,"item-".concat(r.getState().activeItemId),f==null?void 0:f.source):void 0,"aria-controls":r.getState().isOpen?r.getState().collections.map((function(h){var y=h.source;return yl(t.id,"list",y)})).join(" "):void 0,"aria-labelledby":yl(t.id,"label"),value:r.getState().completion||r.getState().query,id:yl(t.id,"input"),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",enterKeyHint:g,spellCheck:"false",autoFocus:t.autoFocus,placeholder:t.placeholder,maxLength:u,type:"search",onChange:function(h){var y=h.currentTarget.value;t.ignoreCompositionEvents&&tle(h).isComposing?i.setQuery(y):Gf(ka({event:h,props:t,query:y.slice(0,u),refresh:n,store:r},i))},onCompositionEnd:function(h){Gf(ka({event:h,props:t,query:h.currentTarget.value.slice(0,u),refresh:n,store:r},i))},onKeyDown:function(h){tle(h).isComposing||(function(y){var b=y.event,w=y.props,S=y.refresh,E=y.store,_=y8e(y,m8e);if(b.key==="ArrowUp"||b.key==="ArrowDown"){var m=function(){var L=qf(E.getState()),V=w.environment.document.getElementById(yl(w.id,"item-".concat(E.getState().activeItemId),L==null?void 0:L.source));V&&(V.scrollIntoViewIfNeeded?V.scrollIntoViewIfNeeded(!1):V.scrollIntoView(!1))},C=function(){var L=qf(E.getState());if(E.getState().activeItemId!==null&&L){var V=L.item,z=L.itemInputValue,B=L.itemUrl,H=L.source;H.onActive(Kf({event:b,item:V,itemInputValue:z,itemUrl:B,refresh:S,source:H,state:E.getState()},_))}};b.preventDefault(),E.getState().isOpen===!1&&(w.openOnFocus||E.getState().query)?Gf(Kf({event:b,props:w,query:E.getState().query,refresh:S,store:E},_)).then((function(){E.dispatch(b.key,{nextActiveItemId:w.defaultActiveItemId}),C(),setTimeout(m,0)})):(E.dispatch(b.key,{}),C(),m())}else if(b.key==="Escape")b.preventDefault(),E.dispatch(b.key,null),E.pendingRequests.cancelAll();else if(b.key==="Tab")E.dispatch("blur",null),E.pendingRequests.cancelAll();else if(b.key==="Enter"){if(E.getState().activeItemId===null||E.getState().collections.every((function(L){return L.items.length===0})))return void(w.debug||E.pendingRequests.cancelAll());b.preventDefault();var T=qf(E.getState()),O=T.item,R=T.itemInputValue,j=T.itemUrl,D=T.source;if(b.metaKey||b.ctrlKey)j!==void 0&&(D.onSelect(Kf({event:b,item:O,itemInputValue:R,itemUrl:j,refresh:S,source:D,state:E.getState()},_)),w.navigator.navigateNewTab({itemUrl:j,item:O,state:E.getState()}));else if(b.shiftKey)j!==void 0&&(D.onSelect(Kf({event:b,item:O,itemInputValue:R,itemUrl:j,refresh:S,source:D,state:E.getState()},_)),w.navigator.navigateNewWindow({itemUrl:j,item:O,state:E.getState()}));else if(!b.altKey){if(j!==void 0)return D.onSelect(Kf({event:b,item:O,itemInputValue:R,itemUrl:j,refresh:S,source:D,state:E.getState()},_)),void w.navigator.navigate({itemUrl:j,item:O,state:E.getState()});Gf(Kf({event:b,nextState:{isOpen:!1},props:w,query:R,refresh:S,store:E},_)).then((function(){D.onSelect(Kf({event:b,item:O,itemInputValue:R,itemUrl:j,refresh:S,source:D,state:E.getState()},_))}))}}})(ka({event:h,props:t,refresh:n,store:r},i))},onFocus:s,onBlur:Zx,onClick:function(h){o.inputElement!==t.environment.document.activeElement||r.getState().isOpen||s(h)}},d)},getPanelProps:function(o){return ka({onMouseDown:function(a){a.preventDefault()},onMouseLeave:function(){r.dispatch("mouseleave",null)}},o)},getListProps:function(o){var a=o||{},s=a.source,l=im(a,_8e);return ka({role:"listbox","aria-labelledby":yl(t.id,"label"),id:yl(t.id,"list",s)},l)},getItemProps:function(o){var a=o.item,s=o.source,l=im(o,E8e);return ka({id:yl(t.id,"item-".concat(a.__autocomplete_id),s),role:"option","aria-selected":r.getState().activeItemId===a.__autocomplete_id,onMouseMove:function(c){if(a.__autocomplete_id!==r.getState().activeItemId){r.dispatch("mousemove",a.__autocomplete_id);var u=qf(r.getState());if(r.getState().activeItemId!==null&&u){var d=u.item,f=u.itemInputValue,p=u.itemUrl,g=u.source;g.onActive(ka({event:c,item:d,itemInputValue:f,itemUrl:p,refresh:n,source:g,state:r.getState()},i))}}},onMouseDown:function(c){c.preventDefault()},onClick:function(c){var u=s.getItemInputValue({item:a,state:r.getState()}),d=s.getItemUrl({item:a,state:r.getState()});(d?Promise.resolve():Gf(ka({event:c,nextState:{isOpen:!1},props:t,query:u,refresh:n,store:r},i))).then((function(){s.onSelect(ka({event:c,item:a,itemInputValue:u,itemUrl:d,refresh:n,source:s,state:r.getState()},i))}))}},l)}}}function D1(e){return D1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D1(e)}function ple(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,r)}return n}function T8e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ple(Object(n),!0).forEach((function(r){mle(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ple(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function mle(e,t,n){return(t=(function(r){var i=(function(o,a){if(D1(o)!=="object"||o===null)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var l=s.call(o,a);if(D1(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)})(r,"string");return D1(i)==="symbol"?i:String(i)})(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A8e(e){var t,n,r,i,o=e.plugins,a=e.options,s=(t=(((n=a.__autocomplete_metadata)===null||n===void 0?void 0:n.userAgents)||[])[0])===null||t===void 0?void 0:t.segment,l=s?mle({},s,Object.keys(((r=a.__autocomplete_metadata)===null||r===void 0?void 0:r.options)||{})):{};return{plugins:o.map((function(c){return{name:c.name,options:Object.keys(c.__autocomplete_pluginOptions||[])}})),options:T8e({"autocomplete-core":Object.keys(a)},l),ua:H6e.concat(((i=a.__autocomplete_metadata)===null||i===void 0?void 0:i.userAgents)||[])}}function gle(e){var t,n=e.state;return n.isOpen===!1||n.activeItemId===null?null:((t=qf(n))===null||t===void 0?void 0:t.itemInputValue)||null}function F1(e){return F1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F1(e)}function yle(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,r)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yle(Object(n),!0).forEach((function(r){I8e(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yle(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function I8e(e,t,n){return(t=(function(r){var i=(function(o,a){if(F1(o)!=="object"||o===null)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var l=s.call(o,a);if(F1(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)})(r,"string");return F1(i)==="symbol"?i:String(i)})(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O8e=function(e,t){switch(t.type){case"setActiveItemId":case"mousemove":return Wr(Wr({},e),{},{activeItemId:t.payload});case"setQuery":return Wr(Wr({},e),{},{query:t.payload,completion:null});case"setCollections":return Wr(Wr({},e),{},{collections:t.payload});case"setIsOpen":return Wr(Wr({},e),{},{isOpen:t.payload});case"setStatus":return Wr(Wr({},e),{},{status:t.payload});case"setContext":return Wr(Wr({},e),{},{context:Wr(Wr({},e.context),t.payload)});case"ArrowDown":var n=Wr(Wr({},e),{},{activeItemId:t.payload.hasOwnProperty("nextActiveItemId")?t.payload.nextActiveItemId:Jse(1,e.activeItemId,p3(e),t.props.defaultActiveItemId)});return Wr(Wr({},n),{},{completion:gle({state:n})});case"ArrowUp":var r=Wr(Wr({},e),{},{activeItemId:Jse(-1,e.activeItemId,p3(e),t.props.defaultActiveItemId)});return Wr(Wr({},r),{},{completion:gle({state:r})});case"Escape":return e.isOpen?Wr(Wr({},e),{},{activeItemId:null,isOpen:!1,completion:null}):Wr(Wr({},e),{},{activeItemId:null,query:"",status:"idle",collections:[]});case"submit":return Wr(Wr({},e),{},{activeItemId:null,isOpen:!1,status:"idle"});case"reset":return Wr(Wr({},e),{},{activeItemId:t.props.openOnFocus===!0?t.props.defaultActiveItemId:null,status:"idle",completion:null,query:""});case"focus":return Wr(Wr({},e),{},{activeItemId:t.props.defaultActiveItemId,isOpen:(t.props.openOnFocus||!!e.query)&&t.props.shouldPanelOpen({state:e})});case"blur":return t.props.debug?e:Wr(Wr({},e),{},{isOpen:!1,activeItemId:null});case"mouseleave":return Wr(Wr({},e),{},{activeItemId:t.props.defaultActiveItemId});default:return"The reducer action ".concat(JSON.stringify(t.type)," is not supported."),e}};function U1(e){return U1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U1(e)}function vle(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,r)}return n}function Xf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vle(Object(n),!0).forEach((function(r){k8e(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vle(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function k8e(e,t,n){return(t=(function(r){var i=(function(o,a){if(U1(o)!=="object"||o===null)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var l=s.call(o,a);if(U1(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)})(r,"string");return U1(i)==="symbol"?i:String(i)})(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N8e(e){var t=[],n=s8e(e,t),r=r8e(O8e,n,(function(u){var d,f,p=u.prevState,g=u.state;if(n.onStateChange(Xf({prevState:p,state:g,refresh:a,navigator:n.navigator},i)),!l()&&(d=g.context)!==null&&d!==void 0&&(f=d.algoliaInsightsPlugin)!==null&&f!==void 0&&f.__automaticInsights&&n.insights!==!1){var h=Xse({__autocomplete_clickAnalytics:!1});n.plugins.push(h),s([h])}})),i=(function(u){var d=u.store;return{setActiveItemId:function(f){d.dispatch("setActiveItemId",f)},setQuery:function(f){d.dispatch("setQuery",f)},setCollections:function(f){var p=0,g=f.map((function(h){return i_(i_({},h),{},{items:E1(h.items).map((function(y){return i_(i_({},y),{},{__autocomplete_id:p++})}))})}));d.dispatch("setCollections",g)},setIsOpen:function(f){d.dispatch("setIsOpen",f)},setStatus:function(f){d.dispatch("setStatus",f)},setContext:function(f){d.dispatch("setContext",f)}}})({store:r}),o=C8e(Xf({props:n,refresh:a,store:r,navigator:n.navigator},i));function a(){return Gf(Xf({event:new Event("input"),nextState:{isOpen:r.getState().isOpen},props:n,navigator:n.navigator,query:r.getState().query,refresh:a,store:r},i))}function s(u){u.forEach((function(d){var f;return(f=d.subscribe)===null||f===void 0?void 0:f.call(d,Xf(Xf({},i),{},{navigator:n.navigator,refresh:a,onSelect:function(p){t.push({onSelect:p})},onActive:function(p){t.push({onActive:p})},onResolve:function(p){t.push({onResolve:p})}}))}))}function l(){return n.plugins.some((function(u){return u.name==="aa.algoliaInsightsPlugin"}))}if(n.insights&&!l()){var c=typeof n.insights=="boolean"?{}:n.insights;n.plugins.push(Xse(c))}return s(n.plugins),(function(u){var d,f,p=u.metadata,g=u.environment;if(!((d=g.navigator)===null||d===void 0||(f=d.userAgent)===null||f===void 0)&&f.includes("Algolia Crawler")){var h=g.document.createElement("meta"),y=g.document.querySelector("head");h.name="algolia:metadata",setTimeout((function(){h.content=JSON.stringify(p),y.appendChild(h)}),0)}})({metadata:A8e({plugins:n.plugins,options:e}),environment:n.environment}),Xf(Xf({refresh:a,navigator:n.navigator},o),i)}function R8e(e){var t=e.translations,n=(t===void 0?{}:t).searchByText,r=n===void 0?"Search by":n;return ie.createElement("a",{href:"https://www.algolia.com/ref/docsearch/?utm_source=".concat(window.location.hostname,"&utm_medium=referral&utm_content=powered_by&utm_campaign=docsearch"),target:"_blank",rel:"noopener noreferrer"},ie.createElement("span",{className:"DocSearch-Label"},r),ie.createElement("svg",{width:"77",height:"19","aria-label":"Algolia",role:"img",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2196.2 500"},ie.createElement("defs",null,ie.createElement("style",null,".cls-1,.cls-2{fill:#003dff;}.cls-2{fill-rule:evenodd;}")),ie.createElement("path",{className:"cls-2",d:"M1070.38,275.3V5.91c0-3.63-3.24-6.39-6.82-5.83l-50.46,7.94c-2.87,.45-4.99,2.93-4.99,5.84l.17,273.22c0,12.92,0,92.7,95.97,95.49,3.33,.1,6.09-2.58,6.09-5.91v-40.78c0-2.96-2.19-5.51-5.12-5.84-34.85-4.01-34.85-47.57-34.85-54.72Z"}),ie.createElement("rect",{className:"cls-1",x:"1845.88",y:"104.73",width:"62.58",height:"277.9",rx:"5.9",ry:"5.9"}),ie.createElement("path",{className:"cls-2",d:"M1851.78,71.38h50.77c3.26,0,5.9-2.64,5.9-5.9V5.9c0-3.62-3.24-6.39-6.82-5.83l-50.77,7.95c-2.87,.45-4.99,2.92-4.99,5.83v51.62c0,3.26,2.64,5.9,5.9,5.9Z"}),ie.createElement("path",{className:"cls-2",d:"M1764.03,275.3V5.91c0-3.63-3.24-6.39-6.82-5.83l-50.46,7.94c-2.87,.45-4.99,2.93-4.99,5.84l.17,273.22c0,12.92,0,92.7,95.97,95.49,3.33,.1,6.09-2.58,6.09-5.91v-40.78c0-2.96-2.19-5.51-5.12-5.84-34.85-4.01-34.85-47.57-34.85-54.72Z"}),ie.createElement("path",{className:"cls-2",d:"M1631.95,142.72c-11.14-12.25-24.83-21.65-40.78-28.31-15.92-6.53-33.26-9.85-52.07-9.85-18.78,0-36.15,3.17-51.92,9.85-15.59,6.66-29.29,16.05-40.76,28.31-11.47,12.23-20.38,26.87-26.76,44.03-6.38,17.17-9.24,37.37-9.24,58.36,0,20.99,3.19,36.87,9.55,54.21,6.38,17.32,15.14,32.11,26.45,44.36,11.29,12.23,24.83,21.62,40.6,28.46,15.77,6.83,40.12,10.33,52.4,10.48,12.25,0,36.78-3.82,52.7-10.48,15.92-6.68,29.46-16.23,40.78-28.46,11.29-12.25,20.05-27.04,26.25-44.36,6.22-17.34,9.24-33.22,9.24-54.21,0-20.99-3.34-41.19-10.03-58.36-6.38-17.17-15.14-31.8-26.43-44.03Zm-44.43,163.75c-11.47,15.75-27.56,23.7-48.09,23.7-20.55,0-36.63-7.8-48.1-23.7-11.47-15.75-17.21-34.01-17.21-61.2,0-26.89,5.59-49.14,17.06-64.87,11.45-15.75,27.54-23.52,48.07-23.52,20.55,0,36.63,7.78,48.09,23.52,11.47,15.57,17.36,37.98,17.36,64.87,0,27.19-5.72,45.3-17.19,61.2Z"}),ie.createElement("path",{className:"cls-2",d:"M894.42,104.73h-49.33c-48.36,0-90.91,25.48-115.75,64.1-14.52,22.58-22.99,49.63-22.99,78.73,0,44.89,20.13,84.92,51.59,111.1,2.93,2.6,6.05,4.98,9.31,7.14,12.86,8.49,28.11,13.47,44.52,13.47,1.23,0,2.46-.03,3.68-.09,.36-.02,.71-.05,1.07-.07,.87-.05,1.75-.11,2.62-.2,.34-.03,.68-.08,1.02-.12,.91-.1,1.82-.21,2.73-.34,.21-.03,.42-.07,.63-.1,32.89-5.07,61.56-30.82,70.9-62.81v57.83c0,3.26,2.64,5.9,5.9,5.9h50.42c3.26,0,5.9-2.64,5.9-5.9V110.63c0-3.26-2.64-5.9-5.9-5.9h-56.32Zm0,206.92c-12.2,10.16-27.97,13.98-44.84,15.12-.16,.01-.33,.03-.49,.04-1.12,.07-2.24,.1-3.36,.1-42.24,0-77.12-35.89-77.12-79.37,0-10.25,1.96-20.01,5.42-28.98,11.22-29.12,38.77-49.74,71.06-49.74h49.33v142.83Z"}),ie.createElement("path",{className:"cls-2",d:"M2133.97,104.73h-49.33c-48.36,0-90.91,25.48-115.75,64.1-14.52,22.58-22.99,49.63-22.99,78.73,0,44.89,20.13,84.92,51.59,111.1,2.93,2.6,6.05,4.98,9.31,7.14,12.86,8.49,28.11,13.47,44.52,13.47,1.23,0,2.46-.03,3.68-.09,.36-.02,.71-.05,1.07-.07,.87-.05,1.75-.11,2.62-.2,.34-.03,.68-.08,1.02-.12,.91-.1,1.82-.21,2.73-.34,.21-.03,.42-.07,.63-.1,32.89-5.07,61.56-30.82,70.9-62.81v57.83c0,3.26,2.64,5.9,5.9,5.9h50.42c3.26,0,5.9-2.64,5.9-5.9V110.63c0-3.26-2.64-5.9-5.9-5.9h-56.32Zm0,206.92c-12.2,10.16-27.97,13.98-44.84,15.12-.16,.01-.33,.03-.49,.04-1.12,.07-2.24,.1-3.36,.1-42.24,0-77.12-35.89-77.12-79.37,0-10.25,1.96-20.01,5.42-28.98,11.22-29.12,38.77-49.74,71.06-49.74h49.33v142.83Z"}),ie.createElement("path",{className:"cls-2",d:"M1314.05,104.73h-49.33c-48.36,0-90.91,25.48-115.75,64.1-11.79,18.34-19.6,39.64-22.11,62.59-.58,5.3-.88,10.68-.88,16.14s.31,11.15,.93,16.59c4.28,38.09,23.14,71.61,50.66,94.52,2.93,2.6,6.05,4.98,9.31,7.14,12.86,8.49,28.11,13.47,44.52,13.47h0c17.99,0,34.61-5.93,48.16-15.97,16.29-11.58,28.88-28.54,34.48-47.75v50.26h-.11v11.08c0,21.84-5.71,38.27-17.34,49.36-11.61,11.08-31.04,16.63-58.25,16.63-11.12,0-28.79-.59-46.6-2.41-2.83-.29-5.46,1.5-6.27,4.22l-12.78,43.11c-1.02,3.46,1.27,7.02,4.83,7.53,21.52,3.08,42.52,4.68,54.65,4.68,48.91,0,85.16-10.75,108.89-32.21,21.48-19.41,33.15-48.89,35.2-88.52V110.63c0-3.26-2.64-5.9-5.9-5.9h-56.32Zm0,64.1s.65,139.13,0,143.36c-12.08,9.77-27.11,13.59-43.49,14.7-.16,.01-.33,.03-.49,.04-1.12,.07-2.24,.1-3.36,.1-1.32,0-2.63-.03-3.94-.1-40.41-2.11-74.52-37.26-74.52-79.38,0-10.25,1.96-20.01,5.42-28.98,11.22-29.12,38.77-49.74,71.06-49.74h49.33Z"}),ie.createElement("path",{className:"cls-1",d:"M249.83,0C113.3,0,2,110.09,.03,246.16c-2,138.19,110.12,252.7,248.33,253.5,42.68,.25,83.79-10.19,120.3-30.03,3.56-1.93,4.11-6.83,1.08-9.51l-23.38-20.72c-4.75-4.21-11.51-5.4-17.36-2.92-25.48,10.84-53.17,16.38-81.71,16.03-111.68-1.37-201.91-94.29-200.13-205.96,1.76-110.26,92-199.41,202.67-199.41h202.69V407.41l-115-102.18c-3.72-3.31-9.42-2.66-12.42,1.31-18.46,24.44-48.53,39.64-81.93,37.34-46.33-3.2-83.87-40.5-87.34-86.81-4.15-55.24,39.63-101.52,94-101.52,49.18,0,89.68,37.85,93.91,85.95,.38,4.28,2.31,8.27,5.52,11.12l29.95,26.55c3.4,3.01,8.79,1.17,9.63-3.3,2.16-11.55,2.92-23.58,2.07-35.92-4.82-70.34-61.8-126.93-132.17-131.26-80.68-4.97-148.13,58.14-150.27,137.25-2.09,77.1,61.08,143.56,138.19,145.26,32.19,.71,62.03-9.41,86.14-26.95l150.26,133.2c6.44,5.71,16.61,1.14,16.61-7.47V9.48C499.66,4.25,495.42,0,490.18,0H249.83Z"})))}function l_(e){return ie.createElement("svg",{width:"15",height:"15","aria-label":e.ariaLabel,role:"img"},ie.createElement("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"},e.children))}function j8e(e){var t=e.translations,n=t===void 0?{}:t,r=n.selectText,i=r===void 0?"to select":r,o=n.selectKeyAriaLabel,a=o===void 0?"Enter key":o,s=n.navigateText,l=s===void 0?"to navigate":s,c=n.navigateUpKeyAriaLabel,u=c===void 0?"Arrow up":c,d=n.navigateDownKeyAriaLabel,f=d===void 0?"Arrow down":d,p=n.closeText,g=p===void 0?"to close":p,h=n.closeKeyAriaLabel,y=h===void 0?"Escape key":h,b=n.searchByText,w=b===void 0?"Search by":b;return ie.createElement(ie.Fragment,null,ie.createElement("div",{className:"DocSearch-Logo"},ie.createElement(R8e,{translations:{searchByText:w}})),ie.createElement("ul",{className:"DocSearch-Commands"},ie.createElement("li",null,ie.createElement("kbd",{className:"DocSearch-Commands-Key"},ie.createElement(l_,{ariaLabel:a},ie.createElement("path",{d:"M12 3.53088v3c0 1-1 2-2 2H4M7 11.53088l-3-3 3-3"}))),ie.createElement("span",{className:"DocSearch-Label"},i)),ie.createElement("li",null,ie.createElement("kbd",{className:"DocSearch-Commands-Key"},ie.createElement(l_,{ariaLabel:f},ie.createElement("path",{d:"M7.5 3.5v8M10.5 8.5l-3 3-3-3"}))),ie.createElement("kbd",{className:"DocSearch-Commands-Key"},ie.createElement(l_,{ariaLabel:u},ie.createElement("path",{d:"M7.5 11.5v-8M10.5 6.5l-3-3-3 3"}))),ie.createElement("span",{className:"DocSearch-Label"},l)),ie.createElement("li",null,ie.createElement("kbd",{className:"DocSearch-Commands-Key"},ie.createElement(l_,{ariaLabel:y},ie.createElement("path",{d:"M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993 0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016.8634 0 1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5c.032.5663-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864 0 1.6425 1.031 1.5443 2.2492h-2.956"}))),ie.createElement("span",{className:"DocSearch-Label"},g))))}function L8e(e){var t=e.hit,n=e.children;return ie.createElement("a",{href:t.url},n)}function M8e(){return ie.createElement("svg",{viewBox:"0 0 38 38",stroke:"currentColor",strokeOpacity:".5"},ie.createElement("g",{fill:"none",fillRule:"evenodd"},ie.createElement("g",{transform:"translate(1 1)",strokeWidth:"2"},ie.createElement("circle",{strokeOpacity:".3",cx:"18",cy:"18",r:"18"}),ie.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18"},ie.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})))))}function P8e(){return ie.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},ie.createElement("g",{stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},ie.createElement("path",{d:"M3.18 6.6a8.23 8.23 0 1112.93 9.94h0a8.23 8.23 0 01-11.63 0"}),ie.createElement("path",{d:"M6.44 7.25H2.55V3.36M10.45 6v5.6M10.45 11.6L13 13"})))}function w3(){return ie.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},ie.createElement("path",{d:"M10 10l5.09-5.09L10 10l5.09 5.09L10 10zm0 0L4.91 4.91 10 10l-5.09 5.09L10 10z",stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"}))}function D8e(){return ie.createElement("svg",{className:"DocSearch-Hit-Select-Icon",width:"20",height:"20",viewBox:"0 0 20 20"},ie.createElement("g",{stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},ie.createElement("path",{d:"M18 3v4c0 2-2 4-4 4H2"}),ie.createElement("path",{d:"M8 17l-6-6 6-6"})))}var F8e=function(){return ie.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},ie.createElement("path",{d:"M17 6v12c0 .52-.2 1-1 1H4c-.7 0-1-.33-1-1V2c0-.55.42-1 1-1h8l5 5zM14 8h-3.13c-.51 0-.87-.34-.87-.87V4",stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinejoin:"round"}))};function U8e(e){switch(e.type){case"lvl1":return ie.createElement(F8e,null);case"content":return ie.createElement(B8e,null);default:return ie.createElement(z8e,null)}}function z8e(){return ie.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},ie.createElement("path",{d:"M13 13h4-4V8H7v5h6v4-4H7V8H3h4V3v5h6V3v5h4-4v5zm-6 0v4-4H3h4z",stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"}))}function B8e(){return ie.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},ie.createElement("path",{d:"M17 5H3h14zm0 5H3h14zm0 5H3h14z",stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinejoin:"round"}))}function ble(){return ie.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},ie.createElement("path",{d:"M10 14.2L5 17l1-5.6-4-4 5.5-.7 2.5-5 2.5 5 5.6.8-4 4 .9 5.5z",stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinejoin:"round"}))}function $8e(){return ie.createElement("svg",{width:"40",height:"40",viewBox:"0 0 20 20",fill:"none",fillRule:"evenodd",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},ie.createElement("path",{d:"M19 4.8a16 16 0 00-2-1.2m-3.3-1.2A16 16 0 001.1 4.7M16.7 8a12 12 0 00-2.8-1.4M10 6a12 12 0 00-6.7 2M12.3 14.7a4 4 0 00-4.5 0M14.5 11.4A8 8 0 0010 10M3 16L18 2M10 18h0"}))}function H8e(){return ie.createElement("svg",{width:"40",height:"40",viewBox:"0 0 20 20",fill:"none",fillRule:"evenodd",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},ie.createElement("path",{d:"M15.5 4.8c2 3 1.7 7-1 9.7h0l4.3 4.3-4.3-4.3a7.8 7.8 0 01-9.8 1m-2.2-2.2A7.8 7.8 0 0113.2 2.4M2 18L18 2"}))}function V8e(e){var t=e.translations,n=t===void 0?{}:t,r=n.titleText,i=r===void 0?"Unable to fetch results":r,o=n.helpText,a=o===void 0?"You might want to check your network connection.":o;return ie.createElement("div",{className:"DocSearch-ErrorScreen"},ie.createElement("div",{className:"DocSearch-Screen-Icon"},ie.createElement($8e,null)),ie.createElement("p",{className:"DocSearch-Title"},i),ie.createElement("p",{className:"DocSearch-Help"},a))}var q8e=["translations"];function W8e(e){var t=e.translations,n=t===void 0?{}:t,r=zc(e,q8e),i=n.noResultsText,o=i===void 0?"No results for":i,a=n.suggestedQueryText,s=a===void 0?"Try searching for":a,l=n.reportMissingResultsText,c=l===void 0?"Believe this query should return results?":l,u=n.reportMissingResultsLinkText,d=u===void 0?"Let us know.":u,f=r.state.context.searchSuggestions;return ie.createElement("div",{className:"DocSearch-NoResults"},ie.createElement("div",{className:"DocSearch-Screen-Icon"},ie.createElement(H8e,null)),ie.createElement("p",{className:"DocSearch-Title"},o,' "',ie.createElement("strong",null,r.state.query),'"'),f&&f.length>0&&ie.createElement("div",{className:"DocSearch-NoResults-Prefill-List"},ie.createElement("p",{className:"DocSearch-Help"},s,":"),ie.createElement("ul",null,f.slice(0,3).reduce((function(p,g){return[].concat(_1(p),[ie.createElement("li",{key:g},ie.createElement("button",{className:"DocSearch-Prefill",key:g,type:"button",onClick:function(){r.setQuery(g.toLowerCase()+" "),r.refresh(),r.inputRef.current.focus()}},g))])}),[]))),r.getMissingResultsUrl&&ie.createElement("p",{className:"DocSearch-Help"},"".concat(c," "),ie.createElement("a",{href:r.getMissingResultsUrl({query:r.state.query}),target:"_blank",rel:"noopener noreferrer"},d)))}var G8e=["hit","attribute","tagName"];function wle(e,t){return t.split(".").reduce((function(n,r){return n!=null&&n[r]?n[r]:null}),e)}function om(e){var t=e.hit,n=e.attribute,r=e.tagName,i=r===void 0?"span":r,o=zc(e,G8e);return x.createElement(i,Pr(Pr({},o),{},{dangerouslySetInnerHTML:{__html:wle(t,"_snippetResult.".concat(n,".value"))||wle(t,n)}}))}function x3(e){return e.collection&&e.collection.items.length!==0?ie.createElement("section",{className:"DocSearch-Hits"},ie.createElement("div",{className:"DocSearch-Hit-source"},e.title),ie.createElement("ul",e.getListProps(),e.collection.items.map((function(t,n){return ie.createElement(K8e,Va({key:[e.title,t.objectID].join(":"),item:t,index:n},e))})))):null}function K8e(e){var t=e.item,n=e.index,r=e.renderIcon,i=e.renderAction,o=e.getItemProps,a=e.onItemClick,s=e.collection,l=e.hitComponent,c=_s(ie.useState(!1),2),u=c[0],d=c[1],f=_s(ie.useState(!1),2),p=f[0],g=f[1],h=ie.useRef(null),y=l;return ie.createElement("li",Va({className:["DocSearch-Hit",t.__docsearch_parent&&"DocSearch-Hit--Child",u&&"DocSearch-Hit--deleting",p&&"DocSearch-Hit--favoriting"].filter(Boolean).join(" "),onTransitionEnd:function(){h.current&&h.current()}},o({item:t,source:s.source,onClick:function(b){a(t,b)}})),ie.createElement(y,{hit:t},ie.createElement("div",{className:"DocSearch-Hit-Container"},r({item:t,index:n}),t.hierarchy[t.type]&&t.type==="lvl1"&&ie.createElement("div",{className:"DocSearch-Hit-content-wrapper"},ie.createElement(om,{className:"DocSearch-Hit-title",hit:t,attribute:"hierarchy.lvl1"}),t.content&&ie.createElement(om,{className:"DocSearch-Hit-path",hit:t,attribute:"content"})),t.hierarchy[t.type]&&(t.type==="lvl2"||t.type==="lvl3"||t.type==="lvl4"||t.type==="lvl5"||t.type==="lvl6")&&ie.createElement("div",{className:"DocSearch-Hit-content-wrapper"},ie.createElement(om,{className:"DocSearch-Hit-title",hit:t,attribute:"hierarchy.".concat(t.type)}),ie.createElement(om,{className:"DocSearch-Hit-path",hit:t,attribute:"hierarchy.lvl1"})),t.type==="content"&&ie.createElement("div",{className:"DocSearch-Hit-content-wrapper"},ie.createElement(om,{className:"DocSearch-Hit-title",hit:t,attribute:"content"}),ie.createElement(om,{className:"DocSearch-Hit-path",hit:t,attribute:"hierarchy.lvl1"})),i({item:t,runDeleteTransition:function(b){d(!0),h.current=b},runFavoriteTransition:function(b){g(!0),h.current=b}}))))}function xle(e,t,n){return e.reduce((function(r,i){var o=t(i);return r.hasOwnProperty(o)||(r[o]=[]),r[o].length<(n||5)&&r[o].push(i),r}),{})}function _le(e){return e}function c_(e){return e.button===1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}function X8e(){}var Ele=/(<mark>|<\/mark>)/g,Y8e=RegExp(Ele.source);function Sle(e){var t,n,r=e;if(!r.__docsearch_parent&&!e._highlightResult)return e.hierarchy.lvl0;var i=r.__docsearch_parent?(t=r.__docsearch_parent)===null||t===void 0||(t=t._highlightResult)===null||t===void 0||(t=t.hierarchy)===null||t===void 0?void 0:t.lvl0:(n=e._highlightResult)===null||n===void 0||(n=n.hierarchy)===null||n===void 0?void 0:n.lvl0;return i?i.value&&Y8e.test(i.value)?i.value.replace(Ele,""):i.value:e.hierarchy.lvl0}function Q8e(e){return ie.createElement("div",{className:"DocSearch-Dropdown-Container"},e.state.collections.map((function(t){if(t.items.length===0)return null;var n=Sle(t.items[0]);return ie.createElement(x3,Va({},e,{key:t.source.sourceId,title:n,collection:t,renderIcon:function(r){var i,o=r.item,a=r.index;return ie.createElement(ie.Fragment,null,o.__docsearch_parent&&ie.createElement("svg",{className:"DocSearch-Hit-Tree",viewBox:"0 0 24 54"},ie.createElement("g",{stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},o.__docsearch_parent!==((i=t.items[a+1])===null||i===void 0?void 0:i.__docsearch_parent)?ie.createElement("path",{d:"M8 6v21M20 27H8.3"}):ie.createElement("path",{d:"M8 6v42M20 27H8.3"}))),ie.createElement("div",{className:"DocSearch-Hit-icon"},ie.createElement(U8e,{type:o.type})))},renderAction:function(){return ie.createElement("div",{className:"DocSearch-Hit-action"},ie.createElement(D8e,null))}}))})),e.resultsFooterComponent&&ie.createElement("section",{className:"DocSearch-HitsFooter"},ie.createElement(e.resultsFooterComponent,{state:e.state})))}var J8e=["translations"];function Z8e(e){var t=e.translations,n=t===void 0?{}:t,r=zc(e,J8e),i=n.recentSearchesTitle,o=i===void 0?"Recent":i,a=n.noRecentSearchesText,s=a===void 0?"No recent searches":a,l=n.saveRecentSearchButtonTitle,c=l===void 0?"Save this search":l,u=n.removeRecentSearchButtonTitle,d=u===void 0?"Remove this search from history":u,f=n.favoriteSearchesTitle,p=f===void 0?"Favorite":f,g=n.removeFavoriteSearchButtonTitle,h=g===void 0?"Remove this search from favorites":g;return r.state.status==="idle"&&r.hasCollections===!1?r.disableUserPersonalization?null:ie.createElement("div",{className:"DocSearch-StartScreen"},ie.createElement("p",{className:"DocSearch-Help"},s)):r.hasCollections===!1?null:ie.createElement("div",{className:"DocSearch-Dropdown-Container"},ie.createElement(x3,Va({},r,{title:o,collection:r.state.collections[0],renderIcon:function(){return ie.createElement("div",{className:"DocSearch-Hit-icon"},ie.createElement(P8e,null))},renderAction:function(y){var b=y.item,w=y.runFavoriteTransition,S=y.runDeleteTransition;return ie.createElement(ie.Fragment,null,ie.createElement("div",{className:"DocSearch-Hit-action"},ie.createElement("button",{className:"DocSearch-Hit-action-button",title:c,type:"submit",onClick:function(E){E.preventDefault(),E.stopPropagation(),w((function(){r.favoriteSearches.add(b),r.recentSearches.remove(b),r.refresh()}))}},ie.createElement(ble,null))),ie.createElement("div",{className:"DocSearch-Hit-action"},ie.createElement("button",{className:"DocSearch-Hit-action-button",title:d,type:"submit",onClick:function(E){E.preventDefault(),E.stopPropagation(),S((function(){r.recentSearches.remove(b),r.refresh()}))}},ie.createElement(w3,null))))}})),ie.createElement(x3,Va({},r,{title:p,collection:r.state.collections[1],renderIcon:function(){return ie.createElement("div",{className:"DocSearch-Hit-icon"},ie.createElement(ble,null))},renderAction:function(y){var b=y.item,w=y.runDeleteTransition;return ie.createElement("div",{className:"DocSearch-Hit-action"},ie.createElement("button",{className:"DocSearch-Hit-action-button",title:h,type:"submit",onClick:function(S){S.preventDefault(),S.stopPropagation(),w((function(){r.favoriteSearches.remove(b),r.refresh()}))}},ie.createElement(w3,null)))}})))}var eje=["translations"],tje=ie.memo((function(e){var t=e.translations,n=t===void 0?{}:t,r=zc(e,eje);if(r.state.status==="error")return ie.createElement(V8e,{translations:n==null?void 0:n.errorScreen});var i=r.state.collections.some((function(o){return o.items.length>0}));return r.state.query?i===!1?ie.createElement(W8e,Va({},r,{translations:n==null?void 0:n.noResultsScreen})):ie.createElement(Q8e,r):ie.createElement(Z8e,Va({},r,{hasCollections:i,translations:n==null?void 0:n.startScreen}))}),(function(e,t){return t.state.status==="loading"||t.state.status==="stalled"})),nje=["translations"];function rje(e){var t=e.translations,n=t===void 0?{}:t,r=zc(e,nje),i=n.resetButtonTitle,o=i===void 0?"Clear the query":i,a=n.resetButtonAriaLabel,s=a===void 0?"Clear the query":a,l=n.cancelButtonText,c=l===void 0?"Cancel":l,u=n.cancelButtonAriaLabel,d=u===void 0?"Cancel":u,f=n.searchInputLabel,p=f===void 0?"Search":f,g=r.getFormProps({inputElement:r.inputRef.current}).onReset;return ie.useEffect((function(){r.autoFocus&&r.inputRef.current&&r.inputRef.current.focus()}),[r.autoFocus,r.inputRef]),ie.useEffect((function(){r.isFromSelection&&r.inputRef.current&&r.inputRef.current.select()}),[r.isFromSelection,r.inputRef]),ie.createElement(ie.Fragment,null,ie.createElement("form",{className:"DocSearch-Form",onSubmit:function(h){h.preventDefault()},onReset:g},ie.createElement("label",Va({className:"DocSearch-MagnifierLabel"},r.getLabelProps()),ie.createElement(Fse,null),ie.createElement("span",{className:"DocSearch-VisuallyHiddenForAccessibility"},p)),ie.createElement("div",{className:"DocSearch-LoadingIndicator"},ie.createElement(M8e,null)),ie.createElement("input",Va({className:"DocSearch-Input",ref:r.inputRef},r.getInputProps({inputElement:r.inputRef.current,autoFocus:r.autoFocus,maxLength:64}))),ie.createElement("button",{type:"reset",title:o,className:"DocSearch-Reset","aria-label":s,hidden:!r.state.query},ie.createElement(w3,null))),ie.createElement("button",{className:"DocSearch-Cancel",type:"reset","aria-label":d,onClick:r.onClose},c))}var ije=["_highlightResult","_snippetResult"];function oje(e){return(function(){var t="__TEST_KEY__";try{return localStorage.setItem(t,""),localStorage.removeItem(t),!0}catch{return!1}})()===!1?{setItem:function(){},getItem:function(){return[]}}:{setItem:function(t){return window.localStorage.setItem(e,JSON.stringify(t))},getItem:function(){var t=window.localStorage.getItem(e);return t?JSON.parse(t):[]}}}function Cle(e){var t=e.key,n=e.limit,r=n===void 0?5:n,i=oje(t),o=i.getItem().slice(0,r);return{add:function(a){var s=a;s._highlightResult,s._snippetResult;var l=zc(s,ije),c=o.findIndex((function(u){return u.objectID===l.objectID}));c>-1&&o.splice(c,1),o.unshift(l),o=o.slice(0,r),i.setItem(o)},remove:function(a){o=o.filter((function(s){return s.objectID!==a.objectID})),i.setItem(o)},getAll:function(){return o}}}function aje(e){var t,n="algolia-client-js-".concat(e.key);function r(){return t===void 0&&(t=e.localStorage||window.localStorage),t}function i(){return JSON.parse(r().getItem(n)||"{}")}function o(a){r().setItem(n,JSON.stringify(a))}return{get:function(a,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then((function(){var c,u,d;return c=e.timeToLive?1e3*e.timeToLive:null,u=i(),o(d=Object.fromEntries(Object.entries(u).filter((function(f){return _s(f,2)[1].timestamp!==void 0})))),c&&o(Object.fromEntries(Object.entries(d).filter((function(f){var p=_s(f,2)[1],g=new Date().getTime();return!(p.timestamp+c<g)})))),i()[JSON.stringify(a)]})).then((function(c){return Promise.all([c?c.value:s(),c!==void 0])})).then((function(c){var u=_s(c,2),d=u[0],f=u[1];return Promise.all([d,f||l.miss(d)])})).then((function(c){return _s(c,1)[0]}))},set:function(a,s){return Promise.resolve().then((function(){var l=i();return l[JSON.stringify(a)]={timestamp:new Date().getTime(),value:s},r().setItem(n,JSON.stringify(l)),s}))},delete:function(a){return Promise.resolve().then((function(){var s=i();delete s[JSON.stringify(a)],r().setItem(n,JSON.stringify(s))}))},clear:function(){return Promise.resolve().then((function(){r().removeItem(n)}))}}}function z1(e){var t=_1(e.caches),n=t.shift();return n===void 0?{get:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return i().then((function(a){return Promise.all([a,o.miss(a)])})).then((function(a){return _s(a,1)[0]}))},set:function(r,i){return Promise.resolve(i)},delete:function(r){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return n.get(r,i,o).catch((function(){return z1({caches:t}).get(r,i,o)}))},set:function(r,i){return n.set(r,i).catch((function(){return z1({caches:t}).set(r,i)}))},delete:function(r){return n.delete(r).catch((function(){return z1({caches:t}).delete(r)}))},clear:function(){return n.clear().catch((function(){return z1({caches:t}).clear()}))}}}function _3(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},t={};return{get:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},o=JSON.stringify(n);if(o in t)return Promise.resolve(e.serializable?JSON.parse(t[o]):t[o]);var a=r();return a.then((function(s){return i.miss(s)})).then((function(){return a}))},set:function(n,r){return t[JSON.stringify(n)]=e.serializable?JSON.stringify(r):r,Promise.resolve(r)},delete:function(n){return delete t[JSON.stringify(n)],Promise.resolve()},clear:function(){return t={},Promise.resolve()}}}function sje(e){var t=e.algoliaAgents,n=e.client,r=e.version,i=(function(o){var a={value:"Algolia for JavaScript (".concat(o,")"),add:function(s){var l="; ".concat(s.segment).concat(s.version!==void 0?" (".concat(s.version,")"):"");return a.value.indexOf(l)===-1&&(a.value="".concat(a.value).concat(l)),a}};return a})(r).add({segment:n,version:r});return t.forEach((function(o){return i.add(o)})),i}var Tle=12e4;function Ale(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"up",n=Date.now();return Pr(Pr({},e),{},{status:t,lastUpdate:n,isUp:function(){return t==="up"||Date.now()-n>Tle},isTimedOut:function(){return t==="timed out"&&Date.now()-n<=Tle}})}var Ile=(function(){function e(t,n){var r;return Yp(this,e),Jp(r=Xp(this,e,[t]),"name","AlgoliaError"),n&&(r.name=n),r}return Zp(e,f3(Error)),Qp(e)})(),Ole=(function(){function e(t,n,r){var i;return Yp(this,e),Jp(i=Xp(this,e,[t,r]),"stackTrace",void 0),i.stackTrace=n,i}return Zp(e,Ile),Qp(e)})(),lje=(function(){function e(t){return Yp(this,e),Xp(this,e,["Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support.",t,"RetryError"])}return Zp(e,Ole),Qp(e)})(),E3=(function(){function e(t,n,r){var i,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"ApiError";return Yp(this,e),Jp(i=Xp(this,e,[t,r,o]),"status",void 0),i.status=n,i}return Zp(e,Ole),Qp(e)})(),cje=(function(){function e(t,n){var r;return Yp(this,e),Jp(r=Xp(this,e,[t,"DeserializationError"]),"response",void 0),r.response=n,r}return Zp(e,Ile),Qp(e)})(),uje=(function(){function e(t,n,r,i){var o;return Yp(this,e),Jp(o=Xp(this,e,[t,n,i,"DetailedApiError"]),"error",void 0),o.error=r,o}return Zp(e,E3),Qp(e)})();function dje(e,t,n){var r,i=(r=n,Object.keys(r).filter((function(a){return r[a]!==void 0})).sort().map((function(a){return"".concat(a,"=").concat(encodeURIComponent(Object.prototype.toString.call(r[a])==="[object Array]"?r[a].join(","):r[a]).replace(/\+/g,"%20"))})).join("&")),o="".concat(e.protocol,"://").concat(e.url).concat(e.port?":".concat(e.port):"","/").concat(t.charAt(0)==="/"?t.substring(1):t);return i.length&&(o+="?".concat(i)),o}function fje(e,t){if(e.method!=="GET"&&(e.data!==void 0||t.data!==void 0)){var n=Array.isArray(e.data)?e.data:Pr(Pr({},e.data),t.data);return JSON.stringify(n)}}function hje(e,t,n){var r=Pr(Pr(Pr({Accept:"application/json"},e),t),n),i={};return Object.keys(r).forEach((function(o){var a=r[o];i[o.toLowerCase()]=a})),i}function pje(e){try{return JSON.parse(e.content)}catch(t){throw new cje(t.message,e)}}function mje(e,t){var n=e.content,r=e.status;try{var i=JSON.parse(n);return"error"in i?new uje(i.message,r,i.error,t):new E3(i.message,r,t)}catch{}return new E3(n,r,t)}function gje(e){return e.map((function(t){return kle(t)}))}function kle(e){var t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return Pr(Pr({},e),{},{request:Pr(Pr({},e.request),{},{headers:Pr(Pr({},e.request.headers),t)})})}var yje=["appId","apiKey","authMode","algoliaAgents"],vje=["params"],Nle="5.19.0";function bje(e){return[{url:"".concat(e,"-dsn.algolia.net"),accept:"read",protocol:"https"},{url:"".concat(e,".algolia.net"),accept:"write",protocol:"https"}].concat((function(t){for(var n=t,r=t.length-1;r>0;r--){var i=Math.floor(Math.random()*(r+1)),o=t[r];n[r]=t[i],n[i]=o}return n})([{url:"".concat(e,"-1.algolianet.com"),accept:"readWrite",protocol:"https"},{url:"".concat(e,"-2.algolianet.com"),accept:"readWrite",protocol:"https"},{url:"".concat(e,"-3.algolianet.com"),accept:"readWrite",protocol:"https"}]))}function wje(e){var t=e.appId,n=e.apiKey,r=e.authMode,i=e.algoliaAgents,o=zc(e,yje),a=(function(l,c){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"WithinHeaders",d={"x-algolia-api-key":c,"x-algolia-application-id":l};return{headers:function(){return u==="WithinHeaders"?d:{}},queryParameters:function(){return u==="WithinQueryParameters"?d:{}}}})(t,n,r),s=(function(l){var c=l.hosts,u=l.hostsCache,d=l.baseHeaders,f=l.logger,p=l.baseQueryParameters,g=l.algoliaAgent,h=l.timeouts,y=l.requester,b=l.requestsCache,w=l.responsesCache;function S(C){return E.apply(this,arguments)}function E(){return(E=u3(Vf().mark((function C(T){var O,R,j,D,L;return Vf().wrap((function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,Promise.all(T.map((function(z){return u.get(z,(function(){return Promise.resolve(Ale(z))}))})));case 2:return O=V.sent,R=O.filter((function(z){return z.isUp()})),j=O.filter((function(z){return z.isTimedOut()})),D=[].concat(_1(R),_1(j)),L=D.length>0?D:T,V.abrupt("return",{hosts:L,getTimeout:function(z,B){return(j.length===0&&z===0?1:j.length+3+z)*B}});case 8:case"end":return V.stop()}}),C)})))).apply(this,arguments)}function _(C,T){return m.apply(this,arguments)}function m(){return m=u3(Vf().mark((function C(T,O){var R,j,D,L,V,z,B,H,J,ne,q,ee,te,$=arguments;return Vf().wrap((function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(R=!($.length>2&&$[2]!==void 0)||$[2],j=[],D=fje(T,O),L=hje(d,T.headers,O.headers),V=T.method==="GET"?Pr(Pr({},T.data),O.data):{},z=Pr(Pr(Pr({},p),T.queryParameters),V),g.value&&(z["x-algolia-agent"]=g.value),O&&O.queryParameters)for(B=0,H=Object.keys(O.queryParameters);B<H.length;B++)J=H[B],O.queryParameters[J]&&Object.prototype.toString.call(O.queryParameters[J])!=="[object Object]"?z[J]=O.queryParameters[J].toString():z[J]=O.queryParameters[J];return ne=0,q=(function(){var ue=u3(Vf().mark((function me(Fe,Ie){var Ee,He,it,St,xt,Ct;return Vf().wrap((function(We){for(;;)switch(We.prev=We.next){case 0:if((Ee=Fe.pop())!==void 0){We.next=3;break}throw new lje(gje(j));case 3:return He=Pr(Pr({},h),O.timeouts),it={data:D,headers:L,method:T.method,url:dje(Ee,T.path,z),connectTimeout:Ie(ne,He.connect),responseTimeout:Ie(ne,R?He.read:He.write)},St=function(Xe){var se={request:it,response:Xe,host:Ee,triesLeft:Fe.length};return j.push(se),se},We.next=8,y.send(it);case 8:if(ye=void 0,Ve=void 0,ye=(Oe=xt=We.sent).isTimedOut,Ve=Oe.status,!(ye||(function(Xe){var se=Xe.isTimedOut,we=Xe.status;return!se&&!~~we})({isTimedOut:ye,status:Ve})||~~(Ve/100)!=2&&~~(Ve/100)!=4)){We.next=16;break}return Ct=St(xt),xt.isTimedOut&&ne++,f.info("Retryable failure",kle(Ct)),We.next=15,u.set(Ee,Ale(Ee,xt.isTimedOut?"timed out":"down"));case 15:return We.abrupt("return",q(Fe,Ie));case 16:if(~~(xt.status/100)!=2){We.next=18;break}return We.abrupt("return",pje(xt));case 18:throw St(xt),mje(xt,j);case 20:case"end":return We.stop()}var Oe,ye,Ve}),me)})));return function(me,Fe){return ue.apply(this,arguments)}})(),ee=c.filter((function(ue){return ue.accept==="readWrite"||(R?ue.accept==="read":ue.accept==="write")})),ae.next=13,S(ee);case 13:return te=ae.sent,ae.abrupt("return",q(_1(te.hosts).reverse(),te.getTimeout));case 15:case"end":return ae.stop()}}),C)}))),m.apply(this,arguments)}return{hostsCache:u,requester:y,timeouts:h,logger:f,algoliaAgent:g,baseHeaders:d,baseQueryParameters:p,hosts:c,request:function(C){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=C.useReadTransporter||C.method==="GET";if(!O)return _(C,T,O);var R=function(){return _(C,T)};if((T.cacheable||C.cacheable)!==!0)return R();var j={request:C,requestOptions:T,transporter:{queryParameters:p,headers:d}};return w.get(j,(function(){return b.get(j,(function(){return b.set(j,R()).then((function(D){return Promise.all([b.delete(j),D])}),(function(D){return Promise.all([b.delete(j),Promise.reject(D)])})).then((function(D){var L=_s(D,2);return L[0],L[1]}))}))}),{miss:function(D){return w.set(j,D)}})},requestsCache:b,responsesCache:w}})(Pr(Pr({hosts:bje(t)},o),{},{algoliaAgent:sje({algoliaAgents:i,client:"Lite",version:Nle}),baseHeaders:Pr(Pr({"content-type":"text/plain"},a.headers()),o.baseHeaders),baseQueryParameters:Pr(Pr({},a.queryParameters()),o.baseQueryParameters)}));return{transporter:s,appId:t,apiKey:n,clearCache:function(){return Promise.all([s.requestsCache.clear(),s.responsesCache.clear()]).then((function(){}))},get _ua(){return s.algoliaAgent.value},addAlgoliaAgent:function(l,c){s.algoliaAgent.add({segment:l,version:c})},setClientApiKey:function(l){var c=l.apiKey;r&&r!=="WithinHeaders"?s.baseQueryParameters["x-algolia-api-key"]=c:s.baseHeaders["x-algolia-api-key"]=c},searchForHits:function(l,c){return this.search(l,c)},searchForFacets:function(l,c){return this.search(l,c)},customPost:function(l,c){var u=l.path,d=l.parameters,f=l.body;if(!u)throw new Error("Parameter `path` is required when calling `customPost`.");var p={method:"POST",path:"/{path}".replace("{path}",u),queryParameters:d||{},headers:{},data:f||{}};return s.request(p,c)},getRecommendations:function(l,c){if(l&&Array.isArray(l)&&(l={requests:l}),!l)throw new Error("Parameter `getRecommendationsParams` is required when calling `getRecommendations`.");if(!l.requests)throw new Error("Parameter `getRecommendationsParams.requests` is required when calling `getRecommendations`.");var u={method:"POST",path:"/1/indexes/*/recommendations",queryParameters:{},headers:{},data:l,useReadTransporter:!0,cacheable:!0};return s.request(u,c)},search:function(l,c){if(l&&Array.isArray(l)){var u={requests:l.map((function(f){var p=f.params,g=zc(f,vje);return g.type==="facet"?Pr(Pr(Pr({},g),p),{},{type:"facet"}):Pr(Pr(Pr({},g),p),{},{facet:void 0,maxFacetHits:void 0,facetQuery:void 0})}))};l=u}if(!l)throw new Error("Parameter `searchMethodParams` is required when calling `search`.");if(!l.requests)throw new Error("Parameter `searchMethodParams.requests` is required when calling `search`.");var d={method:"POST",path:"/1/indexes/*/queries",queryParameters:{},headers:{},data:l,useReadTransporter:!0,cacheable:!0};return s.request(d,c)}}}var Rle="3.9.0";function xje(e,t,n){return ie.useMemo((function(){var r=(function(i,o,a){if(!i||typeof i!="string")throw new Error("`appId` is missing.");if(!o||typeof o!="string")throw new Error("`apiKey` is missing.");return wje(Pr({appId:i,apiKey:o,timeouts:{connect:1e3,read:2e3,write:3e4},logger:{debug:function(s,l){return Promise.resolve()},info:function(s,l){return Promise.resolve()},error:function(s,l){return Promise.resolve()}},requester:{send:function(s){return new Promise((function(l){var c=new XMLHttpRequest;c.open(s.method,s.url,!0),Object.keys(s.headers).forEach((function(p){return c.setRequestHeader(p,s.headers[p])}));var u,d=function(p,g){return setTimeout((function(){c.abort(),l({status:0,content:g,isTimedOut:!0})}),p)},f=d(s.connectTimeout,"Connection timeout");c.onreadystatechange=function(){c.readyState>c.OPENED&&u===void 0&&(clearTimeout(f),u=d(s.responseTimeout,"Socket timeout"))},c.onerror=function(){c.status===0&&(clearTimeout(f),clearTimeout(u),l({content:c.responseText||"Network request failed",status:c.status,isTimedOut:!1}))},c.onload=function(){clearTimeout(f),clearTimeout(u),l({content:c.responseText,status:c.status,isTimedOut:!1})},c.send(s.data)}))}},algoliaAgents:[{segment:"Browser"}],authMode:"WithinQueryParameters",responsesCache:_3(),requestsCache:_3({serializable:!1}),hostsCache:z1({caches:[aje({key:"".concat(Nle,"-").concat(i)}),_3()]})},a))})(e,t);return r.addAlgoliaAgent("docsearch",Rle),/docsearch.js \(.*\)/.test(r.transporter.algoliaAgent.value)===!1&&r.addAlgoliaAgent("docsearch-react",Rle),n(r)}),[e,t,n])}var _je=["footer","searchBox"];function Eje(e){var t=e.appId,n=e.apiKey,r=e.indexName,i=e.placeholder,o=i===void 0?"Search docs":i,a=e.searchParameters,s=e.maxResultsPerGroup,l=e.onClose,c=l===void 0?X8e:l,u=e.transformItems,d=u===void 0?_le:u,f=e.hitComponent,p=f===void 0?L8e:f,g=e.resultsFooterComponent,h=g===void 0?function(){return null}:g,y=e.navigator,b=e.initialScrollY,w=b===void 0?0:b,S=e.transformSearchClient,E=S===void 0?_le:S,_=e.disableUserPersonalization,m=_!==void 0&&_,C=e.initialQuery,T=C===void 0?"":C,O=e.translations,R=O===void 0?{}:O,j=e.getMissingResultsUrl,D=e.insights,L=D!==void 0&&D,V=R.footer,z=R.searchBox,B=zc(R,_je),H=_s(ie.useState({query:"",collections:[],completion:null,context:{},isOpen:!1,activeItemId:null,status:"idle"}),2),J=H[0],ne=H[1],q=ie.useRef(null),ee=ie.useRef(null),te=ie.useRef(null),$=ie.useRef(null),ae=ie.useRef(null),ue=ie.useRef(10),me=ie.useRef(typeof window<"u"?window.getSelection().toString().slice(0,64):"").current,Fe=ie.useRef(T||me).current,Ie=xje(t,n,E),Ee=ie.useRef(Cle({key:"__DOCSEARCH_FAVORITE_SEARCHES__".concat(r),limit:10})).current,He=ie.useRef(Cle({key:"__DOCSEARCH_RECENT_SEARCHES__".concat(r),limit:Ee.getAll().length===0?7:4})).current,it=ie.useCallback((function(ye){if(!m){var Ve=ye.type==="content"?ye.__docsearch_parent:ye;Ve&&Ee.getAll().findIndex((function(Xe){return Xe.objectID===Ve.objectID}))===-1&&He.add(Ve)}}),[Ee,He,m]),St=ie.useCallback((function(ye){if(J.context.algoliaInsightsPlugin&&ye.__autocomplete_id){var Ve=ye,Xe={eventName:"Item Selected",index:Ve.__autocomplete_indexName,items:[Ve],positions:[ye.__autocomplete_id],queryID:Ve.__autocomplete_queryID};J.context.algoliaInsightsPlugin.insights.clickedObjectIDsAfterSearch(Xe)}}),[J.context.algoliaInsightsPlugin]),xt=ie.useMemo((function(){return N8e({id:"docsearch",defaultActiveItemId:0,placeholder:o,openOnFocus:!0,initialState:{query:Fe,context:{searchSuggestions:[]}},insights:L,navigator:y,onStateChange:function(ye){ne(ye.state)},getSources:function(ye){var Ve=ye.query,Xe=ye.state,se=ye.setContext,we=ye.setStatus;if(!Ve)return m?[]:[{sourceId:"recentSearches",onSelect:function(ot){var _e=ot.item,Ce=ot.event;it(_e),c_(Ce)||c()},getItemUrl:function(ot){return ot.item.url},getItems:function(){return He.getAll()}},{sourceId:"favoriteSearches",onSelect:function(ot){var _e=ot.item,Ce=ot.event;it(_e),c_(Ce)||c()},getItemUrl:function(ot){return ot.item.url},getItems:function(){return Ee.getAll()}}];var Le=!!L;return Ie.search({requests:[Pr({query:Ve,indexName:r,attributesToRetrieve:["hierarchy.lvl0","hierarchy.lvl1","hierarchy.lvl2","hierarchy.lvl3","hierarchy.lvl4","hierarchy.lvl5","hierarchy.lvl6","content","type","url"],attributesToSnippet:["hierarchy.lvl1:".concat(ue.current),"hierarchy.lvl2:".concat(ue.current),"hierarchy.lvl3:".concat(ue.current),"hierarchy.lvl4:".concat(ue.current),"hierarchy.lvl5:".concat(ue.current),"hierarchy.lvl6:".concat(ue.current),"content:".concat(ue.current)],snippetEllipsisText:"\u2026",highlightPreTag:"<mark>",highlightPostTag:"</mark>",hitsPerPage:20,clickAnalytics:Le},a)]}).catch((function(ot){throw ot.name==="RetryError"&&we("error"),ot})).then((function(ot){var _e=ot.results[0],Ce=_e.hits,dt=_e.nbHits,Ne=xle(Ce,(function(jt){return Sle(jt)}),s);Xe.context.searchSuggestions.length<Object.keys(Ne).length&&se({searchSuggestions:Object.keys(Ne)}),se({nbHits:dt});var Ye={};return Le&&(Ye={__autocomplete_indexName:r,__autocomplete_queryID:_e.queryID,__autocomplete_algoliaCredentials:{appId:t,apiKey:n}}),Object.values(Ne).map((function(jt,qt){return{sourceId:"hits".concat(qt),onSelect:function(Jt){var Ht=Jt.item,en=Jt.event;it(Ht),c_(en)||c()},getItemUrl:function(Jt){return Jt.item.url},getItems:function(){return Object.values(xle(jt,(function(Jt){return Jt.hierarchy.lvl1}),s)).map(d).map((function(Jt){return Jt.map((function(Ht){var en=null,hn=Jt.find((function(Zt){return Zt.type==="lvl1"&&Zt.hierarchy.lvl1===Ht.hierarchy.lvl1}));return Ht.type!=="lvl1"&&hn&&(en=hn),Pr(Pr({},Ht),{},{__docsearch_parent:en},Ye)}))})).flat()}}}))}))}})}),[r,a,s,Ie,c,He,Ee,it,Fe,o,y,d,m,L,t,n]),Ct=xt.getEnvironmentProps,We=xt.getRootProps,Oe=xt.refresh;return(function(ye){var Ve=ye.getEnvironmentProps,Xe=ye.panelElement,se=ye.formElement,we=ye.inputElement;ie.useEffect((function(){if(Xe&&se&&we){var Le=Ve({panelElement:Xe,formElement:se,inputElement:we}),ot=Le.onTouchStart,_e=Le.onTouchMove;return window.addEventListener("touchstart",ot),window.addEventListener("touchmove",_e),function(){window.removeEventListener("touchstart",ot),window.removeEventListener("touchmove",_e)}}}),[Ve,Xe,se,we])})({getEnvironmentProps:Ct,panelElement:$.current,formElement:te.current,inputElement:ae.current}),(function(ye){var Ve=ye.container;ie.useEffect((function(){if(Ve){var Xe=Ve.querySelectorAll("a[href]:not([disabled]), button:not([disabled]), input:not([disabled])"),se=Xe[0],we=Xe[Xe.length-1];return Ve.addEventListener("keydown",Le),function(){Ve.removeEventListener("keydown",Le)}}function Le(ot){ot.key==="Tab"&&(ot.shiftKey?document.activeElement===se&&(ot.preventDefault(),we.focus()):document.activeElement===we&&(ot.preventDefault(),se.focus()))}}),[Ve])})({container:q.current}),ie.useEffect((function(){return document.body.classList.add("DocSearch--active"),function(){var ye,Ve;document.body.classList.remove("DocSearch--active"),(ye=(Ve=window).scrollTo)===null||ye===void 0||ye.call(Ve,0,w)}}),[]),ie.useLayoutEffect((function(){var ye=window.innerWidth-document.body.clientWidth;return document.body.style.marginRight="".concat(ye,"px"),function(){document.body.style.marginRight="0px"}}),[]),ie.useEffect((function(){window.matchMedia("(max-width: 768px)").matches&&(ue.current=5)}),[]),ie.useEffect((function(){$.current&&($.current.scrollTop=0)}),[J.query]),ie.useEffect((function(){Fe.length>0&&(Oe(),ae.current&&ae.current.focus())}),[Fe,Oe]),ie.useEffect((function(){function ye(){if(ee.current){var Ve=.01*window.innerHeight;ee.current.style.setProperty("--docsearch-vh","".concat(Ve,"px"))}}return ye(),window.addEventListener("resize",ye),function(){window.removeEventListener("resize",ye)}}),[]),ie.createElement("div",Va({ref:q},We({"aria-expanded":!0}),{className:["DocSearch","DocSearch-Container",J.status==="stalled"&&"DocSearch-Container--Stalled",J.status==="error"&&"DocSearch-Container--Errored"].filter(Boolean).join(" "),role:"button",tabIndex:0,onMouseDown:function(ye){ye.target===ye.currentTarget&&c()}}),ie.createElement("div",{className:"DocSearch-Modal",ref:ee},ie.createElement("header",{className:"DocSearch-SearchBar",ref:te},ie.createElement(rje,Va({},xt,{state:J,autoFocus:Fe.length===0,inputRef:ae,isFromSelection:!!Fe&&Fe===me,translations:z,onClose:c}))),ie.createElement("div",{className:"DocSearch-Dropdown",ref:$},ie.createElement(tje,Va({},xt,{indexName:r,state:J,hitComponent:p,resultsFooterComponent:h,disableUserPersonalization:m,recentSearches:He,favoriteSearches:Ee,inputRef:ae,translations:B,getMissingResultsUrl:j,onItemClick:function(ye,Ve){St(ye),it(ye),c_(Ve)||c()}}))),ie.createElement("footer",{className:"DocSearch-Footer"},ie.createElement(j8e,{translations:V}))))}function Sje(e){var t=e.isOpen,n=e.onOpen,r=e.onClose,i=e.onInput,o=e.searchButtonRef;ie.useEffect((function(){function a(s){var l;if(s.code==="Escape"&&t||((l=s.key)===null||l===void 0?void 0:l.toLowerCase())==="k"&&(s.metaKey||s.ctrlKey)||!(function(c){var u=c.target,d=u.tagName;return u.isContentEditable||d==="INPUT"||d==="SELECT"||d==="TEXTAREA"})(s)&&s.key==="/"&&!t)return s.preventDefault(),void(t?r():document.body.classList.contains("DocSearch--active")||n());o&&o.current===document.activeElement&&i&&/[a-zA-Z0-9]/.test(String.fromCharCode(s.keyCode))&&i(s)}return window.addEventListener("keydown",a),function(){window.removeEventListener("keydown",a)}}),[t,n,r,i,o])}function Cje(e){var t,n,r=ie.useRef(null),i=_s(ie.useState(!1),2),o=i[0],a=i[1],s=_s(ie.useState((e==null?void 0:e.initialQuery)||void 0),2),l=s[0],c=s[1],u=ie.useCallback((function(){a(!0)}),[a]),d=ie.useCallback((function(){a(!1),c(e==null?void 0:e.initialQuery)}),[a,e.initialQuery]);return Sje({isOpen:o,onOpen:u,onClose:d,onInput:ie.useCallback((function(f){a(!0),c(f.key)}),[a,c]),searchButtonRef:r}),ie.createElement(ie.Fragment,null,ie.createElement(B6e,{ref:r,translations:e==null||(t=e.translations)===null||t===void 0?void 0:t.button,onClick:u}),o&&w_.createPortal(ie.createElement(Eje,Va({},e,{initialScrollY:window.scrollY,initialQuery:l,translations:e==null||(n=e.translations)===null||n===void 0?void 0:n.modal,onClose:d})),document.body))}const Tje=U(MY).withConfig({displayName:"Menu__Wrapper"})([`
  background: transparent;
  z-index: 15;
  padding-right: 1rem;
  flex-shrink: 0;

  .algolia-autocomplete {
    display: `,` !important;
    flex: 0 1 168px;
  }
`],({_display:e})=>e),jle=U.div.withConfig({displayName:"Menu__Separator"})([`
  flex: 1;
`]),Aje=U(vn).withConfig({displayName:"Menu__QueryPickerButton"})([`
  position: relative;
  flex: 0 0 auto;
  margin-right: 0.5rem;

  @keyframes pulse {
    0% {
      box-shadow: 0 0 0 0px `,`;
    }
    75% {
      box-shadow: 0 0 0 5px transparent;
    }
  }

  animation: `,`;
`],vt("cyan"),({$firstTimeVisitor:e})=>e?"pulse 2s infinite":"none"),Ije=U(lz).withConfig({displayName:"Menu__MenuIcon"})([`
  color: `,`;
`],vt("foreground")),Oje=U(Xc).withConfig({displayName:"Menu__CloseIcon"})([`
  color: `,`;
`],vt("foreground")),kje=U(vn).withConfig({displayName:"Menu__SideMenuMenuButton"})([`
  padding: 0;

  .fade-enter {
    opacity: 0;
  }

  .fade-enter-active {
    opacity: 1;
    transition: opacity `,`ms;
  }

  .fade-exit {
    opacity: 0;
  }

  .fade-exit-active {
    opacity: 1;
    transition: opacity `,`ms;
  }
`],Io.REG,Io.REG),Nje=U.a.withConfig({displayName:"Menu__CTAButton"})([`
  height: 3rem;
  padding: 0 0.8rem;
  border: 1px solid `,`;
  border-radius: 0.4rem;
  color: `,`;
  text-decoration: none;
  font-weight: 600;
  line-height: 2.7rem;

  &:hover {
    background: `,`;
    color: `,`;
  }
`],vt("pinkPrimary"),vt("white"),vt("pinkPrimary"),vt("white")),Rje=U.div.withConfig({displayName:"Menu__MenuItems"})([`
  display: grid;
  grid-auto-flow: column;
  align-items: center;
  gap: 1.6rem;
`]),jje=()=>{const e=ls(),[t,n]=x.useState(),r=gu("Escape"),{consoleConfig:i}=Rl(),o=oi(Mr.console.getSideMenuOpened),{sm:a}=uI(),{exampleQueriesVisited:s,updateSettings:l}=vc(),c=x.useCallback(f=>{!s&&f&&l(Mn.EXAMPLE_QUERIES_VISITED,!0),n(f)},[]),u=x.useCallback(()=>{n(!1)},[]),d=x.useCallback(()=>{e(An.console.toggleSideMenu())},[e]);return x.useEffect(()=>{n(!1)},[r]),x.useEffect(()=>{!a&&o&&e(An.console.toggleSideMenu())},[e,o,a]),v.jsxs(Tje,{_display:a?"none":"inline",children:[v.jsx(jle,{}),i.savedQueries&&i.savedQueries.length>0&&v.jsx(If,{active:t,onToggle:c,trigger:v.jsxs(Aje,{skin:"secondary",$firstTimeVisitor:!s,children:[v.jsx(RU,{size:"18px"}),v.jsx("span",{children:"Example queries"})]}),children:v.jsx(F6e,{hidePicker:u,queries:i.savedQueries??[]})}),v.jsx(OZ,{}),v.jsx(jle,{}),v.jsxs(Rje,{children:[v.jsx(Cje,{appId:"QL9L2YL7AQ",apiKey:"2f67aeacbe73ad08a49efb9214ea27f3",indexName:"questdb",placeholder:"Search docs",translations:{button:{buttonText:"Search docs"}},hitComponent:({hit:f,children:p})=>v.jsx("a",{href:f.url,target:"_blank",rel:"noreferrer",children:p}),navigator:{navigate({itemUrl:f}){return window.open(f,"_blank")}}}),i.ctaBanner&&v.jsx(Nje,{href:"https://questdb.com/enterprise/contact",target:"_blank",children:"Book a demo"})]}),a&&v.jsx(kje,{skin:"transparent",onClick:d,children:v.jsx(Lc,{classNames:"fade",in:o,timeout:Io.REG,children:o?v.jsx(Oje,{size:"26px"}):v.jsx(Ije,{size:"26px"})})})]})},Lje=U.div.withConfig({displayName:"InstanceSettingsPopper__Wrapper"})([`
  position: absolute;
  margin-top: 0.5rem;
  background: `,`;
  border: 1px solid `,`;
  border-radius: 0.4rem;
  padding: 1.5rem;
  width: 32rem;
  z-index: 1000;
`],({theme:e})=>e.color.backgroundDarker,({theme:e})=>e.color.gray1),Mje=U.div.withConfig({displayName:"InstanceSettingsPopper__ColorSelector"})([`
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
  align-self: center;
`]),u_=U.button.withConfig({displayName:"InstanceSettingsPopper__ColorOption"})([`
  width: 3rem;
  height: 3rem;
  border-radius: 0.4rem;
  cursor: pointer;
  border: 2px solid
    `,`;
  padding: 0;
  background: `,`;

  &:focus-visible {
    outline: 1px solid `,`;
  }
`],({theme:e,selected:t})=>t?e.color.foreground:"transparent",({colorValue:e,theme:t,customColor:n})=>{if(n)return n;switch(e){case"r":return"#c7072d";case"g":return"#00aa3b";case"b":return"#007aff";case"default":return t.color.backgroundLighter;default:return"transparent"}},({theme:e})=>e.color.cyan),Pje=U.button.withConfig({displayName:"InstanceSettingsPopper__ColorWheelOption"})([`
  position: relative;
  width: 3rem;
  height: 3rem;
  border-radius: 0.4rem;
  cursor: pointer;
  border: `,`;
  padding: 0;
  overflow: hidden;

  &:focus-visible {
    outline: 1px solid `,`;
  }

  &::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: conic-gradient(
      #ff0000,
      #ffff00,
      #00ff00,
      #00ffff,
      #0000ff,
      #ff00ff,
      #ff0000
    );
  }
`],({selected:e,theme:t})=>e?`2px solid ${t.color.foreground}`:"0",({theme:e})=>e.color.cyan),Dje=U.div.withConfig({displayName:"InstanceSettingsPopper__ColorPickerContainer"})([`
  margin-top: 1rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
  align-self: center;
`]),S3=U.div.withConfig({displayName:"InstanceSettingsPopper__ColorInputRow"})([`
  display: flex;
  gap: 1rem;
  align-items: center;
`]),C3=U.input.attrs({type:"range",min:0,max:255}).withConfig({displayName:"InstanceSettingsPopper__ColorSlider"})([`
  flex: 1;
  height: 1rem;
  appearance: none;
  background: linear-gradient(to right, rgb(0, 0, 0), rgb(255, 0, 0));
  border-radius: 0.5rem;

  &::-webkit-slider-thumb {
    appearance: none;
    width: 1.8rem;
    height: 1.8rem;
    border-radius: 50%;
    background: white;
    cursor: pointer;
    border: 1px solid `,`;
  }

  &.red {
    background: linear-gradient(to right, rgb(0, 0, 0), rgb(255, 0, 0));
  }

  &.green {
    background: linear-gradient(to right, rgb(0, 0, 0), rgb(0, 255, 0));
  }

  &.blue {
    background: linear-gradient(to right, rgb(0, 0, 0), rgb(0, 0, 255));
  }
`],({theme:e})=>e.color.gray1),T3=U.input.attrs({type:"number",min:0,max:255}).withConfig({displayName:"InstanceSettingsPopper__ColorValueInput"})([`
  width: 6rem;
  padding: 0.5rem;
  background: `,`;
  border: 1px solid `,`;
  border-radius: 0.4rem;
  color: `,`;

  &:focus {
    outline: none;
    border-color: `,`;
  }
`],({theme:e})=>e.color.selection,({theme:e})=>e.color.gray1,({theme:e})=>e.color.foreground,({theme:e})=>e.color.cyan),Fje=U.form.withConfig({displayName:"InstanceSettingsPopper__StyledForm"})([`
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
`]),Lle=U(vn).withConfig({displayName:"InstanceSettingsPopper__StyledButton"})([`
  font-size: 1.6rem;
  &:focus-visible {
    outline: 2px solid `,`;
  }
`],({theme:e})=>e.color.cyan),Uje=U(_f).withConfig({displayName:"InstanceSettingsPopper__StyledSelect"})([`
  &:focus-visible {
    border: 1px solid `,`;
  }
`],({theme:e})=>e.color.cyan),zje=U(tt).withConfig({displayName:"InstanceSettingsPopper__Buttons"})([`
  margin-top: 1.5rem;
  gap: 1rem;
  justify-content: flex-end;
  flex-direction: row-reverse;
`]),d_=U(tt).attrs({flexDirection:"column",gap:"0.5rem"}).withConfig({displayName:"InstanceSettingsPopper__FormGroup"})([`
  width: 100%;
  align-items: flex-start;
`]),Bje=U(cs).withConfig({displayName:"InstanceSettingsPopper__StyledInput"})([`
  width: 100%;
  background: `,`;
  border: 1px solid `,`;
  border-radius: 0.4rem;
  color: `,`;

  &:focus {
    outline: none;
    border-color: `,`;
  }

  &::placeholder {
    color: `,`;
  }
`],({theme:e})=>e.color.selection,({theme:e})=>e.color.gray1,({theme:e})=>e.color.foreground,({theme:e})=>e.color.cyan,({theme:e})=>e.color.gray2),$je=U.textarea.withConfig({displayName:"InstanceSettingsPopper__TextArea"})([`
  width: 100%;
  min-height: 8rem;
  padding: 0.8rem;
  background: `,`;
  border: 1px solid `,`;
  border-radius: 0.4rem;
  color: `,`;
  font-family: inherit;
  font-size: 1.4rem;
  line-height: 1.5;
  resize: vertical;

  &:focus {
    outline: none;
    border-color: `,`;
  }

  &::placeholder {
    color: `,`;
  }
`],({theme:e})=>e.color.selection,({theme:e})=>e.color.gray1,({theme:e})=>e.color.foreground,({theme:e})=>e.color.cyan,({theme:e})=>e.color.gray2),f_=U.label.withConfig({displayName:"InstanceSettingsPopper__FormLabel"})([`
  text-align: `,`;
  width: 100%;
  font-size: 1.6rem;
`],e=>e.align||"left"),Hje=U(st).withConfig({displayName:"InstanceSettingsPopper__ErrorText"})([`
  color: `,`;
  font-size: 1.2rem;
  margin-top: 0.2rem;
`],({theme:e})=>e.color.red),Vje=({active:e,onToggle:t,values:n,onSave:r,onValuesChange:i,trigger:o})=>{var _;const[a,s]=x.useState(!1),[l,c]=x.useState(null),[u,d]=x.useState(!1),[f,p]=x.useState({r:0,g:0,b:0}),g=x.useRef(null);x.useEffect(()=>{if(n.instance_rgb&&n.instance_rgb.startsWith("rgb")){d(!0);const m=n.instance_rgb.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);m&&p({r:parseInt(m[1],10),g:parseInt(m[2],10),b:parseInt(m[3],10)})}else d(!1)},[n.instance_rgb]);const h=async m=>{var C;if(m.preventDefault(),!((C=n==null?void 0:n.instance_name)!=null&&C.trim())){c("Instance name is required");return}c(null),s(!0),await r(n),s(!1)},y=m=>{const C={...n,instance_name:m.target.value};i(C)},b=m=>{i({...n,instance_rgb:m}),m!=="custom"&&d(!1)},w=()=>{d(!0),i({...n,instance_rgb:E})},S=(m,C)=>{const T={...f,[m]:C};p(T);const O=`rgb(${T.r}, ${T.g}, ${T.b})`;i({...n,instance_rgb:O})};x.useEffect(()=>{n.instance_type||i({...n,instance_type:"development"}),e&&setTimeout(()=>{var m;(m=g.current)==null||m.focus()},100)},[e]);const E=`rgb(${f.r}, ${f.g}, ${f.b})`;return v.jsx(If,{active:e,onToggle:t,trigger:o,placement:"bottom-start",children:v.jsx(Lje,{children:v.jsxs(Fje,{onSubmit:h,children:[v.jsxs(d_,{children:[v.jsx(f_,{htmlFor:"instance-name-input",children:"Instance Name"}),v.jsx(Bje,{id:"instance-name-input","data-hook":"topbar-instance-name-input",value:n.instance_name,onChange:y,placeholder:"Enter instance name",ref:g}),l&&v.jsx(Hje,{children:l})]}),v.jsxs(d_,{children:[v.jsx(f_,{htmlFor:"instance-type-select",children:"Instance Type"}),v.jsx(Uje,{id:"instance-type-select","data-hook":"topbar-instance-type-select",name:"instance-type",options:[{label:"Development",value:"development"},{label:"Production",value:"production"},{label:"Testing",value:"testing"}],required:!0,value:n.instance_type,onChange:m=>i({...n,instance_type:m.target.value})})]}),v.jsxs(d_,{children:[v.jsx(f_,{htmlFor:"instance-description-input",children:"Description"}),v.jsx($je,{id:"instance-description-input","data-hook":"topbar-instance-description-input",value:n.instance_description,onChange:m=>i({...n,instance_description:m.target.value}),placeholder:"Enter instance description"})]}),v.jsxs(d_,{children:[v.jsx(f_,{color:"foreground",children:"Color"}),v.jsxs(Mje,{children:[v.jsx(u_,{type:"button",colorValue:"default",selected:!n.instance_rgb||n.instance_rgb==="",onClick:()=>b(""),"data-hook":"topbar-instance-color-option-default"}),v.jsx(u_,{type:"button",colorValue:"r",selected:n.instance_rgb==="r",onClick:()=>b("r"),"data-hook":"topbar-instance-color-option-r"}),v.jsx(u_,{type:"button",colorValue:"g",selected:n.instance_rgb==="g",onClick:()=>b("g"),"data-hook":"topbar-instance-color-option-g"}),v.jsx(u_,{type:"button",colorValue:"b",selected:n.instance_rgb==="b",onClick:()=>b("b"),"data-hook":"topbar-instance-color-option-b"}),v.jsx(Pje,{type:"button",selected:!!((_=n.instance_rgb)!=null&&_.startsWith("rgb")),onClick:w,"data-hook":"topbar-instance-color-option-custom"})]}),u&&v.jsxs(Dje,{children:[v.jsxs(S3,{children:[v.jsx(st,{color:"foreground",children:"R"}),v.jsx(C3,{className:"red",value:f.r,onChange:m=>S("r",parseInt(m.target.value,10)),"data-hook":"topbar-instance-color-slider-r"}),v.jsx(T3,{value:f.r,onChange:m=>S("r",parseInt(m.target.value,10)),"data-hook":"topbar-instance-color-input-r"})]}),v.jsxs(S3,{children:[v.jsx(st,{color:"foreground",children:"G"}),v.jsx(C3,{className:"green",value:f.g,onChange:m=>S("g",parseInt(m.target.value,10)),"data-hook":"topbar-instance-color-slider-g"}),v.jsx(T3,{value:f.g,onChange:m=>S("g",parseInt(m.target.value,10)),"data-hook":"topbar-instance-color-input-g"})]}),v.jsxs(S3,{children:[v.jsx(st,{color:"foreground",children:"B"}),v.jsx(C3,{className:"blue",value:f.b,onChange:m=>S("b",parseInt(m.target.value,10)),"data-hook":"topbar-instance-color-slider-b"}),v.jsx(T3,{value:f.b,onChange:m=>S("b",parseInt(m.target.value,10)),"data-hook":"topbar-instance-color-input-b"})]})]})]}),v.jsxs(zje,{children:[v.jsx(Lle,{type:"submit",prefixIcon:a?v.jsx(wf,{}):void 0,"data-hook":"topbar-instance-save-button",children:"Save"}),v.jsx(Lle,{type:"button",onClick:()=>t(!1),skin:"secondary","data-hook":"topbar-instance-cancel-button",children:"Cancel"})]})]})})})},qje=U.div.withConfig({displayName:"toolbar__EnvIconWrapper"})([`
  display: flex;
  align-items: center;
  padding: 0.3rem;
  background: `,`;
  border-radius: 0.4rem;
`],({$background:e})=>e??"inherit"),Wje=U(tt).attrs({align:"center"}).withConfig({displayName:"toolbar__Root"})([`
  gap: 1.5rem;
  padding-left: 1.5rem;
  white-space: nowrap;
  display: flex;
  overflow: hidden;
`]),Gje=U.div.withConfig({displayName:"toolbar__CustomTooltipWrapper"})([`
  display: flex;
  flex-direction: column;
  padding: 1.5rem 0;
  background: `,`;
  font-size: 1.4rem;
  border-radius: 0.8rem;
  border: 1px solid `,`;
  box-shadow: `,` 5px 5px 8px;
`],({theme:e})=>e.color.backgroundDarker,({$badgeColors:e})=>e.primary,({theme:e})=>e.color.background),Mle=U.div.withConfig({displayName:"toolbar__FlexRow"})([`
  display: flex;
  align-items: center;
  gap: 1rem;
`]),Kje=U.h4.withConfig({displayName:"toolbar__Title"})([`
  display: flex;
  align-items: center;
  border-bottom: 1px solid `,`;
  padding: 0 1.5rem 1.5rem;
  gap: 0.8rem;
  font-size: 1.4rem;
  margin-bottom: 0;
`],({theme:e})=>e.color.gray1),Xje=U.div.withConfig({displayName:"toolbar__FlexCol"})([`
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
`]),Yje=U.div.withConfig({displayName:"toolbar__Info"})([`
  display: flex;
  flex-direction: column;
  padding: 0 1.5rem;
  gap: 1rem;
`]),Qje=U(tt).withConfig({displayName:"toolbar__Badge"})([`
  display: flex;
  align-items: center;
  padding: 0 1rem;
  padding-left: 0.3rem;
  height: 3rem;
  border-radius: 0.4rem;
  flex-shrink: 1;
  min-width: 0;
  gap: 0;
  transition: opacity 0.1s ease;

  `,`

  .instance-name {
    font-size: 1.6rem;
    display: inline-flex;
    gap: 0;
    align-items: center;
    vertical-align: middle;
    overflow: hidden;
    flex-shrink: 1;
    margin-left: 0.3rem;

    &-text {
      text-overflow: ellipsis;
      overflow: hidden;
      white-space: nowrap;
      flex-shrink: 1;
      min-width: 0;
      color: inherit;
    }

    &-type {
      text-overflow: ellipsis;
      overflow: hidden;
      white-space: nowrap;
      flex-shrink: 0;
      color: inherit;
    }

    &.placeholder {
      color: `,`;
    }
  }

  .edit-icon {
    cursor: pointer;
    display: inline;
    width: 2.2rem;
    margin-left: 1rem;
    padding: 0.1rem;
    background: inherit;
    border-radius: 0.4rem;
    flex-shrink: 0;
    user-select: none;

    &.placeholder {
      color: `,`;

      &:hover {
        color: `,`;
        background: `,`;
      }
    }
  }
`],({$badgeColors:e})=>`
    background: ${e.primary};

    .instance-name {
      color: ${e.secondary};
    }

    .edit-icon {
      color: ${e.secondary};

      &:hover {
        color: ${e.primary};
        background: ${e.secondary};
      }
    }
  `,({theme:e})=>e.color.orange,({theme:e})=>e.color.orange,({theme:e})=>e.color.backgroundLighter,({theme:e})=>e.color.orange),Jje=U(tt).attrs({gap:"0.5rem"}).withConfig({displayName:"toolbar__User"})([`
  background: `,`;
  border-radius: 0.4rem;
  height: 3rem;
  padding: 0 1rem;
  font-weight: 600;
`],({theme:e})=>e.color.backgroundLighter),Zje=U.span.withConfig({displayName:"toolbar__EnterpriseBadge"})([`
  padding: 0 4px;
  background: `,`;
  border-radius: 2px;
  color: `,`;

  &:not(:last-child) {
    margin-right: 0.25rem;
  }
`],({theme:e})=>e.color.pinkDarker,({theme:e})=>e.color.foreground),eLe=U.span.withConfig({displayName:"toolbar__Separator"})([`
  display: inline-block;
  flex-shrink: 0;
  width: 0.15rem;
  margin: 0 1rem;
  height: 1.8rem;
  background: `,`;
`],({$color:e})=>e),tLe=(e,t)=>{if(!e||!e.startsWith("rgb"))return(t==null?void 0:t.color.foreground)||"inherit";const n=e.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);if(n){const r=parseInt(n[1],10)/255,i=parseInt(n[2],10)/255,o=parseInt(n[3],10)/255,a=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4),s=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4),l=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4),c=.2126*a+.7152*s+.0722*l;return c<.25?t==null?void 0:t.color.foreground:c<.5?t==null?void 0:t.color.gray2:c<.75?t==null?void 0:t.color.gray1:t==null?void 0:t.color.background}return(t==null?void 0:t.color.foreground)||"inherit"},Ple=e=>{const t=x_();return e?e.startsWith("rgb")?{primary:e,secondary:tLe(e,t)}:e==="r"?{primary:"rgb(199, 7, 45)",secondary:t.color.foreground}:e==="g"?{primary:"rgb(0, 170, 59)",secondary:t.color.foreground}:e==="b"?{primary:"rgb(0, 122, 255)",secondary:t.color.foreground}:{primary:t.color.backgroundLighter,secondary:t.color.foreground}:{primary:t.color.backgroundLighter,secondary:t.color.foreground}},Dle=({instanceType:e,color:t,style:n})=>{switch(e){case"development":return v.jsx($X,{size:"18px",color:t,style:{...n}});case"production":return v.jsx(UX,{size:"18px",color:t,style:{...n}});case"testing":return v.jsx(uz,{size:"18px",color:t,style:{transform:"scale(1.2)",...n}});default:return v.jsx(C0,{size:"18px",style:{transform:"translateY(-0.2rem)",...n},color:t})}},nLe=({icon:e,placement:t,shownValues:n})=>{const r=Ple((n==null?void 0:n.instance_rgb)??null);return v.jsx(mi,{placement:t,trigger:e,children:v.jsx(Gje,{$badgeColors:r,children:v.jsxs(Xje,{children:[(n==null?void 0:n.instance_type)&&v.jsxs(Kje,{children:[v.jsx(qje,{$background:r.primary,children:v.jsx(Dle,{color:r.secondary,instanceType:n==null?void 0:n.instance_type})}),v.jsxs(st,{color:"foreground",weight:400,children:["You are connected to a QuestDB instance for"," ",n==null?void 0:n.instance_type]})]}),v.jsxs(Yje,{children:[v.jsxs(Mle,{children:[v.jsx(st,{color:"foreground",weight:600,children:"Instance Name:"}),v.jsx(st,{color:"foreground",size:"md",children:n==null?void 0:n.instance_name})]}),(n==null?void 0:n.instance_description)&&v.jsxs(Mle,{children:[v.jsx(st,{color:"foreground",weight:600,children:"Description:"}),v.jsx(st,{color:"foreground",size:"md",children:n==null?void 0:n.instance_description})]})]})]})})})},rLe=e=>{e.style.opacity="0",setTimeout(()=>{e.style.opacity="1"},200),setTimeout(()=>{e.style.opacity="0"},400),setTimeout(()=>{e.style.opacity="1"},600),setTimeout(()=>{e.style.opacity="0"},800),setTimeout(()=>{e.style.opacity="1"},1e3)},iLe=()=>{const{quest:e}=x.useContext(Xa),{settings:t,preferences:n,refreshSettingsAndPreferences:r}=Rl(),{logout:i}=_z(),o=oi(Mr.query.getResult),[a,s]=x.useState(null),[l,c]=x.useState(!1),[u,d]=x.useState(null),[f,p]=x.useState(!1),{autoRefreshTables:g}=vc(),h=l?u:n,y=h!=null&&h.instance_type?h.instance_type.charAt(0).toUpperCase()+h.instance_type.slice(1):"",b=Ple((h==null?void 0:h.instance_rgb)??null),w=x_(),S=async()=>{try{const O=await e.query("SELECT current_user",{limit:"0,1"});if(O.type===Xn.DQL&&O.count===1){const R=O.data[0].current_user;return s(R),dh.isSSOAuthenticated()&&R&&t["acl.oidc.client.id"]&&R1e(t["acl.oidc.client.id"],R),R}return null}catch{return null}},E=async O=>{const R=t["http.settings.readonly"]===!0;if(t["release.type"]==="OSS"){p(!R);return}if(!O){p(!1);return}try{const j=await e.showPermissions(O),D=j.type===Xn.DQL&&(j.count===0||j.data.some(L=>L.permission==="SETTINGS"));p(D)}catch{p(!1)}};x.useEffect(()=>{S().then(E),r()},[]),x.useEffect(()=>{o&&o.type===Xn.DDL&&(S(),r())},[o]);const _=async O=>{try{const R=await e.savePreferences(O);if(R.success){await T(!1),Ro.success("Instance information updated successfully.");const D=await e.query(`${Zs.CONFIG} limit -1`);if(D.type===Xn.DQL&&D.count===1){const L=D.data[0];b4(L)}return}const{preferences:j}=await r();if(d(j),R.status===409){Ro.error("Instance information is updated with the latest changes from the server. Please try updating it again.",{autoClose:5e3});return}throw new Error(R.message)}catch(R){Ro.error(`Failed to update instance information: ${R}`,{autoClose:5e3})}},m=x.useCallback(async(O=!0)=>{const R=n==null?void 0:n.version,{preferences:j}=await r();if(R!==j.version&&O){Ro.info("Instance information is updated with the latest changes from the server.",{autoClose:5e3});const D=document.querySelector('[data-hook="topbar-instance-badge"]');D&&rLe(D)}return j},[r,n]),C=x.useCallback(async()=>{const O=await m(!0);l&&(u==null?void 0:u.version)!==O.version&&d(O)},[m,l,u]),T=x.useCallback(async O=>{const R=await m(O);d(O?R:null),c(O)},[m]);return x.useEffect(()=>(g&&window.addEventListener("focus",C),()=>{window.removeEventListener("focus",C)}),[C,g]),v.jsxs(Wje,{children:[v.jsxs(tt,{gap:"0.5rem",children:[v.jsx(st,{color:"foreground",children:"Web Console"}),t["release.type"]==="EE"&&v.jsx(Aa,{icon:v.jsx(Zje,{children:"EE"}),tooltip:"QuestDB Enterprise Edition",placement:"bottom"})]}),n&&v.jsxs(Qje,{$badgeColors:b,"data-hook":"topbar-instance-badge",children:[v.jsx(tt,{children:h!=null&&h.instance_type?v.jsx(nLe,{icon:v.jsx("div",{"data-hook":"topbar-instance-icon",style:{padding:"0.7rem"},children:v.jsx(Dle,{instanceType:h==null?void 0:h.instance_type,color:b.secondary,style:(h==null?void 0:h.instance_type)==="production"?{transform:"translateY(-0.1rem)"}:{}})}),placement:"bottom",shownValues:h}):v.jsx("div",{style:{padding:"0.7rem"},children:v.jsx(Ic,{size:"18px",color:w.color.orange,style:{transform:"scale(1.3) translateY(-0.1rem)"}})})}),h!=null&&h.instance_name?v.jsxs(tt,{"data-hook":"topbar-instance-name",className:"instance-name",children:[v.jsx(st,{className:"instance-name-type",children:y}),v.jsx(eLe,{$color:b.secondary}),v.jsx(st,{className:"instance-name-text",children:h==null?void 0:h.instance_name})]}):v.jsx(st,{"data-hook":"topbar-instance-name",className:"instance-name placeholder",children:"Instance name is not set"}),f&&v.jsx(Vje,{active:l,onToggle:T,values:u??n,onSave:_,onValuesChange:d,trigger:v.jsx(Qd,{"data-hook":"topbar-instance-edit-icon",size:"18px",className:`edit-icon ${h!=null&&h.instance_name?"":"placeholder"}`})})]}),v.jsxs(tt,{gap:"0.5rem",children:[t["acl.enabled"]&&a&&v.jsxs(Jje,{children:[v.jsx(m4,{size:"18px"}),v.jsx(st,{color:"foreground",children:a})]}),sU(t)&&v.jsx(vn,{onClick:()=>i(),prefixIcon:v.jsx(ZU,{size:"18px"}),skin:"secondary","data-hook":"button-logout",children:"Logout"})]})]})},oLe=U(ul).withConfig({displayName:"back-button__Root"})([`
  margin-left: 0.5rem;
`]),aLe=({onClick:e,label:t})=>v.jsx(mi,{placement:"right",modifiers:[{name:"offset",options:{offset:[5,15]}}],trigger:v.jsx(oLe,{onClick:e,children:v.jsx(s4,{size:rc})}),children:v.jsx(_i,{children:t||"Back to the Cloud"})}),sLe=U(tt).attrs({align:"center",justifyContent:"space-between"}).withConfig({displayName:"TopBar__Root"})([`
  width: 100%;
  height: 4.5rem;
  background: `,`;
`],({theme:e})=>e.color.backgroundDarker),lLe=()=>{const e=Tb(async()=>{var t,n;return{returnTo:((t=await ai.editor_settings.where("key").equals("returnTo").first())==null?void 0:t.value)??"",returnToLabel:((n=await ai.editor_settings.where("key").equals("returnToLabel").first())==null?void 0:n.value)??""}},[]);return v.jsxs(sLe,{children:[(e==null?void 0:e.returnTo)&&v.jsx(aLe,{label:e==null?void 0:e.returnToLabel,onClick:()=>{window.location.href=e.returnTo}}),v.jsx(iLe,{}),v.jsx(jje,{})]})},Fle=["http","https","mailto","tel"];function cLe(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return t;const r=t.indexOf(":");if(r===-1)return t;let i=-1;for(;++i<Fle.length;){const o=Fle[i];if(r===o.length&&t.slice(0,o.length).toLowerCase()===o)return t}return i=t.indexOf("?"),i!==-1&&r>i||(i=t.indexOf("#"),i!==-1&&r>i)?t:"javascript:void(0)"}var Ule,zle;function uLe(){return zle||(zle=1,Ule=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}),Ule}var dLe=uLe();const Ble=Ga(dLe);function B1(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?$le(e.position):"start"in e||"end"in e?$le(e):"line"in e||"column"in e?A3(e):""}function A3(e){return Hle(e&&e.line)+":"+Hle(e&&e.column)}function $le(e){return A3(e&&e.start)+"-"+A3(e&&e.end)}function Hle(e){return e&&typeof e=="number"?e:1}class vl extends Error{constructor(t,n,r){const i=[null,null];let o={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const a=r.indexOf(":");a===-1?i[1]=r:(i[0]=r.slice(0,a),i[1]=r.slice(a+1))}n&&("type"in n||"position"in n?n.position&&(o=n.position):"start"in n||"end"in n?o=n:("line"in n||"column"in n)&&(o.start=n)),this.name=B1(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=o.start.line,this.column=o.start.column,this.position=o,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}vl.prototype.file="",vl.prototype.name="",vl.prototype.reason="",vl.prototype.message="",vl.prototype.stack="",vl.prototype.fatal=null,vl.prototype.column=null,vl.prototype.line=null,vl.prototype.source=null,vl.prototype.ruleId=null,vl.prototype.position=null;const Bc={basename:fLe,dirname:hLe,extname:pLe,join:mLe,sep:"/"};function fLe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');$1(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,s=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(o){n=i+1;break}}else a<0&&(o=!0,a=i+1),s>-1&&(e.charCodeAt(i)===t.charCodeAt(s--)?s<0&&(r=i):(s=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function hLe(e){if($1(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function pLe(e){$1(e);let t=e.length,n=-1,r=0,i=-1,o=0,a;for(;t--;){const s=e.charCodeAt(t);if(s===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),s===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function mLe(...e){let t=-1,n;for(;++t<e.length;)$1(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":gLe(n)}function gLe(e){$1(e);const t=e.charCodeAt(0)===47;let n=yLe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function yLe(e,t){let n="",r=0,i=-1,o=0,a=-1,s,l;for(;++a<=e.length;){if(a<e.length)s=e.charCodeAt(a);else{if(s===47)break;s=47}if(s===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,o=0;continue}}else if(n.length>0){n="",r=0,i=a,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,o=0}else s===46&&o>-1?o++:o=-1}return n}function $1(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const vLe={cwd:bLe};function bLe(){return"/"}function I3(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function wLe(e){if(typeof e=="string")e=new URL(e);else if(!I3(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return xLe(e)}function xLe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const O3=["history","path","basename","stem","extname","dirname"];class Vle{constructor(t){let n;t?typeof t=="string"||_Le(t)?n={value:t}:I3(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=vLe.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<O3.length;){const o=O3[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)O3.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){I3(t)&&(t=wLe(t)),N3(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?Bc.dirname(this.path):void 0}set dirname(t){qle(this.basename,"dirname"),this.path=Bc.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?Bc.basename(this.path):void 0}set basename(t){N3(t,"basename"),k3(t,"basename"),this.path=Bc.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?Bc.extname(this.path):void 0}set extname(t){if(k3(t,"extname"),qle(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Bc.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?Bc.basename(this.path,this.extname):void 0}set stem(t){N3(t,"stem"),k3(t,"stem"),this.path=Bc.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t||void 0)}message(t,n,r){const i=new vl(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}}function k3(e,t){if(e&&e.includes(Bc.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Bc.sep+"`")}function N3(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function qle(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function _Le(e){return Ble(e)}function Wle(e){if(e)throw e}var R3,Gle;function ELe(){if(Gle)return R3;Gle=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(l){return typeof Array.isArray=="function"?Array.isArray(l):t.call(l)==="[object Array]"},o=function(l){if(!l||t.call(l)!=="[object Object]")return!1;var c=e.call(l,"constructor"),u=l.constructor&&l.constructor.prototype&&e.call(l.constructor.prototype,"isPrototypeOf");if(l.constructor&&!c&&!u)return!1;var d;for(d in l);return typeof d>"u"||e.call(l,d)},a=function(l,c){n&&c.name==="__proto__"?n(l,c.name,{enumerable:!0,configurable:!0,value:c.newValue,writable:!0}):l[c.name]=c.newValue},s=function(l,c){if(c==="__proto__")if(e.call(l,c)){if(r)return r(l,c).value}else return;return l[c]};return R3=function l(){var c,u,d,f,p,g,h=arguments[0],y=1,b=arguments.length,w=!1;for(typeof h=="boolean"&&(w=h,h=arguments[1]||{},y=2),(h==null||typeof h!="object"&&typeof h!="function")&&(h={});y<b;++y)if(c=arguments[y],c!=null)for(u in c)d=s(h,u),f=s(c,u),h!==f&&(w&&f&&(o(f)||(p=i(f)))?(p?(p=!1,g=d&&i(d)?d:[]):g=d&&o(d)?d:{},a(h,{name:u,newValue:l(w,g,f)})):typeof f<"u"&&a(h,{name:u,newValue:f}));return h},R3}var SLe=ELe();const Kle=Ga(SLe);function j3(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function CLe(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);s(null,...i);function s(l,...c){const u=e[++o];let d=-1;if(l){a(l);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,u?TLe(u,s)(...c):a(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function TLe(e,t){let n;return r;function r(...a){const s=e.length>a.length;let l;s&&a.push(i);try{l=e.apply(this,a)}catch(c){const u=c;if(s&&n)throw u;return i(u)}s||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(a,...s){n||(n=!0,t(a,...s))}function o(a){i(null,a)}}const ALe=Yle().freeze(),Xle={}.hasOwnProperty;function Yle(){const e=CLe(),t=[];let n={},r,i=-1;return o.data=a,o.Parser=void 0,o.Compiler=void 0,o.freeze=s,o.attachers=t,o.use=l,o.parse=c,o.stringify=u,o.run=d,o.runSync=f,o.process=p,o.processSync=g,o;function o(){const h=Yle();let y=-1;for(;++y<t.length;)h.use(...t[y]);return h.data(Kle(!0,{},n)),h}function a(h,y){return typeof h=="string"?arguments.length===2?(P3("data",r),n[h]=y,o):Xle.call(n,h)&&n[h]||null:h?(P3("data",r),n=h,o):n}function s(){if(r)return o;for(;++i<t.length;){const[h,...y]=t[i];if(y[0]===!1)continue;y[0]===!0&&(y[0]=void 0);const b=h.call(o,...y);typeof b=="function"&&e.use(b)}return r=!0,i=Number.POSITIVE_INFINITY,o}function l(h,...y){let b;if(P3("use",r),h!=null)if(typeof h=="function")_(h,...y);else if(typeof h=="object")Array.isArray(h)?E(h):S(h);else throw new TypeError("Expected usable value, not `"+h+"`");return b&&(n.settings=Object.assign(n.settings||{},b)),o;function w(m){if(typeof m=="function")_(m);else if(typeof m=="object")if(Array.isArray(m)){const[C,...T]=m;_(C,...T)}else S(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function S(m){E(m.plugins),m.settings&&(b=Object.assign(b||{},m.settings))}function E(m){let C=-1;if(m!=null)if(Array.isArray(m))for(;++C<m.length;){const T=m[C];w(T)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function _(m,C){let T=-1,O;for(;++T<t.length;)if(t[T][0]===m){O=t[T];break}O?(j3(O[1])&&j3(C)&&(C=Kle(!0,O[1],C)),O[1]=C):t.push([...arguments])}}function c(h){o.freeze();const y=H1(h),b=o.Parser;return L3("parse",b),Qle(b,"parse")?new b(String(y),y).parse():b(String(y),y)}function u(h,y){o.freeze();const b=H1(y),w=o.Compiler;return M3("stringify",w),Jle(h),Qle(w,"compile")?new w(h,b).compile():w(h,b)}function d(h,y,b){if(Jle(h),o.freeze(),!b&&typeof y=="function"&&(b=y,y=void 0),!b)return new Promise(w);w(null,b);function w(S,E){e.run(h,H1(y),_);function _(m,C,T){C=C||h,m?E(m):S?S(C):b(null,C,T)}}}function f(h,y){let b,w;return o.run(h,y,S),Zle("runSync","run",w),b;function S(E,_){Wle(E),b=_,w=!0}}function p(h,y){if(o.freeze(),L3("process",o.Parser),M3("process",o.Compiler),!y)return new Promise(b);b(null,y);function b(w,S){const E=H1(h);o.run(o.parse(E),E,(m,C,T)=>{if(m||!C||!T)_(m);else{const O=o.stringify(C,T);O==null||(kLe(O)?T.value=O:T.result=O),_(m,T)}});function _(m,C){m||!C?S(m):w?w(C):y(null,C)}}}function g(h){let y;o.freeze(),L3("processSync",o.Parser),M3("processSync",o.Compiler);const b=H1(h);return o.process(b,w),Zle("processSync","process",y),b;function w(S){y=!0,Wle(S)}}}function Qle(e,t){return typeof e=="function"&&e.prototype&&(ILe(e.prototype)||t in e.prototype)}function ILe(e){let t;for(t in e)if(Xle.call(e,t))return!0;return!1}function L3(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function M3(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function P3(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Jle(e){if(!j3(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Zle(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function H1(e){return OLe(e)?e:new Vle(e)}function OLe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function kLe(e){return typeof e=="string"||Ble(e)}const NLe={};function RLe(e,t){const n=NLe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return ece(e,r,i)}function ece(e,t,n){if(jLe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return tce(e.children,t,n)}return Array.isArray(e)?tce(e,t,n):""}function tce(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=ece(e[i],t,n);return r.join("")}function jLe(e){return!!(e&&typeof e=="object")}Sl=function(e,t,n,r){const i=e.length;let o=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);o<r.length;)a=r.slice(o,o+1e4),a.unshift(t,0),e.splice(...a),o+=1e4,t+=1e4};function bl(e,t){return e.length>0?(Sl(e,e.length,0,t),e):t}const nce={}.hasOwnProperty;cN=function(e){const t={};let n=-1;for(;++n<e.length;)LLe(t,e[n]);return t};function LLe(e,t){let n;for(n in t){const r=(nce.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let o;if(i)for(o in i){nce.call(r,o)||(r[o]=[]);const a=i[o];MLe(r[o],Array.isArray(a)?a:a?[a]:[])}}}function MLe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Sl(e,0,0,r)}let rce,ice;rce=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,El=_d(/[A-Za-z]/),fs=_d(/[\dA-Za-z]/),ice=_d(/[#-'*+\--9=?A-Z^-~]/),Y1=function(e){return e!==null&&(e<32||e===127)};const D3=_d(/\d/),PLe=_d(/[\dA-Fa-f]/),DLe=_d(/[!-/:-@[-`{-~]/);ar=function(e){return e!==null&&e<-2},Ka=function(e){return e!==null&&(e<0||e===32)},ui=function(e){return e===-2||e===-1||e===32},lN=_d(rce),sN=_d(/\s/);function _d(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}Fi=function(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(l){return ui(l)?(e.enter(n),s(l)):t(l)}function s(l){return ui(l)&&o++<i?(e.consume(l),s):(e.exit(n),t(l))}};const FLe={tokenize:ULe};function ULe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Fi(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),o(s)}function o(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,a(s)}function a(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return ar(s)?(e.consume(s),e.exit("chunkText"),o):(e.consume(s),a)}}const zLe={tokenize:BLe},oce={tokenize:$Le};function BLe(e){const t=this,n=[];let r=0,i,o,a;return s;function s(S){if(r<n.length){const E=n[r];return t.containerState=E[1],e.attempt(E[0].continuation,l,c)(S)}return c(S)}function l(S){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&w();const E=t.events.length;let _=E,m;for(;_--;)if(t.events[_][0]==="exit"&&t.events[_][1].type==="chunkFlow"){m=t.events[_][1].end;break}b(r);let C=E;for(;C<t.events.length;)t.events[C][1].end=Object.assign({},m),C++;return Sl(t.events,_+1,0,t.events.slice(E)),t.events.length=C,c(S)}return s(S)}function c(S){if(r===n.length){if(!i)return f(S);if(i.currentConstruct&&i.currentConstruct.concrete)return g(S);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(oce,u,d)(S)}function u(S){return i&&w(),b(r),f(S)}function d(S){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,g(S)}function f(S){return t.containerState={},e.attempt(oce,p,g)(S)}function p(S){return r++,n.push([t.currentConstruct,t.containerState]),f(S)}function g(S){if(S===null){i&&w(),b(0),e.consume(S);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:i}),h(S)}function h(S){if(S===null){y(e.exit("chunkFlow"),!0),b(0),e.consume(S);return}return ar(S)?(e.consume(S),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(S),h)}function y(S,E){const _=t.sliceStream(S);if(E&&_.push(null),S.previous=o,o&&(o.next=S),o=S,i.defineSkip(S.start),i.write(_),t.parser.lazy[S.start.line]){let m=i.events.length;for(;m--;)if(i.events[m][1].start.offset<a&&(!i.events[m][1].end||i.events[m][1].end.offset>a))return;const C=t.events.length;let T=C,O,R;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){if(O){R=t.events[T][1].end;break}O=!0}for(b(r),m=C;m<t.events.length;)t.events[m][1].end=Object.assign({},R),m++;Sl(t.events,T+1,0,t.events.slice(C)),t.events.length=m}}function b(S){let E=n.length;for(;E-- >S;){const _=n[E];t.containerState=_[1],_[0].exit.call(t,e)}n.length=S}function w(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function $Le(e,t,n){return Fi(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}__=function(e){if(e===null||Ka(e)||sN(e))return 1;if(lN(e))return 2},Q1=function(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t};const F3={name:"attention",tokenize:VLe,resolveAll:HLe};function HLe(e,t){let n=-1,r,i,o,a,s,l,c,u;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d=Object.assign({},e[r][1].end),f=Object.assign({},e[n][1].start);ace(d,-l),ace(f,l),a={type:l>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},e[r][1].end)},s={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:f},o={type:l>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},a.start),end:Object.assign({},s.end)},e[r][1].end=Object.assign({},a.start),e[n][1].start=Object.assign({},s.end),c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=bl(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=bl(c,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",o,t]]),c=bl(c,Q1(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=bl(c,[["exit",o,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(u=2,c=bl(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):u=0,Sl(e,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function VLe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=__(r);let o;return a;function a(l){return o=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===o)return e.consume(l),s;const c=e.exit("attentionSequence"),u=__(l),d=!u||u===2&&i||n.includes(l),f=!i||i===2&&u||n.includes(r);return c._open=!!(o===42?d:d&&(i||!f)),c._close=!!(o===42?f:f&&(u||!d)),t(l)}}function ace(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const qLe={name:"autolink",tokenize:WLe};function WLe(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(p){return El(p)?(e.consume(p),a):c(p)}function a(p){return p===43||p===45||p===46||fs(p)?(r=1,s(p)):c(p)}function s(p){return p===58?(e.consume(p),r=0,l):(p===43||p===45||p===46||fs(p))&&r++<32?(e.consume(p),s):(r=0,c(p))}function l(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||Y1(p)?n(p):(e.consume(p),l)}function c(p){return p===64?(e.consume(p),u):ice(p)?(e.consume(p),c):n(p)}function u(p){return fs(p)?d(p):n(p)}function d(p){return p===46?(e.consume(p),r=0,u):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):f(p)}function f(p){if((p===45||fs(p))&&r++<63){const g=p===45?f:d;return e.consume(p),g}return n(p)}}um={tokenize:GLe,partial:!0};function GLe(e,t,n){return r;function r(o){return ui(o)?Fi(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||ar(o)?t(o):n(o)}}const sce={name:"blockQuote",tokenize:KLe,continuation:{tokenize:XLe},exit:YLe};function KLe(e,t,n){const r=this;return i;function i(a){if(a===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),o}return n(a)}function o(a){return ui(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function XLe(e,t,n){const r=this;return i;function i(a){return ui(a)?Fi(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return e.attempt(sce,t,n)(a)}}function YLe(e){e.exit("blockQuote")}const lce={name:"characterEscape",tokenize:QLe};function QLe(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return DLe(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const cce=document.createElement("i");function U3(e){const t="&"+e+";";cce.innerHTML=t;const n=cce.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const uce={name:"characterReference",tokenize:JLe};function JLe(e,t,n){const r=this;let i=0,o,a;return s;function s(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),l}function l(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),o=31,a=fs,u(d))}function c(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,a=PLe,u):(e.enter("characterReferenceValue"),o=7,a=D3,u(d))}function u(d){if(d===59&&i){const f=e.exit("characterReferenceValue");return a===fs&&!U3(r.sliceSerialize(f))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(d)&&i++<o?(e.consume(d),u):n(d)}}const dce={tokenize:eMe,partial:!0},fce={name:"codeFenced",tokenize:ZLe,concrete:!0};function ZLe(e,t,n){const r=this,i={tokenize:_,partial:!0};let o=0,a=0,s;return l;function l(m){return c(m)}function c(m){const C=r.events[r.events.length-1];return o=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,s=m,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u(m)}function u(m){return m===s?(a++,e.consume(m),u):a<3?n(m):(e.exit("codeFencedFenceSequence"),ui(m)?Fi(e,d,"whitespace")(m):d(m))}function d(m){return m===null||ar(m)?(e.exit("codeFencedFence"),r.interrupt?t(m):e.check(dce,h,E)(m)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||ar(m)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(m)):ui(m)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Fi(e,p,"whitespace")(m)):m===96&&m===s?n(m):(e.consume(m),f)}function p(m){return m===null||ar(m)?d(m):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(m))}function g(m){return m===null||ar(m)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(m)):m===96&&m===s?n(m):(e.consume(m),g)}function h(m){return e.attempt(i,E,y)(m)}function y(m){return e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),b}function b(m){return o>0&&ui(m)?Fi(e,w,"linePrefix",o+1)(m):w(m)}function w(m){return m===null||ar(m)?e.check(dce,h,E)(m):(e.enter("codeFlowValue"),S(m))}function S(m){return m===null||ar(m)?(e.exit("codeFlowValue"),w(m)):(e.consume(m),S)}function E(m){return e.exit("codeFenced"),t(m)}function _(m,C,T){let O=0;return R;function R(z){return m.enter("lineEnding"),m.consume(z),m.exit("lineEnding"),j}function j(z){return m.enter("codeFencedFence"),ui(z)?Fi(m,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):D(z)}function D(z){return z===s?(m.enter("codeFencedFenceSequence"),L(z)):T(z)}function L(z){return z===s?(O++,m.consume(z),L):O>=a?(m.exit("codeFencedFenceSequence"),ui(z)?Fi(m,V,"whitespace")(z):V(z)):T(z)}function V(z){return z===null||ar(z)?(m.exit("codeFencedFence"),C(z)):T(z)}}}function eMe(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o)}function o(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const z3={name:"codeIndented",tokenize:nMe},tMe={tokenize:rMe,partial:!0};function nMe(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),Fi(e,o,"linePrefix",5)(c)}function o(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?a(c):n(c)}function a(c){return c===null?l(c):ar(c)?e.attempt(tMe,a,l)(c):(e.enter("codeFlowValue"),s(c))}function s(c){return c===null||ar(c)?(e.exit("codeFlowValue"),a(c)):(e.consume(c),s)}function l(c){return e.exit("codeIndented"),t(c)}}function rMe(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):ar(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):Fi(e,o,"linePrefix",5)(a)}function o(a){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(a):ar(a)?i(a):n(a)}}const iMe={name:"codeText",tokenize:sMe,resolve:oMe,previous:aMe};function oMe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function aMe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function sMe(e,t,n){let r=0,i,o;return a;function a(d){return e.enter("codeText"),e.enter("codeTextSequence"),s(d)}function s(d){return d===96?(e.consume(d),r++,s):(e.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),l):d===96?(o=e.enter("codeTextSequence"),i=0,u(d)):ar(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||ar(d)?(e.exit("codeTextData"),l(d)):(e.consume(d),c)}function u(d){return d===96?(e.consume(d),i++,u):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(o.type="codeTextData",c(d))}}function hce(e){const t={};let n=-1,r,i,o,a,s,l,c;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,lMe(e,n)),n=t[n],c=!0);else if(r[1]._container){for(o=n,i=void 0;o--&&(a=e[o],a[1].type==="lineEnding"||a[1].type==="lineEndingBlank");)a[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),a[1].type="lineEnding",i=o);i&&(r[1].end=Object.assign({},e[i][1].start),s=e.slice(i,n),s.unshift(r),Sl(e,i,n-i+1,s))}}return!c}function lMe(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const o=[],a=n._tokenizer||r.parser[n.contentType](n.start),s=a.events,l=[],c={};let u,d,f=-1,p=n,g=0,h=0;const y=[h];for(;p;){for(;e[++i][1]!==p;);o.push(i),p._tokenizer||(u=r.sliceStream(p),p.next||u.push(null),d&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(u),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++f<s.length;)s[f][0]==="exit"&&s[f-1][0]==="enter"&&s[f][1].type===s[f-1][1].type&&s[f][1].start.line!==s[f][1].end.line&&(h=f+1,y.push(h),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):y.pop(),f=y.length;f--;){const b=s.slice(y[f],y[f+1]),w=o.pop();l.unshift([w,w+b.length-1]),Sl(e,w,2,b)}for(f=-1;++f<l.length;)c[g+l[f][0]]=g+l[f][1],g+=l[f][1]-l[f][0]-1;return c}const cMe={tokenize:fMe,resolve:dMe},uMe={tokenize:hMe,partial:!0};function dMe(e){return hce(e),e}function fMe(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?o(s):ar(s)?e.check(uMe,a,o)(s):(e.consume(s),i)}function o(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function a(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function hMe(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Fi(e,o,"linePrefix")}function o(a){if(a===null||ar(a))return n(a);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function pce(e,t,n,r,i,o,a,s,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return d;function d(b){return b===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(b),e.exit(o),f):b===null||b===32||b===41||Y1(b)?n(b):(e.enter(r),e.enter(a),e.enter(s),e.enter("chunkString",{contentType:"string"}),h(b))}function f(b){return b===62?(e.enter(o),e.consume(b),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===62?(e.exit("chunkString"),e.exit(s),f(b)):b===null||b===60||ar(b)?n(b):(e.consume(b),b===92?g:p)}function g(b){return b===60||b===62||b===92?(e.consume(b),p):p(b)}function h(b){return!u&&(b===null||b===41||Ka(b))?(e.exit("chunkString"),e.exit(s),e.exit(a),e.exit(r),t(b)):u<c&&b===40?(e.consume(b),u++,h):b===41?(e.consume(b),u--,h):b===null||b===32||b===40||Y1(b)?n(b):(e.consume(b),b===92?y:h)}function y(b){return b===40||b===41||b===92?(e.consume(b),h):h(b)}}function mce(e,t,n,r,i,o){const a=this;let s=0,l;return c;function c(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(o),u}function u(p){return s>999||p===null||p===91||p===93&&!l||p===94&&!s&&"_hiddenFootnoteSupport"in a.parser.constructs?n(p):p===93?(e.exit(o),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):ar(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||ar(p)||s++>999?(e.exit("chunkString"),u(p)):(e.consume(p),l||(l=!ui(p)),p===92?f:d)}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,d):d(p)}}function gce(e,t,n,r,i,o){let a;return s;function s(f){return f===34||f===39||f===40?(e.enter(r),e.enter(i),e.consume(f),e.exit(i),a=f===40?41:f,l):n(f)}function l(f){return f===a?(e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):(e.enter(o),c(f))}function c(f){return f===a?(e.exit(o),l(a)):f===null?n(f):ar(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),Fi(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(f))}function u(f){return f===a||f===null||ar(f)?(e.exit("chunkString"),c(f)):(e.consume(f),f===92?d:u)}function d(f){return f===a||f===92?(e.consume(f),u):u(f)}}function V1(e,t){let n;return r;function r(i){return ar(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):ui(i)?Fi(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}Td=function(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()};const pMe={name:"definition",tokenize:gMe},mMe={tokenize:yMe,partial:!0};function gMe(e,t,n){const r=this;let i;return o;function o(p){return e.enter("definition"),a(p)}function a(p){return mce.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function s(p){return i=Td(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),l):n(p)}function l(p){return Ka(p)?V1(e,c)(p):c(p)}function c(p){return pce(e,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function u(p){return e.attempt(mMe,d,d)(p)}function d(p){return ui(p)?Fi(e,f,"whitespace")(p):f(p)}function f(p){return p===null||ar(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function yMe(e,t,n){return r;function r(s){return Ka(s)?V1(e,i)(s):n(s)}function i(s){return gce(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function o(s){return ui(s)?Fi(e,a,"whitespace")(s):a(s)}function a(s){return s===null||ar(s)?t(s):n(s)}}const vMe={name:"hardBreakEscape",tokenize:bMe};function bMe(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return ar(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const wMe={name:"headingAtx",tokenize:_Me,resolve:xMe};function xMe(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Sl(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function _Me(e,t,n){let r=0;return i;function i(u){return e.enter("atxHeading"),o(u)}function o(u){return e.enter("atxHeadingSequence"),a(u)}function a(u){return u===35&&r++<6?(e.consume(u),a):u===null||Ka(u)?(e.exit("atxHeadingSequence"),s(u)):n(u)}function s(u){return u===35?(e.enter("atxHeadingSequence"),l(u)):u===null||ar(u)?(e.exit("atxHeading"),t(u)):ui(u)?Fi(e,s,"whitespace")(u):(e.enter("atxHeadingText"),c(u))}function l(u){return u===35?(e.consume(u),l):(e.exit("atxHeadingSequence"),s(u))}function c(u){return u===null||u===35||Ka(u)?(e.exit("atxHeadingText"),s(u)):(e.consume(u),c)}}const EMe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],yce=["pre","script","style","textarea"],SMe={name:"htmlFlow",tokenize:IMe,resolveTo:AMe,concrete:!0},CMe={tokenize:kMe,partial:!0},TMe={tokenize:OMe,partial:!0};function AMe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function IMe(e,t,n){const r=this;let i,o,a,s,l;return c;function c($){return u($)}function u($){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume($),d}function d($){return $===33?(e.consume($),f):$===47?(e.consume($),o=!0,h):$===63?(e.consume($),i=3,r.interrupt?t:q):El($)?(e.consume($),a=String.fromCharCode($),y):n($)}function f($){return $===45?(e.consume($),i=2,p):$===91?(e.consume($),i=5,s=0,g):El($)?(e.consume($),i=4,r.interrupt?t:q):n($)}function p($){return $===45?(e.consume($),r.interrupt?t:q):n($)}function g($){const ae="CDATA[";return $===ae.charCodeAt(s++)?(e.consume($),s===ae.length?r.interrupt?t:D:g):n($)}function h($){return El($)?(e.consume($),a=String.fromCharCode($),y):n($)}function y($){if($===null||$===47||$===62||Ka($)){const ae=$===47,ue=a.toLowerCase();return!ae&&!o&&yce.includes(ue)?(i=1,r.interrupt?t($):D($)):EMe.includes(a.toLowerCase())?(i=6,ae?(e.consume($),b):r.interrupt?t($):D($)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n($):o?w($):S($))}return $===45||fs($)?(e.consume($),a+=String.fromCharCode($),y):n($)}function b($){return $===62?(e.consume($),r.interrupt?t:D):n($)}function w($){return ui($)?(e.consume($),w):R($)}function S($){return $===47?(e.consume($),R):$===58||$===95||El($)?(e.consume($),E):ui($)?(e.consume($),S):R($)}function E($){return $===45||$===46||$===58||$===95||fs($)?(e.consume($),E):_($)}function _($){return $===61?(e.consume($),m):ui($)?(e.consume($),_):S($)}function m($){return $===null||$===60||$===61||$===62||$===96?n($):$===34||$===39?(e.consume($),l=$,C):ui($)?(e.consume($),m):T($)}function C($){return $===l?(e.consume($),l=null,O):$===null||ar($)?n($):(e.consume($),C)}function T($){return $===null||$===34||$===39||$===47||$===60||$===61||$===62||$===96||Ka($)?_($):(e.consume($),T)}function O($){return $===47||$===62||ui($)?S($):n($)}function R($){return $===62?(e.consume($),j):n($)}function j($){return $===null||ar($)?D($):ui($)?(e.consume($),j):n($)}function D($){return $===45&&i===2?(e.consume($),B):$===60&&i===1?(e.consume($),H):$===62&&i===4?(e.consume($),ee):$===63&&i===3?(e.consume($),q):$===93&&i===5?(e.consume($),ne):ar($)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(CMe,te,L)($)):$===null||ar($)?(e.exit("htmlFlowData"),L($)):(e.consume($),D)}function L($){return e.check(TMe,V,te)($)}function V($){return e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),z}function z($){return $===null||ar($)?L($):(e.enter("htmlFlowData"),D($))}function B($){return $===45?(e.consume($),q):D($)}function H($){return $===47?(e.consume($),a="",J):D($)}function J($){if($===62){const ae=a.toLowerCase();return yce.includes(ae)?(e.consume($),ee):D($)}return El($)&&a.length<8?(e.consume($),a+=String.fromCharCode($),J):D($)}function ne($){return $===93?(e.consume($),q):D($)}function q($){return $===62?(e.consume($),ee):$===45&&i===2?(e.consume($),q):D($)}function ee($){return $===null||ar($)?(e.exit("htmlFlowData"),te($)):(e.consume($),ee)}function te($){return e.exit("htmlFlow"),t($)}}function OMe(e,t,n){const r=this;return i;function i(a){return ar(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o):n(a)}function o(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function kMe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(um,t,n)}}const NMe={name:"htmlText",tokenize:RMe};function RMe(e,t,n){const r=this;let i,o,a;return s;function s(q){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(q),l}function l(q){return q===33?(e.consume(q),c):q===47?(e.consume(q),_):q===63?(e.consume(q),S):El(q)?(e.consume(q),T):n(q)}function c(q){return q===45?(e.consume(q),u):q===91?(e.consume(q),o=0,g):El(q)?(e.consume(q),w):n(q)}function u(q){return q===45?(e.consume(q),p):n(q)}function d(q){return q===null?n(q):q===45?(e.consume(q),f):ar(q)?(a=d,H(q)):(e.consume(q),d)}function f(q){return q===45?(e.consume(q),p):d(q)}function p(q){return q===62?B(q):q===45?f(q):d(q)}function g(q){const ee="CDATA[";return q===ee.charCodeAt(o++)?(e.consume(q),o===ee.length?h:g):n(q)}function h(q){return q===null?n(q):q===93?(e.consume(q),y):ar(q)?(a=h,H(q)):(e.consume(q),h)}function y(q){return q===93?(e.consume(q),b):h(q)}function b(q){return q===62?B(q):q===93?(e.consume(q),b):h(q)}function w(q){return q===null||q===62?B(q):ar(q)?(a=w,H(q)):(e.consume(q),w)}function S(q){return q===null?n(q):q===63?(e.consume(q),E):ar(q)?(a=S,H(q)):(e.consume(q),S)}function E(q){return q===62?B(q):S(q)}function _(q){return El(q)?(e.consume(q),m):n(q)}function m(q){return q===45||fs(q)?(e.consume(q),m):C(q)}function C(q){return ar(q)?(a=C,H(q)):ui(q)?(e.consume(q),C):B(q)}function T(q){return q===45||fs(q)?(e.consume(q),T):q===47||q===62||Ka(q)?O(q):n(q)}function O(q){return q===47?(e.consume(q),B):q===58||q===95||El(q)?(e.consume(q),R):ar(q)?(a=O,H(q)):ui(q)?(e.consume(q),O):B(q)}function R(q){return q===45||q===46||q===58||q===95||fs(q)?(e.consume(q),R):j(q)}function j(q){return q===61?(e.consume(q),D):ar(q)?(a=j,H(q)):ui(q)?(e.consume(q),j):O(q)}function D(q){return q===null||q===60||q===61||q===62||q===96?n(q):q===34||q===39?(e.consume(q),i=q,L):ar(q)?(a=D,H(q)):ui(q)?(e.consume(q),D):(e.consume(q),V)}function L(q){return q===i?(e.consume(q),i=void 0,z):q===null?n(q):ar(q)?(a=L,H(q)):(e.consume(q),L)}function V(q){return q===null||q===34||q===39||q===60||q===61||q===96?n(q):q===47||q===62||Ka(q)?O(q):(e.consume(q),V)}function z(q){return q===47||q===62||Ka(q)?O(q):n(q)}function B(q){return q===62?(e.consume(q),e.exit("htmlTextData"),e.exit("htmlText"),t):n(q)}function H(q){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(q),e.exit("lineEnding"),J}function J(q){return ui(q)?Fi(e,ne,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):ne(q)}function ne(q){return e.enter("htmlTextData"),a(q)}}const B3={name:"labelEnd",tokenize:FMe,resolveTo:DMe,resolveAll:PMe},jMe={tokenize:UMe},LMe={tokenize:zMe},MMe={tokenize:BMe};function PMe(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function DMe(e,t){let n=e.length,r=0,i,o,a,s;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const l={type:e[o][1].type==="labelLink"?"link":"image",start:Object.assign({},e[o][1].start),end:Object.assign({},e[e.length-1][1].end)},c={type:"label",start:Object.assign({},e[o][1].start),end:Object.assign({},e[a][1].end)},u={type:"labelText",start:Object.assign({},e[o+r+2][1].end),end:Object.assign({},e[a-2][1].start)};return s=[["enter",l,t],["enter",c,t]],s=bl(s,e.slice(o+1,o+r+3)),s=bl(s,[["enter",u,t]]),s=bl(s,Q1(t.parser.constructs.insideSpan.null,e.slice(o+r+4,a-3),t)),s=bl(s,[["exit",u,t],e[a-2],e[a-1],["exit",c,t]]),s=bl(s,e.slice(a+1)),s=bl(s,[["exit",l,t]]),Sl(e,o,e.length,s),e}function FMe(e,t,n){const r=this;let i=r.events.length,o,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return s;function s(f){return o?o._inactive?d(f):(a=r.parser.defined.includes(Td(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),l):n(f)}function l(f){return f===40?e.attempt(jMe,u,a?u:d)(f):f===91?e.attempt(LMe,u,a?c:d)(f):a?u(f):d(f)}function c(f){return e.attempt(MMe,u,d)(f)}function u(f){return t(f)}function d(f){return o._balanced=!0,n(f)}}function UMe(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return Ka(d)?V1(e,o)(d):o(d)}function o(d){return d===41?u(d):pce(e,a,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function a(d){return Ka(d)?V1(e,l)(d):u(d)}function s(d){return n(d)}function l(d){return d===34||d===39||d===40?gce(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):u(d)}function c(d){return Ka(d)?V1(e,u)(d):u(d)}function u(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function zMe(e,t,n){const r=this;return i;function i(s){return mce.call(r,e,o,a,"reference","referenceMarker","referenceString")(s)}function o(s){return r.parser.defined.includes(Td(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function a(s){return n(s)}}function BMe(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const $Me={name:"labelStartImage",tokenize:HMe,resolveAll:B3.resolveAll};function HMe(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),o}function o(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),a):n(s)}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const VMe={name:"labelStartLink",tokenize:qMe,resolveAll:B3.resolveAll};function qMe(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const $3={name:"lineEnding",tokenize:WMe};function WMe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Fi(e,t,"linePrefix")}}const h_={name:"thematicBreak",tokenize:GMe};function GMe(e,t,n){let r=0,i;return o;function o(c){return e.enter("thematicBreak"),a(c)}function a(c){return i=c,s(c)}function s(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||ar(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),ui(c)?Fi(e,s,"whitespace")(c):s(c))}}const Es={name:"list",tokenize:YMe,continuation:{tokenize:QMe},exit:ZMe},KMe={tokenize:e9e,partial:!0},XMe={tokenize:JMe,partial:!0};function YMe(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return s;function s(p){const g=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:D3(p)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(h_,n,c)(p):c(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(p)}return n(p)}function l(p){return D3(p)&&++a<10?(e.consume(p),l):(!r.interrupt||a<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),c(p)):n(p)}function c(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(um,r.interrupt?n:u,e.attempt(KMe,f,d))}function u(p){return r.containerState.initialBlankLine=!0,o++,f(p)}function d(p){return ui(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),f):n(p)}function f(p){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function QMe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(um,i,o);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Fi(e,t,"listItemIndent",r.containerState.size+1)(s)}function o(s){return r.containerState.furtherBlankLines||!ui(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(XMe,t,a)(s))}function a(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,Fi(e,e.attempt(Es,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function JMe(e,t,n){const r=this;return Fi(e,i,"listItemIndent",r.containerState.size+1);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(o):n(o)}}function ZMe(e){e.exit(this.containerState.type)}function e9e(e,t,n){const r=this;return Fi(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const a=r.events[r.events.length-1];return!ui(o)&&a&&a[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const vce={name:"setextUnderline",tokenize:n9e,resolveTo:t9e};function t9e(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const a={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",a,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[o][1].end)):e[r][1]=a,e.push(["exit",a,t]),e}function n9e(e,t,n){const r=this;let i;return o;function o(c){let u=r.events.length,d;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){d=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=c,a(c)):n(c)}function a(c){return e.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===i?(e.consume(c),s):(e.exit("setextHeadingLineSequence"),ui(c)?Fi(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||ar(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const r9e={tokenize:i9e};function i9e(e){const t=this,n=e.attempt(um,r,e.attempt(this.parser.constructs.flowInitial,i,Fi(e,e.attempt(this.parser.constructs.flow,i,e.attempt(cMe,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const o9e={resolveAll:wce()},a9e=bce("string"),s9e=bce("text");function bce(e){return{tokenize:t,resolveAll:wce(e==="text"?l9e:void 0)};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,a,s);return a;function a(u){return c(u)?o(u):s(u)}function s(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),o(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const d=i[u];let f=-1;if(d)for(;++f<d.length;){const p=d[f];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function wce(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function l9e(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,a=-1,s=0,l;for(;o--;){const c=i[o];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)s++,a--;if(a)break;a=-1}else if(c===-2)l=!0,s++;else if(c!==-1){o++;break}}if(s){const c={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-s,offset:r.end.offset-s,_index:r.start._index+o,_bufferIndex:o?a:r.start._bufferIndex+a},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}function c9e(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},o=[];let a=[],s=[];const l={consume:w,enter:S,exit:E,attempt:C(_),check:C(m),interrupt:C(m,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:p,sliceSerialize:f,now:g,defineSkip:h,write:d};let u=t.tokenize.call(c,l);return t.resolveAll&&o.push(t),c;function d(j){return a=bl(a,j),y(),a[a.length-1]!==null?[]:(T(t,0),c.events=Q1(o,c.events,c),c.events)}function f(j,D){return d9e(p(j),D)}function p(j){return u9e(a,j)}function g(){const{line:j,column:D,offset:L,_index:V,_bufferIndex:z}=r;return{line:j,column:D,offset:L,_index:V,_bufferIndex:z}}function h(j){i[j.line]=j.column,R()}function y(){let j;for(;r._index<a.length;){const D=a[r._index];if(typeof D=="string")for(j=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===j&&r._bufferIndex<D.length;)b(D.charCodeAt(r._bufferIndex));else b(D)}}function b(j){u=u(j)}function w(j){ar(j)?(r.line++,r.column=1,r.offset+=j===-3?2:1,R()):j!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=j}function S(j,D){const L=D||{};return L.type=j,L.start=g(),c.events.push(["enter",L,c]),s.push(L),L}function E(j){const D=s.pop();return D.end=g(),c.events.push(["exit",D,c]),D}function _(j,D){T(j,D.from)}function m(j,D){D.restore()}function C(j,D){return L;function L(V,z,B){let H,J,ne,q;return Array.isArray(V)?te(V):"tokenize"in V?te([V]):ee(V);function ee(me){return Fe;function Fe(Ie){const Ee=Ie!==null&&me[Ie],He=Ie!==null&&me.null,it=[...Array.isArray(Ee)?Ee:Ee?[Ee]:[],...Array.isArray(He)?He:He?[He]:[]];return te(it)(Ie)}}function te(me){return H=me,J=0,me.length===0?B:$(me[J])}function $(me){return Fe;function Fe(Ie){return q=O(),ne=me,me.partial||(c.currentConstruct=me),me.name&&c.parser.constructs.disable.null.includes(me.name)?ue():me.tokenize.call(D?Object.assign(Object.create(c),D):c,l,ae,ue)(Ie)}}function ae(me){return j(ne,q),z}function ue(me){return q.restore(),++J<H.length?$(H[J]):B}}}function T(j,D){j.resolveAll&&!o.includes(j)&&o.push(j),j.resolve&&Sl(c.events,D,c.events.length-D,j.resolve(c.events.slice(D),c)),j.resolveTo&&(c.events=j.resolveTo(c.events,c))}function O(){const j=g(),D=c.previous,L=c.currentConstruct,V=c.events.length,z=Array.from(s);return{restore:B,from:V};function B(){r=j,c.previous=D,c.currentConstruct=L,c.events.length=V,s=z,R()}}function R(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function u9e(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,o)];else{if(a=e.slice(n,i),r>-1){const s=a[0];typeof s=="string"?a[0]=s.slice(r):a.shift()}o>0&&a.push(e[i].slice(0,o))}return a}function d9e(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(o)}i=o===-2,r.push(a)}return r.join("")}const f9e={42:Es,43:Es,45:Es,48:Es,49:Es,50:Es,51:Es,52:Es,53:Es,54:Es,55:Es,56:Es,57:Es,62:sce},h9e={91:pMe},p9e={[-2]:z3,[-1]:z3,32:z3},m9e={35:wMe,42:h_,45:[vce,h_],60:SMe,61:vce,95:h_,96:fce,126:fce},g9e={38:uce,92:lce},y9e={[-5]:$3,[-4]:$3,[-3]:$3,33:$Me,38:uce,42:F3,60:[qLe,NMe],91:VMe,92:[vMe,lce],93:B3,95:F3,96:iMe},v9e={null:[F3,o9e]},b9e={null:[42,95]},w9e={null:[]},x9e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:b9e,contentInitial:h9e,disable:w9e,document:f9e,flow:m9e,flowInitial:p9e,insideSpan:v9e,string:g9e,text:y9e},Symbol.toStringTag,{value:"Module"}));function _9e(e){const t=cN([x9e,...(e||{}).extensions||[]]),n={defined:[],lazy:{},constructs:t,content:r(FLe),document:r(zLe),flow:r(r9e),string:r(a9e),text:r(s9e)};return n;function r(i){return o;function o(a){return c9e(n,i,a)}}}const xce=/[\0\t\n\r]/g;function E9e(){let e=1,t="",n=!0,r;return i;function i(o,a,s){const l=[];let c,u,d,f,p;for(o=t+o.toString(a),d=0,t="",n&&(o.charCodeAt(0)===65279&&d++,n=void 0);d<o.length;){if(xce.lastIndex=d,c=xce.exec(o),f=c&&c.index!==void 0?c.index:o.length,p=o.charCodeAt(f),!c){t=o.slice(d);break}if(p===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(o.slice(d,f)),e+=f-d),p){case 0:{l.push(65533),e++;break}case 9:{for(u=Math.ceil(e/4)*4,l.push(-2);e++<u;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}d=f+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}function S9e(e){for(;!hce(e););return e}function _ce(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCharCode(n)}const C9e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;dN=function(e){return e.replace(C9e,T9e)};function T9e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),i=r===120||r===88;return _ce(n.slice(i?2:1),i?16:10)}return U3(n)||e}const Ece={}.hasOwnProperty,A9e=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),I9e(n)(S9e(_9e(n).document().write(E9e()(e,t,!0))))};function I9e(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(se),autolinkProtocol:j,autolinkEmail:j,atxHeading:s(Oe),blockQuote:s(it),characterEscape:j,characterReference:j,codeFenced:s(St),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:s(St,l),codeText:s(xt,l),codeTextData:j,data:j,codeFlowValue:j,definition:s(Ct),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:s(We),hardBreakEscape:s(ye),hardBreakTrailing:s(ye),htmlFlow:s(Ve,l),htmlFlowData:j,htmlText:s(Ve,l),htmlTextData:j,image:s(Xe),label:l,link:s(se),listItem:s(Le),listItemValue:g,listOrdered:s(we,p),listUnordered:s(we),paragraph:s(ot),reference:ue,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:s(Oe),strong:s(_e),thematicBreak:s(dt)},exit:{atxHeading:u(),atxHeadingSequence:C,autolink:u(),autolinkEmail:He,autolinkProtocol:Ee,blockQuote:u(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:Fe,characterReferenceMarkerNumeric:Fe,characterReferenceValue:Ie,codeFenced:u(w),codeFencedFence:b,codeFencedFenceInfo:h,codeFencedFenceMeta:y,codeFlowValue:D,codeIndented:u(S),codeText:u(H),codeTextData:D,data:D,definition:u(),definitionDestinationString:m,definitionLabelString:E,definitionTitleString:_,emphasis:u(),hardBreakEscape:u(V),hardBreakTrailing:u(V),htmlFlow:u(z),htmlFlowData:D,htmlText:u(B),htmlTextData:D,image:u(ne),label:ee,labelText:q,lineEnding:L,link:u(J),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:me,resourceDestinationString:te,resourceTitleString:$,resource:ae,setextHeading:u(R),setextHeadingLineSequence:O,setextHeadingText:T,strong:u(),thematicBreak:u()}};Sce(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Ne){let Ye={type:"root",children:[]};const jt={stack:[Ye],tokenStack:[],config:t,enter:c,exit:d,buffer:l,resume:f,setData:o,getData:a},qt=[];let Jt=-1;for(;++Jt<Ne.length;)if(Ne[Jt][1].type==="listOrdered"||Ne[Jt][1].type==="listUnordered")if(Ne[Jt][0]==="enter")qt.push(Jt);else{const Ht=qt.pop();Jt=i(Ne,Ht,Jt)}for(Jt=-1;++Jt<Ne.length;){const Ht=t[Ne[Jt][0]];Ece.call(Ht,Ne[Jt][1].type)&&Ht[Ne[Jt][1].type].call(Object.assign({sliceSerialize:Ne[Jt][2].sliceSerialize},jt),Ne[Jt][1])}if(jt.tokenStack.length>0){const Ht=jt.tokenStack[jt.tokenStack.length-1];(Ht[1]||Cce).call(jt,void 0,Ht[0])}for(Ye.position={start:Ed(Ne.length>0?Ne[0][1].start:{line:1,column:1,offset:0}),end:Ed(Ne.length>0?Ne[Ne.length-2][1].end:{line:1,column:1,offset:0})},Jt=-1;++Jt<t.transforms.length;)Ye=t.transforms[Jt](Ye)||Ye;return Ye}function i(Ne,Ye,jt){let qt=Ye-1,Jt=-1,Ht=!1,en,hn,Zt,Tt;for(;++qt<=jt;){const xn=Ne[qt];if(xn[1].type==="listUnordered"||xn[1].type==="listOrdered"||xn[1].type==="blockQuote"?(xn[0]==="enter"?Jt++:Jt--,Tt=void 0):xn[1].type==="lineEndingBlank"?xn[0]==="enter"&&(en&&!Tt&&!Jt&&!Zt&&(Zt=qt),Tt=void 0):xn[1].type==="linePrefix"||xn[1].type==="listItemValue"||xn[1].type==="listItemMarker"||xn[1].type==="listItemPrefix"||xn[1].type==="listItemPrefixWhitespace"||(Tt=void 0),!Jt&&xn[0]==="enter"&&xn[1].type==="listItemPrefix"||Jt===-1&&xn[0]==="exit"&&(xn[1].type==="listUnordered"||xn[1].type==="listOrdered")){if(en){let Jn=qt;for(hn=void 0;Jn--;){const ir=Ne[Jn];if(ir[1].type==="lineEnding"||ir[1].type==="lineEndingBlank"){if(ir[0]==="exit")continue;hn&&(Ne[hn][1].type="lineEndingBlank",Ht=!0),ir[1].type="lineEnding",hn=Jn}else if(!(ir[1].type==="linePrefix"||ir[1].type==="blockQuotePrefix"||ir[1].type==="blockQuotePrefixWhitespace"||ir[1].type==="blockQuoteMarker"||ir[1].type==="listItemIndent"))break}Zt&&(!hn||Zt<hn)&&(en._spread=!0),en.end=Object.assign({},hn?Ne[hn][1].start:xn[1].end),Ne.splice(hn||qt,0,["exit",en,xn[2]]),qt++,jt++}xn[1].type==="listItemPrefix"&&(en={type:"listItem",_spread:!1,start:Object.assign({},xn[1].start),end:void 0},Ne.splice(qt,0,["enter",en,xn[2]]),qt++,jt++,Zt=void 0,Tt=!0)}}return Ne[Ye][1]._spread=Ht,jt}function o(Ne,Ye){n[Ne]=Ye}function a(Ne){return n[Ne]}function s(Ne,Ye){return jt;function jt(qt){c.call(this,Ne(qt),qt),Ye&&Ye.call(this,qt)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(Ne,Ye,jt){return this.stack[this.stack.length-1].children.push(Ne),this.stack.push(Ne),this.tokenStack.push([Ye,jt]),Ne.position={start:Ed(Ye.start)},Ne}function u(Ne){return Ye;function Ye(jt){Ne&&Ne.call(this,jt),d.call(this,jt)}}function d(Ne,Ye){const jt=this.stack.pop(),qt=this.tokenStack.pop();if(qt)qt[0].type!==Ne.type&&(Ye?Ye.call(this,Ne,qt[0]):(qt[1]||Cce).call(this,Ne,qt[0]));else throw new Error("Cannot close `"+Ne.type+"` ("+B1({start:Ne.start,end:Ne.end})+"): it\u2019s not open");return jt.position.end=Ed(Ne.end),jt}function f(){return RLe(this.stack.pop())}function p(){o("expectingFirstListItemValue",!0)}function g(Ne){if(a("expectingFirstListItemValue")){const Ye=this.stack[this.stack.length-2];Ye.start=Number.parseInt(this.sliceSerialize(Ne),10),o("expectingFirstListItemValue")}}function h(){const Ne=this.resume(),Ye=this.stack[this.stack.length-1];Ye.lang=Ne}function y(){const Ne=this.resume(),Ye=this.stack[this.stack.length-1];Ye.meta=Ne}function b(){a("flowCodeInside")||(this.buffer(),o("flowCodeInside",!0))}function w(){const Ne=this.resume(),Ye=this.stack[this.stack.length-1];Ye.value=Ne.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),o("flowCodeInside")}function S(){const Ne=this.resume(),Ye=this.stack[this.stack.length-1];Ye.value=Ne.replace(/(\r?\n|\r)$/g,"")}function E(Ne){const Ye=this.resume(),jt=this.stack[this.stack.length-1];jt.label=Ye,jt.identifier=Td(this.sliceSerialize(Ne)).toLowerCase()}function _(){const Ne=this.resume(),Ye=this.stack[this.stack.length-1];Ye.title=Ne}function m(){const Ne=this.resume(),Ye=this.stack[this.stack.length-1];Ye.url=Ne}function C(Ne){const Ye=this.stack[this.stack.length-1];if(!Ye.depth){const jt=this.sliceSerialize(Ne).length;Ye.depth=jt}}function T(){o("setextHeadingSlurpLineEnding",!0)}function O(Ne){const Ye=this.stack[this.stack.length-1];Ye.depth=this.sliceSerialize(Ne).charCodeAt(0)===61?1:2}function R(){o("setextHeadingSlurpLineEnding")}function j(Ne){const Ye=this.stack[this.stack.length-1];let jt=Ye.children[Ye.children.length-1];(!jt||jt.type!=="text")&&(jt=Ce(),jt.position={start:Ed(Ne.start)},Ye.children.push(jt)),this.stack.push(jt)}function D(Ne){const Ye=this.stack.pop();Ye.value+=this.sliceSerialize(Ne),Ye.position.end=Ed(Ne.end)}function L(Ne){const Ye=this.stack[this.stack.length-1];if(a("atHardBreak")){const jt=Ye.children[Ye.children.length-1];jt.position.end=Ed(Ne.end),o("atHardBreak");return}!a("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(Ye.type)&&(j.call(this,Ne),D.call(this,Ne))}function V(){o("atHardBreak",!0)}function z(){const Ne=this.resume(),Ye=this.stack[this.stack.length-1];Ye.value=Ne}function B(){const Ne=this.resume(),Ye=this.stack[this.stack.length-1];Ye.value=Ne}function H(){const Ne=this.resume(),Ye=this.stack[this.stack.length-1];Ye.value=Ne}function J(){const Ne=this.stack[this.stack.length-1];if(a("inReference")){const Ye=a("referenceType")||"shortcut";Ne.type+="Reference",Ne.referenceType=Ye,delete Ne.url,delete Ne.title}else delete Ne.identifier,delete Ne.label;o("referenceType")}function ne(){const Ne=this.stack[this.stack.length-1];if(a("inReference")){const Ye=a("referenceType")||"shortcut";Ne.type+="Reference",Ne.referenceType=Ye,delete Ne.url,delete Ne.title}else delete Ne.identifier,delete Ne.label;o("referenceType")}function q(Ne){const Ye=this.sliceSerialize(Ne),jt=this.stack[this.stack.length-2];jt.label=dN(Ye),jt.identifier=Td(Ye).toLowerCase()}function ee(){const Ne=this.stack[this.stack.length-1],Ye=this.resume(),jt=this.stack[this.stack.length-1];if(o("inReference",!0),jt.type==="link"){const qt=Ne.children;jt.children=qt}else jt.alt=Ye}function te(){const Ne=this.resume(),Ye=this.stack[this.stack.length-1];Ye.url=Ne}function $(){const Ne=this.resume(),Ye=this.stack[this.stack.length-1];Ye.title=Ne}function ae(){o("inReference")}function ue(){o("referenceType","collapsed")}function me(Ne){const Ye=this.resume(),jt=this.stack[this.stack.length-1];jt.label=Ye,jt.identifier=Td(this.sliceSerialize(Ne)).toLowerCase(),o("referenceType","full")}function Fe(Ne){o("characterReferenceType",Ne.type)}function Ie(Ne){const Ye=this.sliceSerialize(Ne),jt=a("characterReferenceType");let qt;jt?(qt=_ce(Ye,jt==="characterReferenceMarkerNumeric"?10:16),o("characterReferenceType")):qt=U3(Ye);const Jt=this.stack.pop();Jt.value+=qt,Jt.position.end=Ed(Ne.end)}function Ee(Ne){D.call(this,Ne);const Ye=this.stack[this.stack.length-1];Ye.url=this.sliceSerialize(Ne)}function He(Ne){D.call(this,Ne);const Ye=this.stack[this.stack.length-1];Ye.url="mailto:"+this.sliceSerialize(Ne)}function it(){return{type:"blockquote",children:[]}}function St(){return{type:"code",lang:null,meta:null,value:""}}function xt(){return{type:"inlineCode",value:""}}function Ct(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function We(){return{type:"emphasis",children:[]}}function Oe(){return{type:"heading",depth:void 0,children:[]}}function ye(){return{type:"break"}}function Ve(){return{type:"html",value:""}}function Xe(){return{type:"image",title:null,url:"",alt:null}}function se(){return{type:"link",title:null,url:"",children:[]}}function we(Ne){return{type:"list",ordered:Ne.type==="listOrdered",start:null,spread:Ne._spread,children:[]}}function Le(Ne){return{type:"listItem",spread:Ne._spread,checked:null,children:[]}}function ot(){return{type:"paragraph",children:[]}}function _e(){return{type:"strong",children:[]}}function Ce(){return{type:"text",value:""}}function dt(){return{type:"thematicBreak"}}}function Ed(e){return{line:e.line,column:e.column,offset:e.offset}}function Sce(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Sce(e,r):O9e(e,r)}}function O9e(e,t){let n;for(n in t)if(Ece.call(t,n)){if(n==="canContainEols"){const r=t[n];r&&e[n].push(...r)}else if(n==="transforms"){const r=t[n];r&&e[n].push(...r)}else if(n==="enter"||n==="exit"){const r=t[n];r&&Object.assign(e[n],r)}}}function Cce(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+B1({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+B1({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+B1({start:t.start,end:t.end})+") is still open")}function k9e(e){Object.assign(this,{Parser:t=>{const n=this.data("settings");return A9e(t,Object.assign({},n,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function N9e(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function R9e(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function j9e(e,t){const n=t.value?t.value+`
`:"",r=t.lang?t.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let o={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function L9e(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function M9e(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function am(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let a="";if(o===37&&fs(e.charCodeAt(n+1))&&fs(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const s=e.charCodeAt(n+1);o<56320&&s>56319&&s<57344?(a=String.fromCharCode(o,s),i=1):a="\uFFFD"}else a=String.fromCharCode(o);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Tce(e,t){const n=String(t.identifier).toUpperCase(),r=am(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let o;i===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,o=e.footnoteOrder.length):(e.footnoteCounts[n]++,o=i+1);const a=e.footnoteCounts[n],s={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,s);const l={type:"element",tagName:"sup",properties:{},children:[s]};return e.patch(t,l),e.applyData(t,l)}function P9e(e,t){const n=e.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:t.children}],position:t.position},Tce(e,{type:"footnoteReference",identifier:i,position:t.position})}function D9e(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function F9e(e,t){if(e.dangerous){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}return null}function Ace(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return{type:"text",value:"!["+t.alt+r};const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function U9e(e,t){const n=e.definition(t.identifier);if(!n)return Ace(e,t);const r={src:am(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,i),e.applyData(t,i)}function z9e(e,t){const n={src:am(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function B9e(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function $9e(e,t){const n=e.definition(t.identifier);if(!n)return Ace(e,t);const r={href:am(n.url||"")};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function H9e(e,t){const n={href:am(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function V9e(e,t,n){const r=e.all(t),i=n?q9e(n):Ice(t),o={},a=[];if(typeof t.checked=="boolean"){const u=r[0];let d;u&&u.type==="element"&&u.tagName==="p"?d=u:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const u=r[s];(i||s!==0||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?a.push(...u.children):a.push(u)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:o,children:a};return e.patch(t,c),e.applyData(t,c)}function q9e(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Ice(n[r])}return t}function Ice(e){return e.spread??e.children.length>1}function W9e(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function G9e(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function K9e(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function X9e(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const H3=Oce("start"),V3=Oce("end");function Y9e(e){return{start:H3(e),end:V3(e)}}function Oce(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function Q9e(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=H3(t.children[1]),l=V3(t.children[t.children.length-1]);s.line&&l.line&&(a.position={start:s,end:l}),i.push(a)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function J9e(e,t,n){const r=n?n.children:void 0,i=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let s=-1;const l=[];for(;++s<a;){const u=t.children[s],d={},f=o?o[s]:void 0;f&&(d.align=f);let p={type:"element",tagName:i,properties:d,children:[]};u&&(p.children=e.all(u),e.patch(u,p),p=e.applyData(t,p)),l.push(p)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)}function Z9e(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const kce=9,Nce=32;function ePe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(Rce(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(Rce(t.slice(i),i>0,!1)),o.join("")}function Rce(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===kce||o===Nce;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===kce||o===Nce;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function tPe(e,t){const n={type:"text",value:ePe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function nPe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const rPe={blockquote:N9e,break:R9e,code:j9e,delete:L9e,emphasis:M9e,footnoteReference:Tce,footnote:P9e,heading:D9e,html:F9e,imageReference:U9e,image:z9e,inlineCode:B9e,linkReference:$9e,link:H9e,listItem:V9e,list:W9e,paragraph:G9e,root:K9e,strong:X9e,table:Q9e,tableCell:Z9e,tableRow:J9e,text:tPe,thematicBreak:nPe,toml:p_,yaml:p_,definition:p_,footnoteDefinition:p_};function p_(){return null}E_=(function(e){if(e==null)return sPe;if(typeof e=="string")return aPe(e);if(typeof e=="object")return Array.isArray(e)?iPe(e):oPe(e);if(typeof e=="function")return m_(e);throw new Error("Expected function, string, or object as test")});function iPe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=E_(e[n]);return m_(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].call(this,...i))return!0;return!1}}function oPe(e){return m_(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function aPe(e){return m_(t);function t(n){return n&&n.type===e}}function m_(e){return t;function t(n,...r){return!!(n&&typeof n=="object"&&"type"in n&&e.call(this,n,...r))}}function sPe(){return!0}let jce,q3,Lce;jce=!0,q3=!1,Lce="skip",uN=(function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);const i=E_(t),o=r?-1:1;a(e,void 0,[])();function a(s,l,c){const u=s&&typeof s=="object"?s:{};if(typeof u.type=="string"){const f=typeof u.tagName=="string"?u.tagName:typeof u.name=="string"?u.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(s.type+(f?"<"+f+">":""))+")"})}return d;function d(){let f=[],p,g,h;if((!t||i(s,l,c[c.length-1]||null))&&(f=lPe(n(s,c)),f[0]===q3))return f;if(s.children&&f[0]!==Lce)for(g=(r?s.children.length:-1)+o,h=c.concat(s);g>-1&&g<s.children.length;){if(p=a(s.children[g],g,h)(),p[0]===q3)return p;g=typeof p[1]=="number"?p[1]:g+o}return f}}});function lPe(e){return Array.isArray(e)?e:typeof e=="number"?[jce,e]:[e]}const W3=(function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),uN(e,t,i,r);function i(o,a){const s=a[a.length-1];return n(o,s?s.children.indexOf(o):null,s)}});function cPe(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const Mce={}.hasOwnProperty;function uPe(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return W3(e,"definition",r=>{const i=Pce(r.identifier);i&&!Mce.call(t,i)&&(t[i]=r)}),n;function n(r){const i=Pce(r);return i&&Mce.call(t,i)?t[i]:null}}function Pce(e){return String(e||"").toUpperCase()}const g_={}.hasOwnProperty;function dPe(e,t){const n=t||{},r=n.allowDangerousHtml||!1,i={};return a.dangerous=r,a.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,a.footnoteLabel=n.footnoteLabel||"Footnotes",a.footnoteLabelTagName=n.footnoteLabelTagName||"h2",a.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},a.footnoteBackLabel=n.footnoteBackLabel||"Back to content",a.unknownHandler=n.unknownHandler,a.passThrough=n.passThrough,a.handlers={...rPe,...n.handlers},a.definition=uPe(e),a.footnoteById=i,a.footnoteOrder=[],a.footnoteCounts={},a.patch=fPe,a.applyData=hPe,a.one=s,a.all=l,a.wrap=mPe,a.augment=o,W3(e,"footnoteDefinition",c=>{const u=String(c.identifier).toUpperCase();g_.call(i,u)||(i[u]=c)}),a;function o(c,u){if(c&&"data"in c&&c.data){const d=c.data;d.hName&&(u.type!=="element"&&(u={type:"element",tagName:"",properties:{},children:[]}),u.tagName=d.hName),u.type==="element"&&d.hProperties&&(u.properties={...u.properties,...d.hProperties}),"children"in u&&u.children&&d.hChildren&&(u.children=d.hChildren)}if(c){const d="type"in c?c:{position:c};cPe(d)||(u.position={start:H3(d),end:V3(d)})}return u}function a(c,u,d,f){return Array.isArray(d)&&(f=d,d={}),o(c,{type:"element",tagName:u,properties:d||{},children:f||[]})}function s(c,u){return Dce(a,c,u)}function l(c){return G3(a,c)}}function fPe(e,t){e.position&&(t.position=Y9e(e))}function hPe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;typeof r=="string"&&(n.type==="element"?n.tagName=r:n={type:"element",tagName:r,properties:{},children:[]}),n.type==="element"&&o&&(n.properties={...n.properties,...o}),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Dce(e,t,n){const r=t&&t.type;if(!r)throw new Error("Expected node, got `"+t+"`");return g_.call(e.handlers,r)?e.handlers[r](e,t,n):e.passThrough&&e.passThrough.includes(r)?"children"in t?{...t,children:G3(e,t)}:t:e.unknownHandler?e.unknownHandler(e,t,n):pPe(e,t)}function G3(e,t){const n=[];if("children"in t){const r=t.children;let i=-1;for(;++i<r.length;){const o=Dce(e,r[i],t);if(o){if(i&&r[i-1].type==="break"&&(!Array.isArray(o)&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,"")),!Array.isArray(o)&&o.type==="element")){const a=o.children[0];a&&a.type==="text"&&(a.value=a.value.replace(/^\s+/,""))}Array.isArray(o)?n.push(...o):n.push(o)}}}return n}function pPe(e,t){const n=t.data||{},r="value"in t&&!(g_.call(n,"hProperties")||g_.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:G3(e,t)};return e.patch(t,r),e.applyData(t,r)}function mPe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function gPe(e){const t=[];let n=-1;for(;++n<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[n]];if(!r)continue;const i=e.all(r),o=String(r.identifier).toUpperCase(),a=am(o.toLowerCase());let s=0;const l=[];for(;++s<=e.footnoteCounts[o];){const d={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+a+(s>1?"-"+s:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:"\u21A9"}]};s>1&&d.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(s)}]}),l.length>0&&l.push({type:"text",value:" "}),l.push(d)}const c=i[i.length-1];if(c&&c.type==="element"&&c.tagName==="p"){const d=c.children[c.children.length-1];d&&d.type==="text"?d.value+=" ":c.children.push({type:"text",value:" "}),c.children.push(...l)}else i.push(...l);const u={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+a},children:e.wrap(i,!0)};e.patch(r,u),t.push(u)}if(t.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:e.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(t,!0)},{type:"text",value:`
`}]}}function Fce(e,t){const n=dPe(e,t),r=n.one(e,null),i=gPe(n);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const yPe=(function(e,t){return e&&"run"in e?vPe(e,t):bPe(e||t)});function vPe(e,t){return(n,r,i)=>{e.run(Fce(n,t),r,o=>{i(o)})}}function bPe(e){return t=>Fce(t,e)}class q1{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}q1.prototype.property={},q1.prototype.normal={},q1.prototype.space=null;function Uce(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new q1(n,r,t)}function K3(e){return e.toLowerCase()}class wl{constructor(t,n){this.property=t,this.attribute=n}}wl.prototype.space=null,wl.prototype.boolean=!1,wl.prototype.booleanish=!1,wl.prototype.overloadedBoolean=!1,wl.prototype.number=!1,wl.prototype.commaSeparated=!1,wl.prototype.spaceSeparated=!1,wl.prototype.commaOrSpaceSeparated=!1,wl.prototype.mustUseProperty=!1,wl.prototype.defined=!1;let wPe=0;const Er=Yf(),Go=Yf(),zce=Yf(),Kt=Yf(),Qi=Yf(),sm=Yf(),Ws=Yf();function Yf(){return 2**++wPe}const X3=Object.freeze(Object.defineProperty({__proto__:null,boolean:Er,booleanish:Go,commaOrSpaceSeparated:Ws,commaSeparated:sm,number:Kt,overloadedBoolean:zce,spaceSeparated:Qi},Symbol.toStringTag,{value:"Module"})),Y3=Object.keys(X3);class Q3 extends wl{constructor(t,n,r,i){let o=-1;if(super(t,n),Bce(this,"space",i),typeof r=="number")for(;++o<Y3.length;){const a=Y3[o];Bce(this,Y3[o],(r&X3[a])===X3[a])}}}Q3.prototype.defined=!0;function Bce(e,t,n){n&&(e[t]=n)}const xPe={}.hasOwnProperty;function lm(e){const t={},n={};let r;for(r in e.properties)if(xPe.call(e.properties,r)){const i=e.properties[r],o=new Q3(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[K3(r)]=r,n[K3(o.attribute)]=r}return new q1(t,n,e.space)}const $ce=lm({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Hce=lm({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Vce(e,t){return t in e?e[t]:t}function qce(e,t){return Vce(e,t.toLowerCase())}const Wce=lm({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:qce,properties:{xmlns:null,xmlnsXLink:null}}),Gce=lm({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Go,ariaAutoComplete:null,ariaBusy:Go,ariaChecked:Go,ariaColCount:Kt,ariaColIndex:Kt,ariaColSpan:Kt,ariaControls:Qi,ariaCurrent:null,ariaDescribedBy:Qi,ariaDetails:null,ariaDisabled:Go,ariaDropEffect:Qi,ariaErrorMessage:null,ariaExpanded:Go,ariaFlowTo:Qi,ariaGrabbed:Go,ariaHasPopup:null,ariaHidden:Go,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Qi,ariaLevel:Kt,ariaLive:null,ariaModal:Go,ariaMultiLine:Go,ariaMultiSelectable:Go,ariaOrientation:null,ariaOwns:Qi,ariaPlaceholder:null,ariaPosInSet:Kt,ariaPressed:Go,ariaReadOnly:Go,ariaRelevant:null,ariaRequired:Go,ariaRoleDescription:Qi,ariaRowCount:Kt,ariaRowIndex:Kt,ariaRowSpan:Kt,ariaSelected:Go,ariaSetSize:Kt,ariaSort:null,ariaValueMax:Kt,ariaValueMin:Kt,ariaValueNow:Kt,ariaValueText:null,role:null}}),_Pe=lm({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:qce,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:sm,acceptCharset:Qi,accessKey:Qi,action:null,allow:null,allowFullScreen:Er,allowPaymentRequest:Er,allowUserMedia:Er,alt:null,as:null,async:Er,autoCapitalize:null,autoComplete:Qi,autoFocus:Er,autoPlay:Er,blocking:Qi,capture:null,charSet:null,checked:Er,cite:null,className:Qi,cols:Kt,colSpan:null,content:null,contentEditable:Go,controls:Er,controlsList:Qi,coords:Kt|sm,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Er,defer:Er,dir:null,dirName:null,disabled:Er,download:zce,draggable:Go,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Er,formTarget:null,headers:Qi,height:Kt,hidden:Er,high:Kt,href:null,hrefLang:null,htmlFor:Qi,httpEquiv:Qi,id:null,imageSizes:null,imageSrcSet:null,inert:Er,inputMode:null,integrity:null,is:null,isMap:Er,itemId:null,itemProp:Qi,itemRef:Qi,itemScope:Er,itemType:Qi,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Er,low:Kt,manifest:null,max:null,maxLength:Kt,media:null,method:null,min:null,minLength:Kt,multiple:Er,muted:Er,name:null,nonce:null,noModule:Er,noValidate:Er,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Er,optimum:Kt,pattern:null,ping:Qi,placeholder:null,playsInline:Er,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Er,referrerPolicy:null,rel:Qi,required:Er,reversed:Er,rows:Kt,rowSpan:Kt,sandbox:Qi,scope:null,scoped:Er,seamless:Er,selected:Er,shadowRootClonable:Er,shadowRootDelegatesFocus:Er,shadowRootMode:null,shape:null,size:Kt,sizes:null,slot:null,span:Kt,spellCheck:Go,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Kt,step:null,style:null,tabIndex:Kt,target:null,title:null,translate:null,type:null,typeMustMatch:Er,useMap:null,value:Go,width:Kt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Qi,axis:null,background:null,bgColor:null,border:Kt,borderColor:null,bottomMargin:Kt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Er,declare:Er,event:null,face:null,frame:null,frameBorder:null,hSpace:Kt,leftMargin:Kt,link:null,longDesc:null,lowSrc:null,marginHeight:Kt,marginWidth:Kt,noResize:Er,noHref:Er,noShade:Er,noWrap:Er,object:null,profile:null,prompt:null,rev:null,rightMargin:Kt,rules:null,scheme:null,scrolling:Go,standby:null,summary:null,text:null,topMargin:Kt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Kt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Er,disableRemotePlayback:Er,prefix:null,property:null,results:Kt,security:null,unselectable:null}}),EPe=lm({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Vce,properties:{about:Ws,accentHeight:Kt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Kt,amplitude:Kt,arabicForm:null,ascent:Kt,attributeName:null,attributeType:null,azimuth:Kt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Kt,by:null,calcMode:null,capHeight:Kt,className:Qi,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Kt,diffuseConstant:Kt,direction:null,display:null,dur:null,divisor:Kt,dominantBaseline:null,download:Er,dx:null,dy:null,edgeMode:null,editable:null,elevation:Kt,enableBackground:null,end:null,event:null,exponent:Kt,externalResourcesRequired:null,fill:null,fillOpacity:Kt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:sm,g2:sm,glyphName:sm,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Kt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Kt,horizOriginX:Kt,horizOriginY:Kt,id:null,ideographic:Kt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Kt,k:Kt,k1:Kt,k2:Kt,k3:Kt,k4:Kt,kernelMatrix:Ws,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Kt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Kt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Kt,overlineThickness:Kt,paintOrder:null,panose1:null,path:null,pathLength:Kt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Qi,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Kt,pointsAtY:Kt,pointsAtZ:Kt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ws,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ws,rev:Ws,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ws,requiredFeatures:Ws,requiredFonts:Ws,requiredFormats:Ws,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Kt,specularExponent:Kt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Kt,strikethroughThickness:Kt,string:null,stroke:null,strokeDashArray:Ws,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Kt,strokeOpacity:Kt,strokeWidth:null,style:null,surfaceScale:Kt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ws,tabIndex:Kt,tableValues:null,target:null,targetX:Kt,targetY:Kt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ws,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Kt,underlineThickness:Kt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Kt,values:null,vAlphabetic:Kt,vMathematical:Kt,vectorEffect:null,vHanging:Kt,vIdeographic:Kt,version:null,vertAdvY:Kt,vertOriginX:Kt,vertOriginY:Kt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Kt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),SPe=/^data[-\w.:]+$/i,Kce=/-[a-z]/g,CPe=/[A-Z]/g;function TPe(e,t){const n=K3(t);let r=t,i=wl;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&SPe.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(Kce,IPe);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!Kce.test(o)){let a=o.replace(CPe,APe);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=Q3}return new i(r,t)}function APe(e){return"-"+e.toLowerCase()}function IPe(e){return e.charAt(1).toUpperCase()}const Xce={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},OPe=Uce([Hce,$ce,Wce,Gce,_Pe],"html"),kPe=Uce([Hce,$ce,Wce,Gce,EPe],"svg");function NPe(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{W3(t,"element",(n,r,i)=>{const o=i;let a;if(e.allowedElements?a=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(a=e.disallowedElements.includes(n.tagName)),!a&&e.allowElement&&typeof r=="number"&&(a=!e.allowElement(n,r,o)),a&&typeof r=="number")return e.unwrapDisallowed&&n.children?o.children.splice(r,1,...n.children):o.children.splice(r,1),r})}}function RPe(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function jPe(e){return e.join(" ").trim()}function LPe(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var y_={exports:{}},J3,Yce;function MPe(){if(Yce)return J3;Yce=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,s=/^\s+|\s+$/g,l=`
`,c="/",u="*",d="",f="comment",p="declaration";J3=function(h,y){if(typeof h!="string")throw new TypeError("First argument must be a string");if(!h)return[];y=y||{};var b=1,w=1;function S(L){var V=L.match(t);V&&(b+=V.length);var z=L.lastIndexOf(l);w=~z?L.length-z:w+L.length}function E(){var L={line:b,column:w};return function(V){return V.position=new _(L),T(),V}}function _(L){this.start=L,this.end={line:b,column:w},this.source=y.source}_.prototype.content=h;function m(L){var V=new Error(y.source+":"+b+":"+w+": "+L);if(V.reason=L,V.filename=y.source,V.line=b,V.column=w,V.source=h,!y.silent)throw V}function C(L){var V=L.exec(h);if(V){var z=V[0];return S(z),h=h.slice(z.length),V}}function T(){C(n)}function O(L){var V;for(L=L||[];V=R();)V!==!1&&L.push(V);return L}function R(){var L=E();if(!(c!=h.charAt(0)||u!=h.charAt(1))){for(var V=2;d!=h.charAt(V)&&(u!=h.charAt(V)||c!=h.charAt(V+1));)++V;if(V+=2,d===h.charAt(V-1))return m("End of comment missing");var z=h.slice(2,V-2);return w+=2,S(z),h=h.slice(V),w+=2,L({type:f,comment:z})}}function j(){var L=E(),V=C(r);if(V){if(R(),!C(i))return m("property missing ':'");var z=C(o),B=L({type:p,property:g(V[0].replace(e,d)),value:z?g(z[0].replace(e,d)):d});return C(a),B}}function D(){var L=[];O(L);for(var V;V=j();)V!==!1&&(L.push(V),O(L));return L}return T(),D()};function g(h){return h?h.replace(s,d):d}return J3}var Qce;function PPe(){if(Qce)return y_.exports;Qce=1;var e=MPe();function t(n,r){var i=null;if(!n||typeof n!="string")return i;for(var o,a=e(n),s=typeof r=="function",l,c,u=0,d=a.length;u<d;u++)o=a[u],l=o.property,c=o.value,s?r(l,c,o):c&&(i||(i={}),i[l]=c);return i}return y_.exports=t,y_.exports.default=t,y_.exports}var DPe=PPe();const FPe=Ga(DPe),Z3={}.hasOwnProperty,UPe=new Set(["table","thead","tbody","tfoot","tr"]);function Jce(e,t){const n=[];let r=-1,i;for(;++r<t.children.length;)i=t.children[r],i.type==="element"?n.push(zPe(e,i,r,t)):i.type==="text"?(t.type!=="element"||!UPe.has(t.tagName)||!RPe(i))&&n.push(i.value):i.type==="raw"&&!e.options.skipHtml&&n.push(i.value);return n}function zPe(e,t,n,r){const i=e.options,o=i.transformLinkUri===void 0?cLe:i.transformLinkUri,a=e.schema,s=t.tagName,l={};let c=a,u;if(a.space==="html"&&s==="svg"&&(c=kPe,e.schema=c),t.properties)for(u in t.properties)Z3.call(t.properties,u)&&$Pe(l,u,t.properties[u],e);(s==="ol"||s==="ul")&&e.listDepth++;const d=Jce(e,t);(s==="ol"||s==="ul")&&e.listDepth--,e.schema=a;const f=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},p=i.components&&Z3.call(i.components,s)?i.components[s]:s,g=typeof p=="string"||p===ie.Fragment;if(!T7e.isValidElementType(p))throw new TypeError(`Component for name \`${s}\` not defined or is not renderable`);if(l.key=n,s==="a"&&i.linkTarget&&(l.target=typeof i.linkTarget=="function"?i.linkTarget(String(l.href||""),t.children,typeof l.title=="string"?l.title:null):i.linkTarget),s==="a"&&o&&(l.href=o(String(l.href||""),t.children,typeof l.title=="string"?l.title:null)),!g&&s==="code"&&r.type==="element"&&r.tagName!=="pre"&&(l.inline=!0),!g&&(s==="h1"||s==="h2"||s==="h3"||s==="h4"||s==="h5"||s==="h6")&&(l.level=Number.parseInt(s.charAt(1),10)),s==="img"&&i.transformImageUri&&(l.src=i.transformImageUri(String(l.src||""),String(l.alt||""),typeof l.title=="string"?l.title:null)),!g&&s==="li"&&r.type==="element"){const h=BPe(t);l.checked=h&&h.properties?!!h.properties.checked:null,l.index=eN(r,t),l.ordered=r.tagName==="ol"}return!g&&(s==="ol"||s==="ul")&&(l.ordered=s==="ol",l.depth=e.listDepth),(s==="td"||s==="th")&&(l.align&&(l.style||(l.style={}),l.style.textAlign=l.align,delete l.align),g||(l.isHeader=s==="th")),!g&&s==="tr"&&r.type==="element"&&(l.isHeader=r.tagName==="thead"),i.sourcePos&&(l["data-sourcepos"]=qPe(f)),!g&&i.rawSourcePos&&(l.sourcePosition=t.position),!g&&i.includeElementIndex&&(l.index=eN(r,t),l.siblingCount=eN(r)),g||(l.node=t),d.length>0?ie.createElement(p,l,d):ie.createElement(p,l)}function BPe(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n.type==="element"&&n.tagName==="input")return n}return null}function eN(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&r++;return r}function $Pe(e,t,n,r){const i=TPe(r.schema,t);let o=n;o==null||o!==o||(Array.isArray(o)&&(o=i.commaSeparated?LPe(o):jPe(o)),i.property==="style"&&typeof o=="string"&&(o=HPe(o)),i.space&&i.property?e[Z3.call(Xce,i.property)?Xce[i.property]:i.property]=o:i.attribute&&(e[i.attribute]=o))}function HPe(e){const t={};try{FPe(e,n)}catch{}return t;function n(r,i){const o=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;t[o.replace(/-([a-z])/g,VPe)]=i}}function VPe(e,t){return t.toUpperCase()}function qPe(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const Zce={}.hasOwnProperty,WPe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",v_={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};S_=function(e){for(const o in v_)if(Zce.call(v_,o)&&Zce.call(e,o)){const a=v_[o];console.warn(`[react-markdown] Warning: please ${a.to?`use \`${a.to}\` instead of`:"remove"} \`${o}\` (see <${WPe}#${a.id}> for more info)`),delete v_[o]}const t=ALe().use(k9e).use(e.remarkPlugins||[]).use(yPe,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(NPe,e),n=new Vle;typeof e.children=="string"?n.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=t.runSync(t.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=ie.createElement(ie.Fragment,{},Jce({options:e,schema:OPe,listDepth:0},r));return e.className&&(i=ie.createElement("div",{className:e.className},i)),i},S_.propTypes={children:bt.string,className:bt.string,allowElement:bt.func,allowedElements:bt.arrayOf(bt.string),disallowedElements:bt.arrayOf(bt.string),unwrapDisallowed:bt.bool,remarkPlugins:bt.arrayOf(bt.oneOfType([bt.object,bt.func,bt.arrayOf(bt.oneOfType([bt.bool,bt.string,bt.object,bt.func,bt.arrayOf(bt.any)]))])),rehypePlugins:bt.arrayOf(bt.oneOfType([bt.object,bt.func,bt.arrayOf(bt.oneOfType([bt.bool,bt.string,bt.object,bt.func,bt.arrayOf(bt.any)]))])),sourcePos:bt.bool,rawSourcePos:bt.bool,skipHtml:bt.bool,includeElementIndex:bt.bool,transformLinkUri:bt.oneOfType([bt.func,bt.bool]),linkTarget:bt.oneOfType([bt.func,bt.string]),transformImageUri:bt.func,components:bt.object};const GPe=U.span.withConfig({displayName:"UnreadItemsIcon__Root"})([`
  position: relative;
`]),KPe=U.span.withConfig({displayName:"UnreadItemsIcon__Tick"})([`
  position: absolute;
  right: 0;
  top: 0;
  width: 1.3rem;
  height: 1.3rem;
  border-radius: 50%;
  background-color: `,`;
`],({theme:e})=>e.color.red),XPe=U.span.withConfig({displayName:"UnreadItemsIcon__Count"})([`
  position: absolute;
  left: 100%;
  top: -50%;
  font-size: `,`;
  border-radius: 6px;
  background-color: #c64242;
  color: `,`;
  padding: 0.2rem 0.4rem;
`],({theme:e})=>e.fontSize.ms,({theme:e})=>e.color.white),YPe=({icon:e,label:t,tick:n,count:r})=>v.jsxs(GPe,{children:[typeof r=="number"&&r>0&&v.jsx(XPe,{children:r}),e,n&&v.jsx(KPe,{}),t&&v.jsx("span",{children:t})]}),QPe=U.div.withConfig({displayName:"thumbnail__Root"})([`
  display: flex;
  align-items: center;
  justify-content: center;
  max-width: 100%;
  margin: 2rem 0;
  border-radius: `,`;
  box-shadow: 0 7px 30px -10px `,`;
  overflow: hidden;
  background: `,`;

  svg {
    position: absolute;
  }
`],({theme:e})=>e.borderRadius,({theme:e})=>e.color.black,({theme:e})=>e.color.backgroundLighter),JPe=U.img.withConfig({displayName:"thumbnail__ThumbImg"})([`
  height: auto;

  `,`
`],({loaded:e,fadeIn:t})=>`
    opacity: ${e?1:0};
    ${t&&"transition: opacity 0.2s ease-in-out;"}
  `),eue=({src:e,alt:t,width:n,height:r,containerWidth:i,containerHeight:o,fadeIn:a,...s})=>{const[l,c]=x.useState(!1);let u=i,d=u/n*r;if(d>o){const f=o/d;d=o,u*=f}return x.useEffect(()=>{const f=new Image;f.src=e,f.onload=()=>{c(!0)}},[e]),v.jsxs(QPe,{...s,children:[!l&&v.jsx(wf,{}),v.jsx(JPe,{src:e,alt:t,width:u,height:d,loaded:l,fadeIn:a})]})},tue="10deg",ZPe=X1([`
  0%, 50%, 100% {
    transform: rotate(0);
  }

  10%, 20%, 30% {
    transform: rotate(-`,`);
  }

  15%, 25%, 40% {
    transform: rotate(`,`);
  }
`],tue,tue),eDe=Vn([`
  animation: `,` 2s infinite ease-in-out;
  transform-origin: 50% 0;
`],ZPe),tDe=U(az).withConfig({displayName:"bell__Bell"})([`
  color: `,`;

  `,`
`],({theme:e,$unread:t})=>e.color[t?"foreground":"inherit"],({$unread:e})=>e&&eDe),nue=U.div.withConfig({displayName:"News__Loading"})([`
  display: grid;
  grid-auto-flow: column;
  gap: 1rem;
  justify-self: center;
  margin-top: 2rem;
`]),nDe=U.div.withConfig({displayName:"News__Items"})([`
  display: grid;
  width: 100%;
  overflow: auto;
`]),rDe=U.div.withConfig({displayName:"News__Item"})([`
  display: grid;
  gap: 1rem;
  padding: 2rem;

  &:not(:last-child) {
    border-bottom: 1px solid `,`;
  }
`],({theme:e})=>e.color.backgroundLighter),iDe=U.h2.withConfig({displayName:"News__Title"})([`
  margin: 0;
  font-size: 2rem;
`]),oDe=U(st).attrs({color:"foreground"}).withConfig({displayName:"News__NewsText"})([`
  a {
    color: `,`;
  }

  h2 {
    font-size: 1.8rem;
  }

  h3 {
    font-size: 1.6rem;
  }

  p,
  li {
    font-size: `,`;
    line-height: 1.75;
  }

  code {
    background-color: `,`;
    color: `,`;
    padding: 0.2rem 0.4rem;
    border-radius: 0.2rem;
  }

  li:not(:last-child) {
    margin-bottom: 0.5rem;
  }
`],({theme:e})=>e.color.cyan,({theme:e})=>e.fontSize.lg,({theme:e})=>e.color.selection,({theme:e})=>e.color.pink),aDe=()=>{const e=ls(),{quest:t}=x.useContext(Xa),n=oi(Mr.telemetry.getConfig),[r,i]=x.useState(!1),[o,a]=x.useState(!1),[s,l]=x.useState(void 0),[c,u]=x.useState(!1),[d,f]=x.useState([]),[p,g]=x.useState(!1),h=oi(Mr.console.getActiveSidebar),y=oi(Mr.console.getImageToZoom),b=x.useRef(),w=x.useRef(y);w.current=y;const S=async()=>{i(!0),a(!1);try{const m=await t.getNews({category:"enterprise",telemetryConfig:n});l(m)}catch{a(!0)}finally{i(!1)}},E=async()=>{if(s){const m=await ai.read_notifications.toArray(),C=s.map(T=>T.id).filter(T=>!m.find(O=>O.newsId===T));f(C),g((C==null?void 0:C.length)>0)}},_=async()=>{if(s){const m=s.map(O=>O.id),C=(await ai.read_notifications.toArray()).map(O=>O.newsId),T=m.filter(O=>!C.includes(O));await ai.read_notifications.bulkPut(T.map(O=>({newsId:O})),{allKeys:!0}),g(!1)}};return x.useEffect(()=>(S(),window.addEventListener("focus",S),()=>window.removeEventListener("focus",S)),[]),x.useEffect(()=>{s&&E()},[s]),x.useEffect(()=>{s&&(c?_():f([]))},[c,s]),x.useEffect(()=>{u(h==="news")},[h]),v.jsx(Ta,{mode:"side",title:"QuestDB News",withCloseButton:!0,open:c,onOpenChange:m=>{e(An.console.setActiveSidebar(m?"news":void 0))},onDismiss:()=>{u(!1),e(An.console.setActiveSidebar(void 0))},trigger:v.jsx(Aa,{icon:v.jsx(ul,{"data-hook":"news-panel-button",onClick:()=>u(!c),selected:c,children:v.jsx(YPe,{icon:v.jsx(tDe,{size:rc,$unread:p}),tick:p})}),placement:"left",tooltip:"QuestDB News"}),children:v.jsx(Ta.ContentWrapper,{mode:"side",children:v.jsxs(nDe,{children:[r&&!s&&v.jsxs(nue,{children:[v.jsx(st,{color:"foreground",children:"Loading news..."}),v.jsx(wf,{})]}),o&&v.jsx(nue,{children:v.jsx(st,{color:"red",children:"Error loading news. Please try again shortly."})}),(!r||s)&&!o&&s&&s.map(m=>v.jsxs(rDe,{unread:d.find(C=>m.id===C)!==void 0,children:[v.jsx(iDe,{children:m.title}),v.jsx(st,{color:"gray2",children:m.date}),m.thumbnail&&m.thumbnail.length>0&&m.thumbnail[0].thumbnails.large&&v.jsx(eue,{containerWidth:460,containerHeight:460,src:m.thumbnail[0].thumbnails.large.url,alt:`${m.title} thumbnail`,width:m.thumbnail[0].thumbnails.large.width,height:m.thumbnail[0].thumbnails.large.height,fadeIn:!0,...m&&m.thumbnail?{onMouseOver:()=>{m.thumbnail&&(b.current=setTimeout(()=>{m&&m.thumbnail&&e(An.console.setImageToZoom({src:m.thumbnail[0].thumbnails.large.url,width:m.thumbnail[0].thumbnails.large.width,height:m.thumbnail[0].thumbnails.large.height,alt:m.title}))},500))},onMouseOut:()=>{clearTimeout(b.current),w.current||setTimeout(()=>{e(An.console.setImageToZoom(void 0))},250)}}:{}}),v.jsx(oDe,{children:v.jsx(S_,{components:{a:({children:C,...T})=>{var O;return v.jsx("a",{...(O=T.href)!=null&&O.startsWith("http")?{target:"_blank",rel:"noopener noreferrer"}:{},...T,children:C})}},children:m.body})})]},m.id))]})})})};function sDe(e){return e!=null&&typeof e=="object"&&e["@@functional/placeholder"]===!0}function rue(e){return function t(n){return arguments.length===0||sDe(n)?t:e.apply(this,arguments)}}function tN(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var iue=Object.prototype.toString,lDe=(function(){return iue.call(arguments)==="[object Arguments]"?function(e){return iue.call(e)==="[object Arguments]"}:function(e){return tN("callee",e)}})(),cDe=!{toString:null}.propertyIsEnumerable("toString"),oue=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],aue=(function(){return arguments.propertyIsEnumerable("length")})(),uDe=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},dDe=rue(typeof Object.keys=="function"&&!aue?function(e){return Object(e)!==e?[]:Object.keys(e)}:function(e){if(Object(e)!==e)return[];var t,n,r=[],i=aue&&lDe(e);for(t in e)tN(t,e)&&(!i||t!=="length")&&(r[r.length]=t);if(cDe)for(n=oue.length-1;n>=0;)t=oue[n],tN(t,e)&&!uDe(r,t)&&(r[r.length]=t),n-=1;return r}),W1=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,fDe="\u200B",hDe=typeof String.prototype.trim=="function",pDe=rue(!hDe||W1.trim()||!fDe.trim()?function(e){var t=new RegExp("^["+W1+"]["+W1+"]*"),n=new RegExp("["+W1+"]["+W1+"]*$");return e.replace(t,"").replace(n,"")}:function(e){return e.trim()});const mDe=({name:e,partitionBy:t,timestamp:n,walEnabled:r,dedup:i,ttlValue:o,ttlUnit:a,schemaColumns:s})=>{const l=n&&s.find(u=>u.column===n&&Lx(u.type));let c=`CREATE TABLE '${e}' (`;for(let u=0;u<s.length;u++){const{column:d,type:f,indexed:p,indexBlockCapacity:g,symbolCached:h,symbolCapacity:y}=s[u];c+=`${d} ${f} `,f==="SYMBOL"&&(c+=y?`capacity ${y} `:"",h&&(c+="CACHE ")),p&&(c+="index ",g&&(c+=`capacity ${g} `)),c=pDe(c),u!==s.length-1&&(c+=", ")}return c+=")",l&&(c+=` timestamp (${n})`),t!=="NONE"&&(c+=` PARTITION BY ${t}`,(o??0)!==0&&(c+=` TTL ${o} ${a}`),c+=` ${r?"WAL":"BYPASS WAL"}`),`${Rm(c)};`},gDe=U(Yl).withConfig({displayName:"CreateTableDialog__DisabledTableIcon"})([`
  opacity: 0.3;
`]),yDe=()=>{const[e,t]=x.useState(void 0),n=ls(),r=oi(Mr.query.getTables),i=oi(Mr.console.getActiveSidebar),{consoleConfig:o}=Rl(),{appendQuery:a}=Ys(),s=l=>{const{name:c,partitionBy:u,timestamp:d,ttlValue:f,ttlUnit:p,schemaColumns:g,walEnabled:h}=l,y=mDe({name:c,partitionBy:u,timestamp:d,walEnabled:h==="true",ttlValue:f,ttlUnit:p,schemaColumns:g.map(b=>({column:b.name,type:b.type})),dedup:!1});a(y,{appendAt:"end"}),n(An.query.toggleRunning())};return x.useEffect(()=>{t(i==="create"?"add":void 0)},[i]),x.useEffect(()=>{e!==void 0&&n(An.console.setActiveSidebar("create"))},[e]),o.readOnly?v.jsx(Aa,{icon:v.jsx(gDe,{size:rc,"data-hook":"create-table-panel-button"}),tooltip:"To use this feature, turn off read-only mode in the configuration file",placement:"left"}):v.jsx(Zoe,{action:"add",isEditLocked:!1,hasWalSetting:!0,walEnabled:!1,name:"",partitionBy:"NONE",ttlValue:0,ttlUnit:"HOURS",schema:[],tables:r,timestamp:"",onOpenChange:l=>t(l),open:e!==void 0,onSchemaChange:s,trigger:v.jsx(Aa,{icon:v.jsx(ul,{"data-hook":"create-table-panel-button",selected:e!==void 0,onClick:()=>{n(An.console.setActiveSidebar(e?void 0:"create"))},children:v.jsx(Yl,{size:rc})}),placement:"left",tooltip:"Create table"}),ctaText:"Create"})};var sue=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M12.077 3C7.149 3 3 6.96 3 11.843V21l9.075-.01c4.928 0 8.925-4.11 8.925-8.993C21 7.113 17 3 12.077 3zm3.92 12.859a5.568 5.568 0 0 1-6.102 1.043l-3.595.805 1.001-3.192a5.435 5.435 0 0 1 .11-5.415 5.55 5.55 0 0 1 4.753-2.678v.001h.006a5.533 5.533 0 0 1 5.131 3.438 5.442 5.442 0 0 1-1.304 5.998z"}))});sue.displayName="Discourse";var lue=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{fillRule:"evenodd",d:"M12.026 2c-5.509 0-9.974 4.465-9.974 9.974 0 4.406 2.857 8.145 6.821 9.465.499.09.679-.217.679-.481 0-.237-.008-.865-.011-1.696-2.775.602-3.361-1.338-3.361-1.338-.452-1.152-1.107-1.459-1.107-1.459-.905-.619.069-.605.069-.605 1.002.07 1.527 1.028 1.527 1.028.89 1.524 2.336 1.084 2.902.829.091-.645.351-1.085.635-1.334-2.214-.251-4.542-1.107-4.542-4.93 0-1.087.389-1.979 1.024-2.675-.101-.253-.446-1.268.099-2.64 0 0 .837-.269 2.742 1.021a9.582 9.582 0 0 1 2.496-.336 9.554 9.554 0 0 1 2.496.336c1.906-1.291 2.742-1.021 2.742-1.021.545 1.372.203 2.387.099 2.64.64.696 1.024 1.587 1.024 2.675 0 3.833-2.33 4.675-4.552 4.922.355.308.675.916.675 1.846 0 1.334-.012 2.41-.012 2.737 0 .267.178.577.687.479C19.146 20.115 22 16.379 22 11.974 22 6.465 17.535 2 12.026 2z",clipRule:"evenodd"}))});lue.displayName="Github";var cue=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M6.194 14.644c0 1.16-.943 2.107-2.103 2.107a2.11 2.11 0 0 1-2.104-2.107 2.11 2.11 0 0 1 2.104-2.106h2.103v2.106zm1.061 0c0-1.16.944-2.106 2.104-2.106a2.11 2.11 0 0 1 2.103 2.106v5.274a2.11 2.11 0 0 1-2.103 2.106 2.108 2.108 0 0 1-2.104-2.106v-5.274zm2.104-8.455c-1.16 0-2.104-.948-2.104-2.107s.944-2.106 2.104-2.106a2.11 2.11 0 0 1 2.103 2.106v2.107H9.359zm0 1.06a2.11 2.11 0 0 1 2.103 2.107 2.11 2.11 0 0 1-2.103 2.106H4.092a2.11 2.11 0 0 1-2.104-2.106 2.11 2.11 0 0 1 2.104-2.107h5.267zm8.447 2.107c0-1.16.943-2.107 2.103-2.107a2.11 2.11 0 0 1 2.104 2.107 2.11 2.11 0 0 1-2.104 2.106h-2.103V9.356zm-1.061 0c0 1.16-.944 2.106-2.104 2.106a2.11 2.11 0 0 1-2.103-2.106V4.082a2.11 2.11 0 0 1 2.103-2.106c1.16 0 2.104.946 2.104 2.106v5.274zm-2.104 8.455c1.16 0 2.104.948 2.104 2.107s-.944 2.106-2.104 2.106a2.11 2.11 0 0 1-2.103-2.106v-2.107h2.103zm0-1.06a2.11 2.11 0 0 1-2.103-2.107 2.11 2.11 0 0 1 2.103-2.106h5.268a2.11 2.11 0 0 1 2.104 2.106 2.11 2.11 0 0 1-2.104 2.107h-5.268z"}))});cue.displayName="Slack";var uue=x.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return x.createElement(Ft,Dt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),x.createElement("path",{d:"M17.24 19.399v-4.804h1.6V21H4.381v-6.405h1.598v4.804H17.24zM7.582 17.8h8.055v-1.604H7.582V17.8zm.195-3.64 7.859 1.641.34-1.552-7.861-1.642-.338 1.553zm1.018-3.794 7.281 3.398.678-1.463-7.281-3.399-.678 1.454v.01zm2.037-3.589 6.166 5.142 1.018-1.216-6.162-5.14-1.016 1.213-.006.001zm3.982-3.778-1.311.969 4.803 6.454 1.313-.971-4.807-6.452h.002z"}))});uue.displayName="StackOverflow";const vDe=U.div.withConfig({displayName:"Shortcuts__Wrapper"})([`
  display: flex;
  max-height: 650px;
  width: 300px;
  max-width: 100vw;
  flex-direction: column;
  background: `,`;
  box-shadow: `,` 0px 5px 8px;
  border: 1px solid `,`;
  border-radius: 4px;
  overflow: auto;
`],vt("backgroundDarker"),vt("black"),vt("black")),bDe=U.div.withConfig({displayName:"Shortcuts__List"})([`
  display: flex;
  flex-direction: column;
  width: 100%;
`]),wDe=U(st).withConfig({displayName:"Shortcuts__ListTitle"})([`
  padding: 0.6rem 1.2rem;
  margin-bottom: 0.6rem;
  border-top: 1px solid `,`;
  background: `,`;
  width: 100%;
`],({theme:e})=>e.color.selection,({theme:e})=>e.color.black40),xDe=U.div.withConfig({displayName:"Shortcuts__Item"})([`
  display: flex;
  align-items: center;
  padding: 0.6rem 1.2rem;

  &:not(:last-child) {
    border-bottom: 1px solid `,`;
  }
`],vt("background")),_De=U.div.withConfig({displayName:"Shortcuts__ItemKeys"})([`
  margin-left: auto;
`]),EDe=U.span.withConfig({displayName:"Shortcuts__KeyGroup"})([`
  color: `,`;

  &:not(:last-child):after {
    content: "or";
    padding: 0 0.5rem;
  }
`],vt("gray2")),SDe=U.span.withConfig({displayName:"Shortcuts__Key"})([`
  padding: 0 4px;
  background: `,`;
  border-radius: 2px;
  color: `,`;

  &:not(:last-child) {
    margin-right: 0.25rem;
  }
`],vt("gray2"),vt("black")),G1=us.isMacintosh||us.isIOS?"\u2318":"Ctrl",Sd=us.isMacintosh||us.isIOS?"\u2325":"Alt",CDe=[{keys:[["F9"],[G1,"Enter"]],title:"Run query"},{keys:[[G1,"\u21E7","Enter"]],title:"Run all queries in a tab"},{keys:[[Sd,"T"]],title:"Add new tab"},{keys:[[Sd,G1,"\u2191"]],title:"Add cursor above"},{keys:[[Sd,G1,"\u2193"]],title:"Add cursor below"},{keys:[["\u21E7",Sd,"\u2191"]],title:"Copy line up"},{keys:[["\u21E7",Sd,"\u2193"]],title:"Copy line down"},{keys:[[Sd,"\u2191"]],title:"Move line up"},{keys:[[Sd,"\u2193"]],title:"Move line down"},{keys:[["\u21E7",Sd,"F"]],title:"Format document"},{keys:[["F1"]],title:"Command palette"}],TDe=[{keys:[[G1,"K"]],title:"Search docs"}],due=({list:e,title:t})=>v.jsxs(bDe,{children:[v.jsx(wDe,{children:v.jsx(st,{color:"gray2",children:t})}),e.map(n=>v.jsxs(xDe,{children:[v.jsx(st,{color:"white",children:n.title}),v.jsx(_De,{children:n.keys.map(r=>v.jsx(EDe,{children:r.map(i=>v.jsx(SDe,{children:v.jsx(st,{color:"black",size:"xs",weight:600,children:i})},`shortcutItem-key-${r.toString()}`))},`keyGroup-${r.toString()}}`))})]},`shortcut-${dDe.toString()}`))]}),ADe=()=>v.jsxs(vDe,{children:[v.jsx(due,{list:TDe,title:"Global shortcuts"}),v.jsx(due,{list:CDe,title:"SQL editor shortcuts"})]}),IDe=U(ul).withConfig({displayName:"help__HelpButton"})([`
  padding: 0;
`]),ODe=U(ha.Content).withConfig({displayName:"help__DropdownMenuContent"})([`
  background: `,`;
  z-index: 1000;
`],({theme:e})=>e.color.backgroundDarker),Qf=U(ha.Item).withConfig({displayName:"help__DropdownMenuItem"})([`
  color: `,`;
  `,`
`],({theme:e})=>e.color.foreground,({withlink:e})=>e&&"padding: 0;"),kDe=U(tt).attrs({justifyContent:"center"}).withConfig({displayName:"help__TooltipWrapper"})([`
  width: 100%;
  height: 100%;
`]),NDe=U.div.withConfig({displayName:"help__ShortcutsWrapper"})([`
  position: fixed;
  right: 0;
  margin-top: 4.5rem;
`]),RDe=U(pp).withConfig({displayName:"help__StyledLink"})([`
  padding: 0.5rem 1rem;
  width: 100%;
`]),K1=({href:e,text:t,icon:n,...r})=>v.jsx(RDe,{color:"foreground",hoverColor:"foreground",href:e,rel:"noreferrer",target:"_blank",...r,children:v.jsxs(tt,{align:"center",gap:"1.5rem",children:[n,v.jsxs(tt,{align:"center",gap:"0.75rem",children:[t,v.jsx(Oh,{size:"14px"})]})]})}),jDe=()=>{const{quest:e}=x.useContext(Xa),t=oi(Mr.telemetry.getConfig),[n,r]=x.useState(!1),i=x.useCallback(u=>{r(u)},[]),[o,a]=x.useState(!1),[s,l]=x.useState(!1),c=gu("Escape");return x.useEffect(()=>{c&&n&&r(!1)},[c]),v.jsxs(ie.Fragment,{children:[v.jsx(HCe,{open:s,onOpenChange:l,withEmailInput:!0,title:"Contact us",subtitle:"Let us know your thoughts",onSubmit:async({email:u,message:d})=>{try{await e.sendFeedback({email:u,message:d,telemetryConfig:t}),Ro.success("Thank you for your feedback! Our team will review it shortly.")}catch(f){throw Ro.error("Something went wrong. Please try again later."),f}}}),v.jsxs(ha.Root,{modal:!1,onOpenChange:a,children:[v.jsx(ha.Trigger,{asChild:!0,children:v.jsx(IDe,{...o&&{selected:!0},"data-hook":"help-panel-button",children:v.jsx(Aa,{icon:v.jsx(kDe,{children:v.jsx(f4,{size:rc})}),placement:"left",tooltip:"Help"})})}),v.jsx(ha.Portal,{children:v.jsxs(ODe,{children:[v.jsxs(Qf,{onSelect:u=>u.preventDefault(),onClick:()=>l(!0),"data-hook":"help-link-contact-us",children:[v.jsx(FU,{size:"18px"}),v.jsx(st,{color:"foreground",children:"Contact us"})]}),v.jsx(Qf,{asChild:!0,withlink:"true",children:v.jsx(eo,{children:v.jsx(K1,{"data-hook":"help-link-slack",href:"https://slack.questdb.io/",text:"Slack community",icon:v.jsx(cue,{size:"18px"})})})}),v.jsx(Qf,{asChild:!0,withlink:"true",children:v.jsx(eo,{children:v.jsx(K1,{"data-hook":"help-link-community",href:"https://community.questdb.io/",text:"Public forum",icon:v.jsx(sue,{size:"18px"})})})}),v.jsx(Qf,{asChild:!0,withlink:"true",children:v.jsx(eo,{children:v.jsx(K1,{"data-hook":"help-link-stackoverflow",href:"https://stackoverflow.com/tags/questdb",text:"Stack Overflow",icon:v.jsx(uue,{size:"18px"})})})}),v.jsx(Qf,{asChild:!0,withlink:"true",children:v.jsx(eo,{children:v.jsx(K1,{"data-hook":"help-link-web-console-docs",href:"https://questdb.io/docs/develop/web-console/",text:"Web Console Docs",icon:v.jsx(f4,{size:"18px"})})})}),v.jsxs(Qf,{onClick:()=>i(!0),children:[v.jsx(VU,{size:"18px"}),v.jsx(st,{color:"foreground",children:"Shortcuts"})]}),v.jsx(Qf,{asChild:!0,withlink:"true",children:v.jsx(eo,{children:v.jsx(K1,{href:"https://github.com/questdb/ui/commit/121a03d",text:"Commit id: 121a03d",icon:v.jsx(lue,{size:"18px"})})})})]})})]}),v.jsx(If,{active:n,onToggle:i,trigger:v.jsx(ie.Fragment,{}),children:v.jsx(NDe,{children:v.jsx(ADe,{})})})]})},LDe=U(tt).attrs({align:"center",justifyContent:"space-between"}).withConfig({displayName:"warning__WarningRoot"})([`
  width: 100%;
  height: 4rem;
  background: #f8a24d;
  color: #000;
`]),MDe=U(tt).attrs({gap:"0.5rem"}).withConfig({displayName:"warning__Content"})([`
  padding: 0 1.5rem;
`]),PDe=U(tt).attrs({align:"center",justifyContent:"center"}).withConfig({displayName:"warning__CloseButton"})([`
  border: 0;
  cursor: pointer;
  width: 4.5rem;
  height: 4.5rem;
`]),DDe=U.span.withConfig({displayName:"warning__WarningText"})([`
  font-weight: 600;
`]),FDe=U.a.withConfig({displayName:"warning__WorkaroundLink"})([`
  display: flex;
  align-items: center;
  gap: 0.25rem;
  margin-left: 0.5rem;
  color: #000;

  &:hover {
    text-decoration: none;
  }
`]),UDe=U(Xc).withConfig({displayName:"warning__CloseIcon"})([`
  color: #000;
`]),zDe=()=>{const{warnings:e}=Rl(),[t,n]=x.useState([]);return x.useEffect(()=>{e&&e.length>0&&n(e.map(r=>r.tag))},[e]),t.length===0?null:v.jsx(tt,{flexDirection:"column",gap:"0.1rem",style:{width:"100%"},"data-hook":"warnings",children:e.filter(r=>t.includes(r.tag)).map(r=>v.jsxs(LDe,{"data-hook":"warning",children:[v.jsxs(MDe,{children:[v.jsx(l4,{size:"20px"}),"Warning:"," ",v.jsx(DDe,{"data-hook":"warning-text",children:r.warning}),Tu[r.tag]&&v.jsxs(FDe,{href:Tu[r.tag].link,rel:"noreferrer noopener",target:"_blank","data-hook":"warning-workaround-link",children:[v.jsx(Oh,{size:"16px"}),Tu[r.tag].title]})]}),v.jsx(PDe,{"data-hook":"warning-close-button",onClick:()=>n(t.filter(i=>i!==r.tag)),children:v.jsx(UDe,{size:"20px"})})]},`${r.tag}-${r.warning}`))})},BDe=U(tt).attrs({align:"center",justifyContent:"center"}).withConfig({displayName:"image-zoom__Root"})([`
  width: 100%;
  height: 100%;
  position: absolute;
  z-index: 1000;
  opacity: `,`;
  pointer-events: `,`;
`],({visible:e})=>e?1:0,({visible:e})=>e?"auto":"none"),$De=U.div.withConfig({displayName:"image-zoom__Overlay"})([`
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background: rgba(33, 34, 44, 0.9);
  opacity: `,`;
  pointer-events: `,`;
  transition: opacity 0.2s ease-in-out;
  cursor: pointer;
`],({visible:e})=>e?1:0,({visible:e})=>e?"auto":"none"),HDe=U.div.withConfig({displayName:"image-zoom__Wrapper"})([`
  z-index: 1001;
  cursor: pointer;

  img {
    border: 1px solid `,`;
    border-radius: `,`;
  }
`],({theme:e})=>e.color.offWhite,({theme:e})=>e.borderRadius),VDe=()=>{const e=oi(Mr.console.getImageToZoom),t=ls(),n=x.useRef(null),[r,i]=x.useState(0),[o,a]=x.useState(0),s=oi(Mr.console.getActiveSidebar),l=c=>{c.key==="Escape"&&t(An.console.setImageToZoom(void 0))};return x.useEffect(()=>{n.current&&(i(n.current.offsetWidth),a(n.current.offsetHeight))},[e]),x.useEffect(()=>{s==="news"?document.addEventListener("keydown",l):document.removeEventListener("keydown",l)},[s]),s!=="news"?null:v.jsxs(BDe,{ref:n,visible:e!==void 0,children:[v.jsx($De,{visible:e!==void 0,onClick:()=>t(An.console.setImageToZoom(void 0))}),e&&v.jsx(HDe,{onClick:()=>t(An.console.setImageToZoom(void 0)),children:v.jsx(eue,{...e,containerWidth:r?r*.9:460,containerHeight:o?o*.75:460})})]})},qDe=U(ul).withConfig({displayName:"AIChatButton__ChatButton"})([`
  padding: 0;
`]),WDe=U(tt).attrs({justifyContent:"center"}).withConfig({displayName:"AIChatButton__TooltipWrapper"})([`
  width: 100%;
  height: 100%;
`]),GDe=()=>{const{openOrCreateBlankChatWindow:e,closeChatWindow:t}=Ad(),{canUse:n}=kd(),r=oi(Mr.console.getActiveSidebar);if(!n)return null;const i=()=>{r==="aiChat"?t():e()};return v.jsx(qDe,{selected:r==="aiChat",onClick:i,"data-hook":"ai-chat-button",children:v.jsx(Aa,{icon:v.jsx(WDe,{children:v.jsx(Cd,{size:24,variant:"filled"})}),placement:"left",tooltip:"AI Assistant"})})},KDe=U.div.withConfig({displayName:"Layout__Page"})([`
  display: flex;
  width: 100%;
  height: 100%;
  flex-direction: column;
  flex: 1;
  overflow: hidden;
  font-size: 1.4rem;
  background: #21222c;

  ::selection {
    background: #44475a;
  }
`]),XDe=U.div.withConfig({displayName:"Layout__Root"})([`
  display: flex;
  width: 100%;
  flex: 1;
  overflow-y: auto;
`]),YDe=U.div.withConfig({displayName:"Layout__Main"})([`
  position: relative;
  flex: 1;
  display: flex;
  width: calc(100% - 4.5rem);
`]),QDe=()=>{const e=x.useCallback(()=>{Bn.publish(zn.TAB_FOCUS)},[]),t=x.useCallback(()=>{Bn.publish(zn.TAB_BLUR)},[]);return x.useEffect(()=>(window.addEventListener("focus",e),window.addEventListener("blur",t),()=>{window.removeEventListener("focus",e),window.removeEventListener("blur",t)}),[]),v.jsx(w2e,{children:v.jsx(gq,{children:v.jsx($V,{children:v.jsxs(Nwe,{children:[v.jsx(lLe,{}),v.jsx(zDe,{}),v.jsxs(XDe,{children:[v.jsxs(YDe,{children:[v.jsx(VDe,{}),v.jsx(KDe,{children:v.jsx(w6e,{})})]}),v.jsxs(qk,{align:"top",children:[v.jsx(jDe,{}),v.jsx(GDe,{}),v.jsx(aDe,{}),v.jsx(yDe,{})]})]}),v.jsx(E6e,{}),v.jsx(Xee,{})]})})})})},fue=A7e(),JDe=I7e(iB,O7e(k7e(fue)));fue.run(Yz);const ZDe=cQ("fade-reg",Io.REG),e7e=cQ("fade-slow",Io.SLOW);ku.render(v.jsx(N7e,{theme:To,children:v.jsx(u5e,{children:v.jsx(R7e,{store:JDe,children:v.jsx($ye,{children:v.jsx(v2e,{children:v.jsx(Gye,{children:v.jsxs(SB,{children:[v.jsx(ome,{}),ku.createPortal(v.jsx(LQ,{}),document.body),v.jsxs(nwe,{children:[v.jsx(e7e,{}),v.jsx(ZDe,{}),v.jsx(QDe,{})]})]})})})})})})}),document.getElementById("root"))})();export{dr as $,Cd as A,vn as B,Nu as C,El as D,Ka as E,th as F,sN as G,lN as H,Y1 as I,Td as J,$c as K,um as L,Fi as M,Sl as N,Q1 as O,__ as P,Xa as Q,ar as R,ui as S,Yl as T,cN as U,E_ as V,uN as W,dN as X,S_ as Y,Ui as Z,fN as _,j7e as __tla,Ad as a,Ql as a0,ca as a1,vue as a2,st as a3,J1 as a4,Z1 as a5,bue as a6,wue as a7,xue as a8,_ue as a9,Eue as aa,C_ as ab,T_ as ac,dm as ad,A_ as ae,hN as af,ey as ag,fm as ah,Jl as ai,eo as aj,Zl as ak,cs as al,hm as am,Sue as an,An as ao,Id as ap,Ro as aq,Bn as ar,zn as as,Cue as at,Xn as au,pN as av,I_ as aw,us as b,vt as c,Tue as d,mN as e,tt as f,Od as g,Ys as h,Aue as i,v as j,ds as k,nh as l,O_ as m,k_ as n,ty as o,rh as p,pm as q,bo as r,Mr as s,ih as t,kd as u,oh as v,gN as w,ny as x,yN as y,fs as z};
